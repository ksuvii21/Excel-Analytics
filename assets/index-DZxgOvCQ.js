var BD=Object.defineProperty;var jD=(t,e,n)=>e in t?BD(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var dt=(t,e,n)=>jD(t,typeof e!="symbol"?e+"":e,n);function zD(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var Fce=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function HD(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Fk={exports:{}},Hx={},Dk={exports:{}},vn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vp=Symbol.for("react.element"),VD=Symbol.for("react.portal"),WD=Symbol.for("react.fragment"),GD=Symbol.for("react.strict_mode"),qD=Symbol.for("react.profiler"),XD=Symbol.for("react.provider"),$D=Symbol.for("react.context"),YD=Symbol.for("react.forward_ref"),KD=Symbol.for("react.suspense"),JD=Symbol.for("react.memo"),ZD=Symbol.for("react.lazy"),iE=Symbol.iterator;function QD(t){return t===null||typeof t!="object"?null:(t=iE&&t[iE]||t["@@iterator"],typeof t=="function"?t:null)}var Ik={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ok=Object.assign,Uk={};function rd(t,e,n){this.props=t,this.context=e,this.refs=Uk,this.updater=n||Ik}rd.prototype.isReactComponent={};rd.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};rd.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Bk(){}Bk.prototype=rd.prototype;function t5(t,e,n){this.props=t,this.context=e,this.refs=Uk,this.updater=n||Ik}var n5=t5.prototype=new Bk;n5.constructor=t5;Ok(n5,rd.prototype);n5.isPureReactComponent=!0;var aE=Array.isArray,jk=Object.prototype.hasOwnProperty,r5={current:null},zk={key:!0,ref:!0,__self:!0,__source:!0};function Hk(t,e,n){var r,i={},a=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(a=""+e.key),e)jk.call(e,r)&&!zk.hasOwnProperty(r)&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:Vp,type:t,key:a,ref:s,props:i,_owner:r5.current}}function eI(t,e){return{$$typeof:Vp,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function i5(t){return typeof t=="object"&&t!==null&&t.$$typeof===Vp}function tI(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var sE=/\/+/g;function s2(t,e){return typeof t=="object"&&t!==null&&t.key!=null?tI(""+t.key):e.toString(36)}function e1(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Vp:case VD:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+s2(s,0):r,aE(i)?(n="",t!=null&&(n=t.replace(sE,"$&/")+"/"),e1(i,e,n,"",function(c){return c})):i!=null&&(i5(i)&&(i=eI(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(sE,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",aE(t))for(var o=0;o<t.length;o++){a=t[o];var l=r+s2(a,o);s+=e1(a,e,n,l,i)}else if(l=QD(t),typeof l=="function")for(t=l.call(t),o=0;!(a=t.next()).done;)a=a.value,l=r+s2(a,o++),s+=e1(a,e,n,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Pm(t,e,n){if(t==null)return t;var r=[],i=0;return e1(t,r,"","",function(a){return e.call(n,a,i++)}),r}function nI(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ma={current:null},t1={transition:null},rI={ReactCurrentDispatcher:ma,ReactCurrentBatchConfig:t1,ReactCurrentOwner:r5};function Vk(){throw Error("act(...) is not supported in production builds of React.")}vn.Children={map:Pm,forEach:function(t,e,n){Pm(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Pm(t,function(){e++}),e},toArray:function(t){return Pm(t,function(e){return e})||[]},only:function(t){if(!i5(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};vn.Component=rd;vn.Fragment=WD;vn.Profiler=qD;vn.PureComponent=t5;vn.StrictMode=GD;vn.Suspense=KD;vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rI;vn.act=Vk;vn.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Ok({},t.props),i=t.key,a=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,s=r5.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)jk.call(e,l)&&!zk.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];r.children=o}return{$$typeof:Vp,type:t.type,key:i,ref:a,props:r,_owner:s}};vn.createContext=function(t){return t={$$typeof:$D,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:XD,_context:t},t.Consumer=t};vn.createElement=Hk;vn.createFactory=function(t){var e=Hk.bind(null,t);return e.type=t,e};vn.createRef=function(){return{current:null}};vn.forwardRef=function(t){return{$$typeof:YD,render:t}};vn.isValidElement=i5;vn.lazy=function(t){return{$$typeof:ZD,_payload:{_status:-1,_result:t},_init:nI}};vn.memo=function(t,e){return{$$typeof:JD,type:t,compare:e===void 0?null:e}};vn.startTransition=function(t){var e=t1.transition;t1.transition={};try{t()}finally{t1.transition=e}};vn.unstable_act=Vk;vn.useCallback=function(t,e){return ma.current.useCallback(t,e)};vn.useContext=function(t){return ma.current.useContext(t)};vn.useDebugValue=function(){};vn.useDeferredValue=function(t){return ma.current.useDeferredValue(t)};vn.useEffect=function(t,e){return ma.current.useEffect(t,e)};vn.useId=function(){return ma.current.useId()};vn.useImperativeHandle=function(t,e,n){return ma.current.useImperativeHandle(t,e,n)};vn.useInsertionEffect=function(t,e){return ma.current.useInsertionEffect(t,e)};vn.useLayoutEffect=function(t,e){return ma.current.useLayoutEffect(t,e)};vn.useMemo=function(t,e){return ma.current.useMemo(t,e)};vn.useReducer=function(t,e,n){return ma.current.useReducer(t,e,n)};vn.useRef=function(t){return ma.current.useRef(t)};vn.useState=function(t){return ma.current.useState(t)};vn.useSyncExternalStore=function(t,e,n){return ma.current.useSyncExternalStore(t,e,n)};vn.useTransition=function(){return ma.current.useTransition()};vn.version="18.3.1";Dk.exports=vn;var De=Dk.exports;const Wk=HD(De),iI=zD({__proto__:null,default:Wk},[De]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aI=De,sI=Symbol.for("react.element"),oI=Symbol.for("react.fragment"),lI=Object.prototype.hasOwnProperty,cI=aI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,uI={key:!0,ref:!0,__self:!0,__source:!0};function Gk(t,e,n){var r,i={},a=null,s=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)lI.call(e,r)&&!uI.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:sI,type:t,key:a,ref:s,props:i,_owner:cI.current}}Hx.Fragment=oI;Hx.jsx=Gk;Hx.jsxs=Gk;Fk.exports=Hx;var p=Fk.exports,v_={},qk={exports:{}},as={},Xk={exports:{}},$k={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,H){var xe=B.length;B.push(H);e:for(;0<xe;){var Se=xe-1>>>1,k=B[Se];if(0<i(k,H))B[Se]=H,B[xe]=k,xe=Se;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var H=B[0],xe=B.pop();if(xe!==H){B[0]=xe;e:for(var Se=0,k=B.length,U=k>>>1;Se<U;){var O=2*(Se+1)-1,I=B[O],K=O+1,re=B[K];if(0>i(I,xe))K<k&&0>i(re,I)?(B[Se]=re,B[K]=xe,Se=K):(B[Se]=I,B[O]=xe,Se=O);else if(K<k&&0>i(re,xe))B[Se]=re,B[K]=xe,Se=K;else break e}}return H}function i(B,H){var xe=B.sortIndex-H.sortIndex;return xe!==0?xe:B.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],c=[],u=1,f=null,d=3,h=!1,g=!1,x=!1,v=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(B){for(var H=n(c);H!==null;){if(H.callback===null)r(c);else if(H.startTime<=B)r(c),H.sortIndex=H.expirationTime,e(l,H);else break;H=n(c)}}function S(B){if(x=!1,_(B),!g)if(n(l)!==null)g=!0,ee(N);else{var H=n(c);H!==null&&se(S,H.startTime-B)}}function N(B,H){g=!1,x&&(x=!1,m(L),L=-1),h=!0;var xe=d;try{for(_(H),f=n(l);f!==null&&(!(f.expirationTime>H)||B&&!A());){var Se=f.callback;if(typeof Se=="function"){f.callback=null,d=f.priorityLevel;var k=Se(f.expirationTime<=H);H=t.unstable_now(),typeof k=="function"?f.callback=k:f===n(l)&&r(l),_(H)}else r(l);f=n(l)}if(f!==null)var U=!0;else{var O=n(c);O!==null&&se(S,O.startTime-H),U=!1}return U}finally{f=null,d=xe,h=!1}}var P=!1,T=null,L=-1,E=5,R=-1;function A(){return!(t.unstable_now()-R<E)}function F(){if(T!==null){var B=t.unstable_now();R=B;var H=!0;try{H=T(!0,B)}finally{H?j():(P=!1,T=null)}}else P=!1}var j;if(typeof b=="function")j=function(){b(F)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,X=V.port2;V.port1.onmessage=F,j=function(){X.postMessage(null)}}else j=function(){v(F,0)};function ee(B){T=B,P||(P=!0,j())}function se(B,H){L=v(function(){B(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){g||h||(g=!0,ee(N))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(B){switch(d){case 1:case 2:case 3:var H=3;break;default:H=d}var xe=d;d=H;try{return B()}finally{d=xe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,H){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var xe=d;d=B;try{return H()}finally{d=xe}},t.unstable_scheduleCallback=function(B,H,xe){var Se=t.unstable_now();switch(typeof xe=="object"&&xe!==null?(xe=xe.delay,xe=typeof xe=="number"&&0<xe?Se+xe:Se):xe=Se,B){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=xe+k,B={id:u++,callback:H,priorityLevel:B,startTime:xe,expirationTime:k,sortIndex:-1},xe>Se?(B.sortIndex=xe,e(c,B),n(l)===null&&B===n(c)&&(x?(m(L),L=-1):x=!0,se(S,xe-Se))):(B.sortIndex=k,e(l,B),g||h||(g=!0,ee(N))),B},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(B){var H=d;return function(){var xe=d;d=H;try{return B.apply(this,arguments)}finally{d=xe}}}})($k);Xk.exports=$k;var fI=Xk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hI=De,rs=fI;function St(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Yk=new Set,Z0={};function cf(t,e){Bh(t,e),Bh(t+"Capture",e)}function Bh(t,e){for(Z0[t]=e,t=0;t<e.length;t++)Yk.add(e[t])}var Tl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),y_=Object.prototype.hasOwnProperty,dI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,oE={},lE={};function pI(t){return y_.call(lE,t)?!0:y_.call(oE,t)?!1:dI.test(t)?lE[t]=!0:(oE[t]=!0,!1)}function mI(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function gI(t,e,n,r){if(e===null||typeof e>"u"||mI(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ga(t,e,n,r,i,a,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=s}var Ri={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ri[t]=new ga(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ri[e]=new ga(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ri[t]=new ga(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ri[t]=new ga(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ri[t]=new ga(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ri[t]=new ga(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ri[t]=new ga(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ri[t]=new ga(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ri[t]=new ga(t,5,!1,t.toLowerCase(),null,!1,!1)});var a5=/[\-:]([a-z])/g;function s5(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(a5,s5);Ri[e]=new ga(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(a5,s5);Ri[e]=new ga(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(a5,s5);Ri[e]=new ga(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ri[t]=new ga(t,1,!1,t.toLowerCase(),null,!1,!1)});Ri.xlinkHref=new ga("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ri[t]=new ga(t,1,!1,t.toLowerCase(),null,!0,!0)});function o5(t,e,n,r){var i=Ri.hasOwnProperty(e)?Ri[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(gI(e,n,i,r)&&(n=null),r||i===null?pI(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Pl=hI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Lm=Symbol.for("react.element"),ah=Symbol.for("react.portal"),sh=Symbol.for("react.fragment"),l5=Symbol.for("react.strict_mode"),__=Symbol.for("react.profiler"),Kk=Symbol.for("react.provider"),Jk=Symbol.for("react.context"),c5=Symbol.for("react.forward_ref"),b_=Symbol.for("react.suspense"),w_=Symbol.for("react.suspense_list"),u5=Symbol.for("react.memo"),sc=Symbol.for("react.lazy"),Zk=Symbol.for("react.offscreen"),cE=Symbol.iterator;function Vd(t){return t===null||typeof t!="object"?null:(t=cE&&t[cE]||t["@@iterator"],typeof t=="function"?t:null)}var xr=Object.assign,o2;function f0(t){if(o2===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);o2=e&&e[1]||""}return`
`+o2+t}var l2=!1;function c2(t,e){if(!t||l2)return"";l2=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=r.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=o);break}}}finally{l2=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?f0(t):""}function xI(t){switch(t.tag){case 5:return f0(t.type);case 16:return f0("Lazy");case 13:return f0("Suspense");case 19:return f0("SuspenseList");case 0:case 2:case 15:return t=c2(t.type,!1),t;case 11:return t=c2(t.type.render,!1),t;case 1:return t=c2(t.type,!0),t;default:return""}}function S_(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case sh:return"Fragment";case ah:return"Portal";case __:return"Profiler";case l5:return"StrictMode";case b_:return"Suspense";case w_:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Jk:return(t.displayName||"Context")+".Consumer";case Kk:return(t._context.displayName||"Context")+".Provider";case c5:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case u5:return e=t.displayName||null,e!==null?e:S_(t.type)||"Memo";case sc:e=t._payload,t=t._init;try{return S_(t(e))}catch{}}return null}function vI(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return S_(e);case 8:return e===l5?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Dc(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Qk(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function yI(t){var e=Qk(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Fm(t){t._valueTracker||(t._valueTracker=yI(t))}function eC(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Qk(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function I1(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function E_(t,e){var n=e.checked;return xr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function uE(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Dc(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function tC(t,e){e=e.checked,e!=null&&o5(t,"checked",e,!1)}function A_(t,e){tC(t,e);var n=Dc(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?T_(t,e.type,n):e.hasOwnProperty("defaultValue")&&T_(t,e.type,Dc(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function fE(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function T_(t,e,n){(e!=="number"||I1(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var h0=Array.isArray;function bh(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Dc(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function M_(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(St(91));return xr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function hE(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(St(92));if(h0(n)){if(1<n.length)throw Error(St(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Dc(n)}}function nC(t,e){var n=Dc(e.value),r=Dc(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function dE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function rC(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function N_(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?rC(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Dm,iC=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Dm=Dm||document.createElement("div"),Dm.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Dm.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Q0(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var T0={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_I=["Webkit","ms","Moz","O"];Object.keys(T0).forEach(function(t){_I.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),T0[e]=T0[t]})});function aC(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||T0.hasOwnProperty(t)&&T0[t]?(""+e).trim():e+"px"}function sC(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=aC(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var bI=xr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function k_(t,e){if(e){if(bI[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(St(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(St(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(St(61))}if(e.style!=null&&typeof e.style!="object")throw Error(St(62))}}function C_(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var R_=null;function f5(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var P_=null,wh=null,Sh=null;function pE(t){if(t=qp(t)){if(typeof P_!="function")throw Error(St(280));var e=t.stateNode;e&&(e=Xx(e),P_(t.stateNode,t.type,e))}}function oC(t){wh?Sh?Sh.push(t):Sh=[t]:wh=t}function lC(){if(wh){var t=wh,e=Sh;if(Sh=wh=null,pE(t),e)for(t=0;t<e.length;t++)pE(e[t])}}function cC(t,e){return t(e)}function uC(){}var u2=!1;function fC(t,e,n){if(u2)return t(e,n);u2=!0;try{return cC(t,e,n)}finally{u2=!1,(wh!==null||Sh!==null)&&(uC(),lC())}}function ep(t,e){var n=t.stateNode;if(n===null)return null;var r=Xx(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(St(231,e,typeof n));return n}var L_=!1;if(Tl)try{var Wd={};Object.defineProperty(Wd,"passive",{get:function(){L_=!0}}),window.addEventListener("test",Wd,Wd),window.removeEventListener("test",Wd,Wd)}catch{L_=!1}function wI(t,e,n,r,i,a,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var M0=!1,O1=null,U1=!1,F_=null,SI={onError:function(t){M0=!0,O1=t}};function EI(t,e,n,r,i,a,s,o,l){M0=!1,O1=null,wI.apply(SI,arguments)}function AI(t,e,n,r,i,a,s,o,l){if(EI.apply(this,arguments),M0){if(M0){var c=O1;M0=!1,O1=null}else throw Error(St(198));U1||(U1=!0,F_=c)}}function uf(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function hC(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function mE(t){if(uf(t)!==t)throw Error(St(188))}function TI(t){var e=t.alternate;if(!e){if(e=uf(t),e===null)throw Error(St(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return mE(i),t;if(a===r)return mE(i),e;a=a.sibling}throw Error(St(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,o=i.child;o;){if(o===n){s=!0,n=i,r=a;break}if(o===r){s=!0,r=i,n=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===n){s=!0,n=a,r=i;break}if(o===r){s=!0,r=a,n=i;break}o=o.sibling}if(!s)throw Error(St(189))}}if(n.alternate!==r)throw Error(St(190))}if(n.tag!==3)throw Error(St(188));return n.stateNode.current===n?t:e}function dC(t){return t=TI(t),t!==null?pC(t):null}function pC(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=pC(t);if(e!==null)return e;t=t.sibling}return null}var mC=rs.unstable_scheduleCallback,gE=rs.unstable_cancelCallback,MI=rs.unstable_shouldYield,NI=rs.unstable_requestPaint,Ur=rs.unstable_now,kI=rs.unstable_getCurrentPriorityLevel,h5=rs.unstable_ImmediatePriority,gC=rs.unstable_UserBlockingPriority,B1=rs.unstable_NormalPriority,CI=rs.unstable_LowPriority,xC=rs.unstable_IdlePriority,Vx=null,ko=null;function RI(t){if(ko&&typeof ko.onCommitFiberRoot=="function")try{ko.onCommitFiberRoot(Vx,t,void 0,(t.current.flags&128)===128)}catch{}}var $s=Math.clz32?Math.clz32:FI,PI=Math.log,LI=Math.LN2;function FI(t){return t>>>=0,t===0?32:31-(PI(t)/LI|0)|0}var Im=64,Om=4194304;function d0(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function j1(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,a=t.pingedLanes,s=n&268435455;if(s!==0){var o=s&~i;o!==0?r=d0(o):(a&=s,a!==0&&(r=d0(a)))}else s=n&~i,s!==0?r=d0(s):a!==0&&(r=d0(a));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-$s(e),i=1<<n,r|=t[n],e&=~i;return r}function DI(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function II(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var s=31-$s(a),o=1<<s,l=i[s];l===-1?(!(o&n)||o&r)&&(i[s]=DI(o,e)):l<=e&&(t.expiredLanes|=o),a&=~o}}function D_(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function vC(){var t=Im;return Im<<=1,!(Im&4194240)&&(Im=64),t}function f2(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Wp(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-$s(e),t[e]=n}function OI(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-$s(n),a=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~a}}function d5(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-$s(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var jn=0;function yC(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var _C,p5,bC,wC,SC,I_=!1,Um=[],wc=null,Sc=null,Ec=null,tp=new Map,np=new Map,lc=[],UI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xE(t,e){switch(t){case"focusin":case"focusout":wc=null;break;case"dragenter":case"dragleave":Sc=null;break;case"mouseover":case"mouseout":Ec=null;break;case"pointerover":case"pointerout":tp.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":np.delete(e.pointerId)}}function Gd(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=qp(e),e!==null&&p5(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function BI(t,e,n,r,i){switch(e){case"focusin":return wc=Gd(wc,t,e,n,r,i),!0;case"dragenter":return Sc=Gd(Sc,t,e,n,r,i),!0;case"mouseover":return Ec=Gd(Ec,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return tp.set(a,Gd(tp.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,np.set(a,Gd(np.get(a)||null,t,e,n,r,i)),!0}return!1}function EC(t){var e=ku(t.target);if(e!==null){var n=uf(e);if(n!==null){if(e=n.tag,e===13){if(e=hC(n),e!==null){t.blockedOn=e,SC(t.priority,function(){bC(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function n1(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=O_(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);R_=r,n.target.dispatchEvent(r),R_=null}else return e=qp(n),e!==null&&p5(e),t.blockedOn=n,!1;e.shift()}return!0}function vE(t,e,n){n1(t)&&n.delete(e)}function jI(){I_=!1,wc!==null&&n1(wc)&&(wc=null),Sc!==null&&n1(Sc)&&(Sc=null),Ec!==null&&n1(Ec)&&(Ec=null),tp.forEach(vE),np.forEach(vE)}function qd(t,e){t.blockedOn===e&&(t.blockedOn=null,I_||(I_=!0,rs.unstable_scheduleCallback(rs.unstable_NormalPriority,jI)))}function rp(t){function e(i){return qd(i,t)}if(0<Um.length){qd(Um[0],t);for(var n=1;n<Um.length;n++){var r=Um[n];r.blockedOn===t&&(r.blockedOn=null)}}for(wc!==null&&qd(wc,t),Sc!==null&&qd(Sc,t),Ec!==null&&qd(Ec,t),tp.forEach(e),np.forEach(e),n=0;n<lc.length;n++)r=lc[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<lc.length&&(n=lc[0],n.blockedOn===null);)EC(n),n.blockedOn===null&&lc.shift()}var Eh=Pl.ReactCurrentBatchConfig,z1=!0;function zI(t,e,n,r){var i=jn,a=Eh.transition;Eh.transition=null;try{jn=1,m5(t,e,n,r)}finally{jn=i,Eh.transition=a}}function HI(t,e,n,r){var i=jn,a=Eh.transition;Eh.transition=null;try{jn=4,m5(t,e,n,r)}finally{jn=i,Eh.transition=a}}function m5(t,e,n,r){if(z1){var i=O_(t,e,n,r);if(i===null)b2(t,e,r,H1,n),xE(t,r);else if(BI(i,t,e,n,r))r.stopPropagation();else if(xE(t,r),e&4&&-1<UI.indexOf(t)){for(;i!==null;){var a=qp(i);if(a!==null&&_C(a),a=O_(t,e,n,r),a===null&&b2(t,e,r,H1,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else b2(t,e,r,null,n)}}var H1=null;function O_(t,e,n,r){if(H1=null,t=f5(r),t=ku(t),t!==null)if(e=uf(t),e===null)t=null;else if(n=e.tag,n===13){if(t=hC(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return H1=t,null}function AC(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kI()){case h5:return 1;case gC:return 4;case B1:case CI:return 16;case xC:return 536870912;default:return 16}default:return 16}}var hc=null,g5=null,r1=null;function TC(){if(r1)return r1;var t,e=g5,n=e.length,r,i="value"in hc?hc.value:hc.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[a-r];r++);return r1=i.slice(t,1<r?1-r:void 0)}function i1(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Bm(){return!0}function yE(){return!1}function ss(t){function e(n,r,i,a,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Bm:yE,this.isPropagationStopped=yE,this}return xr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Bm)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Bm)},persist:function(){},isPersistent:Bm}),e}var id={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},x5=ss(id),Gp=xr({},id,{view:0,detail:0}),VI=ss(Gp),h2,d2,Xd,Wx=xr({},Gp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:v5,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Xd&&(Xd&&t.type==="mousemove"?(h2=t.screenX-Xd.screenX,d2=t.screenY-Xd.screenY):d2=h2=0,Xd=t),h2)},movementY:function(t){return"movementY"in t?t.movementY:d2}}),_E=ss(Wx),WI=xr({},Wx,{dataTransfer:0}),GI=ss(WI),qI=xr({},Gp,{relatedTarget:0}),p2=ss(qI),XI=xr({},id,{animationName:0,elapsedTime:0,pseudoElement:0}),$I=ss(XI),YI=xr({},id,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),KI=ss(YI),JI=xr({},id,{data:0}),bE=ss(JI),ZI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},QI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tO(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=eO[t])?!!e[t]:!1}function v5(){return tO}var nO=xr({},Gp,{key:function(t){if(t.key){var e=ZI[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=i1(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?QI[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:v5,charCode:function(t){return t.type==="keypress"?i1(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?i1(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),rO=ss(nO),iO=xr({},Wx,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wE=ss(iO),aO=xr({},Gp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:v5}),sO=ss(aO),oO=xr({},id,{propertyName:0,elapsedTime:0,pseudoElement:0}),lO=ss(oO),cO=xr({},Wx,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),uO=ss(cO),fO=[9,13,27,32],y5=Tl&&"CompositionEvent"in window,N0=null;Tl&&"documentMode"in document&&(N0=document.documentMode);var hO=Tl&&"TextEvent"in window&&!N0,MC=Tl&&(!y5||N0&&8<N0&&11>=N0),SE=" ",EE=!1;function NC(t,e){switch(t){case"keyup":return fO.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var oh=!1;function dO(t,e){switch(t){case"compositionend":return kC(e);case"keypress":return e.which!==32?null:(EE=!0,SE);case"textInput":return t=e.data,t===SE&&EE?null:t;default:return null}}function pO(t,e){if(oh)return t==="compositionend"||!y5&&NC(t,e)?(t=TC(),r1=g5=hc=null,oh=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return MC&&e.locale!=="ko"?null:e.data;default:return null}}var mO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function AE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!mO[t.type]:e==="textarea"}function CC(t,e,n,r){oC(r),e=V1(e,"onChange"),0<e.length&&(n=new x5("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var k0=null,ip=null;function gO(t){zC(t,0)}function Gx(t){var e=uh(t);if(eC(e))return t}function xO(t,e){if(t==="change")return e}var RC=!1;if(Tl){var m2;if(Tl){var g2="oninput"in document;if(!g2){var TE=document.createElement("div");TE.setAttribute("oninput","return;"),g2=typeof TE.oninput=="function"}m2=g2}else m2=!1;RC=m2&&(!document.documentMode||9<document.documentMode)}function ME(){k0&&(k0.detachEvent("onpropertychange",PC),ip=k0=null)}function PC(t){if(t.propertyName==="value"&&Gx(ip)){var e=[];CC(e,ip,t,f5(t)),fC(gO,e)}}function vO(t,e,n){t==="focusin"?(ME(),k0=e,ip=n,k0.attachEvent("onpropertychange",PC)):t==="focusout"&&ME()}function yO(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Gx(ip)}function _O(t,e){if(t==="click")return Gx(e)}function bO(t,e){if(t==="input"||t==="change")return Gx(e)}function wO(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Qs=typeof Object.is=="function"?Object.is:wO;function ap(t,e){if(Qs(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!y_.call(e,i)||!Qs(t[i],e[i]))return!1}return!0}function NE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function kE(t,e){var n=NE(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=NE(n)}}function LC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?LC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function FC(){for(var t=window,e=I1();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=I1(t.document)}return e}function _5(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function SO(t){var e=FC(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&LC(n.ownerDocument.documentElement,n)){if(r!==null&&_5(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!t.extend&&a>r&&(i=r,r=a,a=i),i=kE(n,a);var s=kE(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var EO=Tl&&"documentMode"in document&&11>=document.documentMode,lh=null,U_=null,C0=null,B_=!1;function CE(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;B_||lh==null||lh!==I1(r)||(r=lh,"selectionStart"in r&&_5(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),C0&&ap(C0,r)||(C0=r,r=V1(U_,"onSelect"),0<r.length&&(e=new x5("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=lh)))}function jm(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ch={animationend:jm("Animation","AnimationEnd"),animationiteration:jm("Animation","AnimationIteration"),animationstart:jm("Animation","AnimationStart"),transitionend:jm("Transition","TransitionEnd")},x2={},DC={};Tl&&(DC=document.createElement("div").style,"AnimationEvent"in window||(delete ch.animationend.animation,delete ch.animationiteration.animation,delete ch.animationstart.animation),"TransitionEvent"in window||delete ch.transitionend.transition);function qx(t){if(x2[t])return x2[t];if(!ch[t])return t;var e=ch[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in DC)return x2[t]=e[n];return t}var IC=qx("animationend"),OC=qx("animationiteration"),UC=qx("animationstart"),BC=qx("transitionend"),jC=new Map,RE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gc(t,e){jC.set(t,e),cf(e,[t])}for(var v2=0;v2<RE.length;v2++){var y2=RE[v2],AO=y2.toLowerCase(),TO=y2[0].toUpperCase()+y2.slice(1);Gc(AO,"on"+TO)}Gc(IC,"onAnimationEnd");Gc(OC,"onAnimationIteration");Gc(UC,"onAnimationStart");Gc("dblclick","onDoubleClick");Gc("focusin","onFocus");Gc("focusout","onBlur");Gc(BC,"onTransitionEnd");Bh("onMouseEnter",["mouseout","mouseover"]);Bh("onMouseLeave",["mouseout","mouseover"]);Bh("onPointerEnter",["pointerout","pointerover"]);Bh("onPointerLeave",["pointerout","pointerover"]);cf("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));cf("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));cf("onBeforeInput",["compositionend","keypress","textInput","paste"]);cf("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));cf("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));cf("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var p0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MO=new Set("cancel close invalid load scroll toggle".split(" ").concat(p0));function PE(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,AI(r,e,void 0,t),t.currentTarget=null}function zC(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;PE(i,o,c),a=l}else for(s=0;s<r.length;s++){if(o=r[s],l=o.instance,c=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;PE(i,o,c),a=l}}}if(U1)throw t=F_,U1=!1,F_=null,t}function nr(t,e){var n=e[W_];n===void 0&&(n=e[W_]=new Set);var r=t+"__bubble";n.has(r)||(HC(e,t,2,!1),n.add(r))}function _2(t,e,n){var r=0;e&&(r|=4),HC(n,t,r,e)}var zm="_reactListening"+Math.random().toString(36).slice(2);function sp(t){if(!t[zm]){t[zm]=!0,Yk.forEach(function(n){n!=="selectionchange"&&(MO.has(n)||_2(n,!1,t),_2(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[zm]||(e[zm]=!0,_2("selectionchange",!1,e))}}function HC(t,e,n,r){switch(AC(e)){case 1:var i=zI;break;case 4:i=HI;break;default:i=m5}n=i.bind(null,e,n,t),i=void 0,!L_||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function b2(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=ku(o),s===null)return;if(l=s.tag,l===5||l===6){r=a=s;continue e}o=o.parentNode}}r=r.return}fC(function(){var c=a,u=f5(n),f=[];e:{var d=jC.get(t);if(d!==void 0){var h=x5,g=t;switch(t){case"keypress":if(i1(n)===0)break e;case"keydown":case"keyup":h=rO;break;case"focusin":g="focus",h=p2;break;case"focusout":g="blur",h=p2;break;case"beforeblur":case"afterblur":h=p2;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=_E;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=GI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=sO;break;case IC:case OC:case UC:h=$I;break;case BC:h=lO;break;case"scroll":h=VI;break;case"wheel":h=uO;break;case"copy":case"cut":case"paste":h=KI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=wE}var x=(e&4)!==0,v=!x&&t==="scroll",m=x?d!==null?d+"Capture":null:d;x=[];for(var b=c,_;b!==null;){_=b;var S=_.stateNode;if(_.tag===5&&S!==null&&(_=S,m!==null&&(S=ep(b,m),S!=null&&x.push(op(b,S,_)))),v)break;b=b.return}0<x.length&&(d=new h(d,g,null,n,u),f.push({event:d,listeners:x}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",d&&n!==R_&&(g=n.relatedTarget||n.fromElement)&&(ku(g)||g[Ml]))break e;if((h||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,h?(g=n.relatedTarget||n.toElement,h=c,g=g?ku(g):null,g!==null&&(v=uf(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(h=null,g=c),h!==g)){if(x=_E,S="onMouseLeave",m="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(x=wE,S="onPointerLeave",m="onPointerEnter",b="pointer"),v=h==null?d:uh(h),_=g==null?d:uh(g),d=new x(S,b+"leave",h,n,u),d.target=v,d.relatedTarget=_,S=null,ku(u)===c&&(x=new x(m,b+"enter",g,n,u),x.target=_,x.relatedTarget=v,S=x),v=S,h&&g)t:{for(x=h,m=g,b=0,_=x;_;_=Lf(_))b++;for(_=0,S=m;S;S=Lf(S))_++;for(;0<b-_;)x=Lf(x),b--;for(;0<_-b;)m=Lf(m),_--;for(;b--;){if(x===m||m!==null&&x===m.alternate)break t;x=Lf(x),m=Lf(m)}x=null}else x=null;h!==null&&LE(f,d,h,x,!1),g!==null&&v!==null&&LE(f,v,g,x,!0)}}e:{if(d=c?uh(c):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var N=xO;else if(AE(d))if(RC)N=bO;else{N=yO;var P=vO}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(N=_O);if(N&&(N=N(t,c))){CC(f,N,n,u);break e}P&&P(t,d,c),t==="focusout"&&(P=d._wrapperState)&&P.controlled&&d.type==="number"&&T_(d,"number",d.value)}switch(P=c?uh(c):window,t){case"focusin":(AE(P)||P.contentEditable==="true")&&(lh=P,U_=c,C0=null);break;case"focusout":C0=U_=lh=null;break;case"mousedown":B_=!0;break;case"contextmenu":case"mouseup":case"dragend":B_=!1,CE(f,n,u);break;case"selectionchange":if(EO)break;case"keydown":case"keyup":CE(f,n,u)}var T;if(y5)e:{switch(t){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else oh?NC(t,n)&&(L="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(L="onCompositionStart");L&&(MC&&n.locale!=="ko"&&(oh||L!=="onCompositionStart"?L==="onCompositionEnd"&&oh&&(T=TC()):(hc=u,g5="value"in hc?hc.value:hc.textContent,oh=!0)),P=V1(c,L),0<P.length&&(L=new bE(L,t,null,n,u),f.push({event:L,listeners:P}),T?L.data=T:(T=kC(n),T!==null&&(L.data=T)))),(T=hO?dO(t,n):pO(t,n))&&(c=V1(c,"onBeforeInput"),0<c.length&&(u=new bE("onBeforeInput","beforeinput",null,n,u),f.push({event:u,listeners:c}),u.data=T))}zC(f,e)})}function op(t,e,n){return{instance:t,listener:e,currentTarget:n}}function V1(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=ep(t,n),a!=null&&r.unshift(op(t,a,i)),a=ep(t,e),a!=null&&r.push(op(t,a,i))),t=t.return}return r}function Lf(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function LE(t,e,n,r,i){for(var a=e._reactName,s=[];n!==null&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&c!==null&&(o=c,i?(l=ep(n,a),l!=null&&s.unshift(op(n,l,o))):i||(l=ep(n,a),l!=null&&s.push(op(n,l,o)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var NO=/\r\n?/g,kO=/\u0000|\uFFFD/g;function FE(t){return(typeof t=="string"?t:""+t).replace(NO,`
`).replace(kO,"")}function Hm(t,e,n){if(e=FE(e),FE(t)!==e&&n)throw Error(St(425))}function W1(){}var j_=null,z_=null;function H_(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var V_=typeof setTimeout=="function"?setTimeout:void 0,CO=typeof clearTimeout=="function"?clearTimeout:void 0,DE=typeof Promise=="function"?Promise:void 0,RO=typeof queueMicrotask=="function"?queueMicrotask:typeof DE<"u"?function(t){return DE.resolve(null).then(t).catch(PO)}:V_;function PO(t){setTimeout(function(){throw t})}function w2(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),rp(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);rp(e)}function Ac(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function IE(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ad=Math.random().toString(36).slice(2),So="__reactFiber$"+ad,lp="__reactProps$"+ad,Ml="__reactContainer$"+ad,W_="__reactEvents$"+ad,LO="__reactListeners$"+ad,FO="__reactHandles$"+ad;function ku(t){var e=t[So];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ml]||n[So]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=IE(t);t!==null;){if(n=t[So])return n;t=IE(t)}return e}t=n,n=t.parentNode}return null}function qp(t){return t=t[So]||t[Ml],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function uh(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(St(33))}function Xx(t){return t[lp]||null}var G_=[],fh=-1;function qc(t){return{current:t}}function ir(t){0>fh||(t.current=G_[fh],G_[fh]=null,fh--)}function Zn(t,e){fh++,G_[fh]=t.current,t.current=e}var Ic={},Qi=qc(Ic),Na=qc(!1),Xu=Ic;function jh(t,e){var n=t.type.contextTypes;if(!n)return Ic;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ka(t){return t=t.childContextTypes,t!=null}function G1(){ir(Na),ir(Qi)}function OE(t,e,n){if(Qi.current!==Ic)throw Error(St(168));Zn(Qi,e),Zn(Na,n)}function VC(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(St(108,vI(t)||"Unknown",i));return xr({},n,r)}function q1(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ic,Xu=Qi.current,Zn(Qi,t),Zn(Na,Na.current),!0}function UE(t,e,n){var r=t.stateNode;if(!r)throw Error(St(169));n?(t=VC(t,e,Xu),r.__reactInternalMemoizedMergedChildContext=t,ir(Na),ir(Qi),Zn(Qi,t)):ir(Na),Zn(Na,n)}var cl=null,$x=!1,S2=!1;function WC(t){cl===null?cl=[t]:cl.push(t)}function DO(t){$x=!0,WC(t)}function Xc(){if(!S2&&cl!==null){S2=!0;var t=0,e=jn;try{var n=cl;for(jn=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}cl=null,$x=!1}catch(i){throw cl!==null&&(cl=cl.slice(t+1)),mC(h5,Xc),i}finally{jn=e,S2=!1}}return null}var hh=[],dh=0,X1=null,$1=0,xs=[],vs=0,$u=null,dl=1,pl="";function vu(t,e){hh[dh++]=$1,hh[dh++]=X1,X1=t,$1=e}function GC(t,e,n){xs[vs++]=dl,xs[vs++]=pl,xs[vs++]=$u,$u=t;var r=dl;t=pl;var i=32-$s(r)-1;r&=~(1<<i),n+=1;var a=32-$s(e)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,dl=1<<32-$s(e)+i|n<<i|r,pl=a+t}else dl=1<<a|n<<i|r,pl=t}function b5(t){t.return!==null&&(vu(t,1),GC(t,1,0))}function w5(t){for(;t===X1;)X1=hh[--dh],hh[dh]=null,$1=hh[--dh],hh[dh]=null;for(;t===$u;)$u=xs[--vs],xs[vs]=null,pl=xs[--vs],xs[vs]=null,dl=xs[--vs],xs[vs]=null}var ns=null,Za=null,cr=!1,js=null;function qC(t,e){var n=_s(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function BE(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ns=t,Za=Ac(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ns=t,Za=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=$u!==null?{id:dl,overflow:pl}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=_s(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ns=t,Za=null,!0):!1;default:return!1}}function q_(t){return(t.mode&1)!==0&&(t.flags&128)===0}function X_(t){if(cr){var e=Za;if(e){var n=e;if(!BE(t,e)){if(q_(t))throw Error(St(418));e=Ac(n.nextSibling);var r=ns;e&&BE(t,e)?qC(r,n):(t.flags=t.flags&-4097|2,cr=!1,ns=t)}}else{if(q_(t))throw Error(St(418));t.flags=t.flags&-4097|2,cr=!1,ns=t}}}function jE(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ns=t}function Vm(t){if(t!==ns)return!1;if(!cr)return jE(t),cr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!H_(t.type,t.memoizedProps)),e&&(e=Za)){if(q_(t))throw XC(),Error(St(418));for(;e;)qC(t,e),e=Ac(e.nextSibling)}if(jE(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(St(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Za=Ac(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Za=null}}else Za=ns?Ac(t.stateNode.nextSibling):null;return!0}function XC(){for(var t=Za;t;)t=Ac(t.nextSibling)}function zh(){Za=ns=null,cr=!1}function S5(t){js===null?js=[t]:js.push(t)}var IO=Pl.ReactCurrentBatchConfig;function $d(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(St(309));var r=n.stateNode}if(!r)throw Error(St(147,t));var i=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},e._stringRef=a,e)}if(typeof t!="string")throw Error(St(284));if(!n._owner)throw Error(St(290,t))}return t}function Wm(t,e){throw t=Object.prototype.toString.call(e),Error(St(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function zE(t){var e=t._init;return e(t._payload)}function $C(t){function e(m,b){if(t){var _=m.deletions;_===null?(m.deletions=[b],m.flags|=16):_.push(b)}}function n(m,b){if(!t)return null;for(;b!==null;)e(m,b),b=b.sibling;return null}function r(m,b){for(m=new Map;b!==null;)b.key!==null?m.set(b.key,b):m.set(b.index,b),b=b.sibling;return m}function i(m,b){return m=kc(m,b),m.index=0,m.sibling=null,m}function a(m,b,_){return m.index=_,t?(_=m.alternate,_!==null?(_=_.index,_<b?(m.flags|=2,b):_):(m.flags|=2,b)):(m.flags|=1048576,b)}function s(m){return t&&m.alternate===null&&(m.flags|=2),m}function o(m,b,_,S){return b===null||b.tag!==6?(b=C2(_,m.mode,S),b.return=m,b):(b=i(b,_),b.return=m,b)}function l(m,b,_,S){var N=_.type;return N===sh?u(m,b,_.props.children,S,_.key):b!==null&&(b.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===sc&&zE(N)===b.type)?(S=i(b,_.props),S.ref=$d(m,b,_),S.return=m,S):(S=f1(_.type,_.key,_.props,null,m.mode,S),S.ref=$d(m,b,_),S.return=m,S)}function c(m,b,_,S){return b===null||b.tag!==4||b.stateNode.containerInfo!==_.containerInfo||b.stateNode.implementation!==_.implementation?(b=R2(_,m.mode,S),b.return=m,b):(b=i(b,_.children||[]),b.return=m,b)}function u(m,b,_,S,N){return b===null||b.tag!==7?(b=Uu(_,m.mode,S,N),b.return=m,b):(b=i(b,_),b.return=m,b)}function f(m,b,_){if(typeof b=="string"&&b!==""||typeof b=="number")return b=C2(""+b,m.mode,_),b.return=m,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Lm:return _=f1(b.type,b.key,b.props,null,m.mode,_),_.ref=$d(m,null,b),_.return=m,_;case ah:return b=R2(b,m.mode,_),b.return=m,b;case sc:var S=b._init;return f(m,S(b._payload),_)}if(h0(b)||Vd(b))return b=Uu(b,m.mode,_,null),b.return=m,b;Wm(m,b)}return null}function d(m,b,_,S){var N=b!==null?b.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return N!==null?null:o(m,b,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Lm:return _.key===N?l(m,b,_,S):null;case ah:return _.key===N?c(m,b,_,S):null;case sc:return N=_._init,d(m,b,N(_._payload),S)}if(h0(_)||Vd(_))return N!==null?null:u(m,b,_,S,null);Wm(m,_)}return null}function h(m,b,_,S,N){if(typeof S=="string"&&S!==""||typeof S=="number")return m=m.get(_)||null,o(b,m,""+S,N);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Lm:return m=m.get(S.key===null?_:S.key)||null,l(b,m,S,N);case ah:return m=m.get(S.key===null?_:S.key)||null,c(b,m,S,N);case sc:var P=S._init;return h(m,b,_,P(S._payload),N)}if(h0(S)||Vd(S))return m=m.get(_)||null,u(b,m,S,N,null);Wm(b,S)}return null}function g(m,b,_,S){for(var N=null,P=null,T=b,L=b=0,E=null;T!==null&&L<_.length;L++){T.index>L?(E=T,T=null):E=T.sibling;var R=d(m,T,_[L],S);if(R===null){T===null&&(T=E);break}t&&T&&R.alternate===null&&e(m,T),b=a(R,b,L),P===null?N=R:P.sibling=R,P=R,T=E}if(L===_.length)return n(m,T),cr&&vu(m,L),N;if(T===null){for(;L<_.length;L++)T=f(m,_[L],S),T!==null&&(b=a(T,b,L),P===null?N=T:P.sibling=T,P=T);return cr&&vu(m,L),N}for(T=r(m,T);L<_.length;L++)E=h(T,m,L,_[L],S),E!==null&&(t&&E.alternate!==null&&T.delete(E.key===null?L:E.key),b=a(E,b,L),P===null?N=E:P.sibling=E,P=E);return t&&T.forEach(function(A){return e(m,A)}),cr&&vu(m,L),N}function x(m,b,_,S){var N=Vd(_);if(typeof N!="function")throw Error(St(150));if(_=N.call(_),_==null)throw Error(St(151));for(var P=N=null,T=b,L=b=0,E=null,R=_.next();T!==null&&!R.done;L++,R=_.next()){T.index>L?(E=T,T=null):E=T.sibling;var A=d(m,T,R.value,S);if(A===null){T===null&&(T=E);break}t&&T&&A.alternate===null&&e(m,T),b=a(A,b,L),P===null?N=A:P.sibling=A,P=A,T=E}if(R.done)return n(m,T),cr&&vu(m,L),N;if(T===null){for(;!R.done;L++,R=_.next())R=f(m,R.value,S),R!==null&&(b=a(R,b,L),P===null?N=R:P.sibling=R,P=R);return cr&&vu(m,L),N}for(T=r(m,T);!R.done;L++,R=_.next())R=h(T,m,L,R.value,S),R!==null&&(t&&R.alternate!==null&&T.delete(R.key===null?L:R.key),b=a(R,b,L),P===null?N=R:P.sibling=R,P=R);return t&&T.forEach(function(F){return e(m,F)}),cr&&vu(m,L),N}function v(m,b,_,S){if(typeof _=="object"&&_!==null&&_.type===sh&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Lm:e:{for(var N=_.key,P=b;P!==null;){if(P.key===N){if(N=_.type,N===sh){if(P.tag===7){n(m,P.sibling),b=i(P,_.props.children),b.return=m,m=b;break e}}else if(P.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===sc&&zE(N)===P.type){n(m,P.sibling),b=i(P,_.props),b.ref=$d(m,P,_),b.return=m,m=b;break e}n(m,P);break}else e(m,P);P=P.sibling}_.type===sh?(b=Uu(_.props.children,m.mode,S,_.key),b.return=m,m=b):(S=f1(_.type,_.key,_.props,null,m.mode,S),S.ref=$d(m,b,_),S.return=m,m=S)}return s(m);case ah:e:{for(P=_.key;b!==null;){if(b.key===P)if(b.tag===4&&b.stateNode.containerInfo===_.containerInfo&&b.stateNode.implementation===_.implementation){n(m,b.sibling),b=i(b,_.children||[]),b.return=m,m=b;break e}else{n(m,b);break}else e(m,b);b=b.sibling}b=R2(_,m.mode,S),b.return=m,m=b}return s(m);case sc:return P=_._init,v(m,b,P(_._payload),S)}if(h0(_))return g(m,b,_,S);if(Vd(_))return x(m,b,_,S);Wm(m,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,b!==null&&b.tag===6?(n(m,b.sibling),b=i(b,_),b.return=m,m=b):(n(m,b),b=C2(_,m.mode,S),b.return=m,m=b),s(m)):n(m,b)}return v}var Hh=$C(!0),YC=$C(!1),Y1=qc(null),K1=null,ph=null,E5=null;function A5(){E5=ph=K1=null}function T5(t){var e=Y1.current;ir(Y1),t._currentValue=e}function $_(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ah(t,e){K1=t,E5=ph=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ma=!0),t.firstContext=null)}function ws(t){var e=t._currentValue;if(E5!==t)if(t={context:t,memoizedValue:e,next:null},ph===null){if(K1===null)throw Error(St(308));ph=t,K1.dependencies={lanes:0,firstContext:t}}else ph=ph.next=t;return e}var Cu=null;function M5(t){Cu===null?Cu=[t]:Cu.push(t)}function KC(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,M5(e)):(n.next=i.next,i.next=n),e.interleaved=n,Nl(t,r)}function Nl(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var oc=!1;function N5(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function JC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function bl(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Tc(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Mn&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Nl(t,n)}return i=r.interleaved,i===null?(e.next=e,M5(r)):(e.next=i.next,i.next=e),r.interleaved=e,Nl(t,n)}function a1(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,d5(t,n)}}function HE(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function J1(t,e,n,r){var i=t.updateQueue;oc=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,s===null?a=c:s.next=c,s=l;var u=t.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==s&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;s=0,u=c=l=null,o=a;do{var d=o.lane,h=o.eventTime;if((r&d)===d){u!==null&&(u=u.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=t,x=o;switch(d=e,h=n,x.tag){case 1:if(g=x.payload,typeof g=="function"){f=g.call(h,f,d);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=x.payload,d=typeof g=="function"?g.call(h,f,d):g,d==null)break e;f=xr({},f,d);break e;case 2:oc=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[o]:d.push(o))}else h={eventTime:h,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=h,l=f):u=u.next=h,s|=d;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;d=o,o=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(u===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);Ku|=s,t.lanes=s,t.memoizedState=f}}function VE(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(St(191,i));i.call(r)}}}var Xp={},Co=qc(Xp),cp=qc(Xp),up=qc(Xp);function Ru(t){if(t===Xp)throw Error(St(174));return t}function k5(t,e){switch(Zn(up,e),Zn(cp,t),Zn(Co,Xp),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:N_(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=N_(e,t)}ir(Co),Zn(Co,e)}function Vh(){ir(Co),ir(cp),ir(up)}function ZC(t){Ru(up.current);var e=Ru(Co.current),n=N_(e,t.type);e!==n&&(Zn(cp,t),Zn(Co,n))}function C5(t){cp.current===t&&(ir(Co),ir(cp))}var pr=qc(0);function Z1(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var E2=[];function R5(){for(var t=0;t<E2.length;t++)E2[t]._workInProgressVersionPrimary=null;E2.length=0}var s1=Pl.ReactCurrentDispatcher,A2=Pl.ReactCurrentBatchConfig,Yu=0,mr=null,ri=null,mi=null,Q1=!1,R0=!1,fp=0,OO=0;function Di(){throw Error(St(321))}function P5(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Qs(t[n],e[n]))return!1;return!0}function L5(t,e,n,r,i,a){if(Yu=a,mr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,s1.current=t===null||t.memoizedState===null?zO:HO,t=n(r,i),R0){a=0;do{if(R0=!1,fp=0,25<=a)throw Error(St(301));a+=1,mi=ri=null,e.updateQueue=null,s1.current=VO,t=n(r,i)}while(R0)}if(s1.current=ex,e=ri!==null&&ri.next!==null,Yu=0,mi=ri=mr=null,Q1=!1,e)throw Error(St(300));return t}function F5(){var t=fp!==0;return fp=0,t}function _o(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mi===null?mr.memoizedState=mi=t:mi=mi.next=t,mi}function Ss(){if(ri===null){var t=mr.alternate;t=t!==null?t.memoizedState:null}else t=ri.next;var e=mi===null?mr.memoizedState:mi.next;if(e!==null)mi=e,ri=t;else{if(t===null)throw Error(St(310));ri=t,t={memoizedState:ri.memoizedState,baseState:ri.baseState,baseQueue:ri.baseQueue,queue:ri.queue,next:null},mi===null?mr.memoizedState=mi=t:mi=mi.next=t}return mi}function hp(t,e){return typeof e=="function"?e(t):e}function T2(t){var e=Ss(),n=e.queue;if(n===null)throw Error(St(311));n.lastRenderedReducer=t;var r=ri,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var o=s=null,l=null,c=a;do{var u=c.lane;if((Yu&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=f,s=r):l=l.next=f,mr.lanes|=u,Ku|=u}c=c.next}while(c!==null&&c!==a);l===null?s=r:l.next=o,Qs(r,e.memoizedState)||(Ma=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do a=i.lane,mr.lanes|=a,Ku|=a,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function M2(t){var e=Ss(),n=e.queue;if(n===null)throw Error(St(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do a=t(a,s.action),s=s.next;while(s!==i);Qs(a,e.memoizedState)||(Ma=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function QC(){}function e6(t,e){var n=mr,r=Ss(),i=e(),a=!Qs(r.memoizedState,i);if(a&&(r.memoizedState=i,Ma=!0),r=r.queue,D5(r6.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||mi!==null&&mi.memoizedState.tag&1){if(n.flags|=2048,dp(9,n6.bind(null,n,r,i,e),void 0,null),vi===null)throw Error(St(349));Yu&30||t6(n,e,i)}return i}function t6(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=mr.updateQueue,e===null?(e={lastEffect:null,stores:null},mr.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function n6(t,e,n,r){e.value=n,e.getSnapshot=r,i6(e)&&a6(t)}function r6(t,e,n){return n(function(){i6(e)&&a6(t)})}function i6(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Qs(t,n)}catch{return!0}}function a6(t){var e=Nl(t,1);e!==null&&Ys(e,t,1,-1)}function WE(t){var e=_o();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hp,lastRenderedState:t},e.queue=t,t=t.dispatch=jO.bind(null,mr,t),[e.memoizedState,t]}function dp(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=mr.updateQueue,e===null?(e={lastEffect:null,stores:null},mr.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function s6(){return Ss().memoizedState}function o1(t,e,n,r){var i=_o();mr.flags|=t,i.memoizedState=dp(1|e,n,void 0,r===void 0?null:r)}function Yx(t,e,n,r){var i=Ss();r=r===void 0?null:r;var a=void 0;if(ri!==null){var s=ri.memoizedState;if(a=s.destroy,r!==null&&P5(r,s.deps)){i.memoizedState=dp(e,n,a,r);return}}mr.flags|=t,i.memoizedState=dp(1|e,n,a,r)}function GE(t,e){return o1(8390656,8,t,e)}function D5(t,e){return Yx(2048,8,t,e)}function o6(t,e){return Yx(4,2,t,e)}function l6(t,e){return Yx(4,4,t,e)}function c6(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function u6(t,e,n){return n=n!=null?n.concat([t]):null,Yx(4,4,c6.bind(null,e,t),n)}function I5(){}function f6(t,e){var n=Ss();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&P5(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function h6(t,e){var n=Ss();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&P5(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function d6(t,e,n){return Yu&21?(Qs(n,e)||(n=vC(),mr.lanes|=n,Ku|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ma=!0),t.memoizedState=n)}function UO(t,e){var n=jn;jn=n!==0&&4>n?n:4,t(!0);var r=A2.transition;A2.transition={};try{t(!1),e()}finally{jn=n,A2.transition=r}}function p6(){return Ss().memoizedState}function BO(t,e,n){var r=Nc(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},m6(t))g6(e,n);else if(n=KC(t,e,n,r),n!==null){var i=ha();Ys(n,t,r,i),x6(n,e,r)}}function jO(t,e,n){var r=Nc(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(m6(t))g6(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,Qs(o,s)){var l=e.interleaved;l===null?(i.next=i,M5(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=KC(t,e,i,r),n!==null&&(i=ha(),Ys(n,t,r,i),x6(n,e,r))}}function m6(t){var e=t.alternate;return t===mr||e!==null&&e===mr}function g6(t,e){R0=Q1=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function x6(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,d5(t,n)}}var ex={readContext:ws,useCallback:Di,useContext:Di,useEffect:Di,useImperativeHandle:Di,useInsertionEffect:Di,useLayoutEffect:Di,useMemo:Di,useReducer:Di,useRef:Di,useState:Di,useDebugValue:Di,useDeferredValue:Di,useTransition:Di,useMutableSource:Di,useSyncExternalStore:Di,useId:Di,unstable_isNewReconciler:!1},zO={readContext:ws,useCallback:function(t,e){return _o().memoizedState=[t,e===void 0?null:e],t},useContext:ws,useEffect:GE,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,o1(4194308,4,c6.bind(null,e,t),n)},useLayoutEffect:function(t,e){return o1(4194308,4,t,e)},useInsertionEffect:function(t,e){return o1(4,2,t,e)},useMemo:function(t,e){var n=_o();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=_o();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=BO.bind(null,mr,t),[r.memoizedState,t]},useRef:function(t){var e=_o();return t={current:t},e.memoizedState=t},useState:WE,useDebugValue:I5,useDeferredValue:function(t){return _o().memoizedState=t},useTransition:function(){var t=WE(!1),e=t[0];return t=UO.bind(null,t[1]),_o().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=mr,i=_o();if(cr){if(n===void 0)throw Error(St(407));n=n()}else{if(n=e(),vi===null)throw Error(St(349));Yu&30||t6(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,GE(r6.bind(null,r,a,t),[t]),r.flags|=2048,dp(9,n6.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=_o(),e=vi.identifierPrefix;if(cr){var n=pl,r=dl;n=(r&~(1<<32-$s(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=fp++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=OO++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},HO={readContext:ws,useCallback:f6,useContext:ws,useEffect:D5,useImperativeHandle:u6,useInsertionEffect:o6,useLayoutEffect:l6,useMemo:h6,useReducer:T2,useRef:s6,useState:function(){return T2(hp)},useDebugValue:I5,useDeferredValue:function(t){var e=Ss();return d6(e,ri.memoizedState,t)},useTransition:function(){var t=T2(hp)[0],e=Ss().memoizedState;return[t,e]},useMutableSource:QC,useSyncExternalStore:e6,useId:p6,unstable_isNewReconciler:!1},VO={readContext:ws,useCallback:f6,useContext:ws,useEffect:D5,useImperativeHandle:u6,useInsertionEffect:o6,useLayoutEffect:l6,useMemo:h6,useReducer:M2,useRef:s6,useState:function(){return M2(hp)},useDebugValue:I5,useDeferredValue:function(t){var e=Ss();return ri===null?e.memoizedState=t:d6(e,ri.memoizedState,t)},useTransition:function(){var t=M2(hp)[0],e=Ss().memoizedState;return[t,e]},useMutableSource:QC,useSyncExternalStore:e6,useId:p6,unstable_isNewReconciler:!1};function Us(t,e){if(t&&t.defaultProps){e=xr({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Y_(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:xr({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Kx={isMounted:function(t){return(t=t._reactInternals)?uf(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ha(),i=Nc(t),a=bl(r,i);a.payload=e,n!=null&&(a.callback=n),e=Tc(t,a,i),e!==null&&(Ys(e,t,i,r),a1(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ha(),i=Nc(t),a=bl(r,i);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=Tc(t,a,i),e!==null&&(Ys(e,t,i,r),a1(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ha(),r=Nc(t),i=bl(n,r);i.tag=2,e!=null&&(i.callback=e),e=Tc(t,i,r),e!==null&&(Ys(e,t,r,n),a1(e,t,r))}};function qE(t,e,n,r,i,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,s):e.prototype&&e.prototype.isPureReactComponent?!ap(n,r)||!ap(i,a):!0}function v6(t,e,n){var r=!1,i=Ic,a=e.contextType;return typeof a=="object"&&a!==null?a=ws(a):(i=ka(e)?Xu:Qi.current,r=e.contextTypes,a=(r=r!=null)?jh(t,i):Ic),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Kx,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function XE(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Kx.enqueueReplaceState(e,e.state,null)}function K_(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},N5(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=ws(a):(a=ka(e)?Xu:Qi.current,i.context=jh(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(Y_(t,e,a,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Kx.enqueueReplaceState(i,i.state,null),J1(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Wh(t,e){try{var n="",r=e;do n+=xI(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function N2(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function J_(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var WO=typeof WeakMap=="function"?WeakMap:Map;function y6(t,e,n){n=bl(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){nx||(nx=!0,ob=r),J_(t,e)},n}function _6(t,e,n){n=bl(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){J_(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){J_(t,e),typeof r!="function"&&(Mc===null?Mc=new Set([this]):Mc.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function $E(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new WO;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=i7.bind(null,t,e,n),e.then(t,t))}function YE(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function KE(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=bl(-1,1),e.tag=2,Tc(n,e,1))),n.lanes|=1),t)}var GO=Pl.ReactCurrentOwner,Ma=!1;function la(t,e,n,r){e.child=t===null?YC(e,null,n,r):Hh(e,t.child,n,r)}function JE(t,e,n,r,i){n=n.render;var a=e.ref;return Ah(e,i),r=L5(t,e,n,r,a,i),n=F5(),t!==null&&!Ma?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,kl(t,e,i)):(cr&&n&&b5(e),e.flags|=1,la(t,e,r,i),e.child)}function ZE(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!W5(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,b6(t,e,a,r,i)):(t=f1(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:ap,n(s,r)&&t.ref===e.ref)return kl(t,e,i)}return e.flags|=1,t=kc(a,r),t.ref=e.ref,t.return=e,e.child=t}function b6(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(ap(a,r)&&t.ref===e.ref)if(Ma=!1,e.pendingProps=r=a,(t.lanes&i)!==0)t.flags&131072&&(Ma=!0);else return e.lanes=t.lanes,kl(t,e,i)}return Z_(t,e,n,r,i)}function w6(t,e,n){var r=e.pendingProps,i=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Zn(gh,Ya),Ya|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Zn(gh,Ya),Ya|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Zn(gh,Ya),Ya|=r}else a!==null?(r=a.baseLanes|n,e.memoizedState=null):r=n,Zn(gh,Ya),Ya|=r;return la(t,e,i,n),e.child}function S6(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Z_(t,e,n,r,i){var a=ka(n)?Xu:Qi.current;return a=jh(e,a),Ah(e,i),n=L5(t,e,n,r,a,i),r=F5(),t!==null&&!Ma?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,kl(t,e,i)):(cr&&r&&b5(e),e.flags|=1,la(t,e,n,i),e.child)}function QE(t,e,n,r,i){if(ka(n)){var a=!0;q1(e)}else a=!1;if(Ah(e,i),e.stateNode===null)l1(t,e),v6(e,n,r),K_(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,o=e.memoizedProps;s.props=o;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=ws(c):(c=ka(n)?Xu:Qi.current,c=jh(e,c));var u=n.getDerivedStateFromProps,f=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==r||l!==c)&&XE(e,s,r,c),oc=!1;var d=e.memoizedState;s.state=d,J1(e,r,s,i),l=e.memoizedState,o!==r||d!==l||Na.current||oc?(typeof u=="function"&&(Y_(e,n,u,r),l=e.memoizedState),(o=oc||qE(e,n,o,r,d,l,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=o):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,JC(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:Us(e.type,o),s.props=c,f=e.pendingProps,d=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=ws(l):(l=ka(n)?Xu:Qi.current,l=jh(e,l));var h=n.getDerivedStateFromProps;(u=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||d!==l)&&XE(e,s,r,l),oc=!1,d=e.memoizedState,s.state=d,J1(e,r,s,i);var g=e.memoizedState;o!==f||d!==g||Na.current||oc?(typeof h=="function"&&(Y_(e,n,h,r),g=e.memoizedState),(c=oc||qE(e,n,c,r,d,g,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,g,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),s.props=r,s.state=g,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return Q_(t,e,n,r,a,i)}function Q_(t,e,n,r,i,a){S6(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&UE(e,n,!1),kl(t,e,a);r=e.stateNode,GO.current=e;var o=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Hh(e,t.child,null,a),e.child=Hh(e,null,o,a)):la(t,e,o,a),e.memoizedState=r.state,i&&UE(e,n,!0),e.child}function E6(t){var e=t.stateNode;e.pendingContext?OE(t,e.pendingContext,e.pendingContext!==e.context):e.context&&OE(t,e.context,!1),k5(t,e.containerInfo)}function e4(t,e,n,r,i){return zh(),S5(i),e.flags|=256,la(t,e,n,r),e.child}var eb={dehydrated:null,treeContext:null,retryLane:0};function tb(t){return{baseLanes:t,cachePool:null,transitions:null}}function A6(t,e,n){var r=e.pendingProps,i=pr.current,a=!1,s=(e.flags&128)!==0,o;if((o=s)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Zn(pr,i&1),t===null)return X_(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,a?(r=e.mode,a=e.child,s={mode:"hidden",children:s},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=Qx(s,r,0,null),t=Uu(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=tb(n),e.memoizedState=eb,t):O5(e,s));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return qO(t,e,s,r,o,i,n);if(a){a=r.fallback,s=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=kc(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=kc(o,a):(a=Uu(a,s,n,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,s=t.child.memoizedState,s=s===null?tb(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=t.childLanes&~n,e.memoizedState=eb,r}return a=t.child,t=a.sibling,r=kc(a,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function O5(t,e){return e=Qx({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Gm(t,e,n,r){return r!==null&&S5(r),Hh(e,t.child,null,n),t=O5(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function qO(t,e,n,r,i,a,s){if(n)return e.flags&256?(e.flags&=-257,r=N2(Error(St(422))),Gm(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,i=e.mode,r=Qx({mode:"visible",children:r.children},i,0,null),a=Uu(a,i,s,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,e.mode&1&&Hh(e,t.child,null,s),e.child.memoizedState=tb(s),e.memoizedState=eb,a);if(!(e.mode&1))return Gm(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,a=Error(St(419)),r=N2(a,r,void 0),Gm(t,e,s,r)}if(o=(s&t.childLanes)!==0,Ma||o){if(r=vi,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Nl(t,i),Ys(r,t,i,-1))}return V5(),r=N2(Error(St(421))),Gm(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=a7.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,Za=Ac(i.nextSibling),ns=e,cr=!0,js=null,t!==null&&(xs[vs++]=dl,xs[vs++]=pl,xs[vs++]=$u,dl=t.id,pl=t.overflow,$u=e),e=O5(e,r.children),e.flags|=4096,e)}function t4(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),$_(t.return,e,n)}function k2(t,e,n,r,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function T6(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;if(la(t,e,r.children,n),r=pr.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&t4(t,n,e);else if(t.tag===19)t4(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Zn(pr,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Z1(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),k2(e,!1,i,n,a);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Z1(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}k2(e,!0,n,null,a);break;case"together":k2(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function l1(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function kl(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ku|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(St(153));if(e.child!==null){for(t=e.child,n=kc(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=kc(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function XO(t,e,n){switch(e.tag){case 3:E6(e),zh();break;case 5:ZC(e);break;case 1:ka(e.type)&&q1(e);break;case 4:k5(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Zn(Y1,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Zn(pr,pr.current&1),e.flags|=128,null):n&e.child.childLanes?A6(t,e,n):(Zn(pr,pr.current&1),t=kl(t,e,n),t!==null?t.sibling:null);Zn(pr,pr.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return T6(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Zn(pr,pr.current),r)break;return null;case 22:case 23:return e.lanes=0,w6(t,e,n)}return kl(t,e,n)}var M6,nb,N6,k6;M6=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};nb=function(){};N6=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ru(Co.current);var a=null;switch(n){case"input":i=E_(t,i),r=E_(t,r),a=[];break;case"select":i=xr({},i,{value:void 0}),r=xr({},r,{value:void 0}),a=[];break;case"textarea":i=M_(t,i),r=M_(t,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=W1)}k_(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(s in o)o.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Z0.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var l=r[c];if(o=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(a||(a=[]),a.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Z0.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&nr("scroll",t),a||o===l||(a=[])):(a=a||[]).push(c,l))}n&&(a=a||[]).push("style",n);var c=a;(e.updateQueue=c)&&(e.flags|=4)}};k6=function(t,e,n,r){n!==r&&(e.flags|=4)};function Yd(t,e){if(!cr)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ii(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function $O(t,e,n){var r=e.pendingProps;switch(w5(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ii(e),null;case 1:return ka(e.type)&&G1(),Ii(e),null;case 3:return r=e.stateNode,Vh(),ir(Na),ir(Qi),R5(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Vm(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,js!==null&&(ub(js),js=null))),nb(t,e),Ii(e),null;case 5:C5(e);var i=Ru(up.current);if(n=e.type,t!==null&&e.stateNode!=null)N6(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(St(166));return Ii(e),null}if(t=Ru(Co.current),Vm(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[So]=e,r[lp]=a,t=(e.mode&1)!==0,n){case"dialog":nr("cancel",r),nr("close",r);break;case"iframe":case"object":case"embed":nr("load",r);break;case"video":case"audio":for(i=0;i<p0.length;i++)nr(p0[i],r);break;case"source":nr("error",r);break;case"img":case"image":case"link":nr("error",r),nr("load",r);break;case"details":nr("toggle",r);break;case"input":uE(r,a),nr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},nr("invalid",r);break;case"textarea":hE(r,a),nr("invalid",r)}k_(n,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?r.textContent!==o&&(a.suppressHydrationWarning!==!0&&Hm(r.textContent,o,t),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&Hm(r.textContent,o,t),i=["children",""+o]):Z0.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&nr("scroll",r)}switch(n){case"input":Fm(r),fE(r,a,!0);break;case"textarea":Fm(r),dE(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=W1)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=rC(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[So]=e,t[lp]=r,M6(t,e,!1,!1),e.stateNode=t;e:{switch(s=C_(n,r),n){case"dialog":nr("cancel",t),nr("close",t),i=r;break;case"iframe":case"object":case"embed":nr("load",t),i=r;break;case"video":case"audio":for(i=0;i<p0.length;i++)nr(p0[i],t);i=r;break;case"source":nr("error",t),i=r;break;case"img":case"image":case"link":nr("error",t),nr("load",t),i=r;break;case"details":nr("toggle",t),i=r;break;case"input":uE(t,r),i=E_(t,r),nr("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=xr({},r,{value:void 0}),nr("invalid",t);break;case"textarea":hE(t,r),i=M_(t,r),nr("invalid",t);break;default:i=r}k_(n,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?sC(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&iC(t,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Q0(t,l):typeof l=="number"&&Q0(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Z0.hasOwnProperty(a)?l!=null&&a==="onScroll"&&nr("scroll",t):l!=null&&o5(t,a,l,s))}switch(n){case"input":Fm(t),fE(t,r,!1);break;case"textarea":Fm(t),dE(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Dc(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?bh(t,!!r.multiple,a,!1):r.defaultValue!=null&&bh(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=W1)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ii(e),null;case 6:if(t&&e.stateNode!=null)k6(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(St(166));if(n=Ru(up.current),Ru(Co.current),Vm(e)){if(r=e.stateNode,n=e.memoizedProps,r[So]=e,(a=r.nodeValue!==n)&&(t=ns,t!==null))switch(t.tag){case 3:Hm(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Hm(r.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[So]=e,e.stateNode=r}return Ii(e),null;case 13:if(ir(pr),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(cr&&Za!==null&&e.mode&1&&!(e.flags&128))XC(),zh(),e.flags|=98560,a=!1;else if(a=Vm(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(St(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(St(317));a[So]=e}else zh(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ii(e),a=!1}else js!==null&&(ub(js),js=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||pr.current&1?ii===0&&(ii=3):V5())),e.updateQueue!==null&&(e.flags|=4),Ii(e),null);case 4:return Vh(),nb(t,e),t===null&&sp(e.stateNode.containerInfo),Ii(e),null;case 10:return T5(e.type._context),Ii(e),null;case 17:return ka(e.type)&&G1(),Ii(e),null;case 19:if(ir(pr),a=e.memoizedState,a===null)return Ii(e),null;if(r=(e.flags&128)!==0,s=a.rendering,s===null)if(r)Yd(a,!1);else{if(ii!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Z1(t),s!==null){for(e.flags|=128,Yd(a,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)a=n,t=r,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,t=s.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Zn(pr,pr.current&1|2),e.child}t=t.sibling}a.tail!==null&&Ur()>Gh&&(e.flags|=128,r=!0,Yd(a,!1),e.lanes=4194304)}else{if(!r)if(t=Z1(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Yd(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!cr)return Ii(e),null}else 2*Ur()-a.renderingStartTime>Gh&&n!==1073741824&&(e.flags|=128,r=!0,Yd(a,!1),e.lanes=4194304);a.isBackwards?(s.sibling=e.child,e.child=s):(n=a.last,n!==null?n.sibling=s:e.child=s,a.last=s)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Ur(),e.sibling=null,n=pr.current,Zn(pr,r?n&1|2:n&1),e):(Ii(e),null);case 22:case 23:return H5(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ya&1073741824&&(Ii(e),e.subtreeFlags&6&&(e.flags|=8192)):Ii(e),null;case 24:return null;case 25:return null}throw Error(St(156,e.tag))}function YO(t,e){switch(w5(e),e.tag){case 1:return ka(e.type)&&G1(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Vh(),ir(Na),ir(Qi),R5(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return C5(e),null;case 13:if(ir(pr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(St(340));zh()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ir(pr),null;case 4:return Vh(),null;case 10:return T5(e.type._context),null;case 22:case 23:return H5(),null;case 24:return null;default:return null}}var qm=!1,Xi=!1,KO=typeof WeakSet=="function"?WeakSet:Set,Rt=null;function mh(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Sr(t,e,r)}else n.current=null}function rb(t,e,n){try{n()}catch(r){Sr(t,e,r)}}var n4=!1;function JO(t,e){if(j_=z1,t=FC(),_5(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,o=-1,l=-1,c=0,u=0,f=t,d=null;t:for(;;){for(var h;f!==n||i!==0&&f.nodeType!==3||(o=s+i),f!==a||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(h=f.firstChild)!==null;)d=f,f=h;for(;;){if(f===t)break t;if(d===n&&++c===i&&(o=s),d===a&&++u===r&&(l=s),(h=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=h}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(z_={focusedElem:t,selectionRange:n},z1=!1,Rt=e;Rt!==null;)if(e=Rt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Rt=t;else for(;Rt!==null;){e=Rt;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var x=g.memoizedProps,v=g.memoizedState,m=e.stateNode,b=m.getSnapshotBeforeUpdate(e.elementType===e.type?x:Us(e.type,x),v);m.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(St(163))}}catch(S){Sr(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,Rt=t;break}Rt=e.return}return g=n4,n4=!1,g}function P0(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&rb(e,n,a)}i=i.next}while(i!==r)}}function Jx(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ib(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function C6(t){var e=t.alternate;e!==null&&(t.alternate=null,C6(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[So],delete e[lp],delete e[W_],delete e[LO],delete e[FO])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function R6(t){return t.tag===5||t.tag===3||t.tag===4}function r4(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||R6(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ab(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=W1));else if(r!==4&&(t=t.child,t!==null))for(ab(t,e,n),t=t.sibling;t!==null;)ab(t,e,n),t=t.sibling}function sb(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(sb(t,e,n),t=t.sibling;t!==null;)sb(t,e,n),t=t.sibling}var Ei=null,Bs=!1;function Kl(t,e,n){for(n=n.child;n!==null;)P6(t,e,n),n=n.sibling}function P6(t,e,n){if(ko&&typeof ko.onCommitFiberUnmount=="function")try{ko.onCommitFiberUnmount(Vx,n)}catch{}switch(n.tag){case 5:Xi||mh(n,e);case 6:var r=Ei,i=Bs;Ei=null,Kl(t,e,n),Ei=r,Bs=i,Ei!==null&&(Bs?(t=Ei,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ei.removeChild(n.stateNode));break;case 18:Ei!==null&&(Bs?(t=Ei,n=n.stateNode,t.nodeType===8?w2(t.parentNode,n):t.nodeType===1&&w2(t,n),rp(t)):w2(Ei,n.stateNode));break;case 4:r=Ei,i=Bs,Ei=n.stateNode.containerInfo,Bs=!0,Kl(t,e,n),Ei=r,Bs=i;break;case 0:case 11:case 14:case 15:if(!Xi&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&rb(n,e,s),i=i.next}while(i!==r)}Kl(t,e,n);break;case 1:if(!Xi&&(mh(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Sr(n,e,o)}Kl(t,e,n);break;case 21:Kl(t,e,n);break;case 22:n.mode&1?(Xi=(r=Xi)||n.memoizedState!==null,Kl(t,e,n),Xi=r):Kl(t,e,n);break;default:Kl(t,e,n)}}function i4(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new KO),e.forEach(function(r){var i=s7.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Rs(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 5:Ei=o.stateNode,Bs=!1;break e;case 3:Ei=o.stateNode.containerInfo,Bs=!0;break e;case 4:Ei=o.stateNode.containerInfo,Bs=!0;break e}o=o.return}if(Ei===null)throw Error(St(160));P6(a,s,i),Ei=null,Bs=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Sr(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)L6(e,t),e=e.sibling}function L6(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Rs(e,t),ho(t),r&4){try{P0(3,t,t.return),Jx(3,t)}catch(x){Sr(t,t.return,x)}try{P0(5,t,t.return)}catch(x){Sr(t,t.return,x)}}break;case 1:Rs(e,t),ho(t),r&512&&n!==null&&mh(n,n.return);break;case 5:if(Rs(e,t),ho(t),r&512&&n!==null&&mh(n,n.return),t.flags&32){var i=t.stateNode;try{Q0(i,"")}catch(x){Sr(t,t.return,x)}}if(r&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,s=n!==null?n.memoizedProps:a,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&tC(i,a),C_(o,s);var c=C_(o,a);for(s=0;s<l.length;s+=2){var u=l[s],f=l[s+1];u==="style"?sC(i,f):u==="dangerouslySetInnerHTML"?iC(i,f):u==="children"?Q0(i,f):o5(i,u,f,c)}switch(o){case"input":A_(i,a);break;case"textarea":nC(i,a);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var h=a.value;h!=null?bh(i,!!a.multiple,h,!1):d!==!!a.multiple&&(a.defaultValue!=null?bh(i,!!a.multiple,a.defaultValue,!0):bh(i,!!a.multiple,a.multiple?[]:"",!1))}i[lp]=a}catch(x){Sr(t,t.return,x)}}break;case 6:if(Rs(e,t),ho(t),r&4){if(t.stateNode===null)throw Error(St(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(x){Sr(t,t.return,x)}}break;case 3:if(Rs(e,t),ho(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{rp(e.containerInfo)}catch(x){Sr(t,t.return,x)}break;case 4:Rs(e,t),ho(t);break;case 13:Rs(e,t),ho(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(j5=Ur())),r&4&&i4(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Xi=(c=Xi)||u,Rs(e,t),Xi=c):Rs(e,t),ho(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(Rt=t,u=t.child;u!==null;){for(f=Rt=u;Rt!==null;){switch(d=Rt,h=d.child,d.tag){case 0:case 11:case 14:case 15:P0(4,d,d.return);break;case 1:mh(d,d.return);var g=d.stateNode;if(typeof g.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(x){Sr(r,n,x)}}break;case 5:mh(d,d.return);break;case 22:if(d.memoizedState!==null){s4(f);continue}}h!==null?(h.return=d,Rt=h):s4(f)}u=u.sibling}e:for(u=null,f=t;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,c?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=aC("display",s))}catch(x){Sr(t,t.return,x)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(x){Sr(t,t.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Rs(e,t),ho(t),r&4&&i4(t);break;case 21:break;default:Rs(e,t),ho(t)}}function ho(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(R6(n)){var r=n;break e}n=n.return}throw Error(St(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Q0(i,""),r.flags&=-33);var a=r4(t);sb(t,a,i);break;case 3:case 4:var s=r.stateNode.containerInfo,o=r4(t);ab(t,o,s);break;default:throw Error(St(161))}}catch(l){Sr(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function ZO(t,e,n){Rt=t,F6(t)}function F6(t,e,n){for(var r=(t.mode&1)!==0;Rt!==null;){var i=Rt,a=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||qm;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Xi;o=qm;var c=Xi;if(qm=s,(Xi=l)&&!c)for(Rt=i;Rt!==null;)s=Rt,l=s.child,s.tag===22&&s.memoizedState!==null?o4(i):l!==null?(l.return=s,Rt=l):o4(i);for(;a!==null;)Rt=a,F6(a),a=a.sibling;Rt=i,qm=o,Xi=c}a4(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Rt=a):a4(t)}}function a4(t){for(;Rt!==null;){var e=Rt;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Xi||Jx(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Xi)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Us(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&VE(e,a,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}VE(e,s,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&rp(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(St(163))}Xi||e.flags&512&&ib(e)}catch(d){Sr(e,e.return,d)}}if(e===t){Rt=null;break}if(n=e.sibling,n!==null){n.return=e.return,Rt=n;break}Rt=e.return}}function s4(t){for(;Rt!==null;){var e=Rt;if(e===t){Rt=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Rt=n;break}Rt=e.return}}function o4(t){for(;Rt!==null;){var e=Rt;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Jx(4,e)}catch(l){Sr(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Sr(e,i,l)}}var a=e.return;try{ib(e)}catch(l){Sr(e,a,l)}break;case 5:var s=e.return;try{ib(e)}catch(l){Sr(e,s,l)}}}catch(l){Sr(e,e.return,l)}if(e===t){Rt=null;break}var o=e.sibling;if(o!==null){o.return=e.return,Rt=o;break}Rt=e.return}}var QO=Math.ceil,tx=Pl.ReactCurrentDispatcher,U5=Pl.ReactCurrentOwner,bs=Pl.ReactCurrentBatchConfig,Mn=0,vi=null,Yr=null,Mi=0,Ya=0,gh=qc(0),ii=0,pp=null,Ku=0,Zx=0,B5=0,L0=null,Aa=null,j5=0,Gh=1/0,ll=null,nx=!1,ob=null,Mc=null,Xm=!1,dc=null,rx=0,F0=0,lb=null,c1=-1,u1=0;function ha(){return Mn&6?Ur():c1!==-1?c1:c1=Ur()}function Nc(t){return t.mode&1?Mn&2&&Mi!==0?Mi&-Mi:IO.transition!==null?(u1===0&&(u1=vC()),u1):(t=jn,t!==0||(t=window.event,t=t===void 0?16:AC(t.type)),t):1}function Ys(t,e,n,r){if(50<F0)throw F0=0,lb=null,Error(St(185));Wp(t,n,r),(!(Mn&2)||t!==vi)&&(t===vi&&(!(Mn&2)&&(Zx|=n),ii===4&&cc(t,Mi)),Ca(t,r),n===1&&Mn===0&&!(e.mode&1)&&(Gh=Ur()+500,$x&&Xc()))}function Ca(t,e){var n=t.callbackNode;II(t,e);var r=j1(t,t===vi?Mi:0);if(r===0)n!==null&&gE(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&gE(n),e===1)t.tag===0?DO(l4.bind(null,t)):WC(l4.bind(null,t)),RO(function(){!(Mn&6)&&Xc()}),n=null;else{switch(yC(r)){case 1:n=h5;break;case 4:n=gC;break;case 16:n=B1;break;case 536870912:n=xC;break;default:n=B1}n=H6(n,D6.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function D6(t,e){if(c1=-1,u1=0,Mn&6)throw Error(St(327));var n=t.callbackNode;if(Th()&&t.callbackNode!==n)return null;var r=j1(t,t===vi?Mi:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ix(t,r);else{e=r;var i=Mn;Mn|=2;var a=O6();(vi!==t||Mi!==e)&&(ll=null,Gh=Ur()+500,Ou(t,e));do try{n7();break}catch(o){I6(t,o)}while(!0);A5(),tx.current=a,Mn=i,Yr!==null?e=0:(vi=null,Mi=0,e=ii)}if(e!==0){if(e===2&&(i=D_(t),i!==0&&(r=i,e=cb(t,i))),e===1)throw n=pp,Ou(t,0),cc(t,r),Ca(t,Ur()),n;if(e===6)cc(t,r);else{if(i=t.current.alternate,!(r&30)&&!e7(i)&&(e=ix(t,r),e===2&&(a=D_(t),a!==0&&(r=a,e=cb(t,a))),e===1))throw n=pp,Ou(t,0),cc(t,r),Ca(t,Ur()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(St(345));case 2:yu(t,Aa,ll);break;case 3:if(cc(t,r),(r&130023424)===r&&(e=j5+500-Ur(),10<e)){if(j1(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ha(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=V_(yu.bind(null,t,Aa,ll),e);break}yu(t,Aa,ll);break;case 4:if(cc(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-$s(r);a=1<<s,s=e[s],s>i&&(i=s),r&=~a}if(r=i,r=Ur()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*QO(r/1960))-r,10<r){t.timeoutHandle=V_(yu.bind(null,t,Aa,ll),r);break}yu(t,Aa,ll);break;case 5:yu(t,Aa,ll);break;default:throw Error(St(329))}}}return Ca(t,Ur()),t.callbackNode===n?D6.bind(null,t):null}function cb(t,e){var n=L0;return t.current.memoizedState.isDehydrated&&(Ou(t,e).flags|=256),t=ix(t,e),t!==2&&(e=Aa,Aa=n,e!==null&&ub(e)),t}function ub(t){Aa===null?Aa=t:Aa.push.apply(Aa,t)}function e7(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Qs(a(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function cc(t,e){for(e&=~B5,e&=~Zx,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-$s(e),r=1<<n;t[n]=-1,e&=~r}}function l4(t){if(Mn&6)throw Error(St(327));Th();var e=j1(t,0);if(!(e&1))return Ca(t,Ur()),null;var n=ix(t,e);if(t.tag!==0&&n===2){var r=D_(t);r!==0&&(e=r,n=cb(t,r))}if(n===1)throw n=pp,Ou(t,0),cc(t,e),Ca(t,Ur()),n;if(n===6)throw Error(St(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,yu(t,Aa,ll),Ca(t,Ur()),null}function z5(t,e){var n=Mn;Mn|=1;try{return t(e)}finally{Mn=n,Mn===0&&(Gh=Ur()+500,$x&&Xc())}}function Ju(t){dc!==null&&dc.tag===0&&!(Mn&6)&&Th();var e=Mn;Mn|=1;var n=bs.transition,r=jn;try{if(bs.transition=null,jn=1,t)return t()}finally{jn=r,bs.transition=n,Mn=e,!(Mn&6)&&Xc()}}function H5(){Ya=gh.current,ir(gh)}function Ou(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,CO(n)),Yr!==null)for(n=Yr.return;n!==null;){var r=n;switch(w5(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&G1();break;case 3:Vh(),ir(Na),ir(Qi),R5();break;case 5:C5(r);break;case 4:Vh();break;case 13:ir(pr);break;case 19:ir(pr);break;case 10:T5(r.type._context);break;case 22:case 23:H5()}n=n.return}if(vi=t,Yr=t=kc(t.current,null),Mi=Ya=e,ii=0,pp=null,B5=Zx=Ku=0,Aa=L0=null,Cu!==null){for(e=0;e<Cu.length;e++)if(n=Cu[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var s=a.next;a.next=i,r.next=s}n.pending=r}Cu=null}return t}function I6(t,e){do{var n=Yr;try{if(A5(),s1.current=ex,Q1){for(var r=mr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Q1=!1}if(Yu=0,mi=ri=mr=null,R0=!1,fp=0,U5.current=null,n===null||n.return===null){ii=1,pp=e,Yr=null;break}e:{var a=t,s=n.return,o=n,l=e;if(e=Mi,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=YE(s);if(h!==null){h.flags&=-257,KE(h,s,o,a,e),h.mode&1&&$E(a,c,e),e=h,l=c;var g=e.updateQueue;if(g===null){var x=new Set;x.add(l),e.updateQueue=x}else g.add(l);break e}else{if(!(e&1)){$E(a,c,e),V5();break e}l=Error(St(426))}}else if(cr&&o.mode&1){var v=YE(s);if(v!==null){!(v.flags&65536)&&(v.flags|=256),KE(v,s,o,a,e),S5(Wh(l,o));break e}}a=l=Wh(l,o),ii!==4&&(ii=2),L0===null?L0=[a]:L0.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var m=y6(a,l,e);HE(a,m);break e;case 1:o=l;var b=a.type,_=a.stateNode;if(!(a.flags&128)&&(typeof b.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Mc===null||!Mc.has(_)))){a.flags|=65536,e&=-e,a.lanes|=e;var S=_6(a,o,e);HE(a,S);break e}}a=a.return}while(a!==null)}B6(n)}catch(N){e=N,Yr===n&&n!==null&&(Yr=n=n.return);continue}break}while(!0)}function O6(){var t=tx.current;return tx.current=ex,t===null?ex:t}function V5(){(ii===0||ii===3||ii===2)&&(ii=4),vi===null||!(Ku&268435455)&&!(Zx&268435455)||cc(vi,Mi)}function ix(t,e){var n=Mn;Mn|=2;var r=O6();(vi!==t||Mi!==e)&&(ll=null,Ou(t,e));do try{t7();break}catch(i){I6(t,i)}while(!0);if(A5(),Mn=n,tx.current=r,Yr!==null)throw Error(St(261));return vi=null,Mi=0,ii}function t7(){for(;Yr!==null;)U6(Yr)}function n7(){for(;Yr!==null&&!MI();)U6(Yr)}function U6(t){var e=z6(t.alternate,t,Ya);t.memoizedProps=t.pendingProps,e===null?B6(t):Yr=e,U5.current=null}function B6(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=YO(n,e),n!==null){n.flags&=32767,Yr=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ii=6,Yr=null;return}}else if(n=$O(n,e,Ya),n!==null){Yr=n;return}if(e=e.sibling,e!==null){Yr=e;return}Yr=e=t}while(e!==null);ii===0&&(ii=5)}function yu(t,e,n){var r=jn,i=bs.transition;try{bs.transition=null,jn=1,r7(t,e,n,r)}finally{bs.transition=i,jn=r}return null}function r7(t,e,n,r){do Th();while(dc!==null);if(Mn&6)throw Error(St(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(St(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(OI(t,a),t===vi&&(Yr=vi=null,Mi=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Xm||(Xm=!0,H6(B1,function(){return Th(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=bs.transition,bs.transition=null;var s=jn;jn=1;var o=Mn;Mn|=4,U5.current=null,JO(t,n),L6(n,t),SO(z_),z1=!!j_,z_=j_=null,t.current=n,ZO(n),NI(),Mn=o,jn=s,bs.transition=a}else t.current=n;if(Xm&&(Xm=!1,dc=t,rx=i),a=t.pendingLanes,a===0&&(Mc=null),RI(n.stateNode),Ca(t,Ur()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(nx)throw nx=!1,t=ob,ob=null,t;return rx&1&&t.tag!==0&&Th(),a=t.pendingLanes,a&1?t===lb?F0++:(F0=0,lb=t):F0=0,Xc(),null}function Th(){if(dc!==null){var t=yC(rx),e=bs.transition,n=jn;try{if(bs.transition=null,jn=16>t?16:t,dc===null)var r=!1;else{if(t=dc,dc=null,rx=0,Mn&6)throw Error(St(331));var i=Mn;for(Mn|=4,Rt=t.current;Rt!==null;){var a=Rt,s=a.child;if(Rt.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(Rt=c;Rt!==null;){var u=Rt;switch(u.tag){case 0:case 11:case 15:P0(8,u,a)}var f=u.child;if(f!==null)f.return=u,Rt=f;else for(;Rt!==null;){u=Rt;var d=u.sibling,h=u.return;if(C6(u),u===c){Rt=null;break}if(d!==null){d.return=h,Rt=d;break}Rt=h}}}var g=a.alternate;if(g!==null){var x=g.child;if(x!==null){g.child=null;do{var v=x.sibling;x.sibling=null,x=v}while(x!==null)}}Rt=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,Rt=s;else e:for(;Rt!==null;){if(a=Rt,a.flags&2048)switch(a.tag){case 0:case 11:case 15:P0(9,a,a.return)}var m=a.sibling;if(m!==null){m.return=a.return,Rt=m;break e}Rt=a.return}}var b=t.current;for(Rt=b;Rt!==null;){s=Rt;var _=s.child;if(s.subtreeFlags&2064&&_!==null)_.return=s,Rt=_;else e:for(s=b;Rt!==null;){if(o=Rt,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Jx(9,o)}}catch(N){Sr(o,o.return,N)}if(o===s){Rt=null;break e}var S=o.sibling;if(S!==null){S.return=o.return,Rt=S;break e}Rt=o.return}}if(Mn=i,Xc(),ko&&typeof ko.onPostCommitFiberRoot=="function")try{ko.onPostCommitFiberRoot(Vx,t)}catch{}r=!0}return r}finally{jn=n,bs.transition=e}}return!1}function c4(t,e,n){e=Wh(n,e),e=y6(t,e,1),t=Tc(t,e,1),e=ha(),t!==null&&(Wp(t,1,e),Ca(t,e))}function Sr(t,e,n){if(t.tag===3)c4(t,t,n);else for(;e!==null;){if(e.tag===3){c4(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Mc===null||!Mc.has(r))){t=Wh(n,t),t=_6(e,t,1),e=Tc(e,t,1),t=ha(),e!==null&&(Wp(e,1,t),Ca(e,t));break}}e=e.return}}function i7(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ha(),t.pingedLanes|=t.suspendedLanes&n,vi===t&&(Mi&n)===n&&(ii===4||ii===3&&(Mi&130023424)===Mi&&500>Ur()-j5?Ou(t,0):B5|=n),Ca(t,e)}function j6(t,e){e===0&&(t.mode&1?(e=Om,Om<<=1,!(Om&130023424)&&(Om=4194304)):e=1);var n=ha();t=Nl(t,e),t!==null&&(Wp(t,e,n),Ca(t,n))}function a7(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),j6(t,n)}function s7(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(St(314))}r!==null&&r.delete(e),j6(t,n)}var z6;z6=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Na.current)Ma=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ma=!1,XO(t,e,n);Ma=!!(t.flags&131072)}else Ma=!1,cr&&e.flags&1048576&&GC(e,$1,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;l1(t,e),t=e.pendingProps;var i=jh(e,Qi.current);Ah(e,n),i=L5(null,e,r,t,i,n);var a=F5();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ka(r)?(a=!0,q1(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,N5(e),i.updater=Kx,e.stateNode=i,i._reactInternals=e,K_(e,r,t,n),e=Q_(null,e,r,!0,a,n)):(e.tag=0,cr&&a&&b5(e),la(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(l1(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=l7(r),t=Us(r,t),i){case 0:e=Z_(null,e,r,t,n);break e;case 1:e=QE(null,e,r,t,n);break e;case 11:e=JE(null,e,r,t,n);break e;case 14:e=ZE(null,e,r,Us(r.type,t),n);break e}throw Error(St(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Us(r,i),Z_(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Us(r,i),QE(t,e,r,i,n);case 3:e:{if(E6(e),t===null)throw Error(St(387));r=e.pendingProps,a=e.memoizedState,i=a.element,JC(t,e),J1(e,r,null,n);var s=e.memoizedState;if(r=s.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=Wh(Error(St(423)),e),e=e4(t,e,r,n,i);break e}else if(r!==i){i=Wh(Error(St(424)),e),e=e4(t,e,r,n,i);break e}else for(Za=Ac(e.stateNode.containerInfo.firstChild),ns=e,cr=!0,js=null,n=YC(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(zh(),r===i){e=kl(t,e,n);break e}la(t,e,r,n)}e=e.child}return e;case 5:return ZC(e),t===null&&X_(e),r=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,s=i.children,H_(r,i)?s=null:a!==null&&H_(r,a)&&(e.flags|=32),S6(t,e),la(t,e,s,n),e.child;case 6:return t===null&&X_(e),null;case 13:return A6(t,e,n);case 4:return k5(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Hh(e,null,r,n):la(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Us(r,i),JE(t,e,r,i,n);case 7:return la(t,e,e.pendingProps,n),e.child;case 8:return la(t,e,e.pendingProps.children,n),e.child;case 12:return la(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,s=i.value,Zn(Y1,r._currentValue),r._currentValue=s,a!==null)if(Qs(a.value,s)){if(a.children===i.children&&!Na.current){e=kl(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=bl(-1,n&-n),l.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),$_(a.return,n,e),o.lanes|=n;break}l=l.next}}else if(a.tag===10)s=a.type===e.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(St(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),$_(s,n,e),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}la(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ah(e,n),i=ws(i),r=r(i),e.flags|=1,la(t,e,r,n),e.child;case 14:return r=e.type,i=Us(r,e.pendingProps),i=Us(r.type,i),ZE(t,e,r,i,n);case 15:return b6(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Us(r,i),l1(t,e),e.tag=1,ka(r)?(t=!0,q1(e)):t=!1,Ah(e,n),v6(e,r,i),K_(e,r,i,n),Q_(null,e,r,!0,t,n);case 19:return T6(t,e,n);case 22:return w6(t,e,n)}throw Error(St(156,e.tag))};function H6(t,e){return mC(t,e)}function o7(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _s(t,e,n,r){return new o7(t,e,n,r)}function W5(t){return t=t.prototype,!(!t||!t.isReactComponent)}function l7(t){if(typeof t=="function")return W5(t)?1:0;if(t!=null){if(t=t.$$typeof,t===c5)return 11;if(t===u5)return 14}return 2}function kc(t,e){var n=t.alternate;return n===null?(n=_s(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function f1(t,e,n,r,i,a){var s=2;if(r=t,typeof t=="function")W5(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case sh:return Uu(n.children,i,a,e);case l5:s=8,i|=8;break;case __:return t=_s(12,n,e,i|2),t.elementType=__,t.lanes=a,t;case b_:return t=_s(13,n,e,i),t.elementType=b_,t.lanes=a,t;case w_:return t=_s(19,n,e,i),t.elementType=w_,t.lanes=a,t;case Zk:return Qx(n,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Kk:s=10;break e;case Jk:s=9;break e;case c5:s=11;break e;case u5:s=14;break e;case sc:s=16,r=null;break e}throw Error(St(130,t==null?t:typeof t,""))}return e=_s(s,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function Uu(t,e,n,r){return t=_s(7,t,r,e),t.lanes=n,t}function Qx(t,e,n,r){return t=_s(22,t,r,e),t.elementType=Zk,t.lanes=n,t.stateNode={isHidden:!1},t}function C2(t,e,n){return t=_s(6,t,null,e),t.lanes=n,t}function R2(t,e,n){return e=_s(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function c7(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=f2(0),this.expirationTimes=f2(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=f2(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function G5(t,e,n,r,i,a,s,o,l){return t=new c7(t,e,n,o,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=_s(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},N5(a),t}function u7(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ah,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function V6(t){if(!t)return Ic;t=t._reactInternals;e:{if(uf(t)!==t||t.tag!==1)throw Error(St(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ka(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(St(171))}if(t.tag===1){var n=t.type;if(ka(n))return VC(t,n,e)}return e}function W6(t,e,n,r,i,a,s,o,l){return t=G5(n,r,!0,t,i,a,s,o,l),t.context=V6(null),n=t.current,r=ha(),i=Nc(n),a=bl(r,i),a.callback=e??null,Tc(n,a,i),t.current.lanes=i,Wp(t,i,r),Ca(t,r),t}function ev(t,e,n,r){var i=e.current,a=ha(),s=Nc(i);return n=V6(n),e.context===null?e.context=n:e.pendingContext=n,e=bl(a,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Tc(i,e,s),t!==null&&(Ys(t,i,s,a),a1(t,i,s)),s}function ax(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function u4(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function q5(t,e){u4(t,e),(t=t.alternate)&&u4(t,e)}function f7(){return null}var G6=typeof reportError=="function"?reportError:function(t){console.error(t)};function X5(t){this._internalRoot=t}tv.prototype.render=X5.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(St(409));ev(t,e,null,null)};tv.prototype.unmount=X5.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ju(function(){ev(null,t,null,null)}),e[Ml]=null}};function tv(t){this._internalRoot=t}tv.prototype.unstable_scheduleHydration=function(t){if(t){var e=wC();t={blockedOn:null,target:t,priority:e};for(var n=0;n<lc.length&&e!==0&&e<lc[n].priority;n++);lc.splice(n,0,t),n===0&&EC(t)}};function $5(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function nv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function f4(){}function h7(t,e,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var c=ax(s);a.call(c)}}var s=W6(e,r,t,0,null,!1,!1,"",f4);return t._reactRootContainer=s,t[Ml]=s.current,sp(t.nodeType===8?t.parentNode:t),Ju(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var c=ax(l);o.call(c)}}var l=G5(t,0,!1,null,null,!1,!1,"",f4);return t._reactRootContainer=l,t[Ml]=l.current,sp(t.nodeType===8?t.parentNode:t),Ju(function(){ev(e,l,n,r)}),l}function rv(t,e,n,r,i){var a=n._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=ax(s);o.call(l)}}ev(e,s,t,i)}else s=h7(n,e,t,i,r);return ax(s)}_C=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=d0(e.pendingLanes);n!==0&&(d5(e,n|1),Ca(e,Ur()),!(Mn&6)&&(Gh=Ur()+500,Xc()))}break;case 13:Ju(function(){var r=Nl(t,1);if(r!==null){var i=ha();Ys(r,t,1,i)}}),q5(t,1)}};p5=function(t){if(t.tag===13){var e=Nl(t,134217728);if(e!==null){var n=ha();Ys(e,t,134217728,n)}q5(t,134217728)}};bC=function(t){if(t.tag===13){var e=Nc(t),n=Nl(t,e);if(n!==null){var r=ha();Ys(n,t,e,r)}q5(t,e)}};wC=function(){return jn};SC=function(t,e){var n=jn;try{return jn=t,e()}finally{jn=n}};P_=function(t,e,n){switch(e){case"input":if(A_(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Xx(r);if(!i)throw Error(St(90));eC(r),A_(r,i)}}}break;case"textarea":nC(t,n);break;case"select":e=n.value,e!=null&&bh(t,!!n.multiple,e,!1)}};cC=z5;uC=Ju;var d7={usingClientEntryPoint:!1,Events:[qp,uh,Xx,oC,lC,z5]},Kd={findFiberByHostInstance:ku,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},p7={bundleType:Kd.bundleType,version:Kd.version,rendererPackageName:Kd.rendererPackageName,rendererConfig:Kd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Pl.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=dC(t),t===null?null:t.stateNode},findFiberByHostInstance:Kd.findFiberByHostInstance||f7,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $m=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$m.isDisabled&&$m.supportsFiber)try{Vx=$m.inject(p7),ko=$m}catch{}}as.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=d7;as.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$5(e))throw Error(St(200));return u7(t,e,null,n)};as.createRoot=function(t,e){if(!$5(t))throw Error(St(299));var n=!1,r="",i=G6;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=G5(t,1,!1,null,null,n,!1,r,i),t[Ml]=e.current,sp(t.nodeType===8?t.parentNode:t),new X5(e)};as.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(St(188)):(t=Object.keys(t).join(","),Error(St(268,t)));return t=dC(e),t=t===null?null:t.stateNode,t};as.flushSync=function(t){return Ju(t)};as.hydrate=function(t,e,n){if(!nv(e))throw Error(St(200));return rv(null,t,e,!0,n)};as.hydrateRoot=function(t,e,n){if(!$5(t))throw Error(St(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",s=G6;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=W6(e,null,t,1,n??null,i,!1,a,s),t[Ml]=e.current,sp(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new tv(e)};as.render=function(t,e,n){if(!nv(e))throw Error(St(200));return rv(null,t,e,!1,n)};as.unmountComponentAtNode=function(t){if(!nv(t))throw Error(St(40));return t._reactRootContainer?(Ju(function(){rv(null,null,t,!1,function(){t._reactRootContainer=null,t[Ml]=null})}),!0):!1};as.unstable_batchedUpdates=z5;as.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!nv(n))throw Error(St(200));if(t==null||t._reactInternals===void 0)throw Error(St(38));return rv(t,e,n,!1,r)};as.version="18.3.1-next-f1338f8080-20240426";function q6(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(q6)}catch(t){console.error(t)}}q6(),qk.exports=as;var m7=qk.exports,h4=m7;v_.createRoot=h4.createRoot,v_.hydrateRoot=h4.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mp(){return mp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mp.apply(this,arguments)}var pc;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(pc||(pc={}));const d4="popstate";function g7(t){t===void 0&&(t={});function e(r,i){let{pathname:a,search:s,hash:o}=r.location;return fb("",{pathname:a,search:s,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:sx(i)}return v7(e,n,null,t)}function gr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function X6(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function x7(){return Math.random().toString(36).substr(2,8)}function p4(t,e){return{usr:t.state,key:t.key,idx:e}}function fb(t,e,n,r){return n===void 0&&(n=null),mp({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?sd(e):e,{state:n,key:e&&e.key||r||x7()})}function sx(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function sd(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function v7(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,o=pc.Pop,l=null,c=u();c==null&&(c=0,s.replaceState(mp({},s.state,{idx:c}),""));function u(){return(s.state||{idx:null}).idx}function f(){o=pc.Pop;let v=u(),m=v==null?null:v-c;c=v,l&&l({action:o,location:x.location,delta:m})}function d(v,m){o=pc.Push;let b=fb(x.location,v,m);c=u()+1;let _=p4(b,c),S=x.createHref(b);try{s.pushState(_,"",S)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(S)}a&&l&&l({action:o,location:x.location,delta:1})}function h(v,m){o=pc.Replace;let b=fb(x.location,v,m);c=u();let _=p4(b,c),S=x.createHref(b);s.replaceState(_,"",S),a&&l&&l({action:o,location:x.location,delta:0})}function g(v){let m=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof v=="string"?v:sx(v);return b=b.replace(/ $/,"%20"),gr(m,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,m)}let x={get action(){return o},get location(){return t(i,s)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(d4,f),l=v,()=>{i.removeEventListener(d4,f),l=null}},createHref(v){return e(i,v)},createURL:g,encodeLocation(v){let m=g(v);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:d,replace:h,go(v){return s.go(v)}};return x}var m4;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(m4||(m4={}));function y7(t,e,n){return n===void 0&&(n="/"),_7(t,e,n)}function _7(t,e,n,r){let i=typeof e=="string"?sd(e):e,a=qh(i.pathname||"/",n);if(a==null)return null;let s=$6(t);b7(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let c=P7(a);o=C7(s[l],c)}return o}function $6(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,s,o)=>{let l={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};l.relativePath.startsWith("/")&&(gr(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Cc([r,l.relativePath]),u=n.concat(l);a.children&&a.children.length>0&&(gr(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),$6(a.children,e,u,c)),!(a.path==null&&!a.index)&&e.push({path:c,score:N7(c,a.index),routesMeta:u})};return t.forEach((a,s)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))i(a,s);else for(let l of Y6(a.path))i(a,s,l)}),e}function Y6(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=Y6(r.join("/")),o=[];return o.push(...s.map(l=>l===""?a:[a,l].join("/"))),i&&o.push(...s),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function b7(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:k7(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const w7=/^:[\w-]+$/,S7=3,E7=2,A7=1,T7=10,M7=-2,g4=t=>t==="*";function N7(t,e){let n=t.split("/"),r=n.length;return n.some(g4)&&(r+=M7),e&&(r+=E7),n.filter(i=>!g4(i)).reduce((i,a)=>i+(w7.test(a)?S7:a===""?A7:T7),r)}function k7(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function C7(t,e,n){let{routesMeta:r}=t,i={},a="/",s=[];for(let o=0;o<r.length;++o){let l=r[o],c=o===r.length-1,u=a==="/"?e:e.slice(a.length)||"/",f=hb({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),d=l.route;if(!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:Cc([a,f.pathname]),pathnameBase:I7(Cc([a,f.pathnameBase])),route:d}),f.pathnameBase!=="/"&&(a=Cc([a,f.pathnameBase]))}return s}function hb(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=R7(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((c,u,f)=>{let{paramName:d,isOptional:h}=u;if(d==="*"){let x=o[f]||"";s=a.slice(0,a.length-x.length).replace(/(.)\/+$/,"$1")}const g=o[f];return h&&!g?c[d]=void 0:c[d]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:s,pattern:t}}function R7(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),X6(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function P7(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return X6(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function qh(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function L7(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?sd(t):t;return{pathname:n?n.startsWith("/")?n:F7(n,e):e,search:O7(r),hash:U7(i)}}function F7(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function P2(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function D7(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Y5(t,e){let n=D7(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function K5(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=sd(t):(i=mp({},t),gr(!i.pathname||!i.pathname.includes("?"),P2("?","pathname","search",i)),gr(!i.pathname||!i.pathname.includes("#"),P2("#","pathname","hash",i)),gr(!i.search||!i.search.includes("#"),P2("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=n;else{let f=e.length-1;if(!r&&s.startsWith("..")){let d=s.split("/");for(;d[0]==="..";)d.shift(),f-=1;i.pathname=d.join("/")}o=f>=0?e[f]:"/"}let l=L7(i,o),c=s&&s!=="/"&&s.endsWith("/"),u=(a||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Cc=t=>t.join("/").replace(/\/\/+/g,"/"),I7=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),O7=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,U7=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function B7(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const K6=["post","put","patch","delete"];new Set(K6);const j7=["get",...K6];new Set(j7);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gp(){return gp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gp.apply(this,arguments)}const iv=De.createContext(null),J6=De.createContext(null),Ll=De.createContext(null),av=De.createContext(null),Fl=De.createContext({outlet:null,matches:[],isDataRoute:!1}),Z6=De.createContext(null);function z7(t,e){let{relative:n}=e===void 0?{}:e;od()||gr(!1);let{basename:r,navigator:i}=De.useContext(Ll),{hash:a,pathname:s,search:o}=sv(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:Cc([r,s])),i.createHref({pathname:l,search:o,hash:a})}function od(){return De.useContext(av)!=null}function Io(){return od()||gr(!1),De.useContext(av).location}function Q6(t){De.useContext(Ll).static||De.useLayoutEffect(t)}function Oo(){let{isDataRoute:t}=De.useContext(Fl);return t?nU():H7()}function H7(){od()||gr(!1);let t=De.useContext(iv),{basename:e,future:n,navigator:r}=De.useContext(Ll),{matches:i}=De.useContext(Fl),{pathname:a}=Io(),s=JSON.stringify(Y5(i,n.v7_relativeSplatPath)),o=De.useRef(!1);return Q6(()=>{o.current=!0}),De.useCallback(function(c,u){if(u===void 0&&(u={}),!o.current)return;if(typeof c=="number"){r.go(c);return}let f=K5(c,JSON.parse(s),a,u.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Cc([e,f.pathname])),(u.replace?r.replace:r.push)(f,u.state,u)},[e,r,s,a,t])}const V7=De.createContext(null);function W7(t){let e=De.useContext(Fl).outlet;return e&&De.createElement(V7.Provider,{value:t},e)}function sv(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=De.useContext(Ll),{matches:i}=De.useContext(Fl),{pathname:a}=Io(),s=JSON.stringify(Y5(i,r.v7_relativeSplatPath));return De.useMemo(()=>K5(t,JSON.parse(s),a,n==="path"),[t,s,a,n])}function G7(t,e){return q7(t,e)}function q7(t,e,n,r){od()||gr(!1);let{navigator:i}=De.useContext(Ll),{matches:a}=De.useContext(Fl),s=a[a.length-1],o=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let c=Io(),u;if(e){var f;let v=typeof e=="string"?sd(e):e;l==="/"||(f=v.pathname)!=null&&f.startsWith(l)||gr(!1),u=v}else u=c;let d=u.pathname||"/",h=d;if(l!=="/"){let v=l.replace(/^\//,"").split("/");h="/"+d.replace(/^\//,"").split("/").slice(v.length).join("/")}let g=y7(t,{pathname:h}),x=J7(g&&g.map(v=>Object.assign({},v,{params:Object.assign({},o,v.params),pathname:Cc([l,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:Cc([l,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),a,n,r);return e&&x?De.createElement(av.Provider,{value:{location:gp({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:pc.Pop}},x):x}function X7(){let t=tU(),e=B7(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return De.createElement(De.Fragment,null,De.createElement("h2",null,"Unexpected Application Error!"),De.createElement("h3",{style:{fontStyle:"italic"}},e),n?De.createElement("pre",{style:i},n):null,null)}const $7=De.createElement(X7,null);class Y7 extends De.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?De.createElement(Fl.Provider,{value:this.props.routeContext},De.createElement(Z6.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function K7(t){let{routeContext:e,match:n,children:r}=t,i=De.useContext(iv);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),De.createElement(Fl.Provider,{value:e},r)}function J7(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,o=(i=n)==null?void 0:i.errors;if(o!=null){let u=s.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);u>=0||gr(!1),s=s.slice(0,Math.min(s.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<s.length;u++){let f=s[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=u),f.route.id){let{loaderData:d,errors:h}=n,g=f.route.loader&&d[f.route.id]===void 0&&(!h||h[f.route.id]===void 0);if(f.route.lazy||g){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((u,f,d)=>{let h,g=!1,x=null,v=null;n&&(h=o&&f.route.id?o[f.route.id]:void 0,x=f.route.errorElement||$7,l&&(c<0&&d===0?(rU("route-fallback"),g=!0,v=null):c===d&&(g=!0,v=f.route.hydrateFallbackElement||null)));let m=e.concat(s.slice(0,d+1)),b=()=>{let _;return h?_=x:g?_=v:f.route.Component?_=De.createElement(f.route.Component,null):f.route.element?_=f.route.element:_=u,De.createElement(K7,{match:f,routeContext:{outlet:u,matches:m,isDataRoute:n!=null},children:_})};return n&&(f.route.ErrorBoundary||f.route.errorElement||d===0)?De.createElement(Y7,{location:n.location,revalidation:n.revalidation,component:x,error:h,children:b(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):b()},null)}var eR=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(eR||{}),tR=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(tR||{});function Z7(t){let e=De.useContext(iv);return e||gr(!1),e}function Q7(t){let e=De.useContext(J6);return e||gr(!1),e}function eU(t){let e=De.useContext(Fl);return e||gr(!1),e}function nR(t){let e=eU(),n=e.matches[e.matches.length-1];return n.route.id||gr(!1),n.route.id}function tU(){var t;let e=De.useContext(Z6),n=Q7(),r=nR();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function nU(){let{router:t}=Z7(eR.UseNavigateStable),e=nR(tR.UseNavigateStable),n=De.useRef(!1);return Q6(()=>{n.current=!0}),De.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,gp({fromRouteId:e},a)))},[t,e])}const x4={};function rU(t,e,n){x4[t]||(x4[t]=!0)}function iU(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Ao(t){let{to:e,replace:n,state:r,relative:i}=t;od()||gr(!1);let{future:a,static:s}=De.useContext(Ll),{matches:o}=De.useContext(Fl),{pathname:l}=Io(),c=Oo(),u=K5(e,Y5(o,a.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(u);return De.useEffect(()=>c(JSON.parse(f),{replace:n,state:r,relative:i}),[c,f,i,n,r]),null}function aU(t){return W7(t.context)}function Ir(t){gr(!1)}function sU(t){let{basename:e="/",children:n=null,location:r,navigationType:i=pc.Pop,navigator:a,static:s=!1,future:o}=t;od()&&gr(!1);let l=e.replace(/^\/*/,"/"),c=De.useMemo(()=>({basename:l,navigator:a,static:s,future:gp({v7_relativeSplatPath:!1},o)}),[l,o,a,s]);typeof r=="string"&&(r=sd(r));let{pathname:u="/",search:f="",hash:d="",state:h=null,key:g="default"}=r,x=De.useMemo(()=>{let v=qh(u,l);return v==null?null:{location:{pathname:v,search:f,hash:d,state:h,key:g},navigationType:i}},[l,u,f,d,h,g,i]);return x==null?null:De.createElement(Ll.Provider,{value:c},De.createElement(av.Provider,{children:n,value:x}))}function oU(t){let{children:e,location:n}=t;return G7(db(e),n)}new Promise(()=>{});function db(t,e){e===void 0&&(e=[]);let n=[];return De.Children.forEach(t,(r,i)=>{if(!De.isValidElement(r))return;let a=[...e,i];if(r.type===De.Fragment){n.push.apply(n,db(r.props.children,a));return}r.type!==Ir&&gr(!1),!r.props.index||!r.props.children||gr(!1);let s={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=db(r.props.children,a)),n.push(s)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ox(){return ox=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ox.apply(this,arguments)}function rR(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function lU(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function cU(t,e){return t.button===0&&(!e||e==="_self")&&!lU(t)}const uU=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],fU=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],hU="6";try{window.__reactRouterVersion=hU}catch{}const dU=De.createContext({isTransitioning:!1}),pU="startTransition",v4=iI[pU];function mU(t){let{basename:e,children:n,future:r,window:i}=t,a=De.useRef();a.current==null&&(a.current=g7({window:i,v5Compat:!0}));let s=a.current,[o,l]=De.useState({action:s.action,location:s.location}),{v7_startTransition:c}=r||{},u=De.useCallback(f=>{c&&v4?v4(()=>l(f)):l(f)},[l,c]);return De.useLayoutEffect(()=>s.listen(u),[s,u]),De.useEffect(()=>iU(r),[r]),De.createElement(sU,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:s,future:r})}const gU=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",xU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ti=De.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:a,replace:s,state:o,target:l,to:c,preventScrollReset:u,viewTransition:f}=e,d=rR(e,uU),{basename:h}=De.useContext(Ll),g,x=!1;if(typeof c=="string"&&xU.test(c)&&(g=c,gU))try{let _=new URL(window.location.href),S=c.startsWith("//")?new URL(_.protocol+c):new URL(c),N=qh(S.pathname,h);S.origin===_.origin&&N!=null?c=N+S.search+S.hash:x=!0}catch{}let v=z7(c,{relative:i}),m=_U(c,{replace:s,state:o,target:l,preventScrollReset:u,relative:i,viewTransition:f});function b(_){r&&r(_),_.defaultPrevented||m(_)}return De.createElement("a",ox({},d,{href:g||v,onClick:x||a?r:b,ref:n,target:l}))}),vU=De.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:a="",end:s=!1,style:o,to:l,viewTransition:c,children:u}=e,f=rR(e,fU),d=sv(l,{relative:f.relative}),h=Io(),g=De.useContext(J6),{navigator:x,basename:v}=De.useContext(Ll),m=g!=null&&bU(d)&&c===!0,b=x.encodeLocation?x.encodeLocation(d).pathname:d.pathname,_=h.pathname,S=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;i||(_=_.toLowerCase(),S=S?S.toLowerCase():null,b=b.toLowerCase()),S&&v&&(S=qh(S,v)||S);const N=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let P=_===b||!s&&_.startsWith(b)&&_.charAt(N)==="/",T=S!=null&&(S===b||!s&&S.startsWith(b)&&S.charAt(b.length)==="/"),L={isActive:P,isPending:T,isTransitioning:m},E=P?r:void 0,R;typeof a=="function"?R=a(L):R=[a,P?"active":null,T?"pending":null,m?"transitioning":null].filter(Boolean).join(" ");let A=typeof o=="function"?o(L):o;return De.createElement(Ti,ox({},f,{"aria-current":E,className:R,ref:n,style:A,to:l,viewTransition:c}),typeof u=="function"?u(L):u)});var pb;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(pb||(pb={}));var y4;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(y4||(y4={}));function yU(t){let e=De.useContext(iv);return e||gr(!1),e}function _U(t,e){let{target:n,replace:r,state:i,preventScrollReset:a,relative:s,viewTransition:o}=e===void 0?{}:e,l=Oo(),c=Io(),u=sv(t,{relative:s});return De.useCallback(f=>{if(cU(f,n)){f.preventDefault();let d=r!==void 0?r:sx(c)===sx(u);l(t,{replace:d,state:i,preventScrollReset:a,relative:s,viewTransition:o})}},[c,l,u,r,i,n,t,a,s,o])}function bU(t,e){e===void 0&&(e={});let n=De.useContext(dU);n==null&&gr(!1);let{basename:r}=yU(pb.useViewTransitionState),i=sv(t,{relative:e.relative});if(!n.isTransitioning)return!1;let a=qh(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=qh(n.nextLocation.pathname,r)||n.nextLocation.pathname;return hb(i.pathname,s)!=null||hb(i.pathname,a)!=null}const iR=De.createContext();function $c(){const t=De.useContext(iR);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t}function wU({children:t}){const[e,n]=De.useState(null),[r,i]=De.useState(!0);De.useEffect(()=>{const c=localStorage.getItem("token"),u=localStorage.getItem("user"),f="http://localhost:5000";if(c&&u)try{const d=JSON.parse(u);fetch(`${f}/api/users/${d.email}`,{headers:{Authorization:`Bearer ${c}`}}).then(h=>{if(!h.ok)throw new Error("User not found");return h.json()}).then(h=>{const g={...d,...h};n(g),localStorage.setItem("user",JSON.stringify(g)),i(!1)}).catch(h=>{console.error("Failed to fetch user profile:",h),o(),i(!1)})}catch(d){console.error("Error parsing user data:",d),o(),i(!1)}else i(!1)},[]);const a=async c=>{try{console.log("AuthContext: Starting login process");const u=new Promise((h,g)=>{setTimeout(()=>g(new Error("Request timeout")),1e4)}),f=await Promise.race([fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}),u]);if(console.log("AuthContext: Received response, status:",f.status),!f.ok){let h="Login failed";try{h=(await f.json()).message||h}catch{h=f.statusText||h}return console.log("AuthContext: Login failed with message:",h),{success:!1,error:h}}const d=await f.json();return console.log("AuthContext: Response data:",d),console.log("AuthContext: Login successful"),localStorage.setItem("token",d.token),localStorage.setItem("user",JSON.stringify(d.user)),n(d.user),{success:!0}}catch(u){return console.error("AuthContext: Login error:",u),{success:!1,error:u.message||"Network error. Please try again."}}},s=async c=>{try{const u=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});if(!u.ok){let d="Registration failed";try{d=(await u.json()).message||d}catch{d=u.statusText||d}return{success:!1,error:d}}const f=await u.json();return localStorage.setItem("token",f.token),localStorage.setItem("user",JSON.stringify(f.user)),n(f.user),{success:!0}}catch(u){return console.error("Registration error:",u),{success:!1,error:u.message||"Network error. Please try again."}}},o=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),n(null)},l={user:e,login:a,register:s,logout:o,loading:r};return p.jsx(iR.Provider,{value:l,children:t})}const L2=({allowedRoles:t})=>{const{user:e,loading:n}=$c();return console.log("ProtectedRoute - user:",e,"loading:",n,"allowedRoles:",t),n?(console.log("ProtectedRoute - Still loading"),p.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Loading..."})):e?t&&!t.includes(e.role)?(console.log("ProtectedRoute - User role not allowed, redirecting to unauthorized"),p.jsx(Ao,{to:"/unauthorized",replace:!0})):(console.log("ProtectedRoute - Access granted"),p.jsx(aU,{})):(console.log("ProtectedRoute - No user, redirecting to login"),p.jsx(Ao,{to:"/login",replace:!0}))};function SU(){return p.jsxs("footer",{className:"border-t border-zinc-200/60 py-10 text-center text-sm text-zinc-500 dark:border-zinc-800/60",children:[" ",new Date().getFullYear()," Excel Analytics By Kritika Gupta"]})}/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EU=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),aR=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var AU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TU=De.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:s,...o},l)=>De.createElement("svg",{ref:l,...AU,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:aR("lucide",i),...o},[...s.map(([c,u])=>De.createElement(c,u)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=(t,e)=>{const n=De.forwardRef(({className:r,...i},a)=>De.createElement(TU,{ref:a,iconNode:e,className:aR(`lucide-${EU(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mb=Yt("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J5=Yt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MU=Yt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NU=Yt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hl=Yt("ChartColumnIncreasing",[["path",{d:"M13 17V9",key:"1fwyjl"}],["path",{d:"M18 17V5",key:"sfb6ij"}],["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xp=Yt("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gb=Yt("ChartLine",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z5=Yt("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xb=Yt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kU=Yt("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CU=Yt("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lx=Yt("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vb=Yt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yb=Yt("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vp=Yt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bu=Yt("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sR=Yt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q5=Yt("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RU=Yt("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PU=Yt("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oR=Yt("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LU=Yt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eS=Yt("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _b=Yt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tS=Yt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FU=Yt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nS=Yt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DU=Yt("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lR=Yt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IU=Yt("Presentation",[["path",{d:"M2 3h20",key:"91anmk"}],["path",{d:"M21 3v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V3",key:"2k9sn8"}],["path",{d:"m7 21 5-5 5 5",key:"bip4we"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OU=Yt("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cR=Yt("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rS=Yt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _4=Yt("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oc=Yt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UU=Yt("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BU=Yt("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uR=Yt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fR=Yt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qa=Yt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jU=Yt("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hR=Yt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zU=Yt("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $p=Yt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wl=Yt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b4=Yt("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ld=Yt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F2=Yt("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),ov=(t={})=>{const[e,n]=De.useState(null),[r,i]=De.useState(!1);return De.useEffect(()=>{if(!e)return;const a=new IntersectionObserver(([s])=>{s.isIntersecting&&(i(!0),a.disconnect())},{threshold:.1,...t});return a.observe(e),()=>a.disconnect()},[e,t]),[n,r]},kn=({children:t,delay:e=0})=>{const[n,r]=ov();return p.jsx("div",{ref:n,className:`transition-all duration-1000 ease-out ${r?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,style:{transitionDelay:`${e}s`},children:t})},D2=({children:t,direction:e="left",delay:n=0})=>{const[r,i]=ov(),a=e==="left"?i?"translate-x-0 opacity-100":"-translate-x-8 opacity-0":i?"translate-x-0 opacity-100":"translate-x-8 opacity-0";return p.jsx("div",{ref:r,className:`transition-all duration-1000 ease-out ${a}`,style:{transitionDelay:`${n}s`},children:t})};function w4({as:t="button",className:e="",children:n,...r}){return p.jsx(t,{className:"inline-flex items-center gap-2 rounded-2xl px-5 py-2.5 text-sm font-semibold shadow-lg transition-all duration-300 transform hover:-translate-y-1 hover:scale-105 bg-gradient-to-r from-indigo-600 to-violet-600 text-white hover:from-indigo-500 hover:to-violet-500 focus:outline-none focus:ring-2 focus:ring-indigo-400 "+e,...r,children:n})}function S4({as:t="button",className:e="",children:n,...r}){return p.jsx(t,{className:"inline-flex items-center gap-2 rounded-2xl px-4 py-2 text-sm font-semibold transition-all duration-300 border border-zinc-300/60 dark:border-zinc-700/60 transform hover:-translate-y-1 hover:scale-105 bg-white/70 dark:bg-zinc-900/40 backdrop-blur hover:bg-white dark:hover:bg-zinc-900 hover:shadow-lg "+e,...r,children:n})}function Ff({icon:t,title:e,desc:n}){const[r,i]=ov();return p.jsxs("div",{ref:r,className:`group rounded-3xl border border-zinc-200/60 bg-white p-6 shadow-sm transition-all duration-500 hover:shadow-2xl dark:border-zinc-800/60 dark:bg-zinc-900 hover:scale-[1.03] hover:-translate-y-2 cursor-pointer ${i?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,children:[p.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-500/5 via-purple-500/5 to-pink-500/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500 rounded-3xl"}),p.jsxs("div",{className:"relative z-10",children:[p.jsx("div",{className:"mb-3 inline-flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br from-blue-500 to-purple-500 text-white group-hover:scale-110 transition-transform duration-300 shadow-lg",children:t}),p.jsx("h3",{className:"text-xl font-bold group-hover:text-indigo-600 transition-colors duration-300",children:e}),p.jsx("p",{className:"mt-2 text-zinc-600 dark:text-zinc-300",children:n})]})]})}function Df({icon:t,title:e,desc:n}){const[r,i]=ov();return p.jsxs("div",{ref:r,className:`group flex items-start p-5 bg-gradient-to-br from-gray-50 to-white dark:from-zinc-800 dark:to-zinc-900 rounded-2xl border border-zinc-200/60 dark:border-zinc-700/60 shadow-sm hover:shadow-xl transition-all duration-500 hover:-translate-y-2 ${i?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,children:[p.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-500/5 via-purple-500/5 to-pink-500/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500 rounded-2xl"}),p.jsx("div",{className:"mr-4 mt-1 text-indigo-600 dark:text-indigo-400 group-hover:scale-110 transition-transform duration-300 relative z-10",children:t}),p.jsxs("div",{className:"relative z-10",children:[p.jsx("h3",{className:"text-lg font-bold group-hover:text-indigo-600 transition-colors duration-300",children:e}),p.jsx("p",{className:"mt-2 text-zinc-600 dark:text-zinc-400",children:n})]})]})}function HU(){const[t,e]=De.useState({x:0,y:0});return De.useEffect(()=>{const n=r=>{e({x:r.clientX,y:r.clientY})};return window.addEventListener("mousemove",n),document.body.style.overflowX="hidden",()=>{window.removeEventListener("mousemove",n),document.body.style.overflowX=""}},[]),p.jsxs("main",{className:"overflow-x-hidden",children:[p.jsxs("div",{className:"fixed inset-0 overflow-hidden -z-10",children:[p.jsx("div",{className:"absolute bottom-0 left-0 w-64 md:w-80 lg:w-[400px] animate-pulse",children:p.jsxs("div",{className:"relative w-full h-full",children:[p.jsx("div",{className:"absolute inset-0 bg-purple-500 rounded-full blur-3xl opacity-20 animate-pulse"}),p.jsx("img",{src:"/planet1.png",className:"relative z-10 w-full transition-transform duration-1000 hover:scale-105",alt:"Decorative planet",style:{transform:"translateX(-30%)",animation:"float 6s ease-in-out infinite"}})]})}),p.jsx("div",{className:"absolute top-0 right-0 w-48 md:w-72 lg:w-[300px] animate-pulse",children:p.jsxs("div",{className:"relative w-full h-full",children:[p.jsx("div",{className:"absolute inset-0 bg-blue-400 rounded-full blur-3xl opacity-20 animate-pulse"}),p.jsx("img",{src:"/planet2.png",className:"relative z-10 w-full transition-transform duration-1000 hover:scale-105",alt:"Decorative planet",style:{transform:"translateX(30%)",animation:"float 8s ease-in-out infinite reverse"}})]})}),[...Array(15)].map((n,r)=>p.jsx("div",{className:"absolute rounded-full bg-white animate-pulse transition-opacity duration-1000 hover:opacity-100",style:{top:`${Math.random()*100}%`,left:`${Math.random()*100}%`,width:`${Math.random()*4+1}px`,height:`${Math.random()*4+1}px`,animationDuration:`${Math.random()*3+2}s`,animationDelay:`${Math.random()*2}s`,opacity:Math.random()*.8+.2,boxShadow:"0 0 10px rgba(255, 255, 255, 0.5)"}},r)),p.jsx("div",{className:"absolute w-96 h-96 rounded-full bg-gradient-to-r from-indigo-500/10 to-purple-500/10 blur-3xl transition-all duration-1000 pointer-events-none",style:{left:t.x-192,top:t.y-192}})]}),p.jsxs("nav",{className:"flex justify-between items-center p-6 max-w-7xl mx-auto w-full relative z-50",children:[p.jsxs(Ti,{to:"/",className:"text-white font-bold text-3xl relative group",children:[p.jsx("span",{className:"bg-gradient-to-r from-blue-400 via-purple-500 to-pink-400 bg-clip-text text-transparent transition-all duration-300 hover:scale-105",children:"Excel Analytics"}),p.jsx("span",{className:"absolute bottom-0 left-0 w-0 h-0.5 bg-gradient-to-r from-blue-400 to-pink-400 transition-all duration-500 group-hover:w-full"}),p.jsx("div",{className:"absolute -inset-2 bg-gradient-to-r from-blue-400/20 to-pink-400/20 rounded-lg blur opacity-0 group-hover:opacity-100 transition-opacity duration-300 -z-10"})]}),p.jsxs("ul",{className:"hidden md:flex items-center gap-6 text-white",children:[["home","about","features","services"].map(n=>p.jsx("li",{children:p.jsxs("a",{href:`#${n.toLowerCase()}`,className:"relative py-1 px-3 group transition-all duration-300 hover:text-indigo-300",children:[p.jsx("span",{className:"relative z-10 capitalize",children:n.charAt(0).toUpperCase()+n.slice(1)}),p.jsx("span",{className:"absolute inset-0 bg-gray-800/80 rounded-lg scale-90 opacity-0 group-hover:opacity-100 group-hover:scale-100 transition-all duration-300 z-0 backdrop-blur-sm"}),p.jsx("span",{className:"absolute inset-0 rounded-lg bg-blue-500 blur-md opacity-0 group-hover:opacity-20 transition-opacity duration-300"})]})},n)),p.jsx("li",{children:p.jsxs(Ti,{to:"/login",className:"relative inline-block px-4 py-2 font-medium overflow-hidden rounded-lg group",children:[p.jsx("span",{className:"relative z-10 text-white",children:"Sign In"}),p.jsx("span",{className:"absolute inset-0 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg"}),p.jsx("span",{className:"absolute inset-0 bg-gradient-to-r from-purple-500 to-pink-500 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),p.jsx("span",{className:"absolute top-0 left-1/2 w-0 h-full bg-white/20 transition-all duration-700 group-hover:w-3/4 group-hover:left-0 transform -skew-x-12"})]})})]})]}),p.jsxs("section",{id:"home",className:"relative min-h-screen flex items-center pt-16 pb-32",children:[p.jsx("div",{className:"pointer-events-none absolute inset-0 bg-[radial-gradient(ellipse_at_top_left,rgba(99,102,241,0.15),transparent_50%),radial-gradient(ellipse_at_bottom_right,rgba(168,85,247,0.15),transparent_50%)]"}),p.jsx("div",{className:"container mx-auto px-4 relative z-10 w-full",children:p.jsxs("div",{className:"max-w-4xl mx-auto text-center w-full",children:[p.jsx(kn,{delay:.2,children:p.jsxs("div",{className:"mb-5 inline-flex items-center gap-2 rounded-full border border-indigo-200 bg-indigo-50 px-4 py-2 text-xs font-semibold text-indigo-700 dark:bg-indigo-500/10 dark:border-indigo-500/30 dark:text-indigo-200 hover:scale-105 transition-transform duration-300 cursor-pointer",children:[p.jsx(gb,{className:"h-4 w-4"})," Excel  Insight, Instantly"]})}),p.jsx(kn,{delay:.4,children:p.jsxs("h1",{className:"text-4xl md:text-6xl font-extrabold tracking-tight mb-6 hover:scale-105 transition-transform duration-500",children:["Transform ",p.jsx("span",{className:"bg-gradient-to-r from-indigo-600 to-violet-600 bg-clip-text text-transparent",children:"Excel"})," into ",p.jsx("br",{className:"hidden sm:block"}),p.jsx("span",{className:"bg-gradient-to-r from-pink-500 to-purple-600 bg-clip-text text-transparent",children:"Beautiful Presentations"})]})}),p.jsx(kn,{delay:.6,children:p.jsx("p",{className:"text-xl text-zinc-600 dark:text-zinc-300 max-w-2xl mx-auto mb-10 leading-relaxed",children:"Turn complex spreadsheets into stunning visual stories with AI-powered analytics and presentation tools."})}),p.jsx(kn,{delay:.8,children:p.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[p.jsxs(w4,{as:Ti,to:"/upload",className:"px-8 py-4 text-lg",children:["Start Creating ",p.jsx(J5,{className:"h-5 w-5"})]}),p.jsx(S4,{as:Ti,to:"/register",className:"px-8 py-4 text-lg bg-white/90 dark:bg-zinc-800/70",children:"Get Started Free"})]})})]})})]}),p.jsxs("section",{id:"about","aria-labelledby":"about-heading",className:"relative py-24 bg-gradient-to-b from-gray-900 to-black overflow-hidden",children:[p.jsxs("div",{className:"absolute top-0 left-0 w-full h-full opacity-30",children:[p.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-purple-500 rounded-full mix-blend-soft-light filter blur-xl opacity-20 animate-pulse-slow"}),p.jsx("div",{className:"absolute top-10 right-10 w-96 h-96 bg-blue-500 rounded-full mix-blend-soft-light filter blur-xl opacity-20 animate-pulse-slow delay-1000"}),p.jsx("div",{className:"absolute bottom-10 left-20 w-80 h-80 bg-indigo-500 rounded-full mix-blend-soft-light filter blur-xl opacity-20 animate-pulse-slow delay-2000"})]}),p.jsx("div",{className:"container mx-auto px-6 lg:px-8 relative z-10",children:p.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[p.jsxs(kn,{delay:.2,children:[p.jsxs("div",{className:"inline-flex items-center rounded-full px-4 py-1.5 text-sm font-medium bg-indigo-900/30 text-indigo-300 mb-6 border border-indigo-700/50",children:[p.jsx(BU,{className:"w-4 h-4 mr-2"}),"Data Storytelling Revolutionized"]}),p.jsx("h2",{id:"about-heading",className:"text-4xl md:text-5xl font-extrabold tracking-tight mb-6 bg-gradient-to-r from-blue-400 via-purple-500 to-pink-400 bg-clip-text text-transparent",children:"Transforming Data into Stories"})]}),p.jsx(kn,{delay:.4,children:p.jsxs("p",{className:"text-lg md:text-xl leading-relaxed text-gray-300 mb-12 max-w-3xl mx-auto",children:["Excel Analytics helps you transform raw spreadsheets into engaging visual presentations with"," ",p.jsx("span",{className:"font-semibold text-purple-400",children:"AI-powered insights"}),". Our mission is to make data storytelling simple, powerful, and collaborative."]})}),p.jsx(kn,{delay:.6,children:p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12",children:[p.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-gray-700/60 hover:shadow-indigo-500/10 transition-all duration-500 hover:-translate-y-1",children:[p.jsx("div",{className:"text-3xl font-bold text-blue-400 mb-2",children:"87%"}),p.jsx("div",{className:"text-gray-400",children:"Faster insights generation"})]}),p.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-gray-700/60 hover:shadow-purple-500/10 transition-all duration-500 hover:-translate-y-1",children:[p.jsx("div",{className:"text-3xl font-bold text-purple-400 mb-2",children:"5x"}),p.jsx("div",{className:"text-gray-400",children:"More engaging presentations"})]}),p.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-gray-700/60 hover:shadow-pink-500/10 transition-all duration-500 hover:-translate-y-1",children:[p.jsx("div",{className:"text-3xl font-bold text-pink-400 mb-2",children:"10k+"}),p.jsx("div",{className:"text-gray-400",children:"Data stories created"})]})]})})]})})]}),p.jsx("section",{id:"features",className:"py-20 bg-gradient-to-b from-white to-gray-100 dark:from-zinc-900 dark:to-zinc-950 relative overflow-hidden",children:p.jsxs("div",{className:"container mx-auto px-4",children:[p.jsxs("div",{className:"max-w-3xl mx-auto text-center mb-16",children:[p.jsx(kn,{delay:.2,children:p.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6 hover:scale-105 transition-transform duration-300",children:"Powerful Features"})}),p.jsx(kn,{delay:.4,children:p.jsx("p",{className:"text-xl text-zinc-600 dark:text-zinc-300",children:"Everything you need to transform raw data into compelling stories"})})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[p.jsx(kn,{delay:.3,children:p.jsx(Df,{icon:p.jsx(Bu,{className:"h-6 w-6"}),title:"Excel Import",desc:"Upload any Excel file and automatically detect data patterns and structures."})}),p.jsx(kn,{delay:.4,children:p.jsx(Df,{icon:p.jsx(hl,{className:"h-6 w-6"}),title:"Smart Visualizations",desc:"AI-powered chart suggestions that best represent your data insights."})}),p.jsx(kn,{delay:.5,children:p.jsx(Df,{icon:p.jsx(_b,{className:"h-6 w-6"}),title:"Role-Based Access",desc:"Control access with user, admin, and super admin roles for team collaboration."})}),p.jsx(kn,{delay:.6,children:p.jsx(Df,{icon:p.jsx(wl,{className:"h-6 w-6"}),title:"Team Collaboration",desc:"Share presentations and dashboards with your team in real-time."})}),p.jsx(kn,{delay:.7,children:p.jsx(Df,{icon:p.jsx(gb,{className:"h-6 w-6"}),title:"Advanced Analytics",desc:"Predictive analytics and trend detection for deeper insights."})}),p.jsx(kn,{delay:.8,children:p.jsx(Df,{icon:p.jsx(b4,{className:"h-6 w-6"}),title:"Custom Templates",desc:"Create and save custom presentation templates for consistent branding."})})]})]})}),p.jsx("section",{className:"py-20 bg-gradient-to-b from-gray-100 to-white dark:from-zinc-950 dark:to-zinc-900",children:p.jsxs("div",{className:"container mx-auto px-4",children:[p.jsxs("div",{className:"max-w-4xl mx-auto text-center mb-16",children:[p.jsx(kn,{delay:.2,children:p.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6 hover:scale-105 transition-transform duration-300",children:"How It Works"})}),p.jsx(kn,{delay:.4,children:p.jsx("p",{className:"text-xl text-zinc-600 dark:text-zinc-300",children:"Transform your data in just three simple steps"})})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-10",children:[p.jsx(D2,{direction:"left",delay:.3,children:p.jsxs("div",{className:"text-center p-6 bg-white dark:bg-zinc-800 rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-500 hover:-translate-y-2 group",children:[p.jsx("div",{className:"w-16 h-16 rounded-full bg-indigo-100 dark:bg-indigo-900/30 flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform duration-300",children:p.jsx("span",{className:"text-2xl font-bold text-indigo-600 dark:text-indigo-400",children:"1"})}),p.jsx("h3",{className:"text-xl font-bold mb-3 group-hover:text-indigo-600 transition-colors duration-300",children:"Upload Your Excel"}),p.jsx("p",{className:"text-zinc-600 dark:text-zinc-300",children:"Drag and drop your spreadsheet or browse files from your device"})]})}),p.jsx(D2,{direction:"left",delay:.5,children:p.jsxs("div",{className:"text-center p-6 bg-white dark:bg-zinc-800 rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-500 hover:-translate-y-2 group",children:[p.jsx("div",{className:"w-16 h-16 rounded-full bg-indigo-100 dark:bg-indigo-900/30 flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform duration-300",children:p.jsx("span",{className:"text-2xl font-bold text-indigo-600 dark:text-indigo-400",children:"2"})}),p.jsx("h3",{className:"text-xl font-bold mb-3 group-hover:text-indigo-600 transition-colors duration-300",children:"Customize Presentation"}),p.jsx("p",{className:"text-zinc-600 dark:text-zinc-300",children:"Choose from beautiful templates and customize charts"})]})}),p.jsx(D2,{direction:"left",delay:.7,children:p.jsxs("div",{className:"text-center p-6 bg-white dark:bg-zinc-800 rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-500 hover:-translate-y-2 group",children:[p.jsx("div",{className:"w-16 h-16 rounded-full bg-indigo-100 dark:bg-indigo-900/30 flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform duration-300",children:p.jsx("span",{className:"text-2xl font-bold text-indigo-600 dark:text-indigo-400",children:"3"})}),p.jsx("h3",{className:"text-xl font-bold mb-3 group-hover:text-indigo-600 transition-colors duration-300",children:"Share & Present"}),p.jsx("p",{className:"text-zinc-600 dark:text-zinc-300",children:"Download, present, or share your stunning data story"})]})})]})]})}),p.jsx("section",{id:"services",className:"py-20 bg-gradient-to-b from-white to-gray-100 dark:from-zinc-900 dark:to-zinc-950",children:p.jsxs("div",{className:"container mx-auto px-4",children:[p.jsxs("div",{className:"max-w-3xl mx-auto text-center mb-16",children:[p.jsx(kn,{delay:.2,children:p.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6 hover:scale-105 transition-transform duration-300",children:"Our Services"})}),p.jsx(kn,{delay:.4,children:p.jsx("p",{className:"text-xl text-zinc-600 dark:text-zinc-300",children:"Powerful tools for all your data visualization needs"})})]}),p.jsxs("div",{className:"grid gap-8 md:grid-cols-2 lg:grid-cols-3",children:[p.jsx(kn,{delay:.3,children:p.jsx(Ff,{icon:p.jsx(oR,{className:"h-6 w-6"}),title:"Interactive Dashboards",desc:"Create real-time dashboards that update with your data changes."})}),p.jsx(kn,{delay:.4,children:p.jsx(Ff,{icon:p.jsx(LU,{className:"h-6 w-6"}),title:"Data Analytics",desc:"Uncover insights with advanced statistical analysis tools."})}),p.jsx(kn,{delay:.5,children:p.jsx(Ff,{icon:p.jsx(b4,{className:"h-6 w-6"}),title:"Automated Reporting",desc:"Schedule and automate report generation for your team."})}),p.jsx(kn,{delay:.6,children:p.jsx(Ff,{icon:p.jsx(wl,{className:"h-6 w-6"}),title:"Team Collaboration",desc:"Work together on data projects with role-based permissions."})}),p.jsx(kn,{delay:.7,children:p.jsx(Ff,{icon:p.jsx(_b,{className:"h-6 w-6"}),title:"Secure Data Storage",desc:"Enterprise-grade security for all your sensitive data."})}),p.jsx(kn,{delay:.8,children:p.jsx(Ff,{icon:p.jsx(hl,{className:"h-6 w-6"}),title:"Custom Visualizations",desc:"Tailor-made charts and graphs for your specific needs."})})]})]})}),p.jsxs("section",{className:"py-20 bg-gradient-to-r from-indigo-600 to-purple-600 text-white relative overflow-hidden",children:[p.jsx("div",{className:"absolute inset-0 bg-black/10"}),p.jsx("div",{className:"container mx-auto px-4 relative z-10",children:p.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 text-center",children:[p.jsx(kn,{delay:.3,children:p.jsxs("div",{className:"group cursor-pointer",children:[p.jsx("div",{className:"text-4xl md:text-5xl font-bold mb-2 group-hover:scale-110 transition-transform duration-300",children:"10K+"}),p.jsx("div",{className:"text-indigo-200",children:"Active Users"})]})}),p.jsx(kn,{delay:.4,children:p.jsxs("div",{className:"group cursor-pointer",children:[p.jsx("div",{className:"text-4xl md:text-5xl font-bold mb-2 group-hover:scale-110 transition-transform duration-300",children:"98%"}),p.jsx("div",{className:"text-indigo-200",children:"Customer Satisfaction"})]})}),p.jsx(kn,{delay:.5,children:p.jsxs("div",{className:"group cursor-pointer",children:[p.jsx("div",{className:"text-4xl md:text-5xl font-bold mb-2 group-hover:scale-110 transition-transform duration-300",children:"50K+"}),p.jsx("div",{className:"text-indigo-200",children:"Files Processed"})]})}),p.jsx(kn,{delay:.6,children:p.jsxs("div",{className:"group cursor-pointer",children:[p.jsx("div",{className:"text-4xl md:text-5xl font-bold mb-2 group-hover:scale-110 transition-transform duration-300",children:"24/7"}),p.jsx("div",{className:"text-indigo-200",children:"Support Available"})]})})]})})]}),p.jsx("section",{className:"py-20 bg-gradient-to-b from-gray-100 to-white dark:from-zinc-950 dark:to-zinc-900",children:p.jsx("div",{className:"container mx-auto px-4",children:p.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[p.jsx(kn,{delay:.2,children:p.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6 hover:scale-105 transition-transform duration-300",children:"Ready to Transform Your Data?"})}),p.jsx(kn,{delay:.4,children:p.jsx("p",{className:"text-xl text-zinc-600 dark:text-zinc-300 mb-10 max-w-2xl mx-auto",children:"Join thousands of professionals who use Excel Analytics to create stunning data presentations"})}),p.jsx(kn,{delay:.6,children:p.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[p.jsx(w4,{as:Ti,to:"/register",className:"px-8 py-4 text-lg",children:"Get Started Free"}),p.jsx(S4,{as:Ti,to:"/login",className:"px-8 py-4 text-lg bg-white/90 dark:bg-zinc-800/70",children:"Sign In"})]})})]})})}),p.jsx(SU,{})]})}function VU(){const[t,e]=De.useState({email:"",password:""}),[n,r]=De.useState(""),[i,a]=De.useState(!1),[s,o]=De.useState(!1),{login:l}=$c(),c=Oo(),u=()=>{window.open("https://www.linkedin.com/in/kritika-gupta2106","_blank")},f=()=>{window.open("https://github.com/ksuvii21","_blank")},d=()=>{c("/")},h=async m=>{if(m.preventDefault(),!t.email||!t.password){r("Please enter both email and password");return}try{a(!0),r(""),console.log("Attempting login with:",t.email);const b=await l(t);console.log("Login result:",b),b.success?(console.log("Login successful, redirecting to dashboard"),setTimeout(()=>{c("/dashboard")},100)):r(b.error||"Login failed")}catch(b){console.error("Login error:",b),r("Login failed. Please try again.")}finally{a(!1),console.log("Login process finished")}},g=m=>{const{name:b,value:_}=m.target;e(S=>({...S,[b]:_}))},x=()=>{o(!s)},v=()=>{c("/")};return p.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 to-black text-white flex items-center justify-center p-4",children:p.jsxs("div",{className:"w-full max-w-md rounded-3xl border border-zinc-200/60 bg-white/10 backdrop-blur-lg p-8 shadow-xl",children:[p.jsxs("div",{className:"text-center mb-8",children:[p.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-400 via-purple-500 to-pink-400 bg-clip-text text-transparent",children:"Welcome Back"}),p.jsx("p",{className:"mt-2 text-gray-400",children:"Sign in to continue your analytics journey"})]}),n&&p.jsx("div",{className:"mb-6 p-3 bg-red-900/50 rounded-lg text-center",children:p.jsx("p",{className:"text-red-200",children:n})}),p.jsxs("form",{onSubmit:h,className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Email Address"}),p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx($p,{className:"h-5 w-5 text-gray-500"})}),p.jsx("input",{type:"email",name:"email",value:t.email,onChange:g,required:!0,className:"w-full pl-10 px-4 py-3 rounded-2xl bg-gray-800/50 border border-gray-700 focus:border-purple-500 focus:ring-2 focus:ring-purple-900 outline-none transition",placeholder:"you@example.com"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Password"}),p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(_b,{className:"h-5 w-5 text-gray-500"})}),p.jsx("input",{type:s?"text":"password",name:"password",value:t.password,onChange:g,required:!0,className:"w-full pl-10 pr-10 py-3 rounded-2xl bg-gray-800/50 border border-gray-700 focus:border-purple-500 focus:ring-2 focus:ring-purple-900 outline-none transition",placeholder:""}),p.jsx("button",{type:"button",onClick:x,className:"absolute inset-y-0 right-0 pr-3 flex items-center","aria-label":s?"Hide password":"Show password",children:s?p.jsx(yb,{className:"h-5 w-5 text-gray-500 hover:text-gray-400"}):p.jsx(vp,{className:"h-5 w-5 text-gray-500 hover:text-gray-400"})})]}),p.jsx("div",{className:"mt-2 flex justify-end",children:p.jsx(Ti,{to:"/forgot-password",className:"text-sm text-purple-400 hover:text-purple-300",children:"Forgot password?"})})]}),p.jsx("div",{className:"flex items-center justify-between",children:p.jsxs("div",{className:"flex items-center",children:[p.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-700 rounded bg-gray-800"}),p.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-400",children:"Remember me"})]})}),p.jsx("button",{type:"submit",disabled:i,className:`w-full py-3 px-4 rounded-2xl text-white font-medium transition-all duration-300 shadow-lg focus:outline-none focus:ring-2 focus:ring-indigo-400 flex items-center justify-center ${i?"bg-gray-700 cursor-not-allowed":"bg-gradient-to-r from-indigo-600 to-violet-600 hover:from-indigo-500 hover:to-violet-500 hover:shadow-indigo-500/30"}`,children:i?p.jsxs(p.Fragment,{children:[p.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[p.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),p.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign in"}),p.jsxs("button",{type:"button",onClick:v,className:"w-full py-3 px-4 rounded-2xl text-gray-300 font-medium transition-all duration-300 border border-gray-700 hover:border-gray-500 hover:text-white flex items-center justify-center",children:["Continue without login",p.jsx(J5,{className:"h-4 w-4 ml-2"})]}),p.jsx("div",{className:"mt-6 text-center",children:p.jsxs("p",{className:"text-gray-400",children:["Don't have an account?"," ",p.jsx(Ti,{to:"/register",className:"font-medium text-purple-400 hover:text-purple-300 transition",children:"Register now"})]})})]}),p.jsxs("div",{className:"mt-8",children:[p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute inset-0 flex items-center",children:p.jsx("div",{className:"w-full border-t border-gray-700"})}),p.jsx("div",{className:"relative flex justify-center text-sm",children:p.jsx("span",{className:"px-2 bg-transparent text-gray-500",children:"Or continue with"})})]}),p.jsxs("div",{className:"mt-6 grid grid-cols-3 gap-3",children:[p.jsx("button",{onClick:u,className:"flex justify-center py-2 px-4 rounded-2xl bg-gray-800/50 hover:bg-gray-800 transition group","aria-label":"Connect on LinkedIn",children:p.jsx(eS,{className:"h-5 w-5 text-blue-400 group-hover:text-blue-300"})}),p.jsx("button",{onClick:f,className:"flex justify-center py-2 px-4 rounded-2xl bg-gray-800/50 hover:bg-gray-800 transition group","aria-label":"View GitHub profile",children:p.jsx(Q5,{className:"h-5 w-5 text-white group-hover:text-gray-300"})}),p.jsx("button",{onClick:d,className:"flex justify-center py-2 px-4 rounded-2xl bg-gray-800/50 hover:bg-gray-800 transition group","aria-label":"Return to home",children:p.jsx("svg",{className:"h-5 w-5 text-red-500 group-hover:text-red-400",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:p.jsx("path",{d:"M12.48 10.92v3.28h7.84c-.24 1.84-.853 3.187-1.787 4.133-1.147 1.147-2.933 2.4-6.053 2.4-4.827 0-8.6-3.893-8.6-8.72s3.773-8.72 8.6-8.72c2.6 0 4.507 1.027 5.907 2.347l2.307-2.307C18.747 1.44 16.133 0 12.48 0 5.867 0 .307 5.387.307 12s5.56 12 12.173 12c3.573 0 6.267-1.173 8.373-3.36 2.16-2.16 2.84-5.213 2.84-7.667 0-.76-.053-1.467-.173-2.053H12.48z"})})})]})]})]})})}const WU=({isOpen:t,onClose:e})=>t?p.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:p.jsxs("div",{className:"bg-gray-900 border border-purple-500/30 rounded-2xl max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:[p.jsxs("div",{className:"sticky top-0 bg-gray-900 border-b border-purple-500/20 p-4 flex justify-between items-center",children:[p.jsx("h2",{className:"text-xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:"Terms and Conditions"}),p.jsx("button",{onClick:e,className:"p-2 rounded-full hover:bg-gray-800 transition-colors","aria-label":"Close terms modal",children:p.jsx(ld,{className:"h-5 w-5"})})]}),p.jsx("div",{className:"p-6",children:p.jsxs("div",{className:"prose prose-invert prose-purple max-w-none",children:[p.jsx("h3",{children:"1. Acceptance of Terms"}),p.jsx("p",{children:"By accessing and using Excel Analytics services, you accept and agree to be bound by the terms and provisions of this agreement. All users must comply with these terms to use our platform."}),p.jsx("h3",{children:"2. User Responsibilities"}),p.jsx("p",{children:"As a user of Excel Analytics, you are responsible for maintaining the confidentiality of your account information, including your password, and for all activities that occur under your account. You agree to immediately notify us of any unauthorized use of your account."}),p.jsx("h3",{children:"3. Data Usage and Privacy"}),p.jsx("p",{children:"Excel Analytics collects and processes personal data in accordance with our Privacy Policy. By using our services, you consent to such processing and you warrant that all data provided by you is accurate."}),p.jsx("h3",{children:"4. Intellectual Property"}),p.jsx("p",{children:"The Service and its original content, features, and functionality are and will remain the exclusive property of Excel Analytics and its licensors. The Service is protected by copyright, trademark, and other laws of both the United States and foreign countries."}),p.jsx("h3",{children:"5. Termination"}),p.jsx("p",{children:"We may terminate or suspend your account and bar access to the Service immediately, without prior notice or liability, under our sole discretion, for any reason whatsoever and without limitation, including but not limited to a breach of the Terms."}),p.jsx("h3",{children:"6. Limitation of Liability"}),p.jsx("p",{children:"In no event shall Excel Analytics, nor its directors, employees, partners, agents, suppliers, or affiliates, be liable for any indirect, incidental, special, consequential or punitive damages, including without limitation, loss of profits, data, use, goodwill, or other intangible losses."}),p.jsx("h3",{children:"7. Governing Law"}),p.jsx("p",{children:"These Terms shall be governed and construed in accordance with the laws of the United States, without regard to its conflict of law provisions."}),p.jsx("h3",{children:"8. Changes to Terms"}),p.jsx("p",{children:"We reserve the right, at our sole discretion, to modify or replace these Terms at any time. By continuing to access or use our Service after those revisions become effective, you agree to be bound by the revised terms."}),p.jsxs("div",{className:"mt-8 p-4 bg-purple-900/30 rounded-lg border border-purple-500/20",children:[p.jsx("h4",{className:"font-semibold text-purple-300 mb-2",children:"Need Help?"}),p.jsx("p",{className:"text-sm text-gray-400",children:"If you have any questions about these Terms, please contact us at support@excelanalytics.com"})]})]})}),p.jsx("div",{className:"sticky bottom-0 bg-gray-900 border-t border-purple-500/20 p-4 flex justify-end",children:p.jsx("button",{onClick:e,className:"px-6 py-2 bg-gradient-to-r from-purple-600 to-pink-600 rounded-xl hover:from-purple-500 hover:to-pink-500 transition-all",children:"I Understand"})})]})}):null,GU=({isOpen:t,onClose:e})=>t?p.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:p.jsxs("div",{className:"bg-gray-900 border border-purple-500/30 rounded-2xl max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:[p.jsxs("div",{className:"sticky top-0 bg-gray-900 border-b border-purple-500/20 p-4 flex justify-between items-center",children:[p.jsx("h2",{className:"text-xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:"Privacy Policy"}),p.jsx("button",{onClick:e,className:"p-2 rounded-full hover:bg-gray-800 transition-colors","aria-label":"Close privacy modal",children:p.jsx(ld,{className:"h-5 w-5"})})]}),p.jsx("div",{className:"p-6",children:p.jsxs("div",{className:"prose prose-invert prose-purple max-w-none",children:[p.jsx("h3",{children:"1. Information We Collect"}),p.jsx("p",{children:"We collect information you provide directly to us, such as when you create an account, use our services, or communicate with us. This may include name, email address, and any other information you choose to provide."}),p.jsx("h3",{children:"2. How We Use Your Information"}),p.jsx("p",{children:"We use the information we collect to provide, maintain, and improve our services, to develop new services, and to protect Excel Analytics and our users."}),p.jsx("h3",{children:"3. Information Sharing"}),p.jsx("p",{children:"We do not sell your personal information to third parties. We may share your information with trusted third-party service providers who assist us in operating our website, conducting our business, or servicing you."}),p.jsx("h3",{children:"4. Data Security"}),p.jsx("p",{children:"We implement appropriate security measures to protect your personal information against unauthorized access, alteration, disclosure, or destruction."}),p.jsx("h3",{children:"5. Your Rights"}),p.jsx("p",{children:"You have the right to access, correct, or delete your personal information. You can also object to the processing of your personal information, ask us to restrict processing of your personal information, or request portability of your personal information."}),p.jsx("h3",{children:"6. Cookies and Tracking"}),p.jsx("p",{children:"We use cookies and similar tracking technologies to track activity on our service and hold certain information to improve and analyze our service."}),p.jsx("h3",{children:"7. Changes to This Policy"}),p.jsx("p",{children:'We may update our Privacy Policy from time to time. We will notify you of any changes by posting the new Privacy Policy on this page and updating the "effective date" at the top of this Privacy Policy.'}),p.jsx("h3",{children:"8. Contact Us"}),p.jsx("p",{children:"If you have any questions about this Privacy Policy, please contact us at privacy@excelanalytics.com."}),p.jsxs("div",{className:"mt-8 p-4 bg-purple-900/30 rounded-lg border border-purple-500/20",children:[p.jsx("h4",{className:"font-semibold text-purple-300 mb-2",children:"Your Privacy Matters"}),p.jsx("p",{className:"text-sm text-gray-400",children:"We are committed to protecting your personal information and your right to privacy."})]})]})}),p.jsx("div",{className:"sticky bottom-0 bg-gray-900 border-t border-purple-500/20 p-4 flex justify-end",children:p.jsx("button",{onClick:e,className:"px-6 py-2 bg-gradient-to-r from-purple-600 to-pink-600 rounded-xl hover:from-purple-500 hover:to-pink-500 transition-all",children:"I Understand"})})]})}):null;function E4(){const[t,e]=De.useState({name:"",email:"",password:"",confirmPassword:""}),[n,r]=De.useState(""),[i,a]=De.useState(!1),[s,o]=De.useState(!1),[l,c]=De.useState(!1),[u,f]=De.useState(!1),[d,h]=De.useState(!1),{register:g}=$c(),x=Oo(),v=()=>{window.open("https://www.linkedin.com/in/kritika-gupta2106","_blank")},m=()=>{window.open("https://github.com/ksuvii21","_blank")},b=()=>{x("/")},_=async T=>{if(T.preventDefault(),!t.name||!t.email||!t.password){r("Please fill in all fields");return}if(t.password!==t.confirmPassword){r("Passwords do not match");return}try{a(!0),r("");const L=await g({name:t.name,email:t.email,password:t.password});L.success?x("/dashboard"):r(L.error||"Registration failed")}catch(L){r("Registration failed. Please try again."),console.error("Registration error:",L)}finally{a(!1)}},S=T=>{const{name:L,value:E}=T.target;e(R=>({...R,[L]:E}))},N=()=>{f(!u)},P=()=>{h(!d)};return p.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 to-black text-white flex items-center justify-center p-4",children:[p.jsx(WU,{isOpen:s,onClose:()=>o(!1)}),p.jsx(GU,{isOpen:l,onClose:()=>c(!1)}),p.jsxs("div",{className:"w-full max-w-md rounded-3xl border border-zinc-200/60 bg-white/10 backdrop-blur-lg p-8 shadow-xl",children:[p.jsxs("div",{className:"text-center mb-8",children:[p.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-400 via-purple-500 to-pink-400 bg-clip-text text-transparent",children:"Create Account"}),p.jsx("p",{className:"mt-2 text-gray-400",children:"Join Excel Analytics today"})]}),n&&p.jsx("div",{className:"mb-6 p-3 bg-red-900/50 rounded-lg text-center",children:p.jsx("p",{className:"text-red-200",children:n})}),p.jsxs("form",{onSubmit:_,className:"space-y-5",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Full Name"}),p.jsx("input",{type:"text",name:"name",value:t.name,onChange:S,required:!0,className:"w-full px-4 py-3 rounded-2xl bg-gray-800/50 border border-gray-700 focus:border-purple-500 focus:ring-2 focus:ring-purple-900 outline-none transition",placeholder:"John Doe"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Email Address"}),p.jsx("input",{type:"email",name:"email",value:t.email,onChange:S,required:!0,className:"w-full px-4 py-3 rounded-2xl bg-gray-800/50 border border-gray-700 focus:border-purple-500 focus:ring-2 focus:ring-purple-900 outline-none transition",placeholder:"you@example.com"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Password"}),p.jsxs("div",{className:"relative",children:[p.jsx("input",{type:u?"text":"password",name:"password",value:t.password,onChange:S,required:!0,className:"w-full pl-4 pr-12 py-3 rounded-2xl bg-gray-800/50 border border-gray-700 focus:border-purple-500 focus:ring-2 focus:ring-purple-900 outline-none transition",placeholder:""}),p.jsx("button",{type:"button",onClick:N,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-300 transition","aria-label":u?"Hide password":"Show password",children:u?p.jsx(yb,{className:"h-5 w-5"}):p.jsx(vp,{className:"h-5 w-5"})})]}),p.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Use 8+ characters with a mix of letters, numbers & symbols"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Confirm Password"}),p.jsxs("div",{className:"relative",children:[p.jsx("input",{type:d?"text":"password",name:"confirmPassword",value:t.confirmPassword,onChange:S,required:!0,className:"w-full pl-4 pr-12 py-3 rounded-2xl bg-gray-800/50 border border-gray-700 focus:border-purple-500 focus:ring-2 focus:ring-purple-900 outline-none transition",placeholder:""}),p.jsx("button",{type:"button",onClick:P,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-300 transition","aria-label":d?"Hide password":"Show password",children:d?p.jsx(yb,{className:"h-5 w-5"}):p.jsx(vp,{className:"h-5 w-5"})})]})]}),p.jsxs("div",{className:"flex items-center",children:[p.jsx("input",{id:"terms",name:"terms",type:"checkbox",required:!0,className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-700 rounded bg-gray-800"}),p.jsxs("label",{htmlFor:"terms",className:"ml-2 block text-sm text-gray-400",children:["I agree to the"," ",p.jsx("button",{type:"button",onClick:()=>o(!0),className:"text-purple-400 hover:text-purple-300 transition hover:underline",children:"Terms"})," ","and"," ",p.jsx("button",{type:"button",onClick:()=>c(!0),className:"text-purple-400 hover:text-purple-300 transition hover:underline",children:"Privacy Policy"})]})]}),p.jsx("button",{type:"submit",disabled:i,className:`w-full py-3 px-4 rounded-2xl text-white font-medium transition-all duration-300 shadow-lg focus:outline-none focus:ring-2 focus:ring-indigo-400 flex items-center justify-center ${i?"bg-gray-700 cursor-not-allowed":"bg-gradient-to-r from-indigo-600 to-violet-600 hover:from-indigo-500 hover:to-violet-500 hover:shadow-indigo-500/30"}`,children:i?p.jsxs(p.Fragment,{children:[p.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[p.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),p.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating Account..."]}):p.jsxs(p.Fragment,{children:[p.jsx($p,{className:"h-5 w-5 mr-2"}),"Register Now"]})}),p.jsx("div",{className:"mt-6 text-center",children:p.jsxs("p",{className:"text-gray-400",children:["Already have an account?"," ",p.jsx(Ti,{to:"/login",className:"font-medium text-purple-400 hover:text-purple-300 transition",children:"Sign in"})]})})]}),p.jsxs("div",{className:"mt-8",children:[p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute inset-0 flex items-center",children:p.jsx("div",{className:"w-full border-t border-gray-700"})}),p.jsx("div",{className:"relative flex justify-center text-sm",children:p.jsx("span",{className:"px-2 bg-transparent text-gray-500",children:"Or continue with"})})]}),p.jsxs("div",{className:"mt-6 grid grid-cols-3 gap-3",children:[p.jsx("button",{onClick:v,className:"flex justify-center py-2 px-4 rounded-2xl bg-gray-800/50 hover:bg-gray-800 transition group","aria-label":"Connect on LinkedIn",children:p.jsx(eS,{className:"h-5 w-5 text-blue-400 group-hover:text-blue-300"})}),p.jsx("button",{onClick:m,className:"flex justify-center py-2 px-4 rounded-2xl bg-gray-800/50 hover:bg-gray-800 transition group","aria-label":"View GitHub profile",children:p.jsx(Q5,{className:"h-5 w-5 text-white group-hover:text-gray-300"})}),p.jsx("button",{onClick:b,className:"flex justify-center py-2 px-4 rounded-2xl bg-gray-800/50 hover:bg-gray-800 transition group","aria-label":"Return to home",children:p.jsx("svg",{className:"h-5 w-5 text-red-500 group-hover:text-red-400",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:p.jsx("path",{d:"M12.48 10.92v3.28h7.84c-.24 1.84-.853 3.187-1.787 4.133-1.147 1.147-2.933 2.4-6.053 2.4-4.827 0-8.6-3.893-8.6-8.72s3.773-8.72 8.6-8.72c2.6 0 4.507 1.027 5.907 2.347l2.307-2.307C18.747 1.44 16.133 0 12.48 0 5.867 0 .307 5.387.307 12s5.56 12 12.173 12c3.573 0 6.267-1.173 8.373-3.36 2.16-2.16 2.84-5.213 2.84-7.667 0-.76-.053-1.467-.173-2.053H12.48z"})})})]})]})]})]})}function qU({children:t}){var f,d,h;const{currentUser:e,logout:n}=$c(),r=Oo(),i=Io(),[a,s]=De.useState("My Charts"),[o,l]=De.useState(!1);De.useEffect(()=>{const g=i.pathname;g==="/"?s("Home"):g==="/dashboard"?s("My Charts"):g==="/upload"?s("Analyse"):g==="/register"&&s("Add User")},[i]);const c=[{to:"/",label:"Home",icon:p.jsx(oR,{className:"h-5 w-5"})},{to:"/dashboard",label:"My Charts",icon:p.jsx(gb,{className:"h-5 w-5"})},{to:"/upload",label:"Analyse",icon:p.jsx(Bu,{className:"h-5 w-5"})},{to:"/register",label:"Add User",icon:p.jsx(rS,{className:"h-5 w-5"})}],u=()=>{n(),r("/")};return p.jsxs("div",{className:"flex flex-col md:flex-row min-h-screen bg-gray-50 dark:bg-gray-900",children:[p.jsxs("div",{className:"md:hidden flex items-center justify-between p-4 bg-indigo-700 text-white",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"bg-indigo-600 w-8 h-8 rounded-full flex items-center justify-center",children:p.jsx("span",{className:"text-sm font-bold",children:((f=e==null?void 0:e.name)==null?void 0:f.charAt(0))||"U"})}),p.jsx("span",{className:"font-semibold",children:"Excel Analytics"})]}),p.jsx("button",{onClick:()=>l(!o),children:o?p.jsx(ld,{className:"h-6 w-6"}):p.jsx(nS,{className:"h-6 w-6"})})]}),p.jsxs("div",{className:`bg-indigo-800 text-white w-64 flex-shrink-0 flex flex-col fixed md:sticky top-0 z-10 transition-transform duration-300 h-screen ${o?"translate-x-0":"-translate-x-full md:translate-x-0"}`,children:[p.jsxs("div",{className:"p-6 border-b border-indigo-700",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[p.jsx("div",{className:"bg-gradient-to-r from-cyan-400 to-blue-500 w-12 h-12 rounded-full flex items-center justify-center",children:p.jsx("span",{className:"text-xl font-bold",children:((d=e==null?void 0:e.name)==null?void 0:d.charAt(0))||"U"})}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-xl font-bold",children:"Excel Analytics"}),p.jsx("p",{className:"text-indigo-200 text-sm",children:"USER DASHBOARD"})]})]}),p.jsx("div",{className:"bg-indigo-900/50 rounded-lg p-3 mb-6",children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"bg-indigo-700 p-2 rounded-lg",children:p.jsx($p,{className:"h-5 w-5"})}),p.jsxs("div",{className:"overflow-hidden",children:[p.jsx("p",{className:"font-medium truncate",children:(e==null?void 0:e.name)||"User Name"}),p.jsx("p",{className:"text-indigo-300 text-xs truncate",children:(e==null?void 0:e.email)||"user@example.com"})]})]})})]}),p.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:p.jsx("nav",{className:"space-y-2",children:c.map(g=>p.jsxs("a",{href:g.to,onClick:x=>{x.preventDefault(),r(g.to),s(g.label),l(!1)},className:`flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-300 ${a===g.label?"bg-white/10 backdrop-blur-md shadow-lg":"hover:bg-indigo-700/50"}`,children:[p.jsx("div",{className:`p-2 rounded-lg ${a===g.label?"bg-gradient-to-r from-cyan-400 to-blue-500 text-white":"bg-indigo-700/30 text-indigo-300"}`,children:g.icon}),p.jsx("span",{className:"font-medium",children:g.label})]},g.label))})}),p.jsx("div",{className:"p-4 border-t border-indigo-700 mt-auto",children:p.jsxs("button",{onClick:u,className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl hover:bg-indigo-700/50 text-indigo-200 transition-all duration-300",children:[p.jsx("div",{className:"p-2 rounded-lg bg-indigo-700/30 text-indigo-300",children:p.jsx(tS,{className:"h-5 w-5"})}),p.jsx("span",{className:"font-medium",children:"Log out"})]})})]}),p.jsxs("div",{className:"flex-1 flex flex-col min-w-0 md:ml-0",children:[p.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow-sm p-4 flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-xl font-bold text-gray-800 dark:text-white",children:a}),p.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:a==="My Charts"?"Upload Excel and visualize your data":a==="Analyse"?"Upload and analyze your spreadsheets":"Manage your account and preferences"})]}),p.jsx("div",{className:"flex items-center gap-4",children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"bg-gradient-to-r from-cyan-400 to-blue-500 w-10 h-10 rounded-full flex items-center justify-center text-white font-bold",children:((h=e==null?void 0:e.name)==null?void 0:h.charAt(0))||"U"}),p.jsxs("div",{className:"hidden md:block",children:[p.jsx("p",{className:"font-medium text-gray-800 dark:text-white",children:(e==null?void 0:e.name)||"Username"}),p.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Free Account"})]})]})})]}),p.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-white dark:bg-gray-800",children:t}),p.jsx("div",{className:"bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 p-4 text-center text-sm text-gray-500 dark:text-gray-400",children:" 2023 Excel Analytics Dashboard. All rights reserved."})]})]})}function dR(t,e){return function(){return t.apply(e,arguments)}}const{toString:XU}=Object.prototype,{getPrototypeOf:iS}=Object,{iterator:lv,toStringTag:pR}=Symbol,cv=(t=>e=>{const n=XU.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),no=t=>(t=t.toLowerCase(),e=>cv(e)===t),uv=t=>e=>typeof e===t,{isArray:cd}=Array,yp=uv("undefined");function Yp(t){return t!==null&&!yp(t)&&t.constructor!==null&&!yp(t.constructor)&&Ra(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const mR=no("ArrayBuffer");function $U(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&mR(t.buffer),e}const YU=uv("string"),Ra=uv("function"),gR=uv("number"),Kp=t=>t!==null&&typeof t=="object",KU=t=>t===!0||t===!1,h1=t=>{if(cv(t)!=="object")return!1;const e=iS(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(pR in t)&&!(lv in t)},JU=t=>{if(!Kp(t)||Yp(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},ZU=no("Date"),QU=no("File"),eB=no("Blob"),tB=no("FileList"),nB=t=>Kp(t)&&Ra(t.pipe),rB=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Ra(t.append)&&((e=cv(t))==="formdata"||e==="object"&&Ra(t.toString)&&t.toString()==="[object FormData]"))},iB=no("URLSearchParams"),[aB,sB,oB,lB]=["ReadableStream","Request","Response","Headers"].map(no),cB=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Jp(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),cd(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{if(Yp(t))return;const a=n?Object.getOwnPropertyNames(t):Object.keys(t),s=a.length;let o;for(r=0;r<s;r++)o=a[r],e.call(null,t[o],o,t)}}function xR(t,e){if(Yp(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const Pu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,vR=t=>!yp(t)&&t!==Pu;function bb(){const{caseless:t}=vR(this)&&this||{},e={},n=(r,i)=>{const a=t&&xR(e,i)||i;h1(e[a])&&h1(r)?e[a]=bb(e[a],r):h1(r)?e[a]=bb({},r):cd(r)?e[a]=r.slice():e[a]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Jp(arguments[r],n);return e}const uB=(t,e,n,{allOwnKeys:r}={})=>(Jp(e,(i,a)=>{n&&Ra(i)?t[a]=dR(i,n):t[a]=i},{allOwnKeys:r}),t),fB=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),hB=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},dB=(t,e,n,r)=>{let i,a,s;const o={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),a=i.length;a-- >0;)s=i[a],(!r||r(s,t,e))&&!o[s]&&(e[s]=t[s],o[s]=!0);t=n!==!1&&iS(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},pB=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},mB=t=>{if(!t)return null;if(cd(t))return t;let e=t.length;if(!gR(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},gB=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&iS(Uint8Array)),xB=(t,e)=>{const r=(t&&t[lv]).call(t);let i;for(;(i=r.next())&&!i.done;){const a=i.value;e.call(t,a[0],a[1])}},vB=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},yB=no("HTMLFormElement"),_B=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),A4=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),bB=no("RegExp"),yR=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Jp(n,(i,a)=>{let s;(s=e(i,a,t))!==!1&&(r[a]=s||i)}),Object.defineProperties(t,r)},wB=t=>{yR(t,(e,n)=>{if(Ra(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Ra(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},SB=(t,e)=>{const n={},r=i=>{i.forEach(a=>{n[a]=!0})};return cd(t)?r(t):r(String(t).split(e)),n},EB=()=>{},AB=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function TB(t){return!!(t&&Ra(t.append)&&t[pR]==="FormData"&&t[lv])}const MB=t=>{const e=new Array(10),n=(r,i)=>{if(Kp(r)){if(e.indexOf(r)>=0)return;if(Yp(r))return r;if(!("toJSON"in r)){e[i]=r;const a=cd(r)?[]:{};return Jp(r,(s,o)=>{const l=n(s,i+1);!yp(l)&&(a[o]=l)}),e[i]=void 0,a}}return r};return n(t,0)},NB=no("AsyncFunction"),kB=t=>t&&(Kp(t)||Ra(t))&&Ra(t.then)&&Ra(t.catch),_R=((t,e)=>t?setImmediate:e?((n,r)=>(Pu.addEventListener("message",({source:i,data:a})=>{i===Pu&&a===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Pu.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Ra(Pu.postMessage)),CB=typeof queueMicrotask<"u"?queueMicrotask.bind(Pu):typeof process<"u"&&process.nextTick||_R,RB=t=>t!=null&&Ra(t[lv]),et={isArray:cd,isArrayBuffer:mR,isBuffer:Yp,isFormData:rB,isArrayBufferView:$U,isString:YU,isNumber:gR,isBoolean:KU,isObject:Kp,isPlainObject:h1,isEmptyObject:JU,isReadableStream:aB,isRequest:sB,isResponse:oB,isHeaders:lB,isUndefined:yp,isDate:ZU,isFile:QU,isBlob:eB,isRegExp:bB,isFunction:Ra,isStream:nB,isURLSearchParams:iB,isTypedArray:gB,isFileList:tB,forEach:Jp,merge:bb,extend:uB,trim:cB,stripBOM:fB,inherits:hB,toFlatObject:dB,kindOf:cv,kindOfTest:no,endsWith:pB,toArray:mB,forEachEntry:xB,matchAll:vB,isHTMLForm:yB,hasOwnProperty:A4,hasOwnProp:A4,reduceDescriptors:yR,freezeMethods:wB,toObjectSet:SB,toCamelCase:_B,noop:EB,toFiniteNumber:AB,findKey:xR,global:Pu,isContextDefined:vR,isSpecCompliantForm:TB,toJSONObject:MB,isAsyncFn:NB,isThenable:kB,setImmediate:_R,asap:CB,isIterable:RB};function ln(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}et.inherits(ln,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:et.toJSONObject(this.config),code:this.code,status:this.status}}});const bR=ln.prototype,wR={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{wR[t]={value:t}});Object.defineProperties(ln,wR);Object.defineProperty(bR,"isAxiosError",{value:!0});ln.from=(t,e,n,r,i,a)=>{const s=Object.create(bR);return et.toFlatObject(t,s,function(l){return l!==Error.prototype},o=>o!=="isAxiosError"),ln.call(s,t.message,e,n,r,i),s.cause=t,s.name=t.name,a&&Object.assign(s,a),s};const PB=null;function wb(t){return et.isPlainObject(t)||et.isArray(t)}function SR(t){return et.endsWith(t,"[]")?t.slice(0,-2):t}function T4(t,e,n){return t?t.concat(e).map(function(i,a){return i=SR(i),!n&&a?"["+i+"]":i}).join(n?".":""):e}function LB(t){return et.isArray(t)&&!t.some(wb)}const FB=et.toFlatObject(et,{},null,function(e){return/^is[A-Z]/.test(e)});function fv(t,e,n){if(!et.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=et.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,v){return!et.isUndefined(v[x])});const r=n.metaTokens,i=n.visitor||u,a=n.dots,s=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&et.isSpecCompliantForm(e);if(!et.isFunction(i))throw new TypeError("visitor must be a function");function c(g){if(g===null)return"";if(et.isDate(g))return g.toISOString();if(et.isBoolean(g))return g.toString();if(!l&&et.isBlob(g))throw new ln("Blob is not supported. Use a Buffer instead.");return et.isArrayBuffer(g)||et.isTypedArray(g)?l&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function u(g,x,v){let m=g;if(g&&!v&&typeof g=="object"){if(et.endsWith(x,"{}"))x=r?x:x.slice(0,-2),g=JSON.stringify(g);else if(et.isArray(g)&&LB(g)||(et.isFileList(g)||et.endsWith(x,"[]"))&&(m=et.toArray(g)))return x=SR(x),m.forEach(function(_,S){!(et.isUndefined(_)||_===null)&&e.append(s===!0?T4([x],S,a):s===null?x:x+"[]",c(_))}),!1}return wb(g)?!0:(e.append(T4(v,x,a),c(g)),!1)}const f=[],d=Object.assign(FB,{defaultVisitor:u,convertValue:c,isVisitable:wb});function h(g,x){if(!et.isUndefined(g)){if(f.indexOf(g)!==-1)throw Error("Circular reference detected in "+x.join("."));f.push(g),et.forEach(g,function(m,b){(!(et.isUndefined(m)||m===null)&&i.call(e,m,et.isString(b)?b.trim():b,x,d))===!0&&h(m,x?x.concat(b):[b])}),f.pop()}}if(!et.isObject(t))throw new TypeError("data must be an object");return h(t),e}function M4(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function aS(t,e){this._pairs=[],t&&fv(t,this,e)}const ER=aS.prototype;ER.append=function(e,n){this._pairs.push([e,n])};ER.toString=function(e){const n=e?function(r){return e.call(this,r,M4)}:M4;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function DB(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function AR(t,e,n){if(!e)return t;const r=n&&n.encode||DB;et.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let a;if(i?a=i(e,n):a=et.isURLSearchParams(e)?e.toString():new aS(e,n).toString(r),a){const s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t}class N4{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){et.forEach(this.handlers,function(r){r!==null&&e(r)})}}const TR={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},IB=typeof URLSearchParams<"u"?URLSearchParams:aS,OB=typeof FormData<"u"?FormData:null,UB=typeof Blob<"u"?Blob:null,BB={isBrowser:!0,classes:{URLSearchParams:IB,FormData:OB,Blob:UB},protocols:["http","https","file","blob","url","data"]},sS=typeof window<"u"&&typeof document<"u",Sb=typeof navigator=="object"&&navigator||void 0,jB=sS&&(!Sb||["ReactNative","NativeScript","NS"].indexOf(Sb.product)<0),zB=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",HB=sS&&window.location.href||"http://localhost",VB=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:sS,hasStandardBrowserEnv:jB,hasStandardBrowserWebWorkerEnv:zB,navigator:Sb,origin:HB},Symbol.toStringTag,{value:"Module"})),$i={...VB,...BB};function WB(t,e){return fv(t,new $i.classes.URLSearchParams,{visitor:function(n,r,i,a){return $i.isNode&&et.isBuffer(n)?(this.append(r,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...e})}function GB(t){return et.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function qB(t){const e={},n=Object.keys(t);let r;const i=n.length;let a;for(r=0;r<i;r++)a=n[r],e[a]=t[a];return e}function MR(t){function e(n,r,i,a){let s=n[a++];if(s==="__proto__")return!0;const o=Number.isFinite(+s),l=a>=n.length;return s=!s&&et.isArray(i)?i.length:s,l?(et.hasOwnProp(i,s)?i[s]=[i[s],r]:i[s]=r,!o):((!i[s]||!et.isObject(i[s]))&&(i[s]=[]),e(n,r,i[s],a)&&et.isArray(i[s])&&(i[s]=qB(i[s])),!o)}if(et.isFormData(t)&&et.isFunction(t.entries)){const n={};return et.forEachEntry(t,(r,i)=>{e(GB(r),i,n,0)}),n}return null}function XB(t,e,n){if(et.isString(t))try{return(e||JSON.parse)(t),et.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Zp={transitional:TR,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,a=et.isObject(e);if(a&&et.isHTMLForm(e)&&(e=new FormData(e)),et.isFormData(e))return i?JSON.stringify(MR(e)):e;if(et.isArrayBuffer(e)||et.isBuffer(e)||et.isStream(e)||et.isFile(e)||et.isBlob(e)||et.isReadableStream(e))return e;if(et.isArrayBufferView(e))return e.buffer;if(et.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return WB(e,this.formSerializer).toString();if((o=et.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return fv(o?{"files[]":e}:e,l&&new l,this.formSerializer)}}return a||i?(n.setContentType("application/json",!1),XB(e)):e}],transformResponse:[function(e){const n=this.transitional||Zp.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(et.isResponse(e)||et.isReadableStream(e))return e;if(e&&et.isString(e)&&(r&&!this.responseType||i)){const s=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(o){if(s)throw o.name==="SyntaxError"?ln.from(o,ln.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:$i.classes.FormData,Blob:$i.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};et.forEach(["delete","get","head","post","put","patch"],t=>{Zp.headers[t]={}});const $B=et.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),YB=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(s){i=s.indexOf(":"),n=s.substring(0,i).trim().toLowerCase(),r=s.substring(i+1).trim(),!(!n||e[n]&&$B[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},k4=Symbol("internals");function Jd(t){return t&&String(t).trim().toLowerCase()}function d1(t){return t===!1||t==null?t:et.isArray(t)?t.map(d1):String(t)}function KB(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const JB=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function I2(t,e,n,r,i){if(et.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!et.isString(e)){if(et.isString(r))return e.indexOf(r)!==-1;if(et.isRegExp(r))return r.test(e)}}function ZB(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function QB(t,e){const n=et.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,a,s){return this[r].call(this,e,i,a,s)},configurable:!0})})}let Pa=class{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function a(o,l,c){const u=Jd(l);if(!u)throw new Error("header name must be a non-empty string");const f=et.findKey(i,u);(!f||i[f]===void 0||c===!0||c===void 0&&i[f]!==!1)&&(i[f||l]=d1(o))}const s=(o,l)=>et.forEach(o,(c,u)=>a(c,u,l));if(et.isPlainObject(e)||e instanceof this.constructor)s(e,n);else if(et.isString(e)&&(e=e.trim())&&!JB(e))s(YB(e),n);else if(et.isObject(e)&&et.isIterable(e)){let o={},l,c;for(const u of e){if(!et.isArray(u))throw TypeError("Object iterator must return a key-value pair");o[c=u[0]]=(l=o[c])?et.isArray(l)?[...l,u[1]]:[l,u[1]]:u[1]}s(o,n)}else e!=null&&a(n,e,r);return this}get(e,n){if(e=Jd(e),e){const r=et.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return KB(i);if(et.isFunction(n))return n.call(this,i,r);if(et.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Jd(e),e){const r=et.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||I2(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function a(s){if(s=Jd(s),s){const o=et.findKey(r,s);o&&(!n||I2(r,r[o],o,n))&&(delete r[o],i=!0)}}return et.isArray(e)?e.forEach(a):a(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const a=n[r];(!e||I2(this,this[a],a,e,!0))&&(delete this[a],i=!0)}return i}normalize(e){const n=this,r={};return et.forEach(this,(i,a)=>{const s=et.findKey(r,a);if(s){n[s]=d1(i),delete n[a];return}const o=e?ZB(a):String(a).trim();o!==a&&delete n[a],n[o]=d1(i),r[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return et.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&et.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[k4]=this[k4]={accessors:{}}).accessors,i=this.prototype;function a(s){const o=Jd(s);r[o]||(QB(i,s),r[o]=!0)}return et.isArray(e)?e.forEach(a):a(e),this}};Pa.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);et.reduceDescriptors(Pa.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});et.freezeMethods(Pa);function O2(t,e){const n=this||Zp,r=e||n,i=Pa.from(r.headers);let a=r.data;return et.forEach(t,function(o){a=o.call(n,a,i.normalize(),e?e.status:void 0)}),i.normalize(),a}function NR(t){return!!(t&&t.__CANCEL__)}function ud(t,e,n){ln.call(this,t??"canceled",ln.ERR_CANCELED,e,n),this.name="CanceledError"}et.inherits(ud,ln,{__CANCEL__:!0});function kR(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new ln("Request failed with status code "+n.status,[ln.ERR_BAD_REQUEST,ln.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function ej(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function tj(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,a=0,s;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=r[a];s||(s=c),n[i]=l,r[i]=c;let f=a,d=0;for(;f!==i;)d+=n[f++],f=f%t;if(i=(i+1)%t,i===a&&(a=(a+1)%t),c-s<e)return;const h=u&&c-u;return h?Math.round(d*1e3/h):void 0}}function nj(t,e){let n=0,r=1e3/e,i,a;const s=(c,u=Date.now())=>{n=u,i=null,a&&(clearTimeout(a),a=null),t(...c)};return[(...c)=>{const u=Date.now(),f=u-n;f>=r?s(c,u):(i=c,a||(a=setTimeout(()=>{a=null,s(i)},r-f)))},()=>i&&s(i)]}const cx=(t,e,n=3)=>{let r=0;const i=tj(50,250);return nj(a=>{const s=a.loaded,o=a.lengthComputable?a.total:void 0,l=s-r,c=i(l),u=s<=o;r=s;const f={loaded:s,total:o,progress:o?s/o:void 0,bytes:l,rate:c||void 0,estimated:c&&o&&u?(o-s)/c:void 0,event:a,lengthComputable:o!=null,[e?"download":"upload"]:!0};t(f)},n)},C4=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},R4=t=>(...e)=>et.asap(()=>t(...e)),rj=$i.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,$i.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL($i.origin),$i.navigator&&/(msie|trident)/i.test($i.navigator.userAgent)):()=>!0,ij=$i.hasStandardBrowserEnv?{write(t,e,n,r,i,a){const s=[t+"="+encodeURIComponent(e)];et.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),et.isString(r)&&s.push("path="+r),et.isString(i)&&s.push("domain="+i),a===!0&&s.push("secure"),document.cookie=s.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function aj(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function sj(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function CR(t,e,n){let r=!aj(e);return t&&(r||n==!1)?sj(t,e):e}const P4=t=>t instanceof Pa?{...t}:t;function Zu(t,e){e=e||{};const n={};function r(c,u,f,d){return et.isPlainObject(c)&&et.isPlainObject(u)?et.merge.call({caseless:d},c,u):et.isPlainObject(u)?et.merge({},u):et.isArray(u)?u.slice():u}function i(c,u,f,d){if(et.isUndefined(u)){if(!et.isUndefined(c))return r(void 0,c,f,d)}else return r(c,u,f,d)}function a(c,u){if(!et.isUndefined(u))return r(void 0,u)}function s(c,u){if(et.isUndefined(u)){if(!et.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function o(c,u,f){if(f in e)return r(c,u);if(f in t)return r(void 0,c)}const l={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:o,headers:(c,u,f)=>i(P4(c),P4(u),f,!0)};return et.forEach(Object.keys({...t,...e}),function(u){const f=l[u]||i,d=f(t[u],e[u],u);et.isUndefined(d)&&f!==o||(n[u]=d)}),n}const RR=t=>{const e=Zu({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:a,headers:s,auth:o}=e;e.headers=s=Pa.from(s),e.url=AR(CR(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),o&&s.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let l;if(et.isFormData(n)){if($i.hasStandardBrowserEnv||$i.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((l=s.getContentType())!==!1){const[c,...u]=l?l.split(";").map(f=>f.trim()).filter(Boolean):[];s.setContentType([c||"multipart/form-data",...u].join("; "))}}if($i.hasStandardBrowserEnv&&(r&&et.isFunction(r)&&(r=r(e)),r||r!==!1&&rj(e.url))){const c=i&&a&&ij.read(a);c&&s.set(i,c)}return e},oj=typeof XMLHttpRequest<"u",lj=oj&&function(t){return new Promise(function(n,r){const i=RR(t);let a=i.data;const s=Pa.from(i.headers).normalize();let{responseType:o,onUploadProgress:l,onDownloadProgress:c}=i,u,f,d,h,g;function x(){h&&h(),g&&g(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let v=new XMLHttpRequest;v.open(i.method.toUpperCase(),i.url,!0),v.timeout=i.timeout;function m(){if(!v)return;const _=Pa.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),N={data:!o||o==="text"||o==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:_,config:t,request:v};kR(function(T){n(T),x()},function(T){r(T),x()},N),v=null}"onloadend"in v?v.onloadend=m:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(m)},v.onabort=function(){v&&(r(new ln("Request aborted",ln.ECONNABORTED,t,v)),v=null)},v.onerror=function(){r(new ln("Network Error",ln.ERR_NETWORK,t,v)),v=null},v.ontimeout=function(){let S=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const N=i.transitional||TR;i.timeoutErrorMessage&&(S=i.timeoutErrorMessage),r(new ln(S,N.clarifyTimeoutError?ln.ETIMEDOUT:ln.ECONNABORTED,t,v)),v=null},a===void 0&&s.setContentType(null),"setRequestHeader"in v&&et.forEach(s.toJSON(),function(S,N){v.setRequestHeader(N,S)}),et.isUndefined(i.withCredentials)||(v.withCredentials=!!i.withCredentials),o&&o!=="json"&&(v.responseType=i.responseType),c&&([d,g]=cx(c,!0),v.addEventListener("progress",d)),l&&v.upload&&([f,h]=cx(l),v.upload.addEventListener("progress",f),v.upload.addEventListener("loadend",h)),(i.cancelToken||i.signal)&&(u=_=>{v&&(r(!_||_.type?new ud(null,t,v):_),v.abort(),v=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const b=ej(i.url);if(b&&$i.protocols.indexOf(b)===-1){r(new ln("Unsupported protocol "+b+":",ln.ERR_BAD_REQUEST,t));return}v.send(a||null)})},cj=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const a=function(c){if(!i){i=!0,o();const u=c instanceof Error?c:this.reason;r.abort(u instanceof ln?u:new ud(u instanceof Error?u.message:u))}};let s=e&&setTimeout(()=>{s=null,a(new ln(`timeout ${e} of ms exceeded`,ln.ETIMEDOUT))},e);const o=()=>{t&&(s&&clearTimeout(s),s=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(a):c.removeEventListener("abort",a)}),t=null)};t.forEach(c=>c.addEventListener("abort",a));const{signal:l}=r;return l.unsubscribe=()=>et.asap(o),l}},uj=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},fj=async function*(t,e){for await(const n of hj(t))yield*uj(n,e)},hj=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},L4=(t,e,n,r)=>{const i=fj(t,e);let a=0,s,o=l=>{s||(s=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await i.next();if(c){o(),l.close();return}let f=u.byteLength;if(n){let d=a+=f;n(d)}l.enqueue(new Uint8Array(u))}catch(c){throw o(c),c}},cancel(l){return o(l),i.return()}},{highWaterMark:2})},hv=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",PR=hv&&typeof ReadableStream=="function",dj=hv&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),LR=(t,...e)=>{try{return!!t(...e)}catch{return!1}},pj=PR&&LR(()=>{let t=!1;const e=new Request($i.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),F4=64*1024,Eb=PR&&LR(()=>et.isReadableStream(new Response("").body)),ux={stream:Eb&&(t=>t.body)};hv&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!ux[e]&&(ux[e]=et.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new ln(`Response type '${e}' is not supported`,ln.ERR_NOT_SUPPORT,r)})})})(new Response);const mj=async t=>{if(t==null)return 0;if(et.isBlob(t))return t.size;if(et.isSpecCompliantForm(t))return(await new Request($i.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(et.isArrayBufferView(t)||et.isArrayBuffer(t))return t.byteLength;if(et.isURLSearchParams(t)&&(t=t+""),et.isString(t))return(await dj(t)).byteLength},gj=async(t,e)=>{const n=et.toFiniteNumber(t.getContentLength());return n??mj(e)},xj=hv&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:a,timeout:s,onDownloadProgress:o,onUploadProgress:l,responseType:c,headers:u,withCredentials:f="same-origin",fetchOptions:d}=RR(t);c=c?(c+"").toLowerCase():"text";let h=cj([i,a&&a.toAbortSignal()],s),g;const x=h&&h.unsubscribe&&(()=>{h.unsubscribe()});let v;try{if(l&&pj&&n!=="get"&&n!=="head"&&(v=await gj(u,r))!==0){let N=new Request(e,{method:"POST",body:r,duplex:"half"}),P;if(et.isFormData(r)&&(P=N.headers.get("content-type"))&&u.setContentType(P),N.body){const[T,L]=C4(v,cx(R4(l)));r=L4(N.body,F4,T,L)}}et.isString(f)||(f=f?"include":"omit");const m="credentials"in Request.prototype;g=new Request(e,{...d,signal:h,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:m?f:void 0});let b=await fetch(g,d);const _=Eb&&(c==="stream"||c==="response");if(Eb&&(o||_&&x)){const N={};["status","statusText","headers"].forEach(E=>{N[E]=b[E]});const P=et.toFiniteNumber(b.headers.get("content-length")),[T,L]=o&&C4(P,cx(R4(o),!0))||[];b=new Response(L4(b.body,F4,T,()=>{L&&L(),x&&x()}),N)}c=c||"text";let S=await ux[et.findKey(ux,c)||"text"](b,t);return!_&&x&&x(),await new Promise((N,P)=>{kR(N,P,{data:S,headers:Pa.from(b.headers),status:b.status,statusText:b.statusText,config:t,request:g})})}catch(m){throw x&&x(),m&&m.name==="TypeError"&&/Load failed|fetch/i.test(m.message)?Object.assign(new ln("Network Error",ln.ERR_NETWORK,t,g),{cause:m.cause||m}):ln.from(m,m&&m.code,t,g)}}),Ab={http:PB,xhr:lj,fetch:xj};et.forEach(Ab,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const D4=t=>`- ${t}`,vj=t=>et.isFunction(t)||t===null||t===!1,FR={getAdapter:t=>{t=et.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let a=0;a<e;a++){n=t[a];let s;if(r=n,!vj(n)&&(r=Ab[(s=String(n)).toLowerCase()],r===void 0))throw new ln(`Unknown adapter '${s}'`);if(r)break;i[s||"#"+a]=r}if(!r){const a=Object.entries(i).map(([o,l])=>`adapter ${o} `+(l===!1?"is not supported by the environment":"is not available in the build"));let s=e?a.length>1?`since :
`+a.map(D4).join(`
`):" "+D4(a[0]):"as no adapter specified";throw new ln("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return r},adapters:Ab};function U2(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ud(null,t)}function I4(t){return U2(t),t.headers=Pa.from(t.headers),t.data=O2.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),FR.getAdapter(t.adapter||Zp.adapter)(t).then(function(r){return U2(t),r.data=O2.call(t,t.transformResponse,r),r.headers=Pa.from(r.headers),r},function(r){return NR(r)||(U2(t),r&&r.response&&(r.response.data=O2.call(t,t.transformResponse,r.response),r.response.headers=Pa.from(r.response.headers))),Promise.reject(r)})}const DR="1.11.0",dv={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{dv[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const O4={};dv.transitional=function(e,n,r){function i(a,s){return"[Axios v"+DR+"] Transitional option '"+a+"'"+s+(r?". "+r:"")}return(a,s,o)=>{if(e===!1)throw new ln(i(s," has been removed"+(n?" in "+n:"")),ln.ERR_DEPRECATED);return n&&!O4[s]&&(O4[s]=!0,console.warn(i(s," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(a,s,o):!0}};dv.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function yj(t,e,n){if(typeof t!="object")throw new ln("options must be an object",ln.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const a=r[i],s=e[a];if(s){const o=t[a],l=o===void 0||s(o,a,t);if(l!==!0)throw new ln("option "+a+" must be "+l,ln.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ln("Unknown option "+a,ln.ERR_BAD_OPTION)}}const p1={assertOptions:yj,validators:dv},po=p1.validators;let ju=class{constructor(e){this.defaults=e||{},this.interceptors={request:new N4,response:new N4}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Zu(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:a}=n;r!==void 0&&p1.assertOptions(r,{silentJSONParsing:po.transitional(po.boolean),forcedJSONParsing:po.transitional(po.boolean),clarifyTimeoutError:po.transitional(po.boolean)},!1),i!=null&&(et.isFunction(i)?n.paramsSerializer={serialize:i}:p1.assertOptions(i,{encode:po.function,serialize:po.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),p1.assertOptions(n,{baseUrl:po.spelling("baseURL"),withXsrfToken:po.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s=a&&et.merge(a.common,a[n.method]);a&&et.forEach(["delete","get","head","post","put","patch","common"],g=>{delete a[g]}),n.headers=Pa.concat(s,a);const o=[];let l=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(n)===!1||(l=l&&x.synchronous,o.unshift(x.fulfilled,x.rejected))});const c=[];this.interceptors.response.forEach(function(x){c.push(x.fulfilled,x.rejected)});let u,f=0,d;if(!l){const g=[I4.bind(this),void 0];for(g.unshift(...o),g.push(...c),d=g.length,u=Promise.resolve(n);f<d;)u=u.then(g[f++],g[f++]);return u}d=o.length;let h=n;for(f=0;f<d;){const g=o[f++],x=o[f++];try{h=g(h)}catch(v){x.call(this,v);break}}try{u=I4.call(this,h)}catch(g){return Promise.reject(g)}for(f=0,d=c.length;f<d;)u=u.then(c[f++],c[f++]);return u}getUri(e){e=Zu(this.defaults,e);const n=CR(e.baseURL,e.url,e.allowAbsoluteUrls);return AR(n,e.params,e.paramsSerializer)}};et.forEach(["delete","get","head","options"],function(e){ju.prototype[e]=function(n,r){return this.request(Zu(r||{},{method:e,url:n,data:(r||{}).data}))}});et.forEach(["post","put","patch"],function(e){function n(r){return function(a,s,o){return this.request(Zu(o||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:s}))}}ju.prototype[e]=n(),ju.prototype[e+"Form"]=n(!0)});let _j=class IR{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const r=this;this.promise.then(i=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](i);r._listeners=null}),this.promise.then=i=>{let a;const s=new Promise(o=>{r.subscribe(o),a=o}).then(i);return s.cancel=function(){r.unsubscribe(a)},s},e(function(a,s,o){r.reason||(r.reason=new ud(a,s,o),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new IR(function(i){e=i}),cancel:e}}};function bj(t){return function(n){return t.apply(null,n)}}function wj(t){return et.isObject(t)&&t.isAxiosError===!0}const Tb={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Tb).forEach(([t,e])=>{Tb[e]=t});function OR(t){const e=new ju(t),n=dR(ju.prototype.request,e);return et.extend(n,ju.prototype,e,{allOwnKeys:!0}),et.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return OR(Zu(t,i))},n}const vr=OR(Zp);vr.Axios=ju;vr.CanceledError=ud;vr.CancelToken=_j;vr.isCancel=NR;vr.VERSION=DR;vr.toFormData=fv;vr.AxiosError=ln;vr.Cancel=vr.CanceledError;vr.all=function(e){return Promise.all(e)};vr.spread=bj;vr.isAxiosError=wj;vr.mergeConfig=Zu;vr.AxiosHeaders=Pa;vr.formToJSON=t=>MR(et.isHTMLForm(t)?new FormData(t):t);vr.getAdapter=FR.getAdapter;vr.HttpStatusCode=Tb;vr.default=vr;const{Axios:Oce,AxiosError:Uce,CanceledError:Bce,isCancel:jce,CancelToken:zce,VERSION:Hce,all:Vce,Cancel:Wce,isAxiosError:Gce,spread:qce,toFormData:Xce,AxiosHeaders:$ce,HttpStatusCode:Yce,formToJSON:Kce,getAdapter:Jce,mergeConfig:Zce}=vr,zu=vr.create({baseURL:"https://excel-analytics-zo51.onrender.com/api"});zu.interceptors.request.use(t=>{const e=localStorage.getItem("token");return e&&(t.headers.Authorization=`Bearer ${e}`),t});function Sj({fileId:t,onCreated:e}){const[n,r]=De.useState(!1),[i,a]=De.useState(""),s=async()=>{var o,l;a(""),r(!0);try{const{data:c}=await zu.post(`/insights/${t}`);e==null||e(c)}catch(c){a(((l=(o=c.response)==null?void 0:o.data)==null?void 0:l.message)||"Failed to generate insights")}finally{r(!1)}};return p.jsxs("div",{children:[p.jsx("button",{disabled:n,onClick:s,className:"px-3 py-1 border rounded",children:n?"Thinking":"Generate AI Insights"}),i&&p.jsx("div",{className:"text-red-500 text-sm mt-1",children:i})]})}/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var UR=1252,Ej=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],oS={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},lS=function(t){Ej.indexOf(t)!=-1&&(UR=oS[0]=t)};function Aj(){lS(1252)}var Ws=function(t){lS(t)};function BR(){Ws(1200),Aj()}function U4(t){for(var e=[],n=0,r=t.length;n<r;++n)e[n]=t.charCodeAt(n);return e}function Tj(t){for(var e=[],n=0;n<t.length>>1;++n)e[n]=String.fromCharCode(t.charCodeAt(2*n)+(t.charCodeAt(2*n+1)<<8));return e.join("")}function jR(t){for(var e=[],n=0;n<t.length>>1;++n)e[n]=String.fromCharCode(t.charCodeAt(2*n+1)+(t.charCodeAt(2*n)<<8));return e.join("")}var m0=function(t){var e=t.charCodeAt(0),n=t.charCodeAt(1);return e==255&&n==254?Tj(t.slice(2)):e==254&&n==255?jR(t.slice(2)):e==65279?t.slice(1):t},Ym=function(e){return String.fromCharCode(e)},B4=function(e){return String.fromCharCode(e)},_p,mc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function j4(t){for(var e="",n=0,r=0,i=0,a=0,s=0,o=0,l=0,c=0;c<t.length;)n=t.charCodeAt(c++),a=n>>2,r=t.charCodeAt(c++),s=(n&3)<<4|r>>4,i=t.charCodeAt(c++),o=(r&15)<<2|i>>6,l=i&63,isNaN(r)?o=l=64:isNaN(i)&&(l=64),e+=mc.charAt(a)+mc.charAt(s)+mc.charAt(o)+mc.charAt(l);return e}function is(t){var e="",n=0,r=0,i=0,a=0,s=0,o=0,l=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var c=0;c<t.length;)a=mc.indexOf(t.charAt(c++)),s=mc.indexOf(t.charAt(c++)),n=a<<2|s>>4,e+=String.fromCharCode(n),o=mc.indexOf(t.charAt(c++)),r=(s&15)<<4|o>>2,o!==64&&(e+=String.fromCharCode(r)),l=mc.indexOf(t.charAt(c++)),i=(o&3)<<6|l,l!==64&&(e+=String.fromCharCode(i));return e}var wn=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),ff=function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,n){return n?new Buffer(e,n):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}();function Uc(t){return wn?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function z4(t){return wn?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var Hs=function(e){return wn?ff(e,"binary"):e.split("").map(function(n){return n.charCodeAt(0)&255})};function hf(t){if(Array.isArray(t))return t.map(function(r){return String.fromCharCode(r)}).join("");for(var e=[],n=0;n<t.length;++n)e[n]=String.fromCharCode(t[n]);return e.join("")}function cS(t){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(t instanceof ArrayBuffer)return cS(new Uint8Array(t));for(var e=new Array(t.length),n=0;n<t.length;++n)e[n]=t[n];return e}var uc=wn?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:ff(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,n=0;for(e=0;e<t.length;++e)n+=t[e].length;var r=new Uint8Array(n),i=0;for(e=0,n=0;e<t.length;n+=i,++e)if(i=t[e].length,t[e]instanceof Uint8Array)r.set(t[e],n);else{if(typeof t[e]=="string")throw"wtf";r.set(new Uint8Array(t[e]),n)}return r}return[].concat.apply([],t.map(function(a){return Array.isArray(a)?a:[].slice.call(a)}))};function Mj(t){for(var e=[],n=0,r=t.length+250,i=Uc(t.length+255),a=0;a<t.length;++a){var s=t.charCodeAt(a);if(s<128)i[n++]=s;else if(s<2048)i[n++]=192|s>>6&31,i[n++]=128|s&63;else if(s>=55296&&s<57344){s=(s&1023)+64;var o=t.charCodeAt(++a)&1023;i[n++]=240|s>>8&7,i[n++]=128|s>>2&63,i[n++]=128|o>>6&15|(s&3)<<4,i[n++]=128|o&63}else i[n++]=224|s>>12&15,i[n++]=128|s>>6&63,i[n++]=128|s&63;n>r&&(e.push(i.slice(0,n)),n=0,i=Uc(65535),r=65530)}return e.push(i.slice(0,n)),uc(e)}var da=/\u0000/g,g0=/[\u0001-\u0006]/g;function Mh(t){for(var e="",n=t.length-1;n>=0;)e+=t.charAt(n--);return e}function Gs(t,e){var n=""+t;return n.length>=e?n:Er("0",e-n.length)+n}function uS(t,e){var n=""+t;return n.length>=e?n:Er(" ",e-n.length)+n}function fx(t,e){var n=""+t;return n.length>=e?n:n+Er(" ",e-n.length)}function Nj(t,e){var n=""+Math.round(t);return n.length>=e?n:Er("0",e-n.length)+n}function kj(t,e){var n=""+t;return n.length>=e?n:Er("0",e-n.length)+n}var H4=Math.pow(2,32);function If(t,e){if(t>H4||t<-H4)return Nj(t,e);var n=Math.round(t);return kj(n,e)}function hx(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var V4=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],B2=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function Cj(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var on={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},W4={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},Rj={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function dx(t,e,n){for(var r=t<0?-1:1,i=t*r,a=0,s=1,o=0,l=1,c=0,u=0,f=Math.floor(i);c<e&&(f=Math.floor(i),o=f*s+a,u=f*c+l,!(i-f<5e-8));)i=1/(i-f),a=s,s=o,l=c,c=u;if(u>e&&(c>e?(u=l,o=a):(u=c,o=s)),!n)return[0,r*o,u];var d=Math.floor(r*o/u);return[d,r*o-d*u,u]}function Lu(t,e,n){if(t>2958465||t<0)return null;var r=t|0,i=Math.floor(86400*(t-r)),a=0,s=[],o={D:r,T:i,u:86400*(t-r)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),e&&e.date1904&&(r+=1462),o.u>.9999&&(o.u=0,++i==86400&&(o.T=i=0,++r,++o.D)),r===60)s=n?[1317,10,29]:[1900,2,29],a=3;else if(r===0)s=n?[1317,8,29]:[1900,1,0],a=6;else{r>60&&--r;var l=new Date(1900,0,1);l.setDate(l.getDate()+r-1),s=[l.getFullYear(),l.getMonth()+1,l.getDate()],a=l.getDay(),r<60&&(a=(a+6)%7),n&&(a=Oj(l,s))}return o.y=s[0],o.m=s[1],o.d=s[2],o.S=i%60,i=Math.floor(i/60),o.M=i%60,i=Math.floor(i/60),o.H=i,o.q=a,o}var zR=new Date(1899,11,31,0,0,0),Pj=zR.getTime(),Lj=new Date(1900,2,1,0,0,0);function HR(t,e){var n=t.getTime();return e?n-=1461*24*60*60*1e3:t>=Lj&&(n+=24*60*60*1e3),(n-(Pj+(t.getTimezoneOffset()-zR.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function fS(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function Fj(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function Dj(t){var e=t<0?12:11,n=fS(t.toFixed(12));return n.length<=e||(n=t.toPrecision(10),n.length<=e)?n:t.toExponential(5)}function Ij(t){var e=fS(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function bp(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),n;return e>=-4&&e<=-1?n=t.toPrecision(10+e):Math.abs(e)<=9?n=Dj(t):e===10?n=t.toFixed(10).substr(0,12):n=Ij(t),fS(Fj(n.toUpperCase()))}function Qu(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):bp(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return Es(14,HR(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function Oj(t,e){e[0]-=581;var n=t.getDay();return t<60&&(n=(n+6)%7),n}function Uj(t,e,n,r){var i="",a=0,s=0,o=n.y,l,c=0;switch(t){case 98:o=n.y+543;case 121:switch(e.length){case 1:case 2:l=o%100,c=2;break;default:l=o%1e4,c=4;break}break;case 109:switch(e.length){case 1:case 2:l=n.m,c=e.length;break;case 3:return B2[n.m-1][1];case 5:return B2[n.m-1][0];default:return B2[n.m-1][2]}break;case 100:switch(e.length){case 1:case 2:l=n.d,c=e.length;break;case 3:return V4[n.q][0];default:return V4[n.q][1]}break;case 104:switch(e.length){case 1:case 2:l=1+(n.H+11)%12,c=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:l=n.H,c=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:l=n.M,c=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return n.u===0&&(e=="s"||e=="ss")?Gs(n.S,e.length):(r>=2?s=r===3?1e3:100:s=r===1?10:1,a=Math.round(s*(n.S+n.u)),a>=60*s&&(a=0),e==="s"?a===0?"0":""+a/s:(i=Gs(a,2+r),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":l=n.D*24+n.H;break;case"[m]":case"[mm]":l=(n.D*24+n.H)*60+n.M;break;case"[s]":case"[ss]":l=((n.D*24+n.H)*60+n.M)*60+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+e}c=e.length===3?1:2;break;case 101:l=o,c=1;break}var u=c>0?Gs(l,c):"";return u}function gc(t){var e=3;if(t.length<=e)return t;for(var n=t.length%e,r=t.substr(0,n);n!=t.length;n+=e)r+=(r.length>0?",":"")+t.substr(n,e);return r}var VR=/%/g;function Bj(t,e,n){var r=e.replace(VR,""),i=e.length-r.length;return Sl(t,r,n*Math.pow(10,2*i))+Er("%",i)}function jj(t,e,n){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return Sl(t,e.substr(0,r),n/Math.pow(10,3*(e.length-r)))}function WR(t,e){var n,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+WR(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var a=Math.floor(Math.log(e)*Math.LOG10E)%i;if(a<0&&(a+=i),n=(e/Math.pow(10,a)).toPrecision(r+1+(i+a)%i),n.indexOf("e")===-1){var s=Math.floor(Math.log(e)*Math.LOG10E);for(n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(s-n.length+a):n+="E+"+(s-a);n.substr(0,2)==="0.";)n=n.charAt(0)+n.substr(2,i)+"."+n.substr(2+i),n=n.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(i+a)%i)+"."+u.substr(a)+"E"})}else n=e.toExponential(r);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var GR=/# (\?+)( ?)\/( ?)(\d+)/;function zj(t,e,n){var r=parseInt(t[4],10),i=Math.round(e*r),a=Math.floor(i/r),s=i-a*r,o=r;return n+(a===0?"":""+a)+" "+(s===0?Er(" ",t[1].length+1+t[4].length):uS(s,t[1].length)+t[2]+"/"+t[3]+Gs(o,t[4].length))}function Hj(t,e,n){return n+(e===0?"":""+e)+Er(" ",t[1].length+2+t[4].length)}var qR=/^#*0*\.([0#]+)/,XR=/\).*[0#]/,$R=/\(###\) ###\\?-####/;function ca(t){for(var e="",n,r=0;r!=t.length;++r)switch(n=t.charCodeAt(r)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(n)}return e}function G4(t,e){var n=Math.pow(10,e);return""+Math.round(t*n)/n}function q4(t,e){var n=t-Math.floor(t),r=Math.pow(10,e);return e<(""+Math.round(n*r)).length?0:Math.round(n*r)}function Vj(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function Wj(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function ps(t,e,n){if(t.charCodeAt(0)===40&&!e.match(XR)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?ps("n",r,n):"("+ps("n",r,-n)+")"}if(e.charCodeAt(e.length-1)===44)return jj(t,e,n);if(e.indexOf("%")!==-1)return Bj(t,e,n);if(e.indexOf("E")!==-1)return WR(e,n);if(e.charCodeAt(0)===36)return"$"+ps(t,e.substr(e.charAt(1)==" "?2:1),n);var i,a,s,o,l=Math.abs(n),c=n<0?"-":"";if(e.match(/^00+$/))return c+If(l,e.length);if(e.match(/^[#?]+$/))return i=If(n,0),i==="0"&&(i=""),i.length>e.length?i:ca(e.substr(0,e.length-i.length))+i;if(a=e.match(GR))return zj(a,l,c);if(e.match(/^#+0+$/))return c+If(l,e.length-e.indexOf("0"));if(a=e.match(qR))return i=G4(n,a[1].length).replace(/^([^\.]+)$/,"$1."+ca(a[1])).replace(/\.$/,"."+ca(a[1])).replace(/\.(\d*)$/,function(g,x){return"."+x+Er("0",ca(a[1]).length-x.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),a=e.match(/^(0*)\.(#*)$/))return c+G4(l,a[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=e.match(/^#{1,3},##0(\.?)$/))return c+gc(If(l,0));if(a=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+ps(t,e,-n):gc(""+(Math.floor(n)+Vj(n,a[1].length)))+"."+Gs(q4(n,a[1].length),a[1].length);if(a=e.match(/^#,#*,#0/))return ps(t,e.replace(/^#,#*,/,""),n);if(a=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Mh(ps(t,e.replace(/[\\-]/g,""),n)),s=0,Mh(Mh(e.replace(/\\/g,"")).replace(/[0#]/g,function(g){return s<i.length?i.charAt(s++):g==="0"?"0":""}));if(e.match($R))return i=ps(t,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var u="";if(a=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(a[4].length,7),o=dx(l,Math.pow(10,s)-1,!1),i=""+c,u=Sl("n",a[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),i+=u+a[2]+"/"+a[3],u=fx(o[2],s),u.length<a[4].length&&(u=ca(a[4].substr(a[4].length-u.length))+u),i+=u,i;if(a=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(a[1].length,a[4].length),7),o=dx(l,Math.pow(10,s)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?uS(o[1],s)+a[2]+"/"+a[3]+fx(o[2],s):Er(" ",2*s+1+a[2].length+a[3].length));if(a=e.match(/^[#0?]+$/))return i=If(n,0),e.length<=i.length?i:ca(e.substr(0,e.length-i.length))+i;if(a=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),s=i.indexOf(".");var f=e.indexOf(".")-s,d=e.length-i.length-f;return ca(e.substr(0,f)+i+e.substr(e.length-d))}if(a=e.match(/^00,000\.([#0]*0)$/))return s=q4(n,a[1].length),n<0?"-"+ps(t,e,-n):gc(Wj(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?Gs(0,3-g.length):"")+g})+"."+Gs(s,a[1].length);switch(e){case"###,##0.00":return ps(t,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var h=gc(If(l,0));return h!=="0"?c+h:"";case"###,###.00":return ps(t,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return ps(t,"#,##0.00",n).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function Gj(t,e,n){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return Sl(t,e.substr(0,r),n/Math.pow(10,3*(e.length-r)))}function qj(t,e,n){var r=e.replace(VR,""),i=e.length-r.length;return Sl(t,r,n*Math.pow(10,2*i))+Er("%",i)}function YR(t,e){var n,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+YR(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var a=Math.floor(Math.log(e)*Math.LOG10E)%i;if(a<0&&(a+=i),n=(e/Math.pow(10,a)).toPrecision(r+1+(i+a)%i),!n.match(/[Ee]/)){var s=Math.floor(Math.log(e)*Math.LOG10E);n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(s-n.length+a):n+="E+"+(s-a),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(i+a)%i)+"."+u.substr(a)+"E"})}else n=e.toExponential(r);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function xo(t,e,n){if(t.charCodeAt(0)===40&&!e.match(XR)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?xo("n",r,n):"("+xo("n",r,-n)+")"}if(e.charCodeAt(e.length-1)===44)return Gj(t,e,n);if(e.indexOf("%")!==-1)return qj(t,e,n);if(e.indexOf("E")!==-1)return YR(e,n);if(e.charCodeAt(0)===36)return"$"+xo(t,e.substr(e.charAt(1)==" "?2:1),n);var i,a,s,o,l=Math.abs(n),c=n<0?"-":"";if(e.match(/^00+$/))return c+Gs(l,e.length);if(e.match(/^[#?]+$/))return i=""+n,n===0&&(i=""),i.length>e.length?i:ca(e.substr(0,e.length-i.length))+i;if(a=e.match(GR))return Hj(a,l,c);if(e.match(/^#+0+$/))return c+Gs(l,e.length-e.indexOf("0"));if(a=e.match(qR))return i=(""+n).replace(/^([^\.]+)$/,"$1."+ca(a[1])).replace(/\.$/,"."+ca(a[1])),i=i.replace(/\.(\d*)$/,function(g,x){return"."+x+Er("0",ca(a[1]).length-x.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),a=e.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=e.match(/^#{1,3},##0(\.?)$/))return c+gc(""+l);if(a=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+xo(t,e,-n):gc(""+n)+"."+Er("0",a[1].length);if(a=e.match(/^#,#*,#0/))return xo(t,e.replace(/^#,#*,/,""),n);if(a=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Mh(xo(t,e.replace(/[\\-]/g,""),n)),s=0,Mh(Mh(e.replace(/\\/g,"")).replace(/[0#]/g,function(g){return s<i.length?i.charAt(s++):g==="0"?"0":""}));if(e.match($R))return i=xo(t,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var u="";if(a=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(a[4].length,7),o=dx(l,Math.pow(10,s)-1,!1),i=""+c,u=Sl("n",a[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),i+=u+a[2]+"/"+a[3],u=fx(o[2],s),u.length<a[4].length&&(u=ca(a[4].substr(a[4].length-u.length))+u),i+=u,i;if(a=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(a[1].length,a[4].length),7),o=dx(l,Math.pow(10,s)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?uS(o[1],s)+a[2]+"/"+a[3]+fx(o[2],s):Er(" ",2*s+1+a[2].length+a[3].length));if(a=e.match(/^[#0?]+$/))return i=""+n,e.length<=i.length?i:ca(e.substr(0,e.length-i.length))+i;if(a=e.match(/^([#0]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),s=i.indexOf(".");var f=e.indexOf(".")-s,d=e.length-i.length-f;return ca(e.substr(0,f)+i+e.substr(e.length-d))}if(a=e.match(/^00,000\.([#0]*0)$/))return n<0?"-"+xo(t,e,-n):gc(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?Gs(0,3-g.length):"")+g})+"."+Gs(0,a[1].length);switch(e){case"###,###":case"##,###":case"#,###":var h=gc(""+l);return h!=="0"?c+h:"";default:if(e.match(/\.[0#?]*$/))return xo(t,e.slice(0,e.lastIndexOf(".")),n)+ca(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function Sl(t,e,n){return(n|0)===n?xo(t,e,n):ps(t,e,n)}function Xj(t){for(var e=[],n=!1,r=0,i=0;r<t.length;++r)switch(t.charCodeAt(r)){case 34:n=!n;break;case 95:case 42:case 92:++r;break;case 59:e[e.length]=t.substr(i,r-i),i=r+1}if(e[e.length]=t.substr(i),n===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var KR=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function fd(t){for(var e=0,n="",r="";e<t.length;)switch(n=t.charAt(e)){case"G":hx(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(r=n;t.charAt(e++)!=="]"&&e<t.length;)r+=t.charAt(e);if(r.match(KR))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(n=t.charAt(++e))>-1||n=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===n;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function $j(t,e,n,r){for(var i=[],a="",s=0,o="",l="t",c,u,f,d="H";s<t.length;)switch(o=t.charAt(s)){case"G":if(!hx(t,s))throw new Error("unrecognized character "+o+" in "+t);i[i.length]={t:"G",v:"General"},s+=7;break;case'"':for(a="";(f=t.charCodeAt(++s))!==34&&s<t.length;)a+=String.fromCharCode(f);i[i.length]={t:"t",v:a},++s;break;case"\\":var h=t.charAt(++s),g=h==="("||h===")"?h:"t";i[i.length]={t:g,v:h},++s;break;case"_":i[i.length]={t:"t",v:" "},s+=2;break;case"@":i[i.length]={t:"T",v:e},++s;break;case"B":case"b":if(t.charAt(s+1)==="1"||t.charAt(s+1)==="2"){if(c==null&&(c=Lu(e,n,t.charAt(s+1)==="2"),c==null))return"";i[i.length]={t:"X",v:t.substr(s,2)},l=o,s+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||c==null&&(c=Lu(e,n),c==null))return"";for(a=o;++s<t.length&&t.charAt(s).toLowerCase()===o;)a+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=d),i[i.length]={t:o,v:a},l=o;break;case"A":case"a":case"":var x={t:o,v:o};if(c==null&&(c=Lu(e,n)),t.substr(s,3).toUpperCase()==="A/P"?(c!=null&&(x.v=c.H>=12?"P":"A"),x.t="T",d="h",s+=3):t.substr(s,5).toUpperCase()==="AM/PM"?(c!=null&&(x.v=c.H>=12?"PM":"AM"),x.t="T",s+=5,d="h"):t.substr(s,5).toUpperCase()==="/"?(c!=null&&(x.v=c.H>=12?"":""),x.t="T",s+=5,d="h"):(x.t="t",++s),c==null&&x.t==="T")return"";i[i.length]=x,l=o;break;case"[":for(a=o;t.charAt(s++)!=="]"&&s<t.length;)a+=t.charAt(s);if(a.slice(-1)!=="]")throw'unterminated "[" block: |'+a+"|";if(a.match(KR)){if(c==null&&(c=Lu(e,n),c==null))return"";i[i.length]={t:"Z",v:a.toLowerCase()},l=a.charAt(1)}else a.indexOf("$")>-1&&(a=(a.match(/\$([^-\[\]]*)/)||[])[1]||"$",fd(t)||(i[i.length]={t:"t",v:a}));break;case".":if(c!=null){for(a=o;++s<t.length&&(o=t.charAt(s))==="0";)a+=o;i[i.length]={t:"s",v:a};break}case"0":case"#":for(a=o;++s<t.length&&"0#?.,E+-%".indexOf(o=t.charAt(s))>-1;)a+=o;i[i.length]={t:"n",v:a};break;case"?":for(a=o;t.charAt(++s)===o;)a+=o;i[i.length]={t:o,v:a},l=o;break;case"*":++s,(t.charAt(s)==" "||t.charAt(s)=="*")&&++s;break;case"(":case")":i[i.length]={t:r===1?"t":o,v:o},++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(a=o;s<t.length&&"0123456789".indexOf(t.charAt(++s))>-1;)a+=t.charAt(s);i[i.length]={t:"D",v:a};break;case" ":i[i.length]={t:o,v:o},++s;break;case"$":i[i.length]={t:"t",v:"$"},++s;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+t);i[i.length]={t:"t",v:o},++s;break}var v=0,m=0,b;for(s=i.length-1,l="t";s>=0;--s)switch(i[s].t){case"h":case"H":i[s].t=d,l="h",v<1&&(v=1);break;case"s":(b=i[s].v.match(/\.0+$/))&&(m=Math.max(m,b[0].length-1)),v<3&&(v=3);case"d":case"y":case"M":case"e":l=i[s].t;break;case"m":l==="s"&&(i[s].t="M",v<2&&(v=2));break;case"X":break;case"Z":v<1&&i[s].v.match(/[Hh]/)&&(v=1),v<2&&i[s].v.match(/[Mm]/)&&(v=2),v<3&&i[s].v.match(/[Ss]/)&&(v=3)}switch(v){case 0:break;case 1:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M),c.M>=60&&(c.M=0,++c.H);break;case 2:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M);break}var _="",S;for(s=0;s<i.length;++s)switch(i[s].t){case"t":case"T":case" ":case"D":break;case"X":i[s].v="",i[s].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[s].v=Uj(i[s].t.charCodeAt(0),i[s].v,c,m),i[s].t="t";break;case"n":case"?":for(S=s+1;i[S]!=null&&((o=i[S].t)==="?"||o==="D"||(o===" "||o==="t")&&i[S+1]!=null&&(i[S+1].t==="?"||i[S+1].t==="t"&&i[S+1].v==="/")||i[s].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(i[S].v==="/"||i[S].v===" "&&i[S+1]!=null&&i[S+1].t=="?"));)i[s].v+=i[S].v,i[S]={v:"",t:";"},++S;_+=i[s].v,s=S-1;break;case"G":i[s].t="t",i[s].v=Qu(e,n);break}var N="",P,T;if(_.length>0){_.charCodeAt(0)==40?(P=e<0&&_.charCodeAt(0)===45?-e:e,T=Sl("n",_,P)):(P=e<0&&r>1?-e:e,T=Sl("n",_,P),P<0&&i[0]&&i[0].t=="t"&&(T=T.substr(1),i[0].v="-"+i[0].v)),S=T.length-1;var L=i.length;for(s=0;s<i.length;++s)if(i[s]!=null&&i[s].t!="t"&&i[s].v.indexOf(".")>-1){L=s;break}var E=i.length;if(L===i.length&&T.indexOf("E")===-1){for(s=i.length-1;s>=0;--s)i[s]==null||"n?".indexOf(i[s].t)===-1||(S>=i[s].v.length-1?(S-=i[s].v.length,i[s].v=T.substr(S+1,i[s].v.length)):S<0?i[s].v="":(i[s].v=T.substr(0,S+1),S=-1),i[s].t="t",E=s);S>=0&&E<i.length&&(i[E].v=T.substr(0,S+1)+i[E].v)}else if(L!==i.length&&T.indexOf("E")===-1){for(S=T.indexOf(".")-1,s=L;s>=0;--s)if(!(i[s]==null||"n?".indexOf(i[s].t)===-1)){for(u=i[s].v.indexOf(".")>-1&&s===L?i[s].v.indexOf(".")-1:i[s].v.length-1,N=i[s].v.substr(u+1);u>=0;--u)S>=0&&(i[s].v.charAt(u)==="0"||i[s].v.charAt(u)==="#")&&(N=T.charAt(S--)+N);i[s].v=N,i[s].t="t",E=s}for(S>=0&&E<i.length&&(i[E].v=T.substr(0,S+1)+i[E].v),S=T.indexOf(".")+1,s=L;s<i.length;++s)if(!(i[s]==null||"n?(".indexOf(i[s].t)===-1&&s!==L)){for(u=i[s].v.indexOf(".")>-1&&s===L?i[s].v.indexOf(".")+1:0,N=i[s].v.substr(0,u);u<i[s].v.length;++u)S<T.length&&(N+=T.charAt(S++));i[s].v=N,i[s].t="t",E=s}}}for(s=0;s<i.length;++s)i[s]!=null&&"n?".indexOf(i[s].t)>-1&&(P=r>1&&e<0&&s>0&&i[s-1].v==="-"?-e:e,i[s].v=Sl(i[s].t,i[s].v,P),i[s].t="t");var R="";for(s=0;s!==i.length;++s)i[s]!=null&&(R+=i[s].v);return R}var X4=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function $4(t,e){if(e==null)return!1;var n=parseFloat(e[2]);switch(e[1]){case"=":if(t==n)return!0;break;case">":if(t>n)return!0;break;case"<":if(t<n)return!0;break;case"<>":if(t!=n)return!0;break;case">=":if(t>=n)return!0;break;case"<=":if(t<=n)return!0;break}return!1}function Yj(t,e){var n=Xj(t),r=n.length,i=n[r-1].indexOf("@");if(r<4&&i>-1&&--r,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if(typeof e!="number")return[4,n.length===4||i>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=i>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=i>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=i>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"];break}var a=e>0?n[0]:e<0?n[1]:n[2];if(n[0].indexOf("[")===-1&&n[1].indexOf("[")===-1)return[r,a];if(n[0].match(/\[[=<>]/)!=null||n[1].match(/\[[=<>]/)!=null){var s=n[0].match(X4),o=n[1].match(X4);return $4(e,s)?[r,n[0]]:$4(e,o)?[r,n[1]]:[r,n[s!=null&&o!=null?2:1]]}return[r,a]}function Es(t,e,n){n==null&&(n={});var r="";switch(typeof t){case"string":t=="m/d/yy"&&n.dateNF?r=n.dateNF:r=t;break;case"number":t==14&&n.dateNF?r=n.dateNF:r=(n.table!=null?n.table:on)[t],r==null&&(r=n.table&&n.table[W4[t]]||on[W4[t]]),r==null&&(r=Rj[t]||"General");break}if(hx(r,0))return Qu(e,n);e instanceof Date&&(e=HR(e,n.date1904));var i=Yj(r,e);if(hx(i[1]))return Qu(e,n);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return $j(i[1],e,n,i[0])}function Hu(t,e){if(typeof e!="number"){e=+e||-1;for(var n=0;n<392;++n){if(on[n]==null){e<0&&(e=n);continue}if(on[n]==t){e=n;break}}e<0&&(e=391)}return on[e]=t,e}function JR(){on=Cj()}var Kj={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},ZR=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function Jj(t){var e=typeof t=="number"?on[t]:t;return e=e.replace(ZR,"(\\d+)"),new RegExp("^"+e+"$")}function Zj(t,e,n){var r=-1,i=-1,a=-1,s=-1,o=-1,l=-1;(e.match(ZR)||[]).forEach(function(f,d){var h=parseInt(n[d+1],10);switch(f.toLowerCase().charAt(0)){case"y":r=h;break;case"d":a=h;break;case"h":s=h;break;case"s":l=h;break;case"m":s>=0?o=h:i=h;break}}),l>=0&&o==-1&&i>=0&&(o=i,i=-1);var c=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(a>=1?a:1)).slice(-2);c.length==7&&(c="0"+c),c.length==8&&(c="20"+c);var u=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return s==-1&&o==-1&&l==-1?c:r==-1&&i==-1&&a==-1?u:c+"T"+u}var Qj=function(){var t={};t.version="1.2.0";function e(){for(var T=0,L=new Array(256),E=0;E!=256;++E)T=E,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,L[E]=T;return typeof Int32Array<"u"?new Int32Array(L):L}var n=e();function r(T){var L=0,E=0,R=0,A=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(R=0;R!=256;++R)A[R]=T[R];for(R=0;R!=256;++R)for(E=T[R],L=256+R;L<4096;L+=256)E=A[L]=E>>>8^T[E&255];var F=[];for(R=1;R!=16;++R)F[R-1]=typeof Int32Array<"u"?A.subarray(R*256,R*256+256):A.slice(R*256,R*256+256);return F}var i=r(n),a=i[0],s=i[1],o=i[2],l=i[3],c=i[4],u=i[5],f=i[6],d=i[7],h=i[8],g=i[9],x=i[10],v=i[11],m=i[12],b=i[13],_=i[14];function S(T,L){for(var E=L^-1,R=0,A=T.length;R<A;)E=E>>>8^n[(E^T.charCodeAt(R++))&255];return~E}function N(T,L){for(var E=L^-1,R=T.length-15,A=0;A<R;)E=_[T[A++]^E&255]^b[T[A++]^E>>8&255]^m[T[A++]^E>>16&255]^v[T[A++]^E>>>24]^x[T[A++]]^g[T[A++]]^h[T[A++]]^d[T[A++]]^f[T[A++]]^u[T[A++]]^c[T[A++]]^l[T[A++]]^o[T[A++]]^s[T[A++]]^a[T[A++]]^n[T[A++]];for(R+=15;A<R;)E=E>>>8^n[(E^T[A++])&255];return~E}function P(T,L){for(var E=L^-1,R=0,A=T.length,F=0,j=0;R<A;)F=T.charCodeAt(R++),F<128?E=E>>>8^n[(E^F)&255]:F<2048?(E=E>>>8^n[(E^(192|F>>6&31))&255],E=E>>>8^n[(E^(128|F&63))&255]):F>=55296&&F<57344?(F=(F&1023)+64,j=T.charCodeAt(R++)&1023,E=E>>>8^n[(E^(240|F>>8&7))&255],E=E>>>8^n[(E^(128|F>>2&63))&255],E=E>>>8^n[(E^(128|j>>6&15|(F&3)<<4))&255],E=E>>>8^n[(E^(128|j&63))&255]):(E=E>>>8^n[(E^(224|F>>12&15))&255],E=E>>>8^n[(E^(128|F>>6&63))&255],E=E>>>8^n[(E^(128|F&63))&255]);return~E}return t.table=n,t.bstr=S,t.buf=N,t.str=P,t}(),En=function(){var e={};e.version="1.2.1";function n(J,fe){for(var oe=J.split("/"),ce=fe.split("/"),he=0,ge=0,je=Math.min(oe.length,ce.length);he<je;++he){if(ge=oe[he].length-ce[he].length)return ge;if(oe[he]!=ce[he])return oe[he]<ce[he]?-1:1}return oe.length-ce.length}function r(J){if(J.charAt(J.length-1)=="/")return J.slice(0,-1).indexOf("/")===-1?J:r(J.slice(0,-1));var fe=J.lastIndexOf("/");return fe===-1?J:J.slice(0,fe+1)}function i(J){if(J.charAt(J.length-1)=="/")return i(J.slice(0,-1));var fe=J.lastIndexOf("/");return fe===-1?J:J.slice(fe+1)}function a(J,fe){typeof fe=="string"&&(fe=new Date(fe));var oe=fe.getHours();oe=oe<<6|fe.getMinutes(),oe=oe<<5|fe.getSeconds()>>>1,J.write_shift(2,oe);var ce=fe.getFullYear()-1980;ce=ce<<4|fe.getMonth()+1,ce=ce<<5|fe.getDate(),J.write_shift(2,ce)}function s(J){var fe=J.read_shift(2)&65535,oe=J.read_shift(2)&65535,ce=new Date,he=oe&31;oe>>>=5;var ge=oe&15;oe>>>=4,ce.setMilliseconds(0),ce.setFullYear(oe+1980),ce.setMonth(ge-1),ce.setDate(he);var je=fe&31;fe>>>=5;var Qe=fe&63;return fe>>>=6,ce.setHours(fe),ce.setMinutes(Qe),ce.setSeconds(je<<1),ce}function o(J){Ai(J,0);for(var fe={},oe=0;J.l<=J.length-4;){var ce=J.read_shift(2),he=J.read_shift(2),ge=J.l+he,je={};switch(ce){case 21589:oe=J.read_shift(1),oe&1&&(je.mtime=J.read_shift(4)),he>5&&(oe&2&&(je.atime=J.read_shift(4)),oe&4&&(je.ctime=J.read_shift(4))),je.mtime&&(je.mt=new Date(je.mtime*1e3));break}J.l=ge,fe[ce]=je}return fe}var l;function c(){return l||(l={})}function u(J,fe){if(J[0]==80&&J[1]==75)return ht(J,fe);if((J[0]|32)==109&&(J[1]|32)==105)return Ot(J,fe);if(J.length<512)throw new Error("CFB file size "+J.length+" < 512");var oe=3,ce=512,he=0,ge=0,je=0,Qe=0,ze=0,He=[],Ge=J.slice(0,512);Ai(Ge,0);var z=f(Ge);switch(oe=z[0],oe){case 3:ce=512;break;case 4:ce=4096;break;case 0:if(z[1]==0)return ht(J,fe);default:throw new Error("Major Version: Expected 3 or 4 saw "+oe)}ce!==512&&(Ge=J.slice(0,ce),Ai(Ge,28));var ye=J.slice(0,ce);d(Ge,oe);var Me=Ge.read_shift(4,"i");if(oe===3&&Me!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Me);Ge.l+=4,je=Ge.read_shift(4,"i"),Ge.l+=4,Ge.chk("00100000","Mini Stream Cutoff Size: "),Qe=Ge.read_shift(4,"i"),he=Ge.read_shift(4,"i"),ze=Ge.read_shift(4,"i"),ge=Ge.read_shift(4,"i");for(var Te=-1,we=0;we<109&&(Te=Ge.read_shift(4,"i"),!(Te<0));++we)He[we]=Te;var Je=h(J,ce);v(ze,ge,Je,ce,He);var xt=b(Je,je,He,ce);xt[je].name="!Directory",he>0&&Qe!==j&&(xt[Qe].name="!MiniFAT"),xt[He[0]].name="!FAT",xt.fat_addrs=He,xt.ssz=ce;var vt={},Et=[],jt=[],zt=[];_(je,xt,Je,Et,he,vt,jt,Qe),g(jt,zt,Et),Et.shift();var Lt={FileIndex:jt,FullPaths:zt};return fe&&fe.raw&&(Lt.raw={header:ye,sectors:Je}),Lt}function f(J){if(J[J.l]==80&&J[J.l+1]==75)return[0,0];J.chk(V,"Header Signature: "),J.l+=16;var fe=J.read_shift(2,"u");return[J.read_shift(2,"u"),fe]}function d(J,fe){var oe=9;switch(J.l+=2,oe=J.read_shift(2)){case 9:if(fe!=3)throw new Error("Sector Shift: Expected 9 saw "+oe);break;case 12:if(fe!=4)throw new Error("Sector Shift: Expected 12 saw "+oe);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+oe)}J.chk("0600","Mini Sector Shift: "),J.chk("000000000000","Reserved: ")}function h(J,fe){for(var oe=Math.ceil(J.length/fe)-1,ce=[],he=1;he<oe;++he)ce[he-1]=J.slice(he*fe,(he+1)*fe);return ce[oe-1]=J.slice(oe*fe),ce}function g(J,fe,oe){for(var ce=0,he=0,ge=0,je=0,Qe=0,ze=oe.length,He=[],Ge=[];ce<ze;++ce)He[ce]=Ge[ce]=ce,fe[ce]=oe[ce];for(;Qe<Ge.length;++Qe)ce=Ge[Qe],he=J[ce].L,ge=J[ce].R,je=J[ce].C,He[ce]===ce&&(he!==-1&&He[he]!==he&&(He[ce]=He[he]),ge!==-1&&He[ge]!==ge&&(He[ce]=He[ge])),je!==-1&&(He[je]=ce),he!==-1&&ce!=He[ce]&&(He[he]=He[ce],Ge.lastIndexOf(he)<Qe&&Ge.push(he)),ge!==-1&&ce!=He[ce]&&(He[ge]=He[ce],Ge.lastIndexOf(ge)<Qe&&Ge.push(ge));for(ce=1;ce<ze;++ce)He[ce]===ce&&(ge!==-1&&He[ge]!==ge?He[ce]=He[ge]:he!==-1&&He[he]!==he&&(He[ce]=He[he]));for(ce=1;ce<ze;++ce)if(J[ce].type!==0){if(Qe=ce,Qe!=He[Qe])do Qe=He[Qe],fe[ce]=fe[Qe]+"/"+fe[ce];while(Qe!==0&&He[Qe]!==-1&&Qe!=He[Qe]);He[ce]=-1}for(fe[0]+="/",ce=1;ce<ze;++ce)J[ce].type!==2&&(fe[ce]+="/")}function x(J,fe,oe){for(var ce=J.start,he=J.size,ge=[],je=ce;oe&&he>0&&je>=0;)ge.push(fe.slice(je*F,je*F+F)),he-=F,je=Au(oe,je*4);return ge.length===0?ni(0):uc(ge).slice(0,J.size)}function v(J,fe,oe,ce,he){var ge=j;if(J===j){if(fe!==0)throw new Error("DIFAT chain shorter than expected")}else if(J!==-1){var je=oe[J],Qe=(ce>>>2)-1;if(!je)return;for(var ze=0;ze<Qe&&(ge=Au(je,ze*4))!==j;++ze)he.push(ge);v(Au(je,ce-4),fe-1,oe,ce,he)}}function m(J,fe,oe,ce,he){var ge=[],je=[];he||(he=[]);var Qe=ce-1,ze=0,He=0;for(ze=fe;ze>=0;){he[ze]=!0,ge[ge.length]=ze,je.push(J[ze]);var Ge=oe[Math.floor(ze*4/ce)];if(He=ze*4&Qe,ce<4+He)throw new Error("FAT boundary crossed: "+ze+" 4 "+ce);if(!J[Ge])break;ze=Au(J[Ge],He)}return{nodes:ge,data:iA([je])}}function b(J,fe,oe,ce){var he=J.length,ge=[],je=[],Qe=[],ze=[],He=ce-1,Ge=0,z=0,ye=0,Me=0;for(Ge=0;Ge<he;++Ge)if(Qe=[],ye=Ge+fe,ye>=he&&(ye-=he),!je[ye]){ze=[];var Te=[];for(z=ye;z>=0;){Te[z]=!0,je[z]=!0,Qe[Qe.length]=z,ze.push(J[z]);var we=oe[Math.floor(z*4/ce)];if(Me=z*4&He,ce<4+Me)throw new Error("FAT boundary crossed: "+z+" 4 "+ce);if(!J[we]||(z=Au(J[we],Me),Te[z]))break}ge[ye]={nodes:Qe,data:iA([ze])}}return ge}function _(J,fe,oe,ce,he,ge,je,Qe){for(var ze=0,He=ce.length?2:0,Ge=fe[J].data,z=0,ye=0,Me;z<Ge.length;z+=128){var Te=Ge.slice(z,z+128);Ai(Te,64),ye=Te.read_shift(2),Me=gS(Te,0,ye-He),ce.push(Me);var we={name:Me,type:Te.read_shift(1),color:Te.read_shift(1),L:Te.read_shift(4,"i"),R:Te.read_shift(4,"i"),C:Te.read_shift(4,"i"),clsid:Te.read_shift(16),state:Te.read_shift(4,"i"),start:0,size:0},Je=Te.read_shift(2)+Te.read_shift(2)+Te.read_shift(2)+Te.read_shift(2);Je!==0&&(we.ct=S(Te,Te.l-8));var xt=Te.read_shift(2)+Te.read_shift(2)+Te.read_shift(2)+Te.read_shift(2);xt!==0&&(we.mt=S(Te,Te.l-8)),we.start=Te.read_shift(4,"i"),we.size=Te.read_shift(4,"i"),we.size<0&&we.start<0&&(we.size=we.type=0,we.start=j,we.name=""),we.type===5?(ze=we.start,he>0&&ze!==j&&(fe[ze].name="!StreamData")):we.size>=4096?(we.storage="fat",fe[we.start]===void 0&&(fe[we.start]=m(oe,we.start,fe.fat_addrs,fe.ssz)),fe[we.start].name=we.name,we.content=fe[we.start].data.slice(0,we.size)):(we.storage="minifat",we.size<0?we.size=0:ze!==j&&we.start!==j&&fe[ze]&&(we.content=x(we,fe[ze].data,(fe[Qe]||{}).data))),we.content&&Ai(we.content,0),ge[Me]=we,je.push(we)}}function S(J,fe){return new Date((Ka(J,fe+4)/1e7*Math.pow(2,32)+Ka(J,fe)/1e7-11644473600)*1e3)}function N(J,fe){return c(),u(l.readFileSync(J),fe)}function P(J,fe){var oe=fe&&fe.type;switch(oe||wn&&Buffer.isBuffer(J)&&(oe="buffer"),oe||"base64"){case"file":return N(J,fe);case"base64":return u(Hs(is(J)),fe);case"binary":return u(Hs(J),fe)}return u(J,fe)}function T(J,fe){var oe=fe||{},ce=oe.root||"Root Entry";if(J.FullPaths||(J.FullPaths=[]),J.FileIndex||(J.FileIndex=[]),J.FullPaths.length!==J.FileIndex.length)throw new Error("inconsistent CFB structure");J.FullPaths.length===0&&(J.FullPaths[0]=ce+"/",J.FileIndex[0]={name:ce,type:5}),oe.CLSID&&(J.FileIndex[0].clsid=oe.CLSID),L(J)}function L(J){var fe="Sh33tJ5";if(!En.find(J,"/"+fe)){var oe=ni(4);oe[0]=55,oe[1]=oe[3]=50,oe[2]=54,J.FileIndex.push({name:fe,type:2,content:oe,size:4,L:69,R:69,C:69}),J.FullPaths.push(J.FullPaths[0]+fe),E(J)}}function E(J,fe){T(J);for(var oe=!1,ce=!1,he=J.FullPaths.length-1;he>=0;--he){var ge=J.FileIndex[he];switch(ge.type){case 0:ce?oe=!0:(J.FileIndex.pop(),J.FullPaths.pop());break;case 1:case 2:case 5:ce=!0,isNaN(ge.R*ge.L*ge.C)&&(oe=!0),ge.R>-1&&ge.L>-1&&ge.R==ge.L&&(oe=!0);break;default:oe=!0;break}}if(!(!oe&&!fe)){var je=new Date(1987,1,19),Qe=0,ze=Object.create?Object.create(null):{},He=[];for(he=0;he<J.FullPaths.length;++he)ze[J.FullPaths[he]]=!0,J.FileIndex[he].type!==0&&He.push([J.FullPaths[he],J.FileIndex[he]]);for(he=0;he<He.length;++he){var Ge=r(He[he][0]);ce=ze[Ge],ce||(He.push([Ge,{name:i(Ge).replace("/",""),type:1,clsid:ee,ct:je,mt:je,content:null}]),ze[Ge]=!0)}for(He.sort(function(Me,Te){return n(Me[0],Te[0])}),J.FullPaths=[],J.FileIndex=[],he=0;he<He.length;++he)J.FullPaths[he]=He[he][0],J.FileIndex[he]=He[he][1];for(he=0;he<He.length;++he){var z=J.FileIndex[he],ye=J.FullPaths[he];if(z.name=i(ye).replace("/",""),z.L=z.R=z.C=-(z.color=1),z.size=z.content?z.content.length:0,z.start=0,z.clsid=z.clsid||ee,he===0)z.C=He.length>1?1:-1,z.size=0,z.type=5;else if(ye.slice(-1)=="/"){for(Qe=he+1;Qe<He.length&&r(J.FullPaths[Qe])!=ye;++Qe);for(z.C=Qe>=He.length?-1:Qe,Qe=he+1;Qe<He.length&&r(J.FullPaths[Qe])!=r(ye);++Qe);z.R=Qe>=He.length?-1:Qe,z.type=1}else r(J.FullPaths[he+1]||"")==r(ye)&&(z.R=he+1),z.type=2}}}function R(J,fe){var oe=fe||{};if(oe.fileType=="mad")return yr(J,oe);switch(E(J),oe.fileType){case"zip":return wt(J,oe)}var ce=function(Me){for(var Te=0,we=0,Je=0;Je<Me.FileIndex.length;++Je){var xt=Me.FileIndex[Je];if(xt.content){var vt=xt.content.length;vt>0&&(vt<4096?Te+=vt+63>>6:we+=vt+511>>9)}}for(var Et=Me.FullPaths.length+3>>2,jt=Te+7>>3,zt=Te+127>>7,Lt=jt+we+Et+zt,qt=Lt+127>>7,gn=qt<=109?0:Math.ceil((qt-109)/127);Lt+qt+gn+127>>7>qt;)gn=++qt<=109?0:Math.ceil((qt-109)/127);var dn=[1,gn,qt,zt,Et,we,Te,0];return Me.FileIndex[0].size=Te<<6,dn[7]=(Me.FileIndex[0].start=dn[0]+dn[1]+dn[2]+dn[3]+dn[4]+dn[5])+(dn[6]+7>>3),dn}(J),he=ni(ce[7]<<9),ge=0,je=0;{for(ge=0;ge<8;++ge)he.write_shift(1,X[ge]);for(ge=0;ge<8;++ge)he.write_shift(2,0);for(he.write_shift(2,62),he.write_shift(2,3),he.write_shift(2,65534),he.write_shift(2,9),he.write_shift(2,6),ge=0;ge<3;++ge)he.write_shift(2,0);for(he.write_shift(4,0),he.write_shift(4,ce[2]),he.write_shift(4,ce[0]+ce[1]+ce[2]+ce[3]-1),he.write_shift(4,0),he.write_shift(4,4096),he.write_shift(4,ce[3]?ce[0]+ce[1]+ce[2]-1:j),he.write_shift(4,ce[3]),he.write_shift(-4,ce[1]?ce[0]-1:j),he.write_shift(4,ce[1]),ge=0;ge<109;++ge)he.write_shift(-4,ge<ce[2]?ce[1]+ge:-1)}if(ce[1])for(je=0;je<ce[1];++je){for(;ge<236+je*127;++ge)he.write_shift(-4,ge<ce[2]?ce[1]+ge:-1);he.write_shift(-4,je===ce[1]-1?j:je+1)}var Qe=function(Me){for(je+=Me;ge<je-1;++ge)he.write_shift(-4,ge+1);Me&&(++ge,he.write_shift(-4,j))};for(je=ge=0,je+=ce[1];ge<je;++ge)he.write_shift(-4,se.DIFSECT);for(je+=ce[2];ge<je;++ge)he.write_shift(-4,se.FATSECT);Qe(ce[3]),Qe(ce[4]);for(var ze=0,He=0,Ge=J.FileIndex[0];ze<J.FileIndex.length;++ze)Ge=J.FileIndex[ze],Ge.content&&(He=Ge.content.length,!(He<4096)&&(Ge.start=je,Qe(He+511>>9)));for(Qe(ce[6]+7>>3);he.l&511;)he.write_shift(-4,se.ENDOFCHAIN);for(je=ge=0,ze=0;ze<J.FileIndex.length;++ze)Ge=J.FileIndex[ze],Ge.content&&(He=Ge.content.length,!(!He||He>=4096)&&(Ge.start=je,Qe(He+63>>6)));for(;he.l&511;)he.write_shift(-4,se.ENDOFCHAIN);for(ge=0;ge<ce[4]<<2;++ge){var z=J.FullPaths[ge];if(!z||z.length===0){for(ze=0;ze<17;++ze)he.write_shift(4,0);for(ze=0;ze<3;++ze)he.write_shift(4,-1);for(ze=0;ze<12;++ze)he.write_shift(4,0);continue}Ge=J.FileIndex[ge],ge===0&&(Ge.start=Ge.size?Ge.start-1:j);var ye=ge===0&&oe.root||Ge.name;if(He=2*(ye.length+1),he.write_shift(64,ye,"utf16le"),he.write_shift(2,He),he.write_shift(1,Ge.type),he.write_shift(1,Ge.color),he.write_shift(-4,Ge.L),he.write_shift(-4,Ge.R),he.write_shift(-4,Ge.C),Ge.clsid)he.write_shift(16,Ge.clsid,"hex");else for(ze=0;ze<4;++ze)he.write_shift(4,0);he.write_shift(4,Ge.state||0),he.write_shift(4,0),he.write_shift(4,0),he.write_shift(4,0),he.write_shift(4,0),he.write_shift(4,Ge.start),he.write_shift(4,Ge.size),he.write_shift(4,0)}for(ge=1;ge<J.FileIndex.length;++ge)if(Ge=J.FileIndex[ge],Ge.size>=4096)if(he.l=Ge.start+1<<9,wn&&Buffer.isBuffer(Ge.content))Ge.content.copy(he,he.l,0,Ge.size),he.l+=Ge.size+511&-512;else{for(ze=0;ze<Ge.size;++ze)he.write_shift(1,Ge.content[ze]);for(;ze&511;++ze)he.write_shift(1,0)}for(ge=1;ge<J.FileIndex.length;++ge)if(Ge=J.FileIndex[ge],Ge.size>0&&Ge.size<4096)if(wn&&Buffer.isBuffer(Ge.content))Ge.content.copy(he,he.l,0,Ge.size),he.l+=Ge.size+63&-64;else{for(ze=0;ze<Ge.size;++ze)he.write_shift(1,Ge.content[ze]);for(;ze&63;++ze)he.write_shift(1,0)}if(wn)he.l=he.length;else for(;he.l<he.length;)he.write_shift(1,0);return he}function A(J,fe){var oe=J.FullPaths.map(function(ze){return ze.toUpperCase()}),ce=oe.map(function(ze){var He=ze.split("/");return He[He.length-(ze.slice(-1)=="/"?2:1)]}),he=!1;fe.charCodeAt(0)===47?(he=!0,fe=oe[0].slice(0,-1)+fe):he=fe.indexOf("/")!==-1;var ge=fe.toUpperCase(),je=he===!0?oe.indexOf(ge):ce.indexOf(ge);if(je!==-1)return J.FileIndex[je];var Qe=!ge.match(g0);for(ge=ge.replace(da,""),Qe&&(ge=ge.replace(g0,"!")),je=0;je<oe.length;++je)if((Qe?oe[je].replace(g0,"!"):oe[je]).replace(da,"")==ge||(Qe?ce[je].replace(g0,"!"):ce[je]).replace(da,"")==ge)return J.FileIndex[je];return null}var F=64,j=-2,V="d0cf11e0a1b11ae1",X=[208,207,17,224,161,177,26,225],ee="00000000000000000000000000000000",se={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:j,FREESECT:-1,HEADER_SIGNATURE:V,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:ee,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function B(J,fe,oe){c();var ce=R(J,oe);l.writeFileSync(fe,ce)}function H(J){for(var fe=new Array(J.length),oe=0;oe<J.length;++oe)fe[oe]=String.fromCharCode(J[oe]);return fe.join("")}function xe(J,fe){var oe=R(J,fe);switch(fe&&fe.type||"buffer"){case"file":return c(),l.writeFileSync(fe.filename,oe),oe;case"binary":return typeof oe=="string"?oe:H(oe);case"base64":return j4(typeof oe=="string"?oe:H(oe));case"buffer":if(wn)return Buffer.isBuffer(oe)?oe:ff(oe);case"array":return typeof oe=="string"?Hs(oe):oe}return oe}var Se;function k(J){try{var fe=J.InflateRaw,oe=new fe;if(oe._processChunk(new Uint8Array([3,0]),oe._finishFlushFlag),oe.bytesRead)Se=J;else throw new Error("zlib does not expose bytesRead")}catch(ce){console.error("cannot use native zlib: "+(ce.message||ce))}}function U(J,fe){if(!Se)return Mt(J,fe);var oe=Se.InflateRaw,ce=new oe,he=ce._processChunk(J.slice(J.l),ce._finishFlushFlag);return J.l+=ce.bytesRead,he}function O(J){return Se?Se.deflateRawSync(J):Ue(J)}var I=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],K=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],re=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function _e(J){var fe=(J<<1|J<<11)&139536|(J<<5|J<<15)&558144;return(fe>>16|fe>>8|fe)&255}for(var ue=typeof Uint8Array<"u",be=ue?new Uint8Array(256):[],ve=0;ve<256;++ve)be[ve]=_e(ve);function q(J,fe){var oe=be[J&255];return fe<=8?oe>>>8-fe:(oe=oe<<8|be[J>>8&255],fe<=16?oe>>>16-fe:(oe=oe<<8|be[J>>16&255],oe>>>24-fe))}function te(J,fe){var oe=fe&7,ce=fe>>>3;return(J[ce]|(oe<=6?0:J[ce+1]<<8))>>>oe&3}function Ee(J,fe){var oe=fe&7,ce=fe>>>3;return(J[ce]|(oe<=5?0:J[ce+1]<<8))>>>oe&7}function Z(J,fe){var oe=fe&7,ce=fe>>>3;return(J[ce]|(oe<=4?0:J[ce+1]<<8))>>>oe&15}function qe(J,fe){var oe=fe&7,ce=fe>>>3;return(J[ce]|(oe<=3?0:J[ce+1]<<8))>>>oe&31}function Ce(J,fe){var oe=fe&7,ce=fe>>>3;return(J[ce]|(oe<=1?0:J[ce+1]<<8))>>>oe&127}function rt(J,fe,oe){var ce=fe&7,he=fe>>>3,ge=(1<<oe)-1,je=J[he]>>>ce;return oe<8-ce||(je|=J[he+1]<<8-ce,oe<16-ce)||(je|=J[he+2]<<16-ce,oe<24-ce)||(je|=J[he+3]<<24-ce),je&ge}function Pe(J,fe,oe){var ce=fe&7,he=fe>>>3;return ce<=5?J[he]|=(oe&7)<<ce:(J[he]|=oe<<ce&255,J[he+1]=(oe&7)>>8-ce),fe+3}function nt(J,fe,oe){var ce=fe&7,he=fe>>>3;return oe=(oe&1)<<ce,J[he]|=oe,fe+1}function ft(J,fe,oe){var ce=fe&7,he=fe>>>3;return oe<<=ce,J[he]|=oe&255,oe>>>=8,J[he+1]=oe,fe+8}function Tt(J,fe,oe){var ce=fe&7,he=fe>>>3;return oe<<=ce,J[he]|=oe&255,oe>>>=8,J[he+1]=oe&255,J[he+2]=oe>>>8,fe+16}function ae(J,fe){var oe=J.length,ce=2*oe>fe?2*oe:fe+5,he=0;if(oe>=fe)return J;if(wn){var ge=z4(ce);if(J.copy)J.copy(ge);else for(;he<J.length;++he)ge[he]=J[he];return ge}else if(ue){var je=new Uint8Array(ce);if(je.set)je.set(J);else for(;he<oe;++he)je[he]=J[he];return je}return J.length=ce,J}function Y(J){for(var fe=new Array(J),oe=0;oe<J;++oe)fe[oe]=0;return fe}function ke(J,fe,oe){var ce=1,he=0,ge=0,je=0,Qe=0,ze=J.length,He=ue?new Uint16Array(32):Y(32);for(ge=0;ge<32;++ge)He[ge]=0;for(ge=ze;ge<oe;++ge)J[ge]=0;ze=J.length;var Ge=ue?new Uint16Array(ze):Y(ze);for(ge=0;ge<ze;++ge)He[he=J[ge]]++,ce<he&&(ce=he),Ge[ge]=0;for(He[0]=0,ge=1;ge<=ce;++ge)He[ge+16]=Qe=Qe+He[ge-1]<<1;for(ge=0;ge<ze;++ge)Qe=J[ge],Qe!=0&&(Ge[ge]=He[Qe+16]++);var z=0;for(ge=0;ge<ze;++ge)if(z=J[ge],z!=0)for(Qe=q(Ge[ge],ce)>>ce-z,je=(1<<ce+4-z)-1;je>=0;--je)fe[Qe|je<<z]=z&15|ge<<4;return ce}var Oe=ue?new Uint16Array(512):Y(512),it=ue?new Uint16Array(32):Y(32);if(!ue){for(var Fe=0;Fe<512;++Fe)Oe[Fe]=0;for(Fe=0;Fe<32;++Fe)it[Fe]=0}(function(){for(var J=[],fe=0;fe<32;fe++)J.push(5);ke(J,it,32);var oe=[];for(fe=0;fe<=143;fe++)oe.push(8);for(;fe<=255;fe++)oe.push(9);for(;fe<=279;fe++)oe.push(7);for(;fe<=287;fe++)oe.push(8);ke(oe,Oe,288)})();var lt=function(){for(var fe=ue?new Uint8Array(32768):[],oe=0,ce=0;oe<re.length-1;++oe)for(;ce<re[oe+1];++ce)fe[ce]=oe;for(;ce<32768;++ce)fe[ce]=29;var he=ue?new Uint8Array(259):[];for(oe=0,ce=0;oe<K.length-1;++oe)for(;ce<K[oe+1];++ce)he[ce]=oe;function ge(Qe,ze){for(var He=0;He<Qe.length;){var Ge=Math.min(65535,Qe.length-He),z=He+Ge==Qe.length;for(ze.write_shift(1,+z),ze.write_shift(2,Ge),ze.write_shift(2,~Ge&65535);Ge-- >0;)ze[ze.l++]=Qe[He++]}return ze.l}function je(Qe,ze){for(var He=0,Ge=0,z=ue?new Uint16Array(32768):[];Ge<Qe.length;){var ye=Math.min(65535,Qe.length-Ge);if(ye<10){for(He=Pe(ze,He,+(Ge+ye==Qe.length)),He&7&&(He+=8-(He&7)),ze.l=He/8|0,ze.write_shift(2,ye),ze.write_shift(2,~ye&65535);ye-- >0;)ze[ze.l++]=Qe[Ge++];He=ze.l*8;continue}He=Pe(ze,He,+(Ge+ye==Qe.length)+2);for(var Me=0;ye-- >0;){var Te=Qe[Ge];Me=(Me<<5^Te)&32767;var we=-1,Je=0;if((we=z[Me])&&(we|=Ge&-32768,we>Ge&&(we-=32768),we<Ge))for(;Qe[we+Je]==Qe[Ge+Je]&&Je<250;)++Je;if(Je>2){Te=he[Je],Te<=22?He=ft(ze,He,be[Te+1]>>1)-1:(ft(ze,He,3),He+=5,ft(ze,He,be[Te-23]>>5),He+=3);var xt=Te<8?0:Te-4>>2;xt>0&&(Tt(ze,He,Je-K[Te]),He+=xt),Te=fe[Ge-we],He=ft(ze,He,be[Te]>>3),He-=3;var vt=Te<4?0:Te-2>>1;vt>0&&(Tt(ze,He,Ge-we-re[Te]),He+=vt);for(var Et=0;Et<Je;++Et)z[Me]=Ge&32767,Me=(Me<<5^Qe[Ge])&32767,++Ge;ye-=Je-1}else Te<=143?Te=Te+48:He=nt(ze,He,1),He=ft(ze,He,be[Te]),z[Me]=Ge&32767,++Ge}He=ft(ze,He,0)-1}return ze.l=(He+7)/8|0,ze.l}return function(ze,He){return ze.length<8?ge(ze,He):je(ze,He)}}();function Ue(J){var fe=ni(50+Math.floor(J.length*1.1)),oe=lt(J,fe);return fe.slice(0,oe)}var tt=ue?new Uint16Array(32768):Y(32768),yt=ue?new Uint16Array(32768):Y(32768),Ke=ue?new Uint16Array(128):Y(128),Ze=1,bt=1;function At(J,fe){var oe=qe(J,fe)+257;fe+=5;var ce=qe(J,fe)+1;fe+=5;var he=Z(J,fe)+4;fe+=4;for(var ge=0,je=ue?new Uint8Array(19):Y(19),Qe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ze=1,He=ue?new Uint8Array(8):Y(8),Ge=ue?new Uint8Array(8):Y(8),z=je.length,ye=0;ye<he;++ye)je[I[ye]]=ge=Ee(J,fe),ze<ge&&(ze=ge),He[ge]++,fe+=3;var Me=0;for(He[0]=0,ye=1;ye<=ze;++ye)Ge[ye]=Me=Me+He[ye-1]<<1;for(ye=0;ye<z;++ye)(Me=je[ye])!=0&&(Qe[ye]=Ge[Me]++);var Te=0;for(ye=0;ye<z;++ye)if(Te=je[ye],Te!=0){Me=be[Qe[ye]]>>8-Te;for(var we=(1<<7-Te)-1;we>=0;--we)Ke[Me|we<<Te]=Te&7|ye<<3}var Je=[];for(ze=1;Je.length<oe+ce;)switch(Me=Ke[Ce(J,fe)],fe+=Me&7,Me>>>=3){case 16:for(ge=3+te(J,fe),fe+=2,Me=Je[Je.length-1];ge-- >0;)Je.push(Me);break;case 17:for(ge=3+Ee(J,fe),fe+=3;ge-- >0;)Je.push(0);break;case 18:for(ge=11+Ce(J,fe),fe+=7;ge-- >0;)Je.push(0);break;default:Je.push(Me),ze<Me&&(ze=Me);break}var xt=Je.slice(0,oe),vt=Je.slice(oe);for(ye=oe;ye<286;++ye)xt[ye]=0;for(ye=ce;ye<30;++ye)vt[ye]=0;return Ze=ke(xt,tt,286),bt=ke(vt,yt,30),fe}function st(J,fe){if(J[0]==3&&!(J[1]&3))return[Uc(fe),2];for(var oe=0,ce=0,he=z4(fe||1<<18),ge=0,je=he.length>>>0,Qe=0,ze=0;!(ce&1);){if(ce=Ee(J,oe),oe+=3,ce>>>1)ce>>1==1?(Qe=9,ze=5):(oe=At(J,oe),Qe=Ze,ze=bt);else{oe&7&&(oe+=8-(oe&7));var He=J[oe>>>3]|J[(oe>>>3)+1]<<8;if(oe+=32,He>0)for(!fe&&je<ge+He&&(he=ae(he,ge+He),je=he.length);He-- >0;)he[ge++]=J[oe>>>3],oe+=8;continue}for(;;){!fe&&je<ge+32767&&(he=ae(he,ge+32767),je=he.length);var Ge=rt(J,oe,Qe),z=ce>>>1==1?Oe[Ge]:tt[Ge];if(oe+=z&15,z>>>=4,!(z>>>8&255))he[ge++]=z;else{if(z==256)break;z-=257;var ye=z<8?0:z-4>>2;ye>5&&(ye=0);var Me=ge+K[z];ye>0&&(Me+=rt(J,oe,ye),oe+=ye),Ge=rt(J,oe,ze),z=ce>>>1==1?it[Ge]:yt[Ge],oe+=z&15,z>>>=4;var Te=z<4?0:z-2>>1,we=re[z];for(Te>0&&(we+=rt(J,oe,Te),oe+=Te),!fe&&je<Me&&(he=ae(he,Me+100),je=he.length);ge<Me;)he[ge]=he[ge-we],++ge}}}return fe?[he,oe+7>>>3]:[he.slice(0,ge),oe+7>>>3]}function Mt(J,fe){var oe=J.slice(J.l||0),ce=st(oe,fe);return J.l+=ce[1],ce[0]}function Ae(J,fe){if(J)typeof console<"u"&&console.error(fe);else throw new Error(fe)}function ht(J,fe){var oe=J;Ai(oe,0);var ce=[],he=[],ge={FileIndex:ce,FullPaths:he};T(ge,{root:fe.root});for(var je=oe.length-4;(oe[je]!=80||oe[je+1]!=75||oe[je+2]!=5||oe[je+3]!=6)&&je>=0;)--je;oe.l=je+4,oe.l+=4;var Qe=oe.read_shift(2);oe.l+=6;var ze=oe.read_shift(4);for(oe.l=ze,je=0;je<Qe;++je){oe.l+=20;var He=oe.read_shift(4),Ge=oe.read_shift(4),z=oe.read_shift(2),ye=oe.read_shift(2),Me=oe.read_shift(2);oe.l+=8;var Te=oe.read_shift(4),we=o(oe.slice(oe.l+z,oe.l+z+ye));oe.l+=z+ye+Me;var Je=oe.l;oe.l=Te+4,gt(oe,He,Ge,ge,we),oe.l=Je}return ge}function gt(J,fe,oe,ce,he){J.l+=2;var ge=J.read_shift(2),je=J.read_shift(2),Qe=s(J);if(ge&8257)throw new Error("Unsupported ZIP encryption");for(var ze=J.read_shift(4),He=J.read_shift(4),Ge=J.read_shift(4),z=J.read_shift(2),ye=J.read_shift(2),Me="",Te=0;Te<z;++Te)Me+=String.fromCharCode(J[J.l++]);if(ye){var we=o(J.slice(J.l,J.l+ye));(we[21589]||{}).mt&&(Qe=we[21589].mt),((he||{})[21589]||{}).mt&&(Qe=he[21589].mt)}J.l+=ye;var Je=J.slice(J.l,J.l+He);switch(je){case 8:Je=U(J,Ge);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+je)}var xt=!1;ge&8&&(ze=J.read_shift(4),ze==134695760&&(ze=J.read_shift(4),xt=!0),He=J.read_shift(4),Ge=J.read_shift(4)),He!=fe&&Ae(xt,"Bad compressed size: "+fe+" != "+He),Ge!=oe&&Ae(xt,"Bad uncompressed size: "+oe+" != "+Ge),sr(ce,Me,Je,{unsafe:!0,mt:Qe})}function wt(J,fe){var oe=fe||{},ce=[],he=[],ge=ni(1),je=oe.compression?8:0,Qe=0,ze=0,He=0,Ge=0,z=0,ye=J.FullPaths[0],Me=ye,Te=J.FileIndex[0],we=[],Je=0;for(ze=1;ze<J.FullPaths.length;++ze)if(Me=J.FullPaths[ze].slice(ye.length),Te=J.FileIndex[ze],!(!Te.size||!Te.content||Me=="Sh33tJ5")){var xt=Ge,vt=ni(Me.length);for(He=0;He<Me.length;++He)vt.write_shift(1,Me.charCodeAt(He)&127);vt=vt.slice(0,vt.l),we[z]=Qj.buf(Te.content,0);var Et=Te.content;je==8&&(Et=O(Et)),ge=ni(30),ge.write_shift(4,67324752),ge.write_shift(2,20),ge.write_shift(2,Qe),ge.write_shift(2,je),Te.mt?a(ge,Te.mt):ge.write_shift(4,0),ge.write_shift(-4,we[z]),ge.write_shift(4,Et.length),ge.write_shift(4,Te.content.length),ge.write_shift(2,vt.length),ge.write_shift(2,0),Ge+=ge.length,ce.push(ge),Ge+=vt.length,ce.push(vt),Ge+=Et.length,ce.push(Et),ge=ni(46),ge.write_shift(4,33639248),ge.write_shift(2,0),ge.write_shift(2,20),ge.write_shift(2,Qe),ge.write_shift(2,je),ge.write_shift(4,0),ge.write_shift(-4,we[z]),ge.write_shift(4,Et.length),ge.write_shift(4,Te.content.length),ge.write_shift(2,vt.length),ge.write_shift(2,0),ge.write_shift(2,0),ge.write_shift(2,0),ge.write_shift(2,0),ge.write_shift(4,0),ge.write_shift(4,xt),Je+=ge.l,he.push(ge),Je+=vt.length,he.push(vt),++z}return ge=ni(22),ge.write_shift(4,101010256),ge.write_shift(2,0),ge.write_shift(2,0),ge.write_shift(2,z),ge.write_shift(2,z),ge.write_shift(4,Je),ge.write_shift(4,Ge),ge.write_shift(2,0),uc([uc(ce),uc(he),ge])}var $e={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Ye(J,fe){if(J.ctype)return J.ctype;var oe=J.name||"",ce=oe.match(/\.([^\.]+)$/);return ce&&$e[ce[1]]||fe&&(ce=(oe=fe).match(/[\.\\]([^\.\\])+$/),ce&&$e[ce[1]])?$e[ce[1]]:"application/octet-stream"}function Ct(J){for(var fe=j4(J),oe=[],ce=0;ce<fe.length;ce+=76)oe.push(fe.slice(ce,ce+76));return oe.join(`\r
`)+`\r
`}function It(J){var fe=J.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(He){var Ge=He.charCodeAt(0).toString(16).toUpperCase();return"="+(Ge.length==1?"0"+Ge:Ge)});fe=fe.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),fe.charAt(0)==`
`&&(fe="=0D"+fe.slice(1)),fe=fe.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var oe=[],ce=fe.split(`\r
`),he=0;he<ce.length;++he){var ge=ce[he];if(ge.length==0){oe.push("");continue}for(var je=0;je<ge.length;){var Qe=76,ze=ge.slice(je,je+Qe);ze.charAt(Qe-1)=="="?Qe--:ze.charAt(Qe-2)=="="?Qe-=2:ze.charAt(Qe-3)=="="&&(Qe-=3),ze=ge.slice(je,je+Qe),je+=Qe,je<ge.length&&(ze+="="),oe.push(ze)}}return oe.join(`\r
`)}function mn(J){for(var fe=[],oe=0;oe<J.length;++oe){for(var ce=J[oe];oe<=J.length&&ce.charAt(ce.length-1)=="=";)ce=ce.slice(0,ce.length-1)+J[++oe];fe.push(ce)}for(var he=0;he<fe.length;++he)fe[he]=fe[he].replace(/[=][0-9A-Fa-f]{2}/g,function(ge){return String.fromCharCode(parseInt(ge.slice(1),16))});return Hs(fe.join(`\r
`))}function nn(J,fe,oe){for(var ce="",he="",ge="",je,Qe=0;Qe<10;++Qe){var ze=fe[Qe];if(!ze||ze.match(/^\s*$/))break;var He=ze.match(/^(.*?):\s*([^\s].*)$/);if(He)switch(He[1].toLowerCase()){case"content-location":ce=He[2].trim();break;case"content-type":ge=He[2].trim();break;case"content-transfer-encoding":he=He[2].trim();break}}switch(++Qe,he.toLowerCase()){case"base64":je=Hs(is(fe.slice(Qe).join("")));break;case"quoted-printable":je=mn(fe.slice(Qe));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+he)}var Ge=sr(J,ce.slice(oe.length),je,{unsafe:!0});ge&&(Ge.ctype=ge)}function Ot(J,fe){if(H(J.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var oe=fe&&fe.root||"",ce=(wn&&Buffer.isBuffer(J)?J.toString("binary"):H(J)).split(`\r
`),he=0,ge="";for(he=0;he<ce.length;++he)if(ge=ce[he],!!/^Content-Location:/i.test(ge)&&(ge=ge.slice(ge.indexOf("file")),oe||(oe=ge.slice(0,ge.lastIndexOf("/")+1)),ge.slice(0,oe.length)!=oe))for(;oe.length>0&&(oe=oe.slice(0,oe.length-1),oe=oe.slice(0,oe.lastIndexOf("/")+1),ge.slice(0,oe.length)!=oe););var je=(ce[1]||"").match(/boundary="(.*?)"/);if(!je)throw new Error("MAD cannot find boundary");var Qe="--"+(je[1]||""),ze=[],He=[],Ge={FileIndex:ze,FullPaths:He};T(Ge);var z,ye=0;for(he=0;he<ce.length;++he){var Me=ce[he];Me!==Qe&&Me!==Qe+"--"||(ye++&&nn(Ge,ce.slice(z,he),oe),z=he)}return Ge}function yr(J,fe){var oe=fe||{},ce=oe.boundary||"SheetJS";ce="------="+ce;for(var he=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+ce.slice(2)+'"',"","",""],ge=J.FullPaths[0],je=ge,Qe=J.FileIndex[0],ze=1;ze<J.FullPaths.length;++ze)if(je=J.FullPaths[ze].slice(ge.length),Qe=J.FileIndex[ze],!(!Qe.size||!Qe.content||je=="Sh33tJ5")){je=je.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Je){return"_x"+Je.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Je){return"_u"+Je.charCodeAt(0).toString(16)+"_"});for(var He=Qe.content,Ge=wn&&Buffer.isBuffer(He)?He.toString("binary"):H(He),z=0,ye=Math.min(1024,Ge.length),Me=0,Te=0;Te<=ye;++Te)(Me=Ge.charCodeAt(Te))>=32&&Me<128&&++z;var we=z>=ye*4/5;he.push(ce),he.push("Content-Location: "+(oe.root||"file:///C:/SheetJS/")+je),he.push("Content-Transfer-Encoding: "+(we?"quoted-printable":"base64")),he.push("Content-Type: "+Ye(Qe,je)),he.push(""),he.push(we?It(Ge):Ct(Ge))}return he.push(ce+`--\r
`),he.join(`\r
`)}function xa(J){var fe={};return T(fe,J),fe}function sr(J,fe,oe,ce){var he=ce&&ce.unsafe;he||T(J);var ge=!he&&En.find(J,fe);if(!ge){var je=J.FullPaths[0];fe.slice(0,je.length)==je?je=fe:(je.slice(-1)!="/"&&(je+="/"),je=(je+fe).replace("//","/")),ge={name:i(fe),type:2},J.FileIndex.push(ge),J.FullPaths.push(je),he||En.utils.cfb_gc(J)}return ge.content=oe,ge.size=oe?oe.length:0,ce&&(ce.CLSID&&(ge.clsid=ce.CLSID),ce.mt&&(ge.mt=ce.mt),ce.ct&&(ge.ct=ce.ct)),ge}function ui(J,fe){T(J);var oe=En.find(J,fe);if(oe){for(var ce=0;ce<J.FileIndex.length;++ce)if(J.FileIndex[ce]==oe)return J.FileIndex.splice(ce,1),J.FullPaths.splice(ce,1),!0}return!1}function Wn(J,fe,oe){T(J);var ce=En.find(J,fe);if(ce){for(var he=0;he<J.FileIndex.length;++he)if(J.FileIndex[he]==ce)return J.FileIndex[he].name=i(oe),J.FullPaths[he]=oe,!0}return!1}function hr(J){E(J,!0)}return e.find=A,e.read=P,e.parse=u,e.write=xe,e.writeFile=B,e.utils={cfb_new:xa,cfb_add:sr,cfb_del:ui,cfb_mov:Wn,cfb_gc:hr,ReadShift:D0,CheckField:_P,prep_blob:Ai,bconcat:uc,use_zlib:k,_deflateRaw:Ue,_inflateRaw:Mt,consts:se},e}();function e9(t){if(typeof Deno<"u")return Deno.readFileSync(t);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var e=File(t);e.open("r"),e.encoding="binary";var n=e.read();return e.close(),n}catch(r){if(!r.message||!r.message.match(/onstruct/))throw r}throw new Error("Cannot access file "+t)}function Lo(t){for(var e=Object.keys(t),n=[],r=0;r<e.length;++r)Object.prototype.hasOwnProperty.call(t,e[r])&&n.push(e[r]);return n}function hS(t){for(var e=[],n=Lo(t),r=0;r!==n.length;++r)e[t[n[r]]]=n[r];return e}var px=new Date(1899,11,30,0,0,0);function pa(t,e){var n=t.getTime(),r=px.getTime()+(t.getTimezoneOffset()-px.getTimezoneOffset())*6e4;return(n-r)/(24*60*60*1e3)}var QR=new Date,t9=px.getTime()+(QR.getTimezoneOffset()-px.getTimezoneOffset())*6e4,Y4=QR.getTimezoneOffset();function pv(t){var e=new Date;return e.setTime(t*24*60*60*1e3+t9),e.getTimezoneOffset()!==Y4&&e.setTime(e.getTime()+(e.getTimezoneOffset()-Y4)*6e4),e}function n9(t){var e=0,n=0,r=!1,i=t.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!i)throw new Error("|"+t+"| is not an ISO8601 Duration");for(var a=1;a!=i.length;++a)if(i[a]){switch(n=1,a>3&&(r=!0),i[a].slice(i[a].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+i[a].slice(i[a].length-1));case"D":n*=24;case"H":n*=60;case"M":if(r)n*=60;else throw new Error("Unsupported ISO Duration Field: M")}e+=n*parseInt(i[a],10)}return e}var K4=new Date("2017-02-19T19:06:09.000Z"),eP=isNaN(K4.getFullYear())?new Date("2/19/17"):K4,r9=eP.getFullYear()==2017;function yi(t,e){var n=new Date(t);if(r9)return e>0?n.setTime(n.getTime()+n.getTimezoneOffset()*60*1e3):e<0&&n.setTime(n.getTime()-n.getTimezoneOffset()*60*1e3),n;if(t instanceof Date)return t;if(eP.getFullYear()==1917&&!isNaN(n.getFullYear())){var r=n.getFullYear();return t.indexOf(""+r)>-1||n.setFullYear(n.getFullYear()+100),n}var i=t.match(/\d+/g)||["2017","2","19","0","0","0"],a=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return t.indexOf("Z")>-1&&(a=new Date(a.getTime()-a.getTimezoneOffset()*60*1e3)),a}function ef(t,e){if(wn&&Buffer.isBuffer(t)){if(e){if(t[0]==255&&t[1]==254)return v0(t.slice(2).toString("utf16le"));if(t[1]==254&&t[2]==255)return v0(jR(t.slice(2).toString("binary")))}return t.toString("binary")}if(typeof TextDecoder<"u")try{if(e){if(t[0]==255&&t[1]==254)return v0(new TextDecoder("utf-16le").decode(t.slice(2)));if(t[0]==254&&t[1]==255)return v0(new TextDecoder("utf-16be").decode(t.slice(2)))}var n={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(a){return n[a]||a})}catch{}for(var r=[],i=0;i!=t.length;++i)r.push(String.fromCharCode(t[i]));return r.join("")}function Ni(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=Ni(t[n]));return e}function Er(t,e){for(var n="";n.length<e;)n+=t;return n}function Ks(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var n=1,r=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return n*=100,""});return!isNaN(e=Number(r))||(r=r.replace(/[(](.*)[)]/,function(i,a){return n=-n,a}),!isNaN(e=Number(r)))?e/n:e}var i9=["january","february","march","april","may","june","july","august","september","october","november","december"];function Xh(t){var e=new Date(t),n=new Date(NaN),r=e.getYear(),i=e.getMonth(),a=e.getDate();if(isNaN(a))return n;var s=t.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),s.length>3&&i9.indexOf(s)==-1)return n}else if(s.match(/[a-z]/))return n;return r<0||r>8099?n:(i>0||a>1)&&r!=101?e:t.match(/[^-0-9:,\/\\]/)?n:e}var a9=function(){var t="abacaba".split(/(:?b)/i).length==5;return function(n,r,i){if(t||typeof r=="string")return n.split(r);for(var a=n.split(r),s=[a[0]],o=1;o<a.length;++o)s.push(i),s.push(a[o]);return s}}();function tP(t){return t?t.content&&t.type?ef(t.content,!0):t.data?m0(t.data):t.asNodeBuffer&&wn?m0(t.asNodeBuffer().toString("binary")):t.asBinary?m0(t.asBinary()):t._data&&t._data.getContent?m0(ef(Array.prototype.slice.call(t._data.getContent(),0))):null:null}function nP(t){if(!t)return null;if(t.data)return U4(t.data);if(t.asNodeBuffer&&wn)return t.asNodeBuffer();if(t._data&&t._data.getContent){var e=t._data.getContent();return typeof e=="string"?U4(e):Array.prototype.slice.call(e)}return t.content&&t.type?t.content:null}function s9(t){return t&&t.name.slice(-4)===".bin"?nP(t):tP(t)}function ms(t,e){for(var n=t.FullPaths||Lo(t.files),r=e.toLowerCase().replace(/[\/]/g,"\\"),i=r.replace(/\\/g,"/"),a=0;a<n.length;++a){var s=n[a].replace(/^Root Entry[\/]/,"").toLowerCase();if(r==s||i==s)return t.files?t.files[n[a]]:t.FileIndex[a]}return null}function dS(t,e){var n=ms(t,e);if(n==null)throw new Error("Cannot find file "+e+" in zip");return n}function Xr(t,e,n){if(!n)return s9(dS(t,e));if(!e)return null;try{return Xr(t,e)}catch{return null}}function Ja(t,e,n){if(!n)return tP(dS(t,e));if(!e)return null;try{return Ja(t,e)}catch{return null}}function o9(t,e,n){return nP(dS(t,e))}function J4(t){for(var e=t.FullPaths||Lo(t.files),n=[],r=0;r<e.length;++r)e[r].slice(-1)!="/"&&n.push(e[r].replace(/^Root Entry[\/]/,""));return n.sort()}function l9(t,e,n){if(t.FullPaths){if(typeof n=="string"){var r;return wn?r=ff(n):r=Mj(n),En.utils.cfb_add(t,e,r)}En.utils.cfb_add(t,e,n)}else t.file(e,n)}function rP(t,e){switch(e.type){case"base64":return En.read(t,{type:"base64"});case"binary":return En.read(t,{type:"binary"});case"buffer":case"array":return En.read(t,{type:"buffer"})}throw new Error("Unrecognized type "+e.type)}function x0(t,e){if(t.charAt(0)=="/")return t.slice(1);var n=e.split("/");e.slice(-1)!="/"&&n.pop();for(var r=t.split("/");r.length!==0;){var i=r.shift();i===".."?n.pop():i!=="."&&n.push(i)}return n.join("/")}var iP=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,c9=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,Z4=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,u9=/<[^>]*>/g,na=iP.match(Z4)?Z4:u9,f9=/<\w*:/,h9=/<(\/?)\w+:/;function $t(t,e,n){for(var r={},i=0,a=0;i!==t.length&&!((a=t.charCodeAt(i))===32||a===10||a===13);++i);if(e||(r[0]=t.slice(0,i)),i===t.length)return r;var s=t.match(c9),o=0,l="",c=0,u="",f="",d=1;if(s)for(c=0;c!=s.length;++c){for(f=s[c],a=0;a!=f.length&&f.charCodeAt(a)!==61;++a);for(u=f.slice(0,a).trim();f.charCodeAt(a+1)==32;)++a;for(d=(i=f.charCodeAt(a+1))==34||i==39?1:0,l=f.slice(a+1+d,f.length-d),o=0;o!=u.length&&u.charCodeAt(o)!==58;++o);if(o===u.length)u.indexOf("_")>0&&(u=u.slice(0,u.indexOf("_"))),r[u]=l,r[u.toLowerCase()]=l;else{var h=(o===5&&u.slice(0,5)==="xmlns"?"xmlns":"")+u.slice(o+1);if(r[h]&&u.slice(o-3,o)=="ext")continue;r[h]=l,r[h.toLowerCase()]=l}}return r}function Uo(t){return t.replace(h9,"<$1")}var aP={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},d9=hS(aP),Nn=function(){var t=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,e=/_x([\da-fA-F]{4})_/ig;return function n(r){var i=r+"",a=i.indexOf("<![CDATA[");if(a==-1)return i.replace(t,function(o,l){return aP[o]||String.fromCharCode(parseInt(l,o.indexOf("x")>-1?16:10))||o}).replace(e,function(o,l){return String.fromCharCode(parseInt(l,16))});var s=i.indexOf("]]>");return n(i.slice(0,a))+i.slice(a+9,s)+n(i.slice(s+3))}}(),p9=/[&<>'"]/g,m9=/[\u0000-\u001f]/g;function pS(t){var e=t+"";return e.replace(p9,function(n){return d9[n]}).replace(/\n/g,"<br/>").replace(m9,function(n){return"&#x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+";"})}var Q4=function(){var t=/&#(\d+);/g;function e(n,r){return String.fromCharCode(parseInt(r,10))}return function(r){return r.replace(t,e)}}();function lr(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function j2(t){for(var e="",n=0,r=0,i=0,a=0,s=0,o=0;n<t.length;){if(r=t.charCodeAt(n++),r<128){e+=String.fromCharCode(r);continue}if(i=t.charCodeAt(n++),r>191&&r<224){s=(r&31)<<6,s|=i&63,e+=String.fromCharCode(s);continue}if(a=t.charCodeAt(n++),r<240){e+=String.fromCharCode((r&15)<<12|(i&63)<<6|a&63);continue}s=t.charCodeAt(n++),o=((r&7)<<18|(i&63)<<12|(a&63)<<6|s&63)-65536,e+=String.fromCharCode(55296+(o>>>10&1023)),e+=String.fromCharCode(56320+(o&1023))}return e}function eA(t){var e=Uc(2*t.length),n,r,i=1,a=0,s=0,o;for(r=0;r<t.length;r+=i)i=1,(o=t.charCodeAt(r))<128?n=o:o<224?(n=(o&31)*64+(t.charCodeAt(r+1)&63),i=2):o<240?(n=(o&15)*4096+(t.charCodeAt(r+1)&63)*64+(t.charCodeAt(r+2)&63),i=3):(i=4,n=(o&7)*262144+(t.charCodeAt(r+1)&63)*4096+(t.charCodeAt(r+2)&63)*64+(t.charCodeAt(r+3)&63),n-=65536,s=55296+(n>>>10&1023),n=56320+(n&1023)),s!==0&&(e[a++]=s&255,e[a++]=s>>>8,s=0),e[a++]=n%256,e[a++]=n>>>8;return e.slice(0,a).toString("ucs2")}function tA(t){return ff(t,"binary").toString("utf8")}var Km="foo bar baz",Qn=wn&&(tA(Km)==j2(Km)&&tA||eA(Km)==j2(Km)&&eA)||j2,v0=wn?function(t){return ff(t,"utf8").toString("binary")}:function(t){for(var e=[],n=0,r=0,i=0;n<t.length;)switch(r=t.charCodeAt(n++),!0){case r<128:e.push(String.fromCharCode(r));break;case r<2048:e.push(String.fromCharCode(192+(r>>6))),e.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,i=t.charCodeAt(n++)-56320+(r<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(r>>12))),e.push(String.fromCharCode(128+(r>>6&63))),e.push(String.fromCharCode(128+(r&63)))}return e.join("")},wp=function(){var t={};return function(n,r){var i=n+"|"+(r||"");return t[i]?t[i]:t[i]=new RegExp("<(?:\\w+:)?"+n+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+n+">",r||"")}}(),sP=function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(n){for(var r=n.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<t.length;++i)r=r.replace(t[i][0],t[i][1]);return r}}(),g9=function(){var t={};return function(n){return t[n]!==void 0?t[n]:t[n]=new RegExp("<(?:vt:)?"+n+">([\\s\\S]*?)</(?:vt:)?"+n+">","g")}}(),x9=/<\/?(?:vt:)?variant>/g,v9=/<(?:vt:)([^>]*)>([\s\S]*)</;function nA(t,e){var n=$t(t),r=t.match(g9(n.baseType))||[],i=[];if(r.length!=n.size){if(e.WTF)throw new Error("unexpected vector length "+r.length+" != "+n.size);return i}return r.forEach(function(a){var s=a.replace(x9,"").match(v9);s&&i.push({v:Qn(s[2]),t:s[1]})}),i}var y9=/(^\s|\s$|\n)/;function _9(t){return Lo(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function b9(t,e,n){return"<"+t+(n!=null?_9(n):"")+(e!=null?(e.match(y9)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function mS(t){if(wn&&Buffer.isBuffer(t))return t.toString("utf8");if(typeof t=="string")return t;if(typeof Uint8Array<"u"&&t instanceof Uint8Array)return Qn(hf(cS(t)));throw new Error("Bad input format: expected Buffer or string")}var Sp=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,w9={CT:"http://schemas.openxmlformats.org/package/2006/content-types"},S9=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function E9(t,e){for(var n=1-2*(t[e+7]>>>7),r=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),i=t[e+6]&15,a=5;a>=0;--a)i=i*256+t[e+a];return r==2047?i==0?n*(1/0):NaN:(r==0?r=-1022:(r-=1023,i+=Math.pow(2,52)),n*Math.pow(2,r-52)*i)}function A9(t,e,n){var r=(e<0||1/e==-1/0?1:0)<<7,i=0,a=0,s=r?-e:e;isFinite(s)?s==0?i=a=0:(i=Math.floor(Math.log(s)/Math.LN2),a=s*Math.pow(2,52-i),i<=-1023&&(!isFinite(a)||a<Math.pow(2,52))?i=-1022:(a-=Math.pow(2,52),i+=1023)):(i=2047,a=isNaN(e)?26985:0);for(var o=0;o<=5;++o,a/=256)t[n+o]=a&255;t[n+6]=(i&15)<<4|a&15,t[n+7]=i>>4|r}var rA=function(t){for(var e=[],n=10240,r=0;r<t[0].length;++r)if(t[0][r])for(var i=0,a=t[0][r].length;i<a;i+=n)e.push.apply(e,t[0][r].slice(i,i+n));return e},iA=wn?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:ff(e)})):rA(t)}:rA,aA=function(t,e,n){for(var r=[],i=e;i<n;i+=2)r.push(String.fromCharCode(ml(t,i)));return r.join("").replace(da,"")},gS=wn?function(t,e,n){return Buffer.isBuffer(t)?t.toString("utf16le",e,n).replace(da,""):aA(t,e,n)}:aA,sA=function(t,e,n){for(var r=[],i=e;i<e+n;++i)r.push(("0"+t[i].toString(16)).slice(-2));return r.join("")},oP=wn?function(t,e,n){return Buffer.isBuffer(t)?t.toString("hex",e,e+n):sA(t,e,n)}:sA,oA=function(t,e,n){for(var r=[],i=e;i<n;i++)r.push(String.fromCharCode(nh(t,i)));return r.join("")},Qp=wn?function(e,n,r){return Buffer.isBuffer(e)?e.toString("utf8",n,r):oA(e,n,r)}:oA,lP=function(t,e){var n=Ka(t,e);return n>0?Qp(t,e+4,e+4+n-1):""},cP=lP,uP=function(t,e){var n=Ka(t,e);return n>0?Qp(t,e+4,e+4+n-1):""},fP=uP,hP=function(t,e){var n=2*Ka(t,e);return n>0?Qp(t,e+4,e+4+n-1):""},dP=hP,pP=function(e,n){var r=Ka(e,n);return r>0?gS(e,n+4,n+4+r):""},mP=pP,gP=function(t,e){var n=Ka(t,e);return n>0?Qp(t,e+4,e+4+n):""},xP=gP,vP=function(t,e){return E9(t,e)},mx=vP,yP=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};wn&&(cP=function(e,n){if(!Buffer.isBuffer(e))return lP(e,n);var r=e.readUInt32LE(n);return r>0?e.toString("utf8",n+4,n+4+r-1):""},fP=function(e,n){if(!Buffer.isBuffer(e))return uP(e,n);var r=e.readUInt32LE(n);return r>0?e.toString("utf8",n+4,n+4+r-1):""},dP=function(e,n){if(!Buffer.isBuffer(e))return hP(e,n);var r=2*e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+r-1)},mP=function(e,n){if(!Buffer.isBuffer(e))return pP(e,n);var r=e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+r)},xP=function(e,n){if(!Buffer.isBuffer(e))return gP(e,n);var r=e.readUInt32LE(n);return e.toString("utf8",n+4,n+4+r)},mx=function(e,n){return Buffer.isBuffer(e)?e.readDoubleLE(n):vP(e,n)},yP=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var nh=function(t,e){return t[e]},ml=function(t,e){return t[e+1]*256+t[e]},T9=function(t,e){var n=t[e+1]*256+t[e];return n<32768?n:(65535-n+1)*-1},Ka=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},Au=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},M9=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function D0(t,e){var n="",r,i,a=[],s,o,l,c;switch(e){case"dbcs":if(c=this.l,wn&&Buffer.isBuffer(this))n=this.slice(this.l,this.l+2*t).toString("utf16le");else for(l=0;l<t;++l)n+=String.fromCharCode(ml(this,c)),c+=2;t*=2;break;case"utf8":n=Qp(this,this.l,this.l+t);break;case"utf16le":t*=2,n=gS(this,this.l,this.l+t);break;case"wstr":return D0.call(this,t,"dbcs");case"lpstr-ansi":n=cP(this,this.l),t=4+Ka(this,this.l);break;case"lpstr-cp":n=fP(this,this.l),t=4+Ka(this,this.l);break;case"lpwstr":n=dP(this,this.l),t=4+2*Ka(this,this.l);break;case"lpp4":t=4+Ka(this,this.l),n=mP(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+Ka(this,this.l),n=xP(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,n="";(s=nh(this,this.l+t++))!==0;)a.push(Ym(s));n=a.join("");break;case"_wstr":for(t=0,n="";(s=ml(this,this.l+t))!==0;)a.push(Ym(s)),t+=2;t+=2,n=a.join("");break;case"dbcs-cont":for(n="",c=this.l,l=0;l<t;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return s=nh(this,c),this.l=c+1,o=D0.call(this,t-l,s?"dbcs-cont":"sbcs-cont"),a.join("")+o;a.push(Ym(ml(this,c))),c+=2}n=a.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(n="",c=this.l,l=0;l!=t;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return s=nh(this,c),this.l=c+1,o=D0.call(this,t-l,s?"dbcs-cont":"sbcs-cont"),a.join("")+o;a.push(Ym(nh(this,c))),c+=1}n=a.join("");break;default:switch(t){case 1:return r=nh(this,this.l),this.l++,r;case 2:return r=(e==="i"?T9:ml)(this,this.l),this.l+=2,r;case 4:case-4:return e==="i"||!(this[this.l+3]&128)?(r=(t>0?Au:M9)(this,this.l),this.l+=4,r):(i=Ka(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return t==8?i=mx(this,this.l):i=mx([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;t=8;case 16:n=oP(this,this.l,t);break}}return this.l+=t,n}var N9=function(t,e,n){t[n]=e&255,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24&255},k9=function(t,e,n){t[n]=e&255,t[n+1]=e>>8&255,t[n+2]=e>>16&255,t[n+3]=e>>24&255},C9=function(t,e,n){t[n]=e&255,t[n+1]=e>>>8&255};function R9(t,e,n){var r=0,i=0;if(n==="dbcs"){for(i=0;i!=e.length;++i)C9(this,e.charCodeAt(i),this.l+2*i);r=2*e.length}else if(n==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;r=e.length}else if(n==="hex"){for(;i<t;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(n==="utf16le"){var a=Math.min(this.l+t,this.length);for(i=0;i<Math.min(e.length,t);++i){var s=e.charCodeAt(i);this[this.l++]=s&255,this[this.l++]=s>>8}for(;this.l<a;)this[this.l++]=0;return this}else switch(t){case 1:r=1,this[this.l]=e&255;break;case 2:r=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:r=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:r=4,N9(this,e,this.l);break;case 8:if(r=8,n==="f"){A9(this,e,this.l);break}case 16:break;case-4:r=4,k9(this,e,this.l);break}return this.l+=r,this}function _P(t,e){var n=oP(this,this.l,t.length>>1);if(n!==t)throw new Error(e+"Expected "+t+" saw "+n);this.l+=t.length>>1}function Ai(t,e){t.l=e,t.read_shift=D0,t.chk=_P,t.write_shift=R9}function ea(t,e){t.l+=e}function ni(t){var e=Uc(t);return Ai(e,0),e}function Dl(t,e,n){if(t){var r,i,a;Ai(t,t.l||0);for(var s=t.length,o=0,l=0;t.l<s;){o=t.read_shift(1),o&128&&(o=(o&127)+((t.read_shift(1)&127)<<7));var c=bx[o]||bx[65535];for(r=t.read_shift(1),a=r&127,i=1;i<4&&r&128;++i)a+=((r=t.read_shift(1))&127)<<7*i;l=t.l+a;var u=c.f&&c.f(t,a,n);if(t.l=l,e(u,c,o))return}}}function Mb(){var t=[],e=wn?256:2048,n=function(c){var u=ni(c);return Ai(u,0),u},r=n(e),i=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&t.push(r),r=null)},a=function(c){return r&&c<r.length-r.l?r:(i(),r=n(Math.max(c+1,e)))},s=function(){return i(),uc(t)},o=function(c){i(),r=c,r.l==null&&(r.l=r.length),a(e)};return{next:a,push:o,end:s,_bufs:t}}function I0(t,e,n){var r=Ni(t);if(e.s?(r.cRel&&(r.c+=e.s.c),r.rRel&&(r.r+=e.s.r)):(r.cRel&&(r.c+=e.c),r.rRel&&(r.r+=e.r)),!n||n.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function lA(t,e,n){var r=Ni(t);return r.s=I0(r.s,e.s,n),r.e=I0(r.e,e.s,n),r}function O0(t,e){if(t.cRel&&t.c<0)for(t=Ni(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=Ni(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var n=en(t);return!t.cRel&&t.cRel!=null&&(n=F9(n)),!t.rRel&&t.rRel!=null&&(n=P9(n)),n}function z2(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+ai(t.s.c)+":"+(t.e.cRel?"":"$")+ai(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+ki(t.s.r)+":"+(t.e.rRel?"":"$")+ki(t.e.r):O0(t.s,e.biff)+":"+O0(t.e,e.biff)}function xS(t){return parseInt(L9(t),10)-1}function ki(t){return""+(t+1)}function P9(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function L9(t){return t.replace(/\$(\d+)$/,"$1")}function vS(t){for(var e=D9(t),n=0,r=0;r!==e.length;++r)n=26*n+e.charCodeAt(r)-64;return n-1}function ai(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function F9(t){return t.replace(/^([A-Z])/,"$$$1")}function D9(t){return t.replace(/^\$([A-Z])/,"$1")}function I9(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function fa(t){for(var e=0,n=0,r=0;r<t.length;++r){var i=t.charCodeAt(r);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(n=26*n+(i-64))}return{c:n-1,r:e-1}}function en(t){for(var e=t.c+1,n="";e;e=(e-1)/26|0)n=String.fromCharCode((e-1)%26+65)+n;return n+(t.r+1)}function hd(t){var e=t.indexOf(":");return e==-1?{s:fa(t),e:fa(t)}:{s:fa(t.slice(0,e)),e:fa(t.slice(e+1))}}function An(t,e){return typeof e>"u"||typeof e=="number"?An(t.s,t.e):(typeof t!="string"&&(t=en(t)),typeof e!="string"&&(e=en(e)),t==e?t:t+":"+e)}function Nr(t){var e={s:{c:0,r:0},e:{c:0,r:0}},n=0,r=0,i=0,a=t.length;for(n=0;r<a&&!((i=t.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(e.s.c=--n,n=0;r<a&&!((i=t.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;if(e.s.r=--n,r===a||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++r,n=0;r!=a&&!((i=t.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(e.e.c=--n,n=0;r!=a&&!((i=t.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;return e.e.r=--n,e}function cA(t,e){var n=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=Es(t.z,n?pa(e):e)}catch{}try{return t.w=Es((t.XF||{}).numFmtId||(n?14:0),n?pa(e):e)}catch{return""+e}}function Cl(t,e,n){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&n&&n.dateNF&&(t.z=n.dateNF),t.t=="e"?mf[t.v]||t.v:e==null?cA(t,t.v):cA(t,e))}function Yc(t,e){var n=e&&e.sheet?e.sheet:"Sheet1",r={};return r[n]=t,{SheetNames:[n],Sheets:r}}function bP(t,e,n){var r=n||{},i=t?Array.isArray(t):r.dense,a=t||(i?[]:{}),s=0,o=0;if(a&&r.origin!=null){if(typeof r.origin=="number")s=r.origin;else{var l=typeof r.origin=="string"?fa(r.origin):r.origin;s=l.r,o=l.c}a["!ref"]||(a["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(a["!ref"]){var u=Nr(a["!ref"]);c.s.c=u.s.c,c.s.r=u.s.r,c.e.c=Math.max(c.e.c,u.e.c),c.e.r=Math.max(c.e.r,u.e.r),s==-1&&(c.e.r=s=u.e.r+1)}for(var f=0;f!=e.length;++f)if(e[f]){if(!Array.isArray(e[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var d=0;d!=e[f].length;++d)if(!(typeof e[f][d]>"u")){var h={v:e[f][d]},g=s+f,x=o+d;if(c.s.r>g&&(c.s.r=g),c.s.c>x&&(c.s.c=x),c.e.r<g&&(c.e.r=g),c.e.c<x&&(c.e.c=x),e[f][d]&&typeof e[f][d]=="object"&&!Array.isArray(e[f][d])&&!(e[f][d]instanceof Date))h=e[f][d];else if(Array.isArray(h.v)&&(h.f=e[f][d][1],h.v=h.v[0]),h.v===null)if(h.f)h.t="n";else if(r.nullError)h.t="e",h.v=0;else if(r.sheetStubs)h.t="z";else continue;else typeof h.v=="number"?h.t="n":typeof h.v=="boolean"?h.t="b":h.v instanceof Date?(h.z=r.dateNF||on[14],r.cellDates?(h.t="d",h.w=Es(h.z,pa(h.v))):(h.t="n",h.v=pa(h.v),h.w=Es(h.z,h.v))):h.t="s";if(i)a[g]||(a[g]=[]),a[g][x]&&a[g][x].z&&(h.z=a[g][x].z),a[g][x]=h;else{var v=en({c:x,r:g});a[v]&&a[v].z&&(h.z=a[v].z),a[v]=h}}}return c.s.c<1e7&&(a["!ref"]=An(c)),a}function dd(t,e){return bP(null,t,e)}function O9(t){return t.read_shift(4,"i")}function Zi(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function U9(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function yS(t,e){var n=t.l,r=t.read_shift(1),i=Zi(t),a=[],s={t:i,h:i};if(r&1){for(var o=t.read_shift(4),l=0;l!=o;++l)a.push(U9(t));s.r=a}else s.r=[{ich:0,ifnt:0}];return t.l=n+e,s}var B9=yS;function Ts(t){var e=t.read_shift(4),n=t.read_shift(2);return n+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:n}}function df(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}var j9=Zi;function _S(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}var z9=Zi,Nb=_S;function bS(t){var e=t.slice(t.l,t.l+4),n=e[0]&1,r=e[0]&2;t.l+=4;var i=r===0?mx([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):Au(e,0)>>2;return n?i/100:i}function wP(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}var pf=wP;function Yi(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function H9(t){var e={},n=t.read_shift(1),r=n>>>1,i=t.read_shift(1),a=t.read_shift(2,"i"),s=t.read_shift(1),o=t.read_shift(1),l=t.read_shift(1);switch(t.l++,r){case 0:e.auto=1;break;case 1:e.index=i;var c=Vu[i];c&&(e.rgb=Ap(c));break;case 2:e.rgb=Ap([s,o,l]);break;case 3:e.theme=i;break}return a!=0&&(e.tint=a>0?a/32767:a/32768),e}function V9(t){var e=t.read_shift(1);t.l++;var n={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return n}function SP(t,e){var n={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},r=t.read_shift(4);switch(r){case 0:return"";case 4294967295:case 4294967294:return n[t.read_shift(4)]||""}if(r>400)throw new Error("Unsupported Clipboard: "+r.toString(16));return t.l-=4,t.read_shift(0,e==1?"lpstr":"lpwstr")}function W9(t){return SP(t,1)}function G9(t){return SP(t,2)}var wS=2,Ea=3,Jm=11,uA=12,gx=19,Zm=64,q9=65,X9=71,$9=4108,Y9=4126,pi=80,EP=81,K9=[pi,EP],J9={1:{n:"CodePage",t:wS},2:{n:"Category",t:pi},3:{n:"PresentationFormat",t:pi},4:{n:"ByteCount",t:Ea},5:{n:"LineCount",t:Ea},6:{n:"ParagraphCount",t:Ea},7:{n:"SlideCount",t:Ea},8:{n:"NoteCount",t:Ea},9:{n:"HiddenCount",t:Ea},10:{n:"MultimediaClipCount",t:Ea},11:{n:"ScaleCrop",t:Jm},12:{n:"HeadingPairs",t:$9},13:{n:"TitlesOfParts",t:Y9},14:{n:"Manager",t:pi},15:{n:"Company",t:pi},16:{n:"LinksUpToDate",t:Jm},17:{n:"CharacterCount",t:Ea},19:{n:"SharedDoc",t:Jm},22:{n:"HyperlinksChanged",t:Jm},23:{n:"AppVersion",t:Ea,p:"version"},24:{n:"DigSig",t:q9},26:{n:"ContentType",t:pi},27:{n:"ContentStatus",t:pi},28:{n:"Language",t:pi},29:{n:"Version",t:pi},255:{},2147483648:{n:"Locale",t:gx},2147483651:{n:"Behavior",t:gx},1919054434:{}},Z9={1:{n:"CodePage",t:wS},2:{n:"Title",t:pi},3:{n:"Subject",t:pi},4:{n:"Author",t:pi},5:{n:"Keywords",t:pi},6:{n:"Comments",t:pi},7:{n:"Template",t:pi},8:{n:"LastAuthor",t:pi},9:{n:"RevNumber",t:pi},10:{n:"EditTime",t:Zm},11:{n:"LastPrinted",t:Zm},12:{n:"CreatedDate",t:Zm},13:{n:"ModifiedDate",t:Zm},14:{n:"PageCount",t:Ea},15:{n:"WordCount",t:Ea},16:{n:"CharCount",t:Ea},17:{n:"Thumbnail",t:X9},18:{n:"Application",t:pi},19:{n:"DocSecurity",t:Ea},255:{},2147483648:{n:"Locale",t:gx},2147483651:{n:"Behavior",t:gx},1919054434:{}},fA={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},Q9=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function ez(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var tz=ez([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Vu=Ni(tz),mf={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},AP={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},hA={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function nz(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function rz(t){var e=nz();if(!t||!t.match)return e;var n={};if((t.match(na)||[]).forEach(function(r){var i=$t(r);switch(i[0].replace(f9,"<")){case"<?xml":break;case"<Types":e.xmlns=i["xmlns"+(i[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":n[i.Extension]=i.ContentType;break;case"<Override":e[hA[i.ContentType]]!==void 0&&e[hA[i.ContentType]].push(i.PartName);break}}),e.xmlns!==w9.CT)throw new Error("Unknown Namespace: "+e.xmlns);return e.calcchain=e.calcchains.length>0?e.calcchains[0]:"",e.sst=e.strs.length>0?e.strs[0]:"",e.style=e.styles.length>0?e.styles[0]:"",e.defaults=n,delete e.calcchains,e}var xh={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function kb(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function U0(t,e){var n={"!id":{}};if(!t)return n;e.charAt(0)!=="/"&&(e="/"+e);var r={};return(t.match(na)||[]).forEach(function(i){var a=$t(i);if(a[0]==="<Relationship"){var s={};s.Type=a.Type,s.Target=a.Target,s.Id=a.Id,a.TargetMode&&(s.TargetMode=a.TargetMode);var o=a.TargetMode==="External"?a.Target:x0(a.Target,e);n[o]=s,r[a.Id]=s}}),n["!id"]=r,n}var iz="application/vnd.oasis.opendocument.spreadsheet";function az(t,e){for(var n=mS(t),r,i;r=Sp.exec(n);)switch(r[3]){case"manifest":break;case"file-entry":if(i=$t(r[0],!1),i.path=="/"&&i.type!==iz)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(e&&e.WTF)throw r}}var B0=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],sz=function(){for(var t=new Array(B0.length),e=0;e<B0.length;++e){var n=B0[e],r="(?:"+n[0].slice(0,n[0].indexOf(":"))+":)"+n[0].slice(n[0].indexOf(":")+1);t[e]=new RegExp("<"+r+"[^>]*>([\\s\\S]*?)</"+r+">")}return t}();function TP(t){var e={};t=Qn(t);for(var n=0;n<B0.length;++n){var r=B0[n],i=t.match(sz[n]);i!=null&&i.length>0&&(e[r[1]]=Nn(i[1])),r[2]==="date"&&e[r[1]]&&(e[r[1]]=yi(e[r[1]]))}return e}var oz=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function MP(t,e,n,r){var i=[];if(typeof t=="string")i=nA(t,r);else for(var a=0;a<t.length;++a)i=i.concat(t[a].map(function(u){return{v:u}}));var s=typeof e=="string"?nA(e,r).map(function(u){return u.v}):e,o=0,l=0;if(s.length>0)for(var c=0;c!==i.length;c+=2){switch(l=+i[c+1].v,i[c].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":n.Worksheets=l,n.SheetNames=s.slice(o,o+l);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":n.NamedRanges=l,n.DefinedNames=s.slice(o,o+l);break;case"Charts":case"Diagramme":n.Chartsheets=l,n.ChartNames=s.slice(o,o+l);break}o+=l}}function lz(t,e,n){var r={};return e||(e={}),t=Qn(t),oz.forEach(function(i){var a=(t.match(wp(i[0]))||[])[1];switch(i[2]){case"string":a&&(e[i[1]]=Nn(a));break;case"bool":e[i[1]]=a==="true";break;case"raw":var s=t.match(new RegExp("<"+i[0]+"[^>]*>([\\s\\S]*?)</"+i[0]+">"));s&&s.length>0&&(r[i[1]]=s[1]);break}}),r.HeadingPairs&&r.TitlesOfParts&&MP(r.HeadingPairs,r.TitlesOfParts,e,n),e}var cz=/<[^>]+>[^<]*/g;function uz(t,e){var n={},r="",i=t.match(cz);if(i)for(var a=0;a!=i.length;++a){var s=i[a],o=$t(s);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":r=Nn(o.name);break;case"</property>":r=null;break;default:if(s.indexOf("<vt:")===0){var l=s.split(">"),c=l[0].slice(4),u=l[1];switch(c){case"lpstr":case"bstr":case"lpwstr":n[r]=Nn(u);break;case"bool":n[r]=lr(u);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":n[r]=parseInt(u,10);break;case"r4":case"r8":case"decimal":n[r]=parseFloat(u);break;case"filetime":case"date":n[r]=yi(u);break;case"cy":case"error":n[r]=Nn(u);break;default:if(c.slice(-1)=="/")break;e.WTF&&typeof console<"u"&&console.warn("Unexpected",s,c,l)}}else if(s.slice(0,2)!=="</"){if(e.WTF)throw new Error(s)}}}return n}var fz={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},H2;function hz(t,e,n){H2||(H2=hS(fz)),e=H2[e]||e,t[e]=n}function SS(t){var e=t.read_shift(4),n=t.read_shift(4);return new Date((n/1e7*Math.pow(2,32)+e/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function NP(t,e,n){var r=t.l,i=t.read_shift(0,"lpstr-cp");if(n)for(;t.l-r&3;)++t.l;return i}function kP(t,e,n){var r=t.read_shift(0,"lpwstr");return r}function CP(t,e,n){return e===31?kP(t):NP(t,e,n)}function Cb(t,e,n){return CP(t,e,n===!1?0:4)}function dz(t,e){if(!e)throw new Error("VtUnalignedString must have positive length");return CP(t,e,0)}function pz(t){for(var e=t.read_shift(4),n=[],r=0;r!=e;++r){var i=t.l;n[r]=t.read_shift(0,"lpwstr").replace(da,""),t.l-i&2&&(t.l+=2)}return n}function mz(t){for(var e=t.read_shift(4),n=[],r=0;r!=e;++r)n[r]=t.read_shift(0,"lpstr-cp").replace(da,"");return n}function gz(t){var e=t.l,n=xx(t,EP);t[t.l]==0&&t[t.l+1]==0&&t.l-e&2&&(t.l+=2);var r=xx(t,Ea);return[n,r]}function xz(t){for(var e=t.read_shift(4),n=[],r=0;r<e/2;++r)n.push(gz(t));return n}function dA(t,e){for(var n=t.read_shift(4),r={},i=0;i!=n;++i){var a=t.read_shift(4),s=t.read_shift(4);r[a]=t.read_shift(s,e===1200?"utf16le":"utf8").replace(da,"").replace(g0,"!"),e===1200&&s%2&&(t.l+=2)}return t.l&3&&(t.l=t.l>>3<<2),r}function RP(t){var e=t.read_shift(4),n=t.slice(t.l,t.l+e);return t.l+=e,(e&3)>0&&(t.l+=4-(e&3)&3),n}function vz(t){var e={};return e.Size=t.read_shift(4),t.l+=e.Size+3-(e.Size-1)%4,e}function xx(t,e,n){var r=t.read_shift(2),i,a=n||{};if(t.l+=2,e!==uA&&r!==e&&K9.indexOf(e)===-1&&!((e&65534)==4126&&(r&65534)==4126))throw new Error("Expected type "+e+" saw "+r);switch(e===uA?r:e){case 2:return i=t.read_shift(2,"i"),a.raw||(t.l+=2),i;case 3:return i=t.read_shift(4,"i"),i;case 11:return t.read_shift(4)!==0;case 19:return i=t.read_shift(4),i;case 30:return NP(t,r,4).replace(da,"");case 31:return kP(t);case 64:return SS(t);case 65:return RP(t);case 71:return vz(t);case 80:return Cb(t,r,!a.raw).replace(da,"");case 81:return dz(t,r).replace(da,"");case 4108:return xz(t);case 4126:case 4127:return r==4127?pz(t):mz(t);default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+r)}}function pA(t,e){var n=t.l,r=t.read_shift(4),i=t.read_shift(4),a=[],s=0,o=0,l=-1,c={};for(s=0;s!=i;++s){var u=t.read_shift(4),f=t.read_shift(4);a[s]=[u,f+n]}a.sort(function(b,_){return b[1]-_[1]});var d={};for(s=0;s!=i;++s){if(t.l!==a[s][1]){var h=!0;if(s>0&&e)switch(e[a[s-1][0]].t){case 2:t.l+2===a[s][1]&&(t.l+=2,h=!1);break;case 80:t.l<=a[s][1]&&(t.l=a[s][1],h=!1);break;case 4108:t.l<=a[s][1]&&(t.l=a[s][1],h=!1);break}if((!e||s==0)&&t.l<=a[s][1]&&(h=!1,t.l=a[s][1]),h)throw new Error("Read Error: Expected address "+a[s][1]+" at "+t.l+" :"+s)}if(e){var g=e[a[s][0]];if(d[g.n]=xx(t,g.t,{raw:!0}),g.p==="version"&&(d[g.n]=String(d[g.n]>>16)+"."+("0000"+String(d[g.n]&65535)).slice(-4)),g.n=="CodePage")switch(d[g.n]){case 0:d[g.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Ws(o=d[g.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+d[g.n])}}else if(a[s][0]===1){if(o=d.CodePage=xx(t,wS),Ws(o),l!==-1){var x=t.l;t.l=a[l][1],c=dA(t,o),t.l=x}}else if(a[s][0]===0){if(o===0){l=s,t.l=a[s+1][1];continue}c=dA(t,o)}else{var v=c[a[s][0]],m;switch(t[t.l]){case 65:t.l+=4,m=RP(t);break;case 30:t.l+=4,m=Cb(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 31:t.l+=4,m=Cb(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 3:t.l+=4,m=t.read_shift(4,"i");break;case 19:t.l+=4,m=t.read_shift(4);break;case 5:t.l+=4,m=t.read_shift(8,"f");break;case 11:t.l+=4,m=Or(t,4);break;case 64:t.l+=4,m=yi(SS(t));break;default:throw new Error("unparsed value: "+t[t.l])}d[v]=m}}return t.l=n+r,d}function mA(t,e,n){var r=t.content;if(!r)return{};Ai(r,0);var i,a,s,o,l=0;r.chk("feff","Byte Order: "),r.read_shift(2);var c=r.read_shift(4),u=r.read_shift(16);if(u!==En.utils.consts.HEADER_CLSID&&u!==n)throw new Error("Bad PropertySet CLSID "+u);if(i=r.read_shift(4),i!==1&&i!==2)throw new Error("Unrecognized #Sets: "+i);if(a=r.read_shift(16),o=r.read_shift(4),i===1&&o!==r.l)throw new Error("Length mismatch: "+o+" !== "+r.l);i===2&&(s=r.read_shift(16),l=r.read_shift(4));var f=pA(r,e),d={SystemIdentifier:c};for(var h in f)d[h]=f[h];if(d.FMTID=a,i===1)return d;if(l-r.l==2&&(r.l+=2),r.l!==l)throw new Error("Length mismatch 2: "+r.l+" !== "+l);var g;try{g=pA(r,null)}catch{}for(h in g)d[h]=g[h];return d.FMTID=[a,s],d}function Jl(t,e){return t.read_shift(e),null}function yz(t,e,n){for(var r=[],i=t.l+e;t.l<i;)r.push(n(t,i-t.l));if(i!==t.l)throw new Error("Slurp error");return r}function Or(t,e){return t.read_shift(e)===1}function $r(t){return t.read_shift(2,"u")}function PP(t,e){return yz(t,e,$r)}function _z(t){var e=t.read_shift(1),n=t.read_shift(1);return n===1?e:e===1}function em(t,e,n){var r=t.read_shift(n&&n.biff>=12?2:1),i="sbcs-cont";if(n&&n.biff>=8,!n||n.biff==8){var a=t.read_shift(1);a&&(i="dbcs-cont")}else n.biff==12&&(i="wstr");n.biff>=2&&n.biff<=5&&(i="cpstr");var s=r?t.read_shift(r,i):"";return s}function bz(t){var e=t.read_shift(2),n=t.read_shift(1),r=n&4,i=n&8,a=1+(n&1),s=0,o,l={};i&&(s=t.read_shift(2)),r&&(o=t.read_shift(4));var c=a==2?"dbcs-cont":"sbcs-cont",u=e===0?"":t.read_shift(e,c);return i&&(t.l+=4*s),r&&(t.l+=o),l.t=u,i||(l.raw="<t>"+l.t+"</t>",l.r=l.t),l}function tf(t,e,n){var r;if(n){if(n.biff>=2&&n.biff<=5)return t.read_shift(e,"cpstr");if(n.biff>=12)return t.read_shift(e,"dbcs-cont")}var i=t.read_shift(1);return i===0?r=t.read_shift(e,"sbcs-cont"):r=t.read_shift(e,"dbcs-cont"),r}function tm(t,e,n){var r=t.read_shift(n&&n.biff==2?1:2);return r===0?(t.l++,""):tf(t,r,n)}function gf(t,e,n){if(n.biff>5)return tm(t,e,n);var r=t.read_shift(1);return r===0?(t.l++,""):t.read_shift(r,n.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function wz(t){var e=t.read_shift(1);t.l++;var n=t.read_shift(2);return t.l+=2,[e,n]}function Sz(t){var e=t.read_shift(4),n=t.l,r=!1;e>24&&(t.l+=e-24,t.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(r=!0),t.l=n);var i=t.read_shift((r?e-24:e)>>1,"utf16le").replace(da,"");return r&&(t.l+=24),i}function Ez(t){for(var e=t.read_shift(2),n="";e-- >0;)n+="../";var r=t.read_shift(0,"lpstr-ansi");if(t.l+=2,t.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var i=t.read_shift(4);if(i===0)return n+r.replace(/\\/g,"/");var a=t.read_shift(4);if(t.read_shift(2)!=3)throw new Error("Bad FileMoniker");var s=t.read_shift(a>>1,"utf16le").replace(da,"");return n+s}function Az(t,e){var n=t.read_shift(16);switch(n){case"e0c9ea79f9bace118c8200aa004ba90b":return Sz(t);case"0303000000000000c000000000000046":return Ez(t);default:throw new Error("Unsupported Moniker "+n)}}function Qm(t){var e=t.read_shift(4),n=e>0?t.read_shift(e,"utf16le").replace(da,""):"";return n}function Tz(t,e){var n=t.l+e,r=t.read_shift(4);if(r!==2)throw new Error("Unrecognized streamVersion: "+r);var i=t.read_shift(2);t.l+=2;var a,s,o,l,c="",u,f;i&16&&(a=Qm(t,n-t.l)),i&128&&(s=Qm(t,n-t.l)),(i&257)===257&&(o=Qm(t,n-t.l)),(i&257)===1&&(l=Az(t,n-t.l)),i&8&&(c=Qm(t,n-t.l)),i&32&&(u=t.read_shift(16)),i&64&&(f=SS(t)),t.l=n;var d=s||o||l||"";d&&c&&(d+="#"+c),d||(d="#"+c),i&2&&d.charAt(0)=="/"&&d.charAt(1)!="/"&&(d="file://"+d);var h={Target:d};return u&&(h.guid=u),f&&(h.time=f),a&&(h.Tooltip=a),h}function LP(t){var e=t.read_shift(1),n=t.read_shift(1),r=t.read_shift(1),i=t.read_shift(1);return[e,n,r,i]}function FP(t,e){var n=LP(t);return n[3]=0,n}function Bo(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2);return{r:e,c:n,ixfe:r}}function Mz(t){var e=t.read_shift(2),n=t.read_shift(2);return t.l+=8,{type:e,flags:n}}function Nz(t,e,n){return e===0?"":gf(t,e,n)}function kz(t,e,n){var r=n.biff>8?4:2,i=t.read_shift(r),a=t.read_shift(r,"i"),s=t.read_shift(r,"i");return[i,a,s]}function DP(t){var e=t.read_shift(2),n=bS(t);return[e,n]}function Cz(t,e,n){t.l+=4,e-=4;var r=t.l+e,i=em(t,e,n),a=t.read_shift(2);if(r-=t.l,a!==r)throw new Error("Malformed AddinUdf: padding = "+r+" != "+a);return t.l+=a,i}function mv(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2),i=t.read_shift(2);return{s:{c:r,r:e},e:{c:i,r:n}}}function IP(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(1),i=t.read_shift(1);return{s:{c:r,r:e},e:{c:i,r:n}}}var Rz=IP;function OP(t){t.l+=4;var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2);return t.l+=12,[n,e,r]}function Pz(t){var e={};return t.l+=4,t.l+=16,e.fSharedNote=t.read_shift(2),t.l+=4,e}function Lz(t){var e={};return t.l+=4,t.cf=t.read_shift(2),e}function Oi(t){t.l+=2,t.l+=t.read_shift(2)}var Fz={0:Oi,4:Oi,5:Oi,6:Oi,7:Lz,8:Oi,9:Oi,10:Oi,11:Oi,12:Oi,13:Pz,14:Oi,15:Oi,16:Oi,17:Oi,18:Oi,19:Oi,20:Oi,21:OP};function Dz(t,e){for(var n=t.l+e,r=[];t.l<n;){var i=t.read_shift(2);t.l-=2;try{r.push(Fz[i](t,n-t.l))}catch{return t.l=n,r}}return t.l!=n&&(t.l=n),r}function eg(t,e){var n={BIFFVer:0,dt:0};switch(n.BIFFVer=t.read_shift(2),e-=2,e>=2&&(n.dt=t.read_shift(2),t.l-=2),n.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(e>6)throw new Error("Unexpected BIFF Ver "+n.BIFFVer)}return t.read_shift(e),n}function Iz(t,e){return e===0||t.read_shift(2),1200}function Oz(t,e,n){if(n.enc)return t.l+=e,"";var r=t.l,i=gf(t,0,n);return t.read_shift(e+r-t.l),i}function Uz(t,e,n){var r=n&&n.biff==8||e==2?t.read_shift(2):(t.l+=e,0);return{fDialog:r&16,fBelow:r&64,fRight:r&128}}function Bz(t,e,n){var r=t.read_shift(4),i=t.read_shift(1)&3,a=t.read_shift(1);switch(a){case 0:a="Worksheet";break;case 1:a="Macrosheet";break;case 2:a="Chartsheet";break;case 6:a="VBAModule";break}var s=em(t,0,n);return s.length===0&&(s="Sheet1"),{pos:r,hs:i,dt:a,name:s}}function jz(t,e){for(var n=t.l+e,r=t.read_shift(4),i=t.read_shift(4),a=[],s=0;s!=i&&t.l<n;++s)a.push(bz(t));return a.Count=r,a.Unique=i,a}function zz(t,e){var n={};return n.dsst=t.read_shift(2),t.l+=e-2,n}function Hz(t){var e={};e.r=t.read_shift(2),e.c=t.read_shift(2),e.cnt=t.read_shift(2)-e.c;var n=t.read_shift(2);t.l+=4;var r=t.read_shift(1);return t.l+=3,r&7&&(e.level=r&7),r&32&&(e.hidden=!0),r&64&&(e.hpt=n/20),e}function Vz(t){var e=Mz(t);if(e.type!=2211)throw new Error("Invalid Future Record "+e.type);var n=t.read_shift(4);return n!==0}function Wz(t){return t.read_shift(2),t.read_shift(4)}function gA(t,e,n){var r=0;n&&n.biff==2||(r=t.read_shift(2));var i=t.read_shift(2);n&&n.biff==2&&(r=1-(i>>15),i&=32767);var a={Unsynced:r&1,DyZero:(r&2)>>1,ExAsc:(r&4)>>2,ExDsc:(r&8)>>3};return[a,i]}function Gz(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2),i=t.read_shift(2),a=t.read_shift(2),s=t.read_shift(2),o=t.read_shift(2),l=t.read_shift(2),c=t.read_shift(2);return{Pos:[e,n],Dim:[r,i],Flags:a,CurTab:s,FirstTab:o,Selected:l,TabRatio:c}}function qz(t,e,n){if(n&&n.biff>=2&&n.biff<5)return{};var r=t.read_shift(2);return{RTL:r&64}}function Xz(){}function $z(t,e,n){var r={dyHeight:t.read_shift(2),fl:t.read_shift(2)};switch(n&&n.biff||8){case 2:break;case 3:case 4:t.l+=2;break;default:t.l+=10;break}return r.name=em(t,0,n),r}function Yz(t){var e=Bo(t);return e.isst=t.read_shift(4),e}function Kz(t,e,n){n.biffguess&&n.biff==2&&(n.biff=5);var r=t.l+e,i=Bo(t);n.biff==2&&t.l++;var a=tm(t,r-t.l,n);return i.val=a,i}function Jz(t,e,n){var r=t.read_shift(2),i=gf(t,0,n);return[r,i]}var Zz=gf;function xA(t,e,n){var r=t.l+e,i=n.biff==8||!n.biff?4:2,a=t.read_shift(i),s=t.read_shift(i),o=t.read_shift(2),l=t.read_shift(2);return t.l=r,{s:{r:a,c:o},e:{r:s,c:l}}}function Qz(t){var e=t.read_shift(2),n=t.read_shift(2),r=DP(t);return{r:e,c:n,ixfe:r[0],rknum:r[1]}}function eH(t,e){for(var n=t.l+e-2,r=t.read_shift(2),i=t.read_shift(2),a=[];t.l<n;)a.push(DP(t));if(t.l!==n)throw new Error("MulRK read error");var s=t.read_shift(2);if(a.length!=s-i+1)throw new Error("MulRK length mismatch");return{r,c:i,C:s,rkrec:a}}function tH(t,e){for(var n=t.l+e-2,r=t.read_shift(2),i=t.read_shift(2),a=[];t.l<n;)a.push(t.read_shift(2));if(t.l!==n)throw new Error("MulBlank read error");var s=t.read_shift(2);if(a.length!=s-i+1)throw new Error("MulBlank length mismatch");return{r,c:i,C:s,ixfe:a}}function nH(t,e,n,r){var i={},a=t.read_shift(4),s=t.read_shift(4),o=t.read_shift(4),l=t.read_shift(2);return i.patternType=Q9[o>>26],r.cellStyles&&(i.alc=a&7,i.fWrap=a>>3&1,i.alcV=a>>4&7,i.fJustLast=a>>7&1,i.trot=a>>8&255,i.cIndent=a>>16&15,i.fShrinkToFit=a>>20&1,i.iReadOrder=a>>22&2,i.fAtrNum=a>>26&1,i.fAtrFnt=a>>27&1,i.fAtrAlc=a>>28&1,i.fAtrBdr=a>>29&1,i.fAtrPat=a>>30&1,i.fAtrProt=a>>31&1,i.dgLeft=s&15,i.dgRight=s>>4&15,i.dgTop=s>>8&15,i.dgBottom=s>>12&15,i.icvLeft=s>>16&127,i.icvRight=s>>23&127,i.grbitDiag=s>>30&3,i.icvTop=o&127,i.icvBottom=o>>7&127,i.icvDiag=o>>14&127,i.dgDiag=o>>21&15,i.icvFore=l&127,i.icvBack=l>>7&127,i.fsxButton=l>>14&1),i}function rH(t,e,n){var r={};return r.ifnt=t.read_shift(2),r.numFmtId=t.read_shift(2),r.flags=t.read_shift(2),r.fStyle=r.flags>>2&1,e-=6,r.data=nH(t,e,r.fStyle,n),r}function iH(t){t.l+=4;var e=[t.read_shift(2),t.read_shift(2)];if(e[0]!==0&&e[0]--,e[1]!==0&&e[1]--,e[0]>7||e[1]>7)throw new Error("Bad Gutters: "+e.join("|"));return e}function vA(t,e,n){var r=Bo(t);(n.biff==2||e==9)&&++t.l;var i=_z(t);return r.val=i,r.t=i===!0||i===!1?"b":"e",r}function aH(t,e,n){n.biffguess&&n.biff==2&&(n.biff=5);var r=Bo(t),i=Yi(t);return r.val=i,r}var yA=Nz;function sH(t,e,n){var r=t.l+e,i=t.read_shift(2),a=t.read_shift(2);if(n.sbcch=a,a==1025||a==14849)return[a,i];if(a<1||a>255)throw new Error("Unexpected SupBook type: "+a);for(var s=tf(t,a),o=[];r>t.l;)o.push(tm(t));return[a,i,s,o]}function _A(t,e,n){var r=t.read_shift(2),i,a={fBuiltIn:r&1,fWantAdvise:r>>>1&1,fWantPict:r>>>2&1,fOle:r>>>3&1,fOleLink:r>>>4&1,cf:r>>>5&1023,fIcon:r>>>15&1};return n.sbcch===14849&&(i=Cz(t,e-2,n)),a.body=i||t.read_shift(e-2),typeof i=="string"&&(a.Name=i),a}var oH=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function bA(t,e,n){var r=t.l+e,i=t.read_shift(2),a=t.read_shift(1),s=t.read_shift(1),o=t.read_shift(n&&n.biff==2?1:2),l=0;(!n||n.biff>=5)&&(n.biff!=5&&(t.l+=2),l=t.read_shift(2),n.biff==5&&(t.l+=2),t.l+=4);var c=tf(t,s,n);i&32&&(c=oH[c.charCodeAt(0)]);var u=r-t.l;n&&n.biff==2&&--u;var f=r==t.l||o===0||!(u>0)?[]:HG(t,u,n,o);return{chKey:a,Name:c,itab:l,rgce:f}}function UP(t,e,n){if(n.biff<8)return lH(t,e,n);for(var r=[],i=t.l+e,a=t.read_shift(n.biff>8?4:2);a--!==0;)r.push(kz(t,n.biff>8?12:6,n));if(t.l!=i)throw new Error("Bad ExternSheet: "+t.l+" != "+i);return r}function lH(t,e,n){t[t.l+1]==3&&t[t.l]++;var r=em(t,e,n);return r.charCodeAt(0)==3?r.slice(1):r}function cH(t,e,n){if(n.biff<8){t.l+=e;return}var r=t.read_shift(2),i=t.read_shift(2),a=tf(t,r,n),s=tf(t,i,n);return[a,s]}function uH(t,e,n){var r=IP(t);t.l++;var i=t.read_shift(1);return e-=8,[VG(t,e,n),i,r]}function wA(t,e,n){var r=Rz(t);switch(n.biff){case 2:t.l++,e-=7;break;case 3:case 4:t.l+=2,e-=8;break;default:t.l+=6,e-=12}return[r,jG(t,e,n)]}function fH(t){var e=t.read_shift(4)!==0,n=t.read_shift(4)!==0,r=t.read_shift(4);return[e,n,r]}function hH(t,e,n){if(!(n.biff<8)){var r=t.read_shift(2),i=t.read_shift(2),a=t.read_shift(2),s=t.read_shift(2),o=gf(t,0,n);return n.biff<8&&t.read_shift(1),[{r,c:i},o,s,a]}}function dH(t,e,n){return hH(t,e,n)}function pH(t,e){for(var n=[],r=t.read_shift(2);r--;)n.push(mv(t));return n}function mH(t,e,n){if(n&&n.biff<8)return xH(t,e,n);var r=OP(t),i=Dz(t,e-22,r[1]);return{cmo:r,ft:i}}var gH={8:function(t,e){var n=t.l+e;t.l+=10;var r=t.read_shift(2);t.l+=4,t.l+=2,t.l+=2,t.l+=2,t.l+=4;var i=t.read_shift(1);return t.l+=i,t.l=n,{fmt:r}}};function xH(t,e,n){t.l+=4;var r=t.read_shift(2),i=t.read_shift(2),a=t.read_shift(2);t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=6,e-=36;var s=[];return s.push((gH[r]||ea)(t,e,n)),{cmo:[i,r,a],ft:s}}function vH(t,e,n){var r=t.l,i="";try{t.l+=4;var a=(n.lastobj||{cmo:[0,0]}).cmo[1],s;[0,5,7,11,12,14].indexOf(a)==-1?t.l+=6:s=wz(t,6,n);var o=t.read_shift(2);t.read_shift(2),$r(t,2);var l=t.read_shift(2);t.l+=l;for(var c=1;c<t.lens.length-1;++c){if(t.l-r!=t.lens[c])throw new Error("TxO: bad continue record");var u=t[t.l],f=tf(t,t.lens[c+1]-t.lens[c]-1);if(i+=f,i.length>=(u?o:2*o))break}if(i.length!==o&&i.length!==o*2)throw new Error("cchText: "+o+" != "+i.length);return t.l=r+e,{t:i}}catch{return t.l=r+e,{t:i}}}function yH(t,e){var n=mv(t);t.l+=16;var r=Tz(t,e-24);return[n,r]}function _H(t,e){t.read_shift(2);var n=mv(t),r=t.read_shift((e-10)/2,"dbcs-cont");return r=r.replace(da,""),[n,r]}function bH(t){var e=[0,0],n;return n=t.read_shift(2),e[0]=fA[n]||n,n=t.read_shift(2),e[1]=fA[n]||n,e}function wH(t){for(var e=t.read_shift(2),n=[];e-- >0;)n.push(FP(t));return n}function SH(t){for(var e=t.read_shift(2),n=[];e-- >0;)n.push(FP(t));return n}function EH(t){t.l+=2;var e={cxfs:0,crc:0};return e.cxfs=t.read_shift(2),e.crc=t.read_shift(4),e}function BP(t,e,n){if(!n.cellStyles)return ea(t,e);var r=n&&n.biff>=12?4:2,i=t.read_shift(r),a=t.read_shift(r),s=t.read_shift(r),o=t.read_shift(r),l=t.read_shift(2);r==2&&(t.l+=2);var c={s:i,e:a,w:s,ixfe:o,flags:l};return(n.biff>=5||!n.biff)&&(c.level=l>>8&7),c}function AH(t,e){var n={};return e<32||(t.l+=16,n.header=Yi(t),n.footer=Yi(t),t.l+=2),n}function TH(t,e,n){var r={area:!1};if(n.biff!=5)return t.l+=e,r;var i=t.read_shift(1);return t.l+=3,i&16&&(r.area=!0),r}var MH=Bo,NH=PP,kH=tm;function CH(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(4),i={fmt:e,env:n,len:r,data:t.slice(t.l,t.l+r)};return t.l+=r,i}function RH(t,e,n){n.biffguess&&n.biff==5&&(n.biff=2);var r=Bo(t);++t.l;var i=gf(t,e-7,n);return r.t="str",r.val=i,r}function PH(t){var e=Bo(t);++t.l;var n=Yi(t);return e.t="n",e.val=n,e}function LH(t){var e=Bo(t);++t.l;var n=t.read_shift(2);return e.t="n",e.val=n,e}function FH(t){var e=t.read_shift(1);return e===0?(t.l++,""):t.read_shift(e,"sbcs-cont")}function DH(t,e){t.l+=6,t.l+=2,t.l+=1,t.l+=3,t.l+=1,t.l+=e-13}function IH(t,e,n){var r=t.l+e,i=Bo(t),a=t.read_shift(2),s=tf(t,a,n);return t.l=r,i.t="str",i.val=s,i}var OH=[2,3,48,49,131,139,140,245],SA=function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=hS({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(o,l){var c=[],u=Uc(1);switch(l.type){case"base64":u=Hs(is(o));break;case"binary":u=Hs(o);break;case"buffer":case"array":u=o;break}Ai(u,0);var f=u.read_shift(1),d=!!(f&136),h=!1,g=!1;switch(f){case 2:break;case 3:break;case 48:h=!0,d=!0;break;case 49:h=!0,d=!0;break;case 131:break;case 139:break;case 140:g=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var x=0,v=521;f==2&&(x=u.read_shift(2)),u.l+=3,f!=2&&(x=u.read_shift(4)),x>1048576&&(x=1e6),f!=2&&(v=u.read_shift(2));var m=u.read_shift(2),b=l.codepage||1252;f!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(b=t[u[u.l]]),u.l+=1,u.l+=2),g&&(u.l+=36);for(var _=[],S={},N=Math.min(u.length,f==2?521:v-10-(h?264:0)),P=g?32:11;u.l<N&&u[u.l]!=13;)switch(S={},S.name=_p.utils.decode(b,u.slice(u.l,u.l+P)).replace(/[\u0000\r\n].*$/g,""),u.l+=P,S.type=String.fromCharCode(u.read_shift(1)),f!=2&&!g&&(S.offset=u.read_shift(4)),S.len=u.read_shift(1),f==2&&(S.offset=u.read_shift(2)),S.dec=u.read_shift(1),S.name.length&&_.push(S),f!=2&&(u.l+=g?13:14),S.type){case"B":(!h||S.len!=8)&&l.WTF&&console.log("Skipping "+S.name+":"+S.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+S.name+":"+S.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+S.type)}if(u[u.l]!==13&&(u.l=v-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=v;var T=0,L=0;for(c[0]=[],L=0;L!=_.length;++L)c[0][L]=_[L].name;for(;x-- >0;){if(u[u.l]===42){u.l+=m;continue}for(++u.l,c[++T]=[],L=0,L=0;L!=_.length;++L){var E=u.slice(u.l,u.l+_[L].len);u.l+=_[L].len,Ai(E,0);var R=_p.utils.decode(b,E);switch(_[L].type){case"C":R.trim().length&&(c[T][L]=R.replace(/\s+$/,""));break;case"D":R.length===8?c[T][L]=new Date(+R.slice(0,4),+R.slice(4,6)-1,+R.slice(6,8)):c[T][L]=R;break;case"F":c[T][L]=parseFloat(R.trim());break;case"+":case"I":c[T][L]=g?E.read_shift(-4,"i")^2147483648:E.read_shift(4,"i");break;case"L":switch(R.trim().toUpperCase()){case"Y":case"T":c[T][L]=!0;break;case"N":case"F":c[T][L]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+R+"|")}break;case"M":if(!d)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));c[T][L]="##MEMO##"+(g?parseInt(R.trim(),10):E.read_shift(4));break;case"N":R=R.replace(/\u0000/g,"").trim(),R&&R!="."&&(c[T][L]=+R||0);break;case"@":c[T][L]=new Date(E.read_shift(-8,"f")-621356832e5);break;case"T":c[T][L]=new Date((E.read_shift(4)-2440588)*864e5+E.read_shift(4));break;case"Y":c[T][L]=E.read_shift(4,"i")/1e4+E.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":c[T][L]=-E.read_shift(-8,"f");break;case"B":if(h&&_[L].len==8){c[T][L]=E.read_shift(8,"f");break}case"G":case"P":E.l+=_[L].len;break;case"0":if(_[L].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+_[L].type)}}}if(f!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return l&&l.sheetRows&&(c=c.slice(0,l.sheetRows)),l.DBF=_,c}function r(o,l){var c=l||{};c.dateNF||(c.dateNF="yyyymmdd");var u=dd(n(o,c),c);return u["!cols"]=c.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete c.DBF,u}function i(o,l){try{return Yc(r(o,l),l)}catch(c){if(l&&l.WTF)throw c}return{SheetNames:[],Sheets:{}}}var a={B:8,C:250,L:1,D:8,"?":0,"":0};function s(o,l){var c=l||{};if(+c.codepage>=0&&Ws(+c.codepage),c.type=="string")throw new Error("Cannot write DBF to JS string");var u=Mb(),f=Ib(o,{header:1,raw:!0,cellDates:!0}),d=f[0],h=f.slice(1),g=o["!cols"]||[],x=0,v=0,m=0,b=1;for(x=0;x<d.length;++x){if(((g[x]||{}).DBF||{}).name){d[x]=g[x].DBF.name,++m;continue}if(d[x]!=null){if(++m,typeof d[x]=="number"&&(d[x]=d[x].toString(10)),typeof d[x]!="string")throw new Error("DBF Invalid column name "+d[x]+" |"+typeof d[x]+"|");if(d.indexOf(d[x])!==x){for(v=0;v<1024;++v)if(d.indexOf(d[x]+"_"+v)==-1){d[x]+="_"+v;break}}}}var _=Nr(o["!ref"]),S=[],N=[],P=[];for(x=0;x<=_.e.c-_.s.c;++x){var T="",L="",E=0,R=[];for(v=0;v<h.length;++v)h[v][x]!=null&&R.push(h[v][x]);if(R.length==0||d[x]==null){S[x]="?";continue}for(v=0;v<R.length;++v){switch(typeof R[v]){case"number":L="B";break;case"string":L="C";break;case"boolean":L="L";break;case"object":L=R[v]instanceof Date?"D":"C";break;default:L="C"}E=Math.max(E,String(R[v]).length),T=T&&T!=L?"C":L}E>250&&(E=250),L=((g[x]||{}).DBF||{}).type,L=="C"&&g[x].DBF.len>E&&(E=g[x].DBF.len),T=="B"&&L=="N"&&(T="N",P[x]=g[x].DBF.dec,E=g[x].DBF.len),N[x]=T=="C"||L=="N"?E:a[T]||0,b+=N[x],S[x]=T}var A=u.next(32);for(A.write_shift(4,318902576),A.write_shift(4,h.length),A.write_shift(2,296+32*m),A.write_shift(2,b),x=0;x<4;++x)A.write_shift(4,0);for(A.write_shift(4,0|(+e[UR]||3)<<8),x=0,v=0;x<d.length;++x)if(d[x]!=null){var F=u.next(32),j=(d[x].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);F.write_shift(1,j,"sbcs"),F.write_shift(1,S[x]=="?"?"C":S[x],"sbcs"),F.write_shift(4,v),F.write_shift(1,N[x]||a[S[x]]||0),F.write_shift(1,P[x]||0),F.write_shift(1,2),F.write_shift(4,0),F.write_shift(1,0),F.write_shift(4,0),F.write_shift(4,0),v+=N[x]||a[S[x]]||0}var V=u.next(264);for(V.write_shift(4,13),x=0;x<65;++x)V.write_shift(4,0);for(x=0;x<h.length;++x){var X=u.next(b);for(X.write_shift(1,0),v=0;v<d.length;++v)if(d[v]!=null)switch(S[v]){case"L":X.write_shift(1,h[x][v]==null?63:h[x][v]?84:70);break;case"B":X.write_shift(8,h[x][v]||0,"f");break;case"N":var ee="0";for(typeof h[x][v]=="number"&&(ee=h[x][v].toFixed(P[v]||0)),m=0;m<N[v]-ee.length;++m)X.write_shift(1,32);X.write_shift(1,ee,"sbcs");break;case"D":h[x][v]?(X.write_shift(4,("0000"+h[x][v].getFullYear()).slice(-4),"sbcs"),X.write_shift(2,("00"+(h[x][v].getMonth()+1)).slice(-2),"sbcs"),X.write_shift(2,("00"+h[x][v].getDate()).slice(-2),"sbcs")):X.write_shift(8,"00000000","sbcs");break;case"C":var se=String(h[x][v]!=null?h[x][v]:"").slice(0,N[v]);for(X.write_shift(1,se,"sbcs"),m=0;m<N[v]-se.length;++m)X.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:i,to_sheet:r,from_sheet:s}}(),UH=function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+Lo(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(d,h){var g=t[h];return typeof g=="number"?B4(g):g},r=function(d,h,g){var x=h.charCodeAt(0)-32<<4|g.charCodeAt(0)-48;return x==59?d:B4(x)};t["|"]=254;function i(d,h){switch(h.type){case"base64":return a(is(d),h);case"binary":return a(d,h);case"buffer":return a(wn&&Buffer.isBuffer(d)?d.toString("binary"):hf(d),h);case"array":return a(ef(d),h)}throw new Error("Unrecognized type "+h.type)}function a(d,h){var g=d.split(/[\n\r]+/),x=-1,v=-1,m=0,b=0,_=[],S=[],N=null,P={},T=[],L=[],E=[],R=0,A;for(+h.codepage>=0&&Ws(+h.codepage);m!==g.length;++m){R=0;var F=g[m].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(e,n),j=F.replace(/;;/g,"\0").split(";").map(function(I){return I.replace(/\u0000/g,";")}),V=j[0],X;if(F.length>0)switch(V){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":j[1].charAt(0)=="P"&&S.push(F.slice(3).replace(/;;/g,";"));break;case"C":var ee=!1,se=!1,B=!1,H=!1,xe=-1,Se=-1;for(b=1;b<j.length;++b)switch(j[b].charAt(0)){case"A":break;case"X":v=parseInt(j[b].slice(1))-1,se=!0;break;case"Y":for(x=parseInt(j[b].slice(1))-1,se||(v=0),A=_.length;A<=x;++A)_[A]=[];break;case"K":X=j[b].slice(1),X.charAt(0)==='"'?X=X.slice(1,X.length-1):X==="TRUE"?X=!0:X==="FALSE"?X=!1:isNaN(Ks(X))?isNaN(Xh(X).getDate())||(X=yi(X)):(X=Ks(X),N!==null&&fd(N)&&(X=pv(X))),ee=!0;break;case"E":H=!0;var k=Nh(j[b].slice(1),{r:x,c:v});_[x][v]=[_[x][v],k];break;case"S":B=!0,_[x][v]=[_[x][v],"S5S"];break;case"G":break;case"R":xe=parseInt(j[b].slice(1))-1;break;case"C":Se=parseInt(j[b].slice(1))-1;break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+F)}if(ee&&(_[x][v]&&_[x][v].length==2?_[x][v][0]=X:_[x][v]=X,N=null),B){if(H)throw new Error("SYLK shared formula cannot have own formula");var U=xe>-1&&_[xe][Se];if(!U||!U[1])throw new Error("SYLK shared formula cannot find base");_[x][v][1]=YP(U[1],{r:x-xe,c:v-Se})}break;case"F":var O=0;for(b=1;b<j.length;++b)switch(j[b].charAt(0)){case"X":v=parseInt(j[b].slice(1))-1,++O;break;case"Y":for(x=parseInt(j[b].slice(1))-1,A=_.length;A<=x;++A)_[A]=[];break;case"M":R=parseInt(j[b].slice(1))/20;break;case"F":break;case"G":break;case"P":N=S[parseInt(j[b].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(E=j[b].slice(1).split(" "),A=parseInt(E[0],10);A<=parseInt(E[1],10);++A)R=parseInt(E[2],10),L[A-1]=R===0?{hidden:!0}:{wch:R},$h(L[A-1]);break;case"C":v=parseInt(j[b].slice(1))-1,L[v]||(L[v]={});break;case"R":x=parseInt(j[b].slice(1))-1,T[x]||(T[x]={}),R>0?(T[x].hpt=R,T[x].hpx=Tp(R)):R===0&&(T[x].hidden=!0);break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+F)}O<1&&(N=null);break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+F)}}return T.length>0&&(P["!rows"]=T),L.length>0&&(P["!cols"]=L),h&&h.sheetRows&&(_=_.slice(0,h.sheetRows)),[_,P]}function s(d,h){var g=i(d,h),x=g[0],v=g[1],m=dd(x,h);return Lo(v).forEach(function(b){m[b]=v[b]}),m}function o(d,h){return Yc(s(d,h),h)}function l(d,h,g,x){var v="C;Y"+(g+1)+";X"+(x+1)+";K";switch(d.t){case"n":v+=d.v||0,d.f&&!d.F&&(v+=";E"+EW(d.f,{r:g,c:x}));break;case"b":v+=d.v?"TRUE":"FALSE";break;case"e":v+=d.w||d.v;break;case"d":v+='"'+(d.w||d.v)+'"';break;case"s":v+='"'+d.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return v}function c(d,h){h.forEach(function(g,x){var v="F;W"+(x+1)+" "+(x+1)+" ";g.hidden?v+="0":(typeof g.width=="number"&&!g.wpx&&(g.wpx=yx(g.width)),typeof g.wpx=="number"&&!g.wch&&(g.wch=_x(g.wpx)),typeof g.wch=="number"&&(v+=Math.round(g.wch))),v.charAt(v.length-1)!=" "&&d.push(v)})}function u(d,h){h.forEach(function(g,x){var v="F;";g.hidden?v+="M0;":g.hpt?v+="M"+20*g.hpt+";":g.hpx&&(v+="M"+20*qP(g.hpx)+";"),v.length>2&&d.push(v+"R"+(x+1))})}function f(d,h){var g=["ID;PWXL;N;E"],x=[],v=Nr(d["!ref"]),m,b=Array.isArray(d),_=`\r
`;g.push("P;PGeneral"),g.push("F;P0;DG0G8;M255"),d["!cols"]&&c(g,d["!cols"]),d["!rows"]&&u(g,d["!rows"]),g.push("B;Y"+(v.e.r-v.s.r+1)+";X"+(v.e.c-v.s.c+1)+";D"+[v.s.c,v.s.r,v.e.c,v.e.r].join(" "));for(var S=v.s.r;S<=v.e.r;++S)for(var N=v.s.c;N<=v.e.c;++N){var P=en({r:S,c:N});m=b?(d[S]||[])[N]:d[P],!(!m||m.v==null&&(!m.f||m.F))&&x.push(l(m,d,S,N))}return g.join(_)+_+x.join(_)+_+"E"+_}return{to_workbook:o,to_sheet:s,from_sheet:f}}(),BH=function(){function t(a,s){switch(s.type){case"base64":return e(is(a),s);case"binary":return e(a,s);case"buffer":return e(wn&&Buffer.isBuffer(a)?a.toString("binary"):hf(a),s);case"array":return e(ef(a),s)}throw new Error("Unrecognized type "+s.type)}function e(a,s){for(var o=a.split(`
`),l=-1,c=-1,u=0,f=[];u!==o.length;++u){if(o[u].trim()==="BOT"){f[++l]=[],c=0;continue}if(!(l<0)){var d=o[u].trim().split(","),h=d[0],g=d[1];++u;for(var x=o[u]||"";(x.match(/["]/g)||[]).length&1&&u<o.length-1;)x+=`
`+o[++u];switch(x=x.trim(),+h){case-1:if(x==="BOT"){f[++l]=[],c=0;continue}else if(x!=="EOD")throw new Error("Unrecognized DIF special command "+x);break;case 0:x==="TRUE"?f[l][c]=!0:x==="FALSE"?f[l][c]=!1:isNaN(Ks(g))?isNaN(Xh(g).getDate())?f[l][c]=g:f[l][c]=yi(g):f[l][c]=Ks(g),++c;break;case 1:x=x.slice(1,x.length-1),x=x.replace(/""/g,'"'),x&&x.match(/^=".*"$/)&&(x=x.slice(2,-1)),f[l][c++]=x!==""?x:null;break}if(x==="EOD")break}}return s&&s.sheetRows&&(f=f.slice(0,s.sheetRows)),f}function n(a,s){return dd(t(a,s),s)}function r(a,s){return Yc(n(a,s),s)}var i=function(){var a=function(l,c,u,f,d){l.push(c),l.push(u+","+f),l.push('"'+d.replace(/"/g,'""')+'"')},s=function(l,c,u,f){l.push(c+","+u),l.push(c==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(l){var c=[],u=Nr(l["!ref"]),f,d=Array.isArray(l);a(c,"TABLE",0,1,"sheetjs"),a(c,"VECTORS",0,u.e.r-u.s.r+1,""),a(c,"TUPLES",0,u.e.c-u.s.c+1,""),a(c,"DATA",0,0,"");for(var h=u.s.r;h<=u.e.r;++h){s(c,-1,0,"BOT");for(var g=u.s.c;g<=u.e.c;++g){var x=en({r:h,c:g});if(f=d?(l[h]||[])[g]:l[x],!f){s(c,1,0,"");continue}switch(f.t){case"n":var v=f.w;!v&&f.v!=null&&(v=f.v),v==null?f.f&&!f.F?s(c,1,0,"="+f.f):s(c,1,0,""):s(c,0,v,"V");break;case"b":s(c,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":s(c,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=Es(f.z||on[14],pa(yi(f.v)))),s(c,0,f.w,"V");break;default:s(c,1,0,"")}}}s(c,-1,0,"EOD");var m=`\r
`,b=c.join(m);return b}}();return{to_workbook:r,to_sheet:n,from_sheet:i}}(),jH=function(){function t(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(f,d){for(var h=f.split(`
`),g=-1,x=-1,v=0,m=[];v!==h.length;++v){var b=h[v].trim().split(":");if(b[0]==="cell"){var _=fa(b[1]);if(m.length<=_.r)for(g=m.length;g<=_.r;++g)m[g]||(m[g]=[]);switch(g=_.r,x=_.c,b[2]){case"t":m[g][x]=t(b[3]);break;case"v":m[g][x]=+b[3];break;case"vtf":var S=b[b.length-1];case"vtc":switch(b[3]){case"nl":m[g][x]=!!+b[4];break;default:m[g][x]=+b[4];break}b[2]=="vtf"&&(m[g][x]=[m[g][x],S])}}}return d&&d.sheetRows&&(m=m.slice(0,d.sheetRows)),m}function r(f,d){return dd(n(f,d),d)}function i(f,d){return Yc(r(f,d),d)}var a=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function c(f){if(!f||!f["!ref"])return"";for(var d=[],h=[],g,x="",v=hd(f["!ref"]),m=Array.isArray(f),b=v.s.r;b<=v.e.r;++b)for(var _=v.s.c;_<=v.e.c;++_)if(x=en({r:b,c:_}),g=m?(f[b]||[])[_]:f[x],!(!g||g.v==null||g.t==="z")){switch(h=["cell",x,"t"],g.t){case"s":case"str":h.push(e(g.v));break;case"n":g.f?(h[2]="vtf",h[3]="n",h[4]=g.v,h[5]=e(g.f)):(h[2]="v",h[3]=g.v);break;case"b":h[2]="vt"+(g.f?"f":"c"),h[3]="nl",h[4]=g.v?"1":"0",h[5]=e(g.f||(g.v?"TRUE":"FALSE"));break;case"d":var S=pa(yi(g.v));h[2]="vtc",h[3]="nd",h[4]=""+S,h[5]=g.w||Es(g.z||on[14],S);break;case"e":continue}d.push(h.join(":"))}return d.push("sheet:c:"+(v.e.c-v.s.c+1)+":r:"+(v.e.r-v.s.r+1)+":tvf:1"),d.push("valueformat:1:text-wiki"),d.join(`
`)}function u(f){return[a,s,o,s,c(f),l].join(`
`)}return{to_workbook:i,to_sheet:r,from_sheet:u}}(),Ep=function(){function t(u,f,d,h,g){g.raw?f[d][h]=u:u===""||(u==="TRUE"?f[d][h]=!0:u==="FALSE"?f[d][h]=!1:isNaN(Ks(u))?isNaN(Xh(u).getDate())?f[d][h]=u:f[d][h]=yi(u):f[d][h]=Ks(u))}function e(u,f){var d=f||{},h=[];if(!u||u.length===0)return h;for(var g=u.split(/[\r\n]/),x=g.length-1;x>=0&&g[x].length===0;)--x;for(var v=10,m=0,b=0;b<=x;++b)m=g[b].indexOf(" "),m==-1?m=g[b].length:m++,v=Math.max(v,m);for(b=0;b<=x;++b){h[b]=[];var _=0;for(t(g[b].slice(0,v).trim(),h,b,_,d),_=1;_<=(g[b].length-v)/10+1;++_)t(g[b].slice(v+(_-1)*10,v+_*10).trim(),h,b,_,d)}return d.sheetRows&&(h=h.slice(0,d.sheetRows)),h}var n={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function i(u){for(var f={},d=!1,h=0,g=0;h<u.length;++h)(g=u.charCodeAt(h))==34?d=!d:!d&&g in n&&(f[g]=(f[g]||0)+1);g=[];for(h in f)Object.prototype.hasOwnProperty.call(f,h)&&g.push([f[h],h]);if(!g.length){f=r;for(h in f)Object.prototype.hasOwnProperty.call(f,h)&&g.push([f[h],h])}return g.sort(function(x,v){return x[0]-v[0]||r[x[1]]-r[v[1]]}),n[g.pop()[1]]||44}function a(u,f){var d=f||{},h="",g=d.dense?[]:{},x={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(h=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(h=u.charAt(4),u=u.slice(6)):h=i(u.slice(0,1024)):d&&d.FS?h=d.FS:h=i(u.slice(0,1024));var v=0,m=0,b=0,_=0,S=0,N=h.charCodeAt(0),P=!1,T=0,L=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var E=d.dateNF!=null?Jj(d.dateNF):null;function R(){var A=u.slice(_,S),F={};if(A.charAt(0)=='"'&&A.charAt(A.length-1)=='"'&&(A=A.slice(1,-1).replace(/""/g,'"')),A.length===0)F.t="z";else if(d.raw)F.t="s",F.v=A;else if(A.trim().length===0)F.t="s",F.v=A;else if(A.charCodeAt(0)==61)A.charCodeAt(1)==34&&A.charCodeAt(A.length-1)==34?(F.t="s",F.v=A.slice(2,-1).replace(/""/g,'"')):TW(A)?(F.t="n",F.f=A.slice(1)):(F.t="s",F.v=A);else if(A=="TRUE")F.t="b",F.v=!0;else if(A=="FALSE")F.t="b",F.v=!1;else if(!isNaN(b=Ks(A)))F.t="n",d.cellText!==!1&&(F.w=A),F.v=b;else if(!isNaN(Xh(A).getDate())||E&&A.match(E)){F.z=d.dateNF||on[14];var j=0;E&&A.match(E)&&(A=Zj(A,d.dateNF,A.match(E)||[]),j=1),d.cellDates?(F.t="d",F.v=yi(A,j)):(F.t="n",F.v=pa(yi(A,j))),d.cellText!==!1&&(F.w=Es(F.z,F.v instanceof Date?pa(F.v):F.v)),d.cellNF||delete F.z}else F.t="s",F.v=A;if(F.t=="z"||(d.dense?(g[v]||(g[v]=[]),g[v][m]=F):g[en({c:m,r:v})]=F),_=S+1,L=u.charCodeAt(_),x.e.c<m&&(x.e.c=m),x.e.r<v&&(x.e.r=v),T==N)++m;else if(m=0,++v,d.sheetRows&&d.sheetRows<=v)return!0}e:for(;S<u.length;++S)switch(T=u.charCodeAt(S)){case 34:L===34&&(P=!P);break;case N:case 10:case 13:if(!P&&R())break e;break}return S-_>0&&R(),g["!ref"]=An(x),g}function s(u,f){return!(f&&f.PRN)||f.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?a(u,f):dd(e(u,f),f)}function o(u,f){var d="",h=f.type=="string"?[0,0,0,0]:RS(u,f);switch(f.type){case"base64":d=is(u);break;case"binary":d=u;break;case"buffer":f.codepage==65001?d=u.toString("utf8"):f.codepage&&typeof _p<"u"||(d=wn&&Buffer.isBuffer(u)?u.toString("binary"):hf(u));break;case"array":d=ef(u);break;case"string":d=u;break;default:throw new Error("Unrecognized type "+f.type)}return h[0]==239&&h[1]==187&&h[2]==191?d=Qn(d.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?d=Qn(d):f.type=="binary"&&typeof _p<"u",d.slice(0,19)=="socialcalc:version:"?jH.to_sheet(f.type=="string"?d:Qn(d),f):s(d,f)}function l(u,f){return Yc(o(u,f),f)}function c(u){for(var f=[],d=Nr(u["!ref"]),h,g=Array.isArray(u),x=d.s.r;x<=d.e.r;++x){for(var v=[],m=d.s.c;m<=d.e.c;++m){var b=en({r:x,c:m});if(h=g?(u[x]||[])[m]:u[b],!h||h.v==null){v.push("          ");continue}for(var _=(h.w||(Cl(h),h.w)||"").slice(0,10);_.length<10;)_+=" ";v.push(_+(m===0?" ":""))}f.push(v.join(""))}return f.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:c}}();function zH(t,e){var n=e||{},r=!!n.WTF;n.WTF=!0;try{var i=UH.to_workbook(t,n);return n.WTF=r,i}catch(a){if(n.WTF=r,!a.message.match(/SYLK bad record ID/)&&r)throw a;return Ep.to_workbook(t,e)}}var j0=function(){function t(k,U,O){if(k){Ai(k,k.l||0);for(var I=O.Enum||xe;k.l<k.length;){var K=k.read_shift(2),re=I[K]||I[65535],_e=k.read_shift(2),ue=k.l+_e,be=re.f&&re.f(k,_e,O);if(k.l=ue,U(be,re,K))return}}}function e(k,U){switch(U.type){case"base64":return n(Hs(is(k)),U);case"binary":return n(Hs(k),U);case"buffer":case"array":return n(k,U)}throw"Unsupported type "+U.type}function n(k,U){if(!k)return k;var O=U||{},I=O.dense?[]:{},K="Sheet1",re="",_e=0,ue={},be=[],ve=[],q={s:{r:0,c:0},e:{r:0,c:0}},te=O.sheetRows||0;if(k[2]==0&&(k[3]==8||k[3]==9)&&k.length>=16&&k[14]==5&&k[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(k[2]==2)O.Enum=xe,t(k,function(Ce,rt,Pe){switch(Pe){case 0:O.vers=Ce,Ce>=4096&&(O.qpro=!0);break;case 6:q=Ce;break;case 204:Ce&&(re=Ce);break;case 222:re=Ce;break;case 15:case 51:O.qpro||(Ce[1].v=Ce[1].v.slice(1));case 13:case 14:case 16:Pe==14&&(Ce[2]&112)==112&&(Ce[2]&15)>1&&(Ce[2]&15)<15&&(Ce[1].z=O.dateNF||on[14],O.cellDates&&(Ce[1].t="d",Ce[1].v=pv(Ce[1].v))),O.qpro&&Ce[3]>_e&&(I["!ref"]=An(q),ue[K]=I,be.push(K),I=O.dense?[]:{},q={s:{r:0,c:0},e:{r:0,c:0}},_e=Ce[3],K=re||"Sheet"+(_e+1),re="");var nt=O.dense?(I[Ce[0].r]||[])[Ce[0].c]:I[en(Ce[0])];if(nt){nt.t=Ce[1].t,nt.v=Ce[1].v,Ce[1].z!=null&&(nt.z=Ce[1].z),Ce[1].f!=null&&(nt.f=Ce[1].f);break}O.dense?(I[Ce[0].r]||(I[Ce[0].r]=[]),I[Ce[0].r][Ce[0].c]=Ce[1]):I[en(Ce[0])]=Ce[1];break}},O);else if(k[2]==26||k[2]==14)O.Enum=Se,k[2]==14&&(O.qpro=!0,k.l=0),t(k,function(Ce,rt,Pe){switch(Pe){case 204:K=Ce;break;case 22:Ce[1].v=Ce[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Ce[3]>_e&&(I["!ref"]=An(q),ue[K]=I,be.push(K),I=O.dense?[]:{},q={s:{r:0,c:0},e:{r:0,c:0}},_e=Ce[3],K="Sheet"+(_e+1)),te>0&&Ce[0].r>=te)break;O.dense?(I[Ce[0].r]||(I[Ce[0].r]=[]),I[Ce[0].r][Ce[0].c]=Ce[1]):I[en(Ce[0])]=Ce[1],q.e.c<Ce[0].c&&(q.e.c=Ce[0].c),q.e.r<Ce[0].r&&(q.e.r=Ce[0].r);break;case 27:Ce[14e3]&&(ve[Ce[14e3][0]]=Ce[14e3][1]);break;case 1537:ve[Ce[0]]=Ce[1],Ce[0]==_e&&(K=Ce[1]);break}},O);else throw new Error("Unrecognized LOTUS BOF "+k[2]);if(I["!ref"]=An(q),ue[re||K]=I,be.push(re||K),!ve.length)return{SheetNames:be,Sheets:ue};for(var Ee={},Z=[],qe=0;qe<ve.length;++qe)ue[be[qe]]?(Z.push(ve[qe]||be[qe]),Ee[ve[qe]]=ue[ve[qe]]||ue[be[qe]]):(Z.push(ve[qe]),Ee[ve[qe]]={"!ref":"A1"});return{SheetNames:Z,Sheets:Ee}}function r(k,U){var O=U||{};if(+O.codepage>=0&&Ws(+O.codepage),O.type=="string")throw new Error("Cannot write WK1 to JS string");var I=Mb(),K=Nr(k["!ref"]),re=Array.isArray(k),_e=[];Ls(I,0,a(1030)),Ls(I,6,l(K));for(var ue=Math.min(K.e.r,8191),be=K.s.r;be<=ue;++be)for(var ve=ki(be),q=K.s.c;q<=K.e.c;++q){be===K.s.r&&(_e[q]=ai(q));var te=_e[q]+ve,Ee=re?(k[be]||[])[q]:k[te];if(!(!Ee||Ee.t=="z"))if(Ee.t=="n")(Ee.v|0)==Ee.v&&Ee.v>=-32768&&Ee.v<=32767?Ls(I,13,h(be,q,Ee.v)):Ls(I,14,x(be,q,Ee.v));else{var Z=Cl(Ee);Ls(I,15,f(be,q,Z.slice(0,239)))}}return Ls(I,1),I.end()}function i(k,U){var O=U||{};if(+O.codepage>=0&&Ws(+O.codepage),O.type=="string")throw new Error("Cannot write WK3 to JS string");var I=Mb();Ls(I,0,s(k));for(var K=0,re=0;K<k.SheetNames.length;++K)(k.Sheets[k.SheetNames[K]]||{})["!ref"]&&Ls(I,27,H(k.SheetNames[K],re++));var _e=0;for(K=0;K<k.SheetNames.length;++K){var ue=k.Sheets[k.SheetNames[K]];if(!(!ue||!ue["!ref"])){for(var be=Nr(ue["!ref"]),ve=Array.isArray(ue),q=[],te=Math.min(be.e.r,8191),Ee=be.s.r;Ee<=te;++Ee)for(var Z=ki(Ee),qe=be.s.c;qe<=be.e.c;++qe){Ee===be.s.r&&(q[qe]=ai(qe));var Ce=q[qe]+Z,rt=ve?(ue[Ee]||[])[qe]:ue[Ce];if(!(!rt||rt.t=="z"))if(rt.t=="n")Ls(I,23,R(Ee,qe,_e,rt.v));else{var Pe=Cl(rt);Ls(I,22,T(Ee,qe,_e,Pe.slice(0,239)))}}++_e}}return Ls(I,1),I.end()}function a(k){var U=ni(2);return U.write_shift(2,k),U}function s(k){var U=ni(26);U.write_shift(2,4096),U.write_shift(2,4),U.write_shift(4,0);for(var O=0,I=0,K=0,re=0;re<k.SheetNames.length;++re){var _e=k.SheetNames[re],ue=k.Sheets[_e];if(!(!ue||!ue["!ref"])){++K;var be=hd(ue["!ref"]);O<be.e.r&&(O=be.e.r),I<be.e.c&&(I=be.e.c)}}return O>8191&&(O=8191),U.write_shift(2,O),U.write_shift(1,K),U.write_shift(1,I),U.write_shift(2,0),U.write_shift(2,0),U.write_shift(1,1),U.write_shift(1,2),U.write_shift(4,0),U.write_shift(4,0),U}function o(k,U,O){var I={s:{c:0,r:0},e:{c:0,r:0}};return U==8&&O.qpro?(I.s.c=k.read_shift(1),k.l++,I.s.r=k.read_shift(2),I.e.c=k.read_shift(1),k.l++,I.e.r=k.read_shift(2),I):(I.s.c=k.read_shift(2),I.s.r=k.read_shift(2),U==12&&O.qpro&&(k.l+=2),I.e.c=k.read_shift(2),I.e.r=k.read_shift(2),U==12&&O.qpro&&(k.l+=2),I.s.c==65535&&(I.s.c=I.e.c=I.s.r=I.e.r=0),I)}function l(k){var U=ni(8);return U.write_shift(2,k.s.c),U.write_shift(2,k.s.r),U.write_shift(2,k.e.c),U.write_shift(2,k.e.r),U}function c(k,U,O){var I=[{c:0,r:0},{t:"n",v:0},0,0];return O.qpro&&O.vers!=20768?(I[0].c=k.read_shift(1),I[3]=k.read_shift(1),I[0].r=k.read_shift(2),k.l+=2):(I[2]=k.read_shift(1),I[0].c=k.read_shift(2),I[0].r=k.read_shift(2)),I}function u(k,U,O){var I=k.l+U,K=c(k,U,O);if(K[1].t="s",O.vers==20768){k.l++;var re=k.read_shift(1);return K[1].v=k.read_shift(re,"utf8"),K}return O.qpro&&k.l++,K[1].v=k.read_shift(I-k.l,"cstr"),K}function f(k,U,O){var I=ni(7+O.length);I.write_shift(1,255),I.write_shift(2,U),I.write_shift(2,k),I.write_shift(1,39);for(var K=0;K<I.length;++K){var re=O.charCodeAt(K);I.write_shift(1,re>=128?95:re)}return I.write_shift(1,0),I}function d(k,U,O){var I=c(k,U,O);return I[1].v=k.read_shift(2,"i"),I}function h(k,U,O){var I=ni(7);return I.write_shift(1,255),I.write_shift(2,U),I.write_shift(2,k),I.write_shift(2,O,"i"),I}function g(k,U,O){var I=c(k,U,O);return I[1].v=k.read_shift(8,"f"),I}function x(k,U,O){var I=ni(13);return I.write_shift(1,255),I.write_shift(2,U),I.write_shift(2,k),I.write_shift(8,O,"f"),I}function v(k,U,O){var I=k.l+U,K=c(k,U,O);if(K[1].v=k.read_shift(8,"f"),O.qpro)k.l=I;else{var re=k.read_shift(2);S(k.slice(k.l,k.l+re),K),k.l+=re}return K}function m(k,U,O){var I=U&32768;return U&=-32769,U=(I?k:0)+(U>=8192?U-16384:U),(I?"":"$")+(O?ai(U):ki(U))}var b={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},_=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function S(k,U){Ai(k,0);for(var O=[],I=0,K="",re="",_e="",ue="";k.l<k.length;){var be=k[k.l++];switch(be){case 0:O.push(k.read_shift(8,"f"));break;case 1:re=m(U[0].c,k.read_shift(2),!0),K=m(U[0].r,k.read_shift(2),!1),O.push(re+K);break;case 2:{var ve=m(U[0].c,k.read_shift(2),!0),q=m(U[0].r,k.read_shift(2),!1);re=m(U[0].c,k.read_shift(2),!0),K=m(U[0].r,k.read_shift(2),!1),O.push(ve+q+":"+re+K)}break;case 3:if(k.l<k.length){console.error("WK1 premature formula end");return}break;case 4:O.push("("+O.pop()+")");break;case 5:O.push(k.read_shift(2));break;case 6:{for(var te="";be=k[k.l++];)te+=String.fromCharCode(be);O.push('"'+te.replace(/"/g,'""')+'"')}break;case 8:O.push("-"+O.pop());break;case 23:O.push("+"+O.pop());break;case 22:O.push("NOT("+O.pop()+")");break;case 20:case 21:ue=O.pop(),_e=O.pop(),O.push(["AND","OR"][be-20]+"("+_e+","+ue+")");break;default:if(be<32&&_[be])ue=O.pop(),_e=O.pop(),O.push(_e+_[be]+ue);else if(b[be]){if(I=b[be][1],I==69&&(I=k[k.l++]),I>O.length){console.error("WK1 bad formula parse 0x"+be.toString(16)+":|"+O.join("|")+"|");return}var Ee=O.slice(-I);O.length-=I,O.push(b[be][0]+"("+Ee.join(",")+")")}else return be<=7?console.error("WK1 invalid opcode "+be.toString(16)):be<=24?console.error("WK1 unsupported op "+be.toString(16)):be<=30?console.error("WK1 invalid opcode "+be.toString(16)):be<=115?console.error("WK1 unsupported function opcode "+be.toString(16)):console.error("WK1 unrecognized opcode "+be.toString(16))}}O.length==1?U[1].f=""+O[0]:console.error("WK1 bad formula parse |"+O.join("|")+"|")}function N(k){var U=[{c:0,r:0},{t:"n",v:0},0];return U[0].r=k.read_shift(2),U[3]=k[k.l++],U[0].c=k[k.l++],U}function P(k,U){var O=N(k);return O[1].t="s",O[1].v=k.read_shift(U-4,"cstr"),O}function T(k,U,O,I){var K=ni(6+I.length);K.write_shift(2,k),K.write_shift(1,O),K.write_shift(1,U),K.write_shift(1,39);for(var re=0;re<I.length;++re){var _e=I.charCodeAt(re);K.write_shift(1,_e>=128?95:_e)}return K.write_shift(1,0),K}function L(k,U){var O=N(k);O[1].v=k.read_shift(2);var I=O[1].v>>1;if(O[1].v&1)switch(I&7){case 0:I=(I>>3)*5e3;break;case 1:I=(I>>3)*500;break;case 2:I=(I>>3)/20;break;case 3:I=(I>>3)/200;break;case 4:I=(I>>3)/2e3;break;case 5:I=(I>>3)/2e4;break;case 6:I=(I>>3)/16;break;case 7:I=(I>>3)/64;break}return O[1].v=I,O}function E(k,U){var O=N(k),I=k.read_shift(4),K=k.read_shift(4),re=k.read_shift(2);if(re==65535)return I===0&&K===3221225472?(O[1].t="e",O[1].v=15):I===0&&K===3489660928?(O[1].t="e",O[1].v=42):O[1].v=0,O;var _e=re&32768;return re=(re&32767)-16446,O[1].v=(1-_e*2)*(K*Math.pow(2,re+32)+I*Math.pow(2,re)),O}function R(k,U,O,I){var K=ni(14);if(K.write_shift(2,k),K.write_shift(1,O),K.write_shift(1,U),I==0)return K.write_shift(4,0),K.write_shift(4,0),K.write_shift(2,65535),K;var re=0,_e=0,ue=0,be=0;return I<0&&(re=1,I=-I),_e=Math.log2(I)|0,I/=Math.pow(2,_e-31),be=I>>>0,be&2147483648||(I/=2,++_e,be=I>>>0),I-=be,be|=2147483648,be>>>=0,I*=Math.pow(2,32),ue=I>>>0,K.write_shift(4,ue),K.write_shift(4,be),_e+=16383+(re?32768:0),K.write_shift(2,_e),K}function A(k,U){var O=E(k);return k.l+=U-14,O}function F(k,U){var O=N(k),I=k.read_shift(4);return O[1].v=I>>6,O}function j(k,U){var O=N(k),I=k.read_shift(8,"f");return O[1].v=I,O}function V(k,U){var O=j(k);return k.l+=U-10,O}function X(k,U){return k[k.l+U-1]==0?k.read_shift(U,"cstr"):""}function ee(k,U){var O=k[k.l++];O>U-1&&(O=U-1);for(var I="";I.length<O;)I+=String.fromCharCode(k[k.l++]);return I}function se(k,U,O){if(!(!O.qpro||U<21)){var I=k.read_shift(1);k.l+=17,k.l+=1,k.l+=2;var K=k.read_shift(U-21,"cstr");return[I,K]}}function B(k,U){for(var O={},I=k.l+U;k.l<I;){var K=k.read_shift(2);if(K==14e3){for(O[K]=[0,""],O[K][0]=k.read_shift(2);k[k.l];)O[K][1]+=String.fromCharCode(k[k.l]),k.l++;k.l++}}return O}function H(k,U){var O=ni(5+k.length);O.write_shift(2,14e3),O.write_shift(2,U);for(var I=0;I<k.length;++I){var K=k.charCodeAt(I);O[O.l++]=K>127?95:K}return O[O.l++]=0,O}var xe={0:{n:"BOF",f:$r},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:d},14:{n:"NUMBER",f:g},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:v},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:X},222:{n:"SHEETNAMELP",f:ee},65535:{n:""}},Se={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:P},23:{n:"NUMBER17",f:E},24:{n:"NUMBER18",f:L},25:{n:"FORMULA19",f:A},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:B},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:F},38:{n:"??"},39:{n:"NUMBER27",f:j},40:{n:"FORMULA28",f:V},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:X},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:se},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:i,to_workbook:e}}();function HH(t){var e={},n=t.match(na),r=0,i=!1;if(n)for(;r!=n.length;++r){var a=$t(n[r]);switch(a[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!a.val)break;case"<shadow>":case"<shadow/>":e.shadow=1;break;case"</shadow>":break;case"<charset":if(a.val=="1")break;e.cp=oS[parseInt(a.val,10)];break;case"<outline":if(!a.val)break;case"<outline>":case"<outline/>":e.outline=1;break;case"</outline>":break;case"<rFont":e.name=a.val;break;case"<sz":e.sz=a.val;break;case"<strike":if(!a.val)break;case"<strike>":case"<strike/>":e.strike=1;break;case"</strike>":break;case"<u":if(!a.val)break;switch(a.val){case"double":e.uval="double";break;case"singleAccounting":e.uval="single-accounting";break;case"doubleAccounting":e.uval="double-accounting";break}case"<u>":case"<u/>":e.u=1;break;case"</u>":break;case"<b":if(a.val=="0")break;case"<b>":case"<b/>":e.b=1;break;case"</b>":break;case"<i":if(a.val=="0")break;case"<i>":case"<i/>":e.i=1;break;case"</i>":break;case"<color":a.rgb&&(e.color=a.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":e.family=a.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":e.valign=a.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(a[0].charCodeAt(1)!==47&&!i)throw new Error("Unrecognized rich format "+a[0])}}return e}var VH=function(){var t=wp("t"),e=wp("rPr");function n(a){var s=a.match(t);if(!s)return{t:"s",v:""};var o={t:"s",v:Nn(s[1])},l=a.match(e);return l&&(o.s=HH(l[1])),o}var r=/<(?:\w+:)?r>/g,i=/<\/(?:\w+:)?r>/;return function(s){return s.replace(r,"").split(i).map(n).filter(function(o){return o.v})}}(),WH=function(){var e=/(\r\n|\n)/g;function n(i,a,s){var o=[];i.u&&o.push("text-decoration: underline;"),i.uval&&o.push("text-underline-style:"+i.uval+";"),i.sz&&o.push("font-size:"+i.sz+"pt;"),i.outline&&o.push("text-effect: outline;"),i.shadow&&o.push("text-shadow: auto;"),a.push('<span style="'+o.join("")+'">'),i.b&&(a.push("<b>"),s.push("</b>")),i.i&&(a.push("<i>"),s.push("</i>")),i.strike&&(a.push("<s>"),s.push("</s>"));var l=i.valign||"";return l=="superscript"||l=="super"?l="sup":l=="subscript"&&(l="sub"),l!=""&&(a.push("<"+l+">"),s.push("</"+l+">")),s.push("</span>"),i}function r(i){var a=[[],i.v,[]];return i.v?(i.s&&n(i.s,a[0],a[2]),a[0].join("")+a[1].replace(e,"<br/>")+a[2].join("")):""}return function(a){return a.map(r).join("")}}(),GH=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,qH=/<(?:\w+:)?r>/,XH=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function ES(t,e){var n=e?e.cellHTML:!0,r={};return t?(t.match(/^\s*<(?:\w+:)?t[^>]*>/)?(r.t=Nn(Qn(t.slice(t.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),r.r=Qn(t),n&&(r.h=pS(r.t))):t.match(qH)&&(r.r=Qn(t),r.t=Nn(Qn((t.replace(XH,"").match(GH)||[]).join("").replace(na,""))),n&&(r.h=WH(VH(r.r)))),r):{t:""}}var $H=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,YH=/<(?:\w+:)?(?:si|sstItem)>/g,KH=/<\/(?:\w+:)?(?:si|sstItem)>/;function JH(t,e){var n=[],r="";if(!t)return n;var i=t.match($H);if(i){r=i[2].replace(YH,"").split(KH);for(var a=0;a!=r.length;++a){var s=ES(r[a].trim(),e);s!=null&&(n[n.length]=s)}i=$t(i[1]),n.Count=i.count,n.Unique=i.uniqueCount}return n}function ZH(t){return[t.read_shift(4),t.read_shift(4)]}function QH(t,e){var n=[],r=!1;return Dl(t,function(a,s,o){switch(o){case 159:n.Count=a[0],n.Unique=a[1];break;case 19:n.push(a);break;case 160:return!0;case 35:r=!0;break;case 36:r=!1;break;default:if(s.T,!r||e.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function jP(t){for(var e=[],n=t.split(""),r=0;r<n.length;++r)e[r]=n[r].charCodeAt(0);return e}function El(t,e){var n={};return n.Major=t.read_shift(2),n.Minor=t.read_shift(2),e>=4&&(t.l+=e-4),n}function eV(t){var e={};return e.id=t.read_shift(0,"lpp4"),e.R=El(t,4),e.U=El(t,4),e.W=El(t,4),e}function tV(t){for(var e=t.read_shift(4),n=t.l+e-4,r={},i=t.read_shift(4),a=[];i-- >0;)a.push({t:t.read_shift(4),v:t.read_shift(0,"lpp4")});if(r.name=t.read_shift(0,"lpp4"),r.comps=a,t.l!=n)throw new Error("Bad DataSpaceMapEntry: "+t.l+" != "+n);return r}function nV(t){var e=[];t.l+=4;for(var n=t.read_shift(4);n-- >0;)e.push(tV(t));return e}function rV(t){var e=[];t.l+=4;for(var n=t.read_shift(4);n-- >0;)e.push(t.read_shift(0,"lpp4"));return e}function iV(t){var e={};return t.read_shift(4),t.l+=4,e.id=t.read_shift(0,"lpp4"),e.name=t.read_shift(0,"lpp4"),e.R=El(t,4),e.U=El(t,4),e.W=El(t,4),e}function aV(t){var e=iV(t);if(e.ename=t.read_shift(0,"8lpp4"),e.blksz=t.read_shift(4),e.cmode=t.read_shift(4),t.read_shift(4)!=4)throw new Error("Bad !Primary record");return e}function zP(t,e){var n=t.l+e,r={};r.Flags=t.read_shift(4)&63,t.l+=4,r.AlgID=t.read_shift(4);var i=!1;switch(r.AlgID){case 26126:case 26127:case 26128:i=r.Flags==36;break;case 26625:i=r.Flags==4;break;case 0:i=r.Flags==16||r.Flags==4||r.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+r.AlgID}if(!i)throw new Error("Encryption Flags/AlgID mismatch");return r.AlgIDHash=t.read_shift(4),r.KeySize=t.read_shift(4),r.ProviderType=t.read_shift(4),t.l+=8,r.CSPName=t.read_shift(n-t.l>>1,"utf16le"),t.l=n,r}function HP(t,e){var n={},r=t.l+e;return t.l+=4,n.Salt=t.slice(t.l,t.l+16),t.l+=16,n.Verifier=t.slice(t.l,t.l+16),t.l+=16,t.read_shift(4),n.VerifierHash=t.slice(t.l,r),t.l=r,n}function sV(t){var e=El(t);switch(e.Minor){case 2:return[e.Minor,oV(t)];case 3:return[e.Minor,lV()];case 4:return[e.Minor,cV(t)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+e.Minor)}function oV(t){var e=t.read_shift(4);if((e&63)!=36)throw new Error("EncryptionInfo mismatch");var n=t.read_shift(4),r=zP(t,n),i=HP(t,t.length-t.l);return{t:"Std",h:r,v:i}}function lV(){throw new Error("File is password-protected: ECMA-376 Extensible")}function cV(t){var e=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];t.l+=4;var n=t.read_shift(t.length-t.l,"utf8"),r={};return n.replace(na,function(a){var s=$t(a);switch(Uo(s[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":e.forEach(function(o){r[o]=s[o]});break;case"<dataIntegrity":r.encryptedHmacKey=s.encryptedHmacKey,r.encryptedHmacValue=s.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":r.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":r.uri=s.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":r.encs.push(s);break;default:throw s[0]}}),r}function uV(t,e){var n={},r=n.EncryptionVersionInfo=El(t,4);if(e-=4,r.Minor!=2)throw new Error("unrecognized minor version code: "+r.Minor);if(r.Major>4||r.Major<2)throw new Error("unrecognized major version code: "+r.Major);n.Flags=t.read_shift(4),e-=4;var i=t.read_shift(4);return e-=4,n.EncryptionHeader=zP(t,i),e-=i,n.EncryptionVerifier=HP(t,e),n}function fV(t){var e={},n=e.EncryptionVersionInfo=El(t,4);if(n.Major!=1||n.Minor!=1)throw"unrecognized version code "+n.Major+" : "+n.Minor;return e.Salt=t.read_shift(16),e.EncryptedVerifier=t.read_shift(16),e.EncryptedVerifierHash=t.read_shift(16),e}function hV(t){var e=0,n,r=jP(t),i=r.length+1,a,s,o,l,c;for(n=Uc(i),n[0]=r.length,a=1;a!=i;++a)n[a]=r[a-1];for(a=i-1;a>=0;--a)s=n[a],o=e&16384?1:0,l=e<<1&32767,c=o|l,e=c^s;return e^52811}var VP=function(){var t=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],e=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],n=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],r=function(s){return(s/2|s*128)&255},i=function(s,o){return r(s^o)},a=function(s){for(var o=e[s.length-1],l=104,c=s.length-1;c>=0;--c)for(var u=s[c],f=0;f!=7;++f)u&64&&(o^=n[l]),u*=2,--l;return o};return function(s){for(var o=jP(s),l=a(o),c=o.length,u=Uc(16),f=0;f!=16;++f)u[f]=0;var d,h,g;for((c&1)===1&&(d=l>>8,u[c]=i(t[0],d),--c,d=l&255,h=o[o.length-1],u[c]=i(h,d));c>0;)--c,d=l>>8,u[c]=i(o[c],d),--c,d=l&255,u[c]=i(o[c],d);for(c=15,g=15-o.length;g>0;)d=l>>8,u[c]=i(t[g],d),--c,--g,d=l&255,u[c]=i(o[c],d),--c,--g;return u}}(),dV=function(t,e,n,r,i){i||(i=e),r||(r=VP(t));var a,s;for(a=0;a!=e.length;++a)s=e[a],s^=r[n],s=(s>>5|s<<3)&255,i[a]=s,++n;return[i,n,r]},pV=function(t){var e=0,n=VP(t);return function(r){var i=dV("",r,e,n);return e=i[1],i[0]}};function mV(t,e,n,r){var i={key:$r(t),verificationBytes:$r(t)};return n.password&&(i.verifier=hV(n.password)),r.valid=i.verificationBytes===i.verifier,r.valid&&(r.insitu=pV(n.password)),i}function gV(t,e,n){var r=n||{};return r.Info=t.read_shift(2),t.l-=2,r.Info===1?r.Data=fV(t):r.Data=uV(t,e),r}function xV(t,e,n){var r={Type:n.biff>=8?t.read_shift(2):0};return r.Type?gV(t,e-2,r):mV(t,n.biff>=8?e:e-2,n,r),r}var vV=function(){function t(i,a){switch(a.type){case"base64":return e(is(i),a);case"binary":return e(i,a);case"buffer":return e(wn&&Buffer.isBuffer(i)?i.toString("binary"):hf(i),a);case"array":return e(ef(i),a)}throw new Error("Unrecognized type "+a.type)}function e(i,a){var s=a||{},o=s.dense?[]:{},l=i.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var c={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(u,f){Array.isArray(o)&&(o[f]=[]);for(var d=/\\\w+\b/g,h=0,g,x=-1;g=d.exec(u);){switch(g[0]){case"\\cell":var v=u.slice(h,d.lastIndex-g[0].length);if(v[0]==" "&&(v=v.slice(1)),++x,v.length){var m={v,t:"s"};Array.isArray(o)?o[f][x]=m:o[en({r:f,c:x})]=m}break}h=d.lastIndex}x>c.e.c&&(c.e.c=x)}),o["!ref"]=An(c),o}function n(i,a){return Yc(t(i,a),a)}function r(i){for(var a=["{\\rtf1\\ansi"],s=Nr(i["!ref"]),o,l=Array.isArray(i),c=s.s.r;c<=s.e.r;++c){a.push("\\trowd\\trautofit1");for(var u=s.s.c;u<=s.e.c;++u)a.push("\\cellx"+(u+1));for(a.push("\\pard\\intbl"),u=s.s.c;u<=s.e.c;++u){var f=en({r:c,c:u});o=l?(i[c]||[])[u]:i[f],!(!o||o.v==null&&(!o.f||o.F))&&(a.push(" "+(o.w||(Cl(o),o.w))),a.push("\\cell"))}a.push("\\pard\\intbl\\row")}return a.join("")+"}"}return{to_workbook:n,to_sheet:t,from_sheet:r}}();function yV(t){var e=t.slice(t[0]==="#"?1:0).slice(0,6);return[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)]}function Ap(t){for(var e=0,n=1;e!=3;++e)n=n*256+(t[e]>255?255:t[e]<0?0:t[e]);return n.toString(16).toUpperCase().slice(1)}function _V(t){var e=t[0]/255,n=t[1]/255,r=t[2]/255,i=Math.max(e,n,r),a=Math.min(e,n,r),s=i-a;if(s===0)return[0,0,e];var o=0,l=0,c=i+a;switch(l=s/(c>1?2-c:c),i){case e:o=((n-r)/s+6)%6;break;case n:o=(r-e)/s+2;break;case r:o=(e-n)/s+4;break}return[o/6,l,c/2]}function bV(t){var e=t[0],n=t[1],r=t[2],i=n*2*(r<.5?r:1-r),a=r-i/2,s=[a,a,a],o=6*e,l;if(n!==0)switch(o|0){case 0:case 6:l=i*o,s[0]+=i,s[1]+=l;break;case 1:l=i*(2-o),s[0]+=l,s[1]+=i;break;case 2:l=i*(o-2),s[1]+=i,s[2]+=l;break;case 3:l=i*(4-o),s[1]+=l,s[2]+=i;break;case 4:l=i*(o-4),s[2]+=i,s[0]+=l;break;case 5:l=i*(6-o),s[2]+=l,s[0]+=i;break}for(var c=0;c!=3;++c)s[c]=Math.round(s[c]*255);return s}function vx(t,e){if(e===0)return t;var n=_V(yV(t));return e<0?n[2]=n[2]*(1+e):n[2]=1-(1-n[2])*(1-e),Ap(bV(n))}var WP=6,wV=15,SV=1,ua=WP;function yx(t){return Math.floor((t+Math.round(128/ua)/256)*ua)}function _x(t){return Math.floor((t-5)/ua*100+.5)/100}function Rb(t){return Math.round((t*ua+5)/ua*256)/256}function V2(t){return Rb(_x(yx(t)))}function AS(t){var e=Math.abs(t-V2(t)),n=ua;if(e>.005)for(ua=SV;ua<wV;++ua)Math.abs(t-V2(t))<=e&&(e=Math.abs(t-V2(t)),n=ua);ua=n}function $h(t){t.width?(t.wpx=yx(t.width),t.wch=_x(t.wpx),t.MDW=ua):t.wpx?(t.wch=_x(t.wpx),t.width=Rb(t.wch),t.MDW=ua):typeof t.wch=="number"&&(t.width=Rb(t.wch),t.wpx=yx(t.width),t.MDW=ua),t.customWidth&&delete t.customWidth}var EV=96,GP=EV;function qP(t){return t*96/GP}function Tp(t){return t*GP/96}var AV={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function TV(t,e,n,r){e.Borders=[];var i={},a=!1;(t[0].match(na)||[]).forEach(function(s){var o=$t(s);switch(Uo(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":i={},o.diagonalUp&&(i.diagonalUp=lr(o.diagonalUp)),o.diagonalDown&&(i.diagonalDown=lr(o.diagonalDown)),e.Borders.push(i);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+o[0]+" in borders")}})}function MV(t,e,n,r){e.Fills=[];var i={},a=!1;(t[0].match(na)||[]).forEach(function(s){var o=$t(s);switch(Uo(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":i={},e.Fills.push(i);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":e.Fills.push(i),i={};break;case"<patternFill":case"<patternFill>":o.patternType&&(i.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":i.bgColor||(i.bgColor={}),o.indexed&&(i.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(i.bgColor.theme=parseInt(o.theme,10)),o.tint&&(i.bgColor.tint=parseFloat(o.tint)),o.rgb&&(i.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":i.fgColor||(i.fgColor={}),o.theme&&(i.fgColor.theme=parseInt(o.theme,10)),o.tint&&(i.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(i.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+o[0]+" in fills")}})}function NV(t,e,n,r){e.Fonts=[];var i={},a=!1;(t[0].match(na)||[]).forEach(function(s){var o=$t(s);switch(Uo(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":e.Fonts.push(i),i={};break;case"<name":o.val&&(i.name=Qn(o.val));break;case"<name/>":case"</name>":break;case"<b":i.bold=o.val?lr(o.val):1;break;case"<b/>":i.bold=1;break;case"<i":i.italic=o.val?lr(o.val):1;break;case"<i/>":i.italic=1;break;case"<u":switch(o.val){case"none":i.underline=0;break;case"single":i.underline=1;break;case"double":i.underline=2;break;case"singleAccounting":i.underline=33;break;case"doubleAccounting":i.underline=34;break}break;case"<u/>":i.underline=1;break;case"<strike":i.strike=o.val?lr(o.val):1;break;case"<strike/>":i.strike=1;break;case"<outline":i.outline=o.val?lr(o.val):1;break;case"<outline/>":i.outline=1;break;case"<shadow":i.shadow=o.val?lr(o.val):1;break;case"<shadow/>":i.shadow=1;break;case"<condense":i.condense=o.val?lr(o.val):1;break;case"<condense/>":i.condense=1;break;case"<extend":i.extend=o.val?lr(o.val):1;break;case"<extend/>":i.extend=1;break;case"<sz":o.val&&(i.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(i.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(i.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(i.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=oS[parseInt(o.val,10)];break;case"<color":if(i.color||(i.color={}),o.auto&&(i.color.auto=lr(o.auto)),o.rgb)i.color.rgb=o.rgb.slice(-6);else if(o.indexed){i.color.index=parseInt(o.indexed,10);var l=Vu[i.color.index];i.color.index==81&&(l=Vu[1]),l||(l=Vu[1]),i.color.rgb=l[0].toString(16)+l[1].toString(16)+l[2].toString(16)}else o.theme&&(i.color.theme=parseInt(o.theme,10),o.tint&&(i.color.tint=parseFloat(o.tint)),o.theme&&n.themeElements&&n.themeElements.clrScheme&&(i.color.rgb=vx(n.themeElements.clrScheme[i.color.theme].rgb,i.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+o[0]+" in fonts")}})}function kV(t,e,n){e.NumberFmt=[];for(var r=Lo(on),i=0;i<r.length;++i)e.NumberFmt[r[i]]=on[r[i]];var a=t[0].match(na);if(a)for(i=0;i<a.length;++i){var s=$t(a[i]);switch(Uo(s[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=Nn(Qn(s.formatCode)),l=parseInt(s.numFmtId,10);if(e.NumberFmt[l]=o,l>0){if(l>392){for(l=392;l>60&&e.NumberFmt[l]!=null;--l);e.NumberFmt[l]=o}Hu(o,l)}}break;case"</numFmt>":break;default:if(n.WTF)throw new Error("unrecognized "+s[0]+" in numFmts")}}}var tg=["numFmtId","fillId","fontId","borderId","xfId"],ng=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function CV(t,e,n){e.CellXf=[];var r,i=!1;(t[0].match(na)||[]).forEach(function(a){var s=$t(a),o=0;switch(Uo(s[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(r=s,delete r[0],o=0;o<tg.length;++o)r[tg[o]]&&(r[tg[o]]=parseInt(r[tg[o]],10));for(o=0;o<ng.length;++o)r[ng[o]]&&(r[ng[o]]=lr(r[ng[o]]));if(e.NumberFmt&&r.numFmtId>392){for(o=392;o>60;--o)if(e.NumberFmt[r.numFmtId]==e.NumberFmt[o]){r.numFmtId=o;break}}e.CellXf.push(r);break;case"</xf>":break;case"<alignment":case"<alignment/>":var l={};s.vertical&&(l.vertical=s.vertical),s.horizontal&&(l.horizontal=s.horizontal),s.textRotation!=null&&(l.textRotation=s.textRotation),s.indent&&(l.indent=s.indent),s.wrapText&&(l.wrapText=lr(s.wrapText)),r.alignment=l;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+s[0]+" in cellXfs")}})}var RV=function(){var e=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,n=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,r=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,i=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,a=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,l,c){var u={};if(!o)return u;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=o.match(e))&&kV(f,u,c),(f=o.match(i))&&NV(f,u,l,c),(f=o.match(r))&&MV(f,u,l,c),(f=o.match(a))&&TV(f,u,l,c),(f=o.match(n))&&CV(f,u,c),u}}();function PV(t,e){var n=t.read_shift(2),r=Zi(t);return[n,r]}function LV(t,e,n){var r={};r.sz=t.read_shift(2)/20;var i=V9(t);i.fItalic&&(r.italic=1),i.fCondense&&(r.condense=1),i.fExtend&&(r.extend=1),i.fShadow&&(r.shadow=1),i.fOutline&&(r.outline=1),i.fStrikeout&&(r.strike=1);var a=t.read_shift(2);switch(a===700&&(r.bold=1),t.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var s=t.read_shift(1);s!=0&&(r.underline=s);var o=t.read_shift(1);o>0&&(r.family=o);var l=t.read_shift(1);switch(l>0&&(r.charset=l),t.l++,r.color=H9(t),t.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=Zi(t),r}var FV=ea;function DV(t,e){var n=t.l+e,r=t.read_shift(2),i=t.read_shift(2);return t.l=n,{ixfe:r,numFmtId:i}}var IV=ea;function OV(t,e,n){var r={};r.NumberFmt=[];for(var i in on)r.NumberFmt[i]=on[i];r.CellXf=[],r.Fonts=[];var a=[],s=!1;return Dl(t,function(l,c,u){switch(u){case 44:r.NumberFmt[l[0]]=l[1],Hu(l[1],l[0]);break;case 43:r.Fonts.push(l),l.color.theme!=null&&e&&e.themeElements&&e.themeElements.clrScheme&&(l.color.rgb=vx(e.themeElements.clrScheme[l.color.theme].rgb,l.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:a[a.length-1]==617&&r.CellXf.push(l);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:a.push(u),s=!0;break;case 38:a.pop(),s=!1;break;default:if(c.T>0)a.push(u);else if(c.T<0)a.pop();else if(!s||n.WTF&&a[a.length-1]!=37)throw new Error("Unexpected record 0x"+u.toString(16))}}),r}var UV=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function BV(t,e,n){e.themeElements.clrScheme=[];var r={};(t[0].match(na)||[]).forEach(function(i){var a=$t(i);switch(a[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":r.rgb=a.val;break;case"<a:sysClr":r.rgb=a.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":a[0].charAt(1)==="/"?(e.themeElements.clrScheme[UV.indexOf(a[0])]=r,r={}):r.name=a[0].slice(3,a[0].length-1);break;default:if(n&&n.WTF)throw new Error("Unrecognized "+a[0]+" in clrScheme")}})}function jV(){}function zV(){}var HV=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,VV=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,WV=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function GV(t,e,n){e.themeElements={};var r;[["clrScheme",HV,BV],["fontScheme",VV,jV],["fmtScheme",WV,zV]].forEach(function(i){if(!(r=t.match(i[1])))throw new Error(i[0]+" not found in themeElements");i[2](r,e,n)})}var qV=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function XP(t,e){(!t||t.length===0)&&(t=XV());var n,r={};if(!(n=t.match(qV)))throw new Error("themeElements not found in theme");return GV(n[0],r,e),r.raw=t,r}function XV(t,e){var n=[iP];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function $V(t,e,n){var r=t.l+e,i=t.read_shift(4);if(i!==124226){if(!n.cellStyles){t.l=r;return}var a=t.slice(t.l);t.l=r;var s;try{s=rP(a,{type:"array"})}catch{return}var o=Ja(s,"theme/theme/theme1.xml",!0);if(o)return XP(o,n)}}function YV(t){return t.read_shift(4)}function KV(t){var e={};switch(e.xclrType=t.read_shift(2),e.nTintShade=t.read_shift(2),e.xclrType){case 0:t.l+=4;break;case 1:e.xclrValue=JV(t,4);break;case 2:e.xclrValue=LP(t);break;case 3:e.xclrValue=YV(t);break;case 4:t.l+=4;break}return t.l+=8,e}function JV(t,e){return ea(t,e)}function ZV(t,e){return ea(t,e)}function QV(t){var e=t.read_shift(2),n=t.read_shift(2)-4,r=[e];switch(e){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:r[1]=KV(t);break;case 6:r[1]=ZV(t,n);break;case 14:case 15:r[1]=t.read_shift(n===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+e+" "+n)}return r}function eW(t,e){var n=t.l+e;t.l+=2;var r=t.read_shift(2);t.l+=2;for(var i=t.read_shift(2),a=[];i-- >0;)a.push(QV(t,n-t.l));return{ixfe:r,ext:a}}function tW(t,e){e.forEach(function(n){switch(n[0]){}})}function nW(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:Zi(t)}}function rW(t){for(var e=[],n=t.read_shift(4);n-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function iW(t){return t.l+=4,t.read_shift(4)!=0}function aW(t,e,n){var r={Types:[],Cell:[],Value:[]},i=n||{},a=[],s=!1,o=2;return Dl(t,function(l,c,u){switch(u){case 335:r.Types.push({name:l.name});break;case 51:l.forEach(function(f){o==1?r.Cell.push({type:r.Types[f[0]-1].name,index:f[1]}):o==0&&r.Value.push({type:r.Types[f[0]-1].name,index:f[1]})});break;case 337:o=l?1:0;break;case 338:o=2;break;case 35:a.push(u),s=!0;break;case 36:a.pop(),s=!1;break;default:if(!c.T){if(!s||i.WTF&&a[a.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}}),r}function sW(t,e,n){var r={Types:[],Cell:[],Value:[]};if(!t)return r;var i=!1,a=2,s;return t.replace(na,function(o){var l=$t(o);switch(Uo(l[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":r.Types.push({name:l.name});break;case"</metadataType>":break;case"<futureMetadata":for(var c=0;c<r.Types.length;++c)r.Types[c].name==l.name&&(s=r.Types[c]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":a==1?r.Cell.push({type:r.Types[l.t-1].name,index:+l.v}):a==0&&r.Value.push({type:r.Types[l.t-1].name,index:+l.v});break;case"</rc>":break;case"<cellMetadata":a=1;break;case"</cellMetadata>":a=2;break;case"<valueMetadata":a=0;break;case"</valueMetadata>":a=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;case"<rvb":if(!s)break;s.offsets||(s.offsets=[]),s.offsets.push(+l.i);break;default:if(!i&&n.WTF)throw new Error("unrecognized "+l[0]+" in metadata")}return o}),r}function oW(t){var e=[];if(!t)return e;var n=1;return(t.match(na)||[]).forEach(function(r){var i=$t(r);switch(i[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete i[0],i.i?n=i.i:i.i=n,e.push(i);break}}),e}function lW(t){var e={};e.i=t.read_shift(4);var n={};n.r=t.read_shift(4),n.c=t.read_shift(4),e.r=en(n);var r=t.read_shift(1);return r&2&&(e.l="1"),r&8&&(e.a="1"),e}function cW(t,e,n){var r=[];return Dl(t,function(a,s,o){switch(o){case 63:r.push(a);break;default:if(!s.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function uW(t,e,n,r){if(!t)return t;var i=r||{},a=!1;Dl(t,function(o,l,c){switch(c){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:a=!0;break;case 36:a=!1;break;default:if(!l.T){if(!a||i.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}},i)}function fW(t,e){if(!t)return"??";var n=(t.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return e["!id"][n].Target}function EA(t,e,n,r){var i=Array.isArray(t),a;e.forEach(function(s){var o=fa(s.ref);if(i?(t[o.r]||(t[o.r]=[]),a=t[o.r][o.c]):a=t[s.ref],!a){a={t:"z"},i?t[o.r][o.c]=a:t[s.ref]=a;var l=Nr(t["!ref"]||"BDWGO1000001:A1");l.s.r>o.r&&(l.s.r=o.r),l.e.r<o.r&&(l.e.r=o.r),l.s.c>o.c&&(l.s.c=o.c),l.e.c<o.c&&(l.e.c=o.c);var c=An(l);c!==t["!ref"]&&(t["!ref"]=c)}a.c||(a.c=[]);var u={a:s.author,t:s.t,r:s.r,T:n};s.h&&(u.h=s.h);for(var f=a.c.length-1;f>=0;--f){if(!n&&a.c[f].T)return;n&&!a.c[f].T&&a.c.splice(f,1)}if(n&&r){for(f=0;f<r.length;++f)if(u.a==r[f].id){u.a=r[f].name||u.a;break}}a.c.push(u)})}function hW(t,e){if(t.match(/<(?:\w+:)?comments *\/>/))return[];var n=[],r=[],i=t.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);i&&i[1]&&i[1].split(/<\/\w*:?author>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&n.push(o[1])}});var a=t.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return a&&a[1]&&a[1].split(/<\/\w*:?comment>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?comment[^>]*>/);if(o){var l=$t(o[0]),c={author:l.authorId&&n[l.authorId]||"sheetjsghost",ref:l.ref,guid:l.guid},u=fa(l.ref);if(!(e.sheetRows&&e.sheetRows<=u.r)){var f=s.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),d=!!f&&!!f[1]&&ES(f[1])||{r:"",t:"",h:""};c.r=d.r,d.r=="<t></t>"&&(d.t=d.h=""),c.t=(d.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.cellHTML&&(c.h=d.h),r.push(c)}}}}),r}function dW(t,e){var n=[],r=!1,i={},a=0;return t.replace(na,function(o,l){var c=$t(o);switch(Uo(c[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":i={author:c.personId,guid:c.id,ref:c.ref,T:1};break;case"</threadedComment>":i.t!=null&&n.push(i);break;case"<text>":case"<text":a=l+o.length;break;case"</text>":i.t=t.slice(a,l).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":r=!0;break;case"</mentions>":r=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&e.WTF)throw new Error("unrecognized "+c[0]+" in threaded comments")}return o}),n}function pW(t,e){var n=[],r=!1;return t.replace(na,function(a){var s=$t(a);switch(Uo(s[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":n.push({name:s.displayname,id:s.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&e.WTF)throw new Error("unrecognized "+s[0]+" in threaded comments")}return a}),n}function mW(t){var e={};e.iauthor=t.read_shift(4);var n=pf(t);return e.rfx=n.s,e.ref=en(n.s),t.l+=16,e}var gW=Zi;function xW(t,e){var n=[],r=[],i={},a=!1;return Dl(t,function(o,l,c){switch(c){case 632:r.push(o);break;case 635:i=o;break;case 637:i.t=o.t,i.h=o.h,i.r=o.r;break;case 636:if(i.author=r[i.iauthor],delete i.iauthor,e.sheetRows&&i.rfx&&e.sheetRows<=i.rfx.r)break;i.t||(i.t=""),delete i.rfx,n.push(i);break;case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:break;case 38:break;default:if(!l.T){if(!a||e.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}}),n}var vW="application/vnd.ms-office.vbaProject";function yW(t){var e=En.utils.cfb_new({root:"R"});return t.FullPaths.forEach(function(n,r){if(!(n.slice(-1)==="/"||!n.match(/_VBA_PROJECT_CUR/))){var i=n.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");En.utils.cfb_add(e,i,t.FileIndex[r].content)}}),En.write(e)}function _W(){return{"!type":"dialog"}}function bW(){return{"!type":"dialog"}}function wW(){return{"!type":"macro"}}function SW(){return{"!type":"macro"}}var Nh=function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function n(r,i,a,s){var o=!1,l=!1;a.length==0?l=!0:a.charAt(0)=="["&&(l=!0,a=a.slice(1,-1)),s.length==0?o=!0:s.charAt(0)=="["&&(o=!0,s=s.slice(1,-1));var c=a.length>0?parseInt(a,10)|0:0,u=s.length>0?parseInt(s,10)|0:0;return o?u+=e.c:--u,l?c+=e.r:--c,i+(o?"":"$")+ai(u)+(l?"":"$")+ki(c)}return function(i,a){return e=a,i.replace(t,n)}}(),$P=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,EW=function(){return function(e,n){return e.replace($P,function(r,i,a,s,o,l){var c=vS(s)-(a?0:n.c),u=xS(l)-(o?0:n.r),f=u==0?"":o?u+1:"["+u+"]",d=c==0?"":a?c+1:"["+c+"]";return i+"R"+f+"C"+d})}}();function YP(t,e){return t.replace($P,function(n,r,i,a,s,o){return r+(i=="$"?i+a:ai(vS(a)+e.c))+(s=="$"?s+o:ki(xS(o)+e.r))})}function AW(t,e,n){var r=hd(e),i=r.s,a=fa(n),s={r:a.r-i.r,c:a.c-i.c};return YP(t,s)}function TW(t){return t.length!=1}function AA(t){return t.replace(/_xlfn\./g,"")}function Gr(t){t.l+=1}function Bc(t,e){var n=t.read_shift(2);return[n&16383,n>>14&1,n>>15&1]}function KP(t,e,n){var r=2;if(n){if(n.biff>=2&&n.biff<=5)return JP(t);n.biff==12&&(r=4)}var i=t.read_shift(r),a=t.read_shift(r),s=Bc(t),o=Bc(t);return{s:{r:i,c:s[0],cRel:s[1],rRel:s[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function JP(t){var e=Bc(t),n=Bc(t),r=t.read_shift(1),i=t.read_shift(1);return{s:{r:e[0],c:r,cRel:e[1],rRel:e[2]},e:{r:n[0],c:i,cRel:n[1],rRel:n[2]}}}function MW(t,e,n){if(n.biff<8)return JP(t);var r=t.read_shift(n.biff==12?4:2),i=t.read_shift(n.biff==12?4:2),a=Bc(t),s=Bc(t);return{s:{r,c:a[0],cRel:a[1],rRel:a[2]},e:{r:i,c:s[0],cRel:s[1],rRel:s[2]}}}function ZP(t,e,n){if(n&&n.biff>=2&&n.biff<=5)return NW(t);var r=t.read_shift(n&&n.biff==12?4:2),i=Bc(t);return{r,c:i[0],cRel:i[1],rRel:i[2]}}function NW(t){var e=Bc(t),n=t.read_shift(1);return{r:e[0],c:n,cRel:e[1],rRel:e[2]}}function kW(t){var e=t.read_shift(2),n=t.read_shift(2);return{r:e,c:n&255,fQuoted:!!(n&16384),cRel:n>>15,rRel:n>>15}}function CW(t,e,n){var r=n&&n.biff?n.biff:8;if(r>=2&&r<=5)return RW(t);var i=t.read_shift(r>=12?4:2),a=t.read_shift(2),s=(a&16384)>>14,o=(a&32768)>>15;if(a&=16383,o==1)for(;i>524287;)i-=1048576;if(s==1)for(;a>8191;)a=a-16384;return{r:i,c:a,cRel:s,rRel:o}}function RW(t){var e=t.read_shift(2),n=t.read_shift(1),r=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,r==1&&e>=8192&&(e=e-16384),i==1&&n>=128&&(n=n-256),{r:e,c:n,cRel:i,rRel:r}}function PW(t,e,n){var r=(t[t.l++]&96)>>5,i=KP(t,n.biff>=2&&n.biff<=5?6:8,n);return[r,i]}function LW(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2,"i"),a=8;if(n)switch(n.biff){case 5:t.l+=12,a=6;break;case 12:a=12;break}var s=KP(t,a,n);return[r,i,s]}function FW(t,e,n){var r=(t[t.l++]&96)>>5;return t.l+=n&&n.biff>8?12:n.biff<8?6:8,[r]}function DW(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2),a=8;if(n)switch(n.biff){case 5:t.l+=12,a=6;break;case 12:a=12;break}return t.l+=a,[r,i]}function IW(t,e,n){var r=(t[t.l++]&96)>>5,i=MW(t,e-1,n);return[r,i]}function OW(t,e,n){var r=(t[t.l++]&96)>>5;return t.l+=n.biff==2?6:n.biff==12?14:7,[r]}function TA(t){var e=t[t.l+1]&1,n=1;return t.l+=4,[e,n]}function UW(t,e,n){t.l+=2;for(var r=t.read_shift(n&&n.biff==2?1:2),i=[],a=0;a<=r;++a)i.push(t.read_shift(n&&n.biff==2?1:2));return i}function BW(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(n&&n.biff==2?1:2)]}function jW(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(n&&n.biff==2?1:2)]}function zW(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function HW(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=n&&n.biff==2?3:4,[r]}function QP(t){var e=t.read_shift(1),n=t.read_shift(1);return[e,n]}function VW(t){return t.read_shift(2),QP(t)}function WW(t){return t.read_shift(2),QP(t)}function GW(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=ZP(t,0,n);return[r,i]}function qW(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=CW(t,0,n);return[r,i]}function XW(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(2);n&&n.biff==5&&(t.l+=12);var a=ZP(t,0,n);return[r,i,a]}function $W(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(n&&n.biff<=3?1:2);return[YG[i],nL[i],r]}function YW(t,e,n){var r=t[t.l++],i=t.read_shift(1),a=n&&n.biff<=3?[r==88?-1:0,t.read_shift(1)]:KW(t);return[i,(a[0]===0?nL:$G)[a[1]]]}function KW(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function JW(t,e,n){t.l+=n&&n.biff==2?3:4}function ZW(t,e,n){if(t.l++,n&&n.biff==12)return[t.read_shift(4,"i"),0];var r=t.read_shift(2),i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function QW(t){return t.l++,mf[t.read_shift(1)]}function eG(t){return t.l++,t.read_shift(2)}function tG(t){return t.l++,t.read_shift(1)!==0}function nG(t){return t.l++,Yi(t)}function rG(t,e,n){return t.l++,em(t,e-1,n)}function iG(t,e){var n=[t.read_shift(1)];if(e==12)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2;break}switch(n[0]){case 4:n[1]=Or(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:n[1]=mf[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:n[1]=Yi(t);break;case 2:n[1]=gf(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function aG(t,e,n){for(var r=t.read_shift(n.biff==12?4:2),i=[],a=0;a!=r;++a)i.push((n.biff==12?pf:mv)(t));return i}function sG(t,e,n){var r=0,i=0;n.biff==12?(r=t.read_shift(4),i=t.read_shift(4)):(i=1+t.read_shift(1),r=1+t.read_shift(2)),n.biff>=2&&n.biff<8&&(--r,--i==0&&(i=256));for(var a=0,s=[];a!=r&&(s[a]=[]);++a)for(var o=0;o!=i;++o)s[a][o]=iG(t,n.biff);return s}function oG(t,e,n){var r=t.read_shift(1)>>>5&3,i=!n||n.biff>=8?4:2,a=t.read_shift(i);switch(n.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[r,0,a]}function lG(t,e,n){if(n.biff==5)return cG(t);var r=t.read_shift(1)>>>5&3,i=t.read_shift(2),a=t.read_shift(4);return[r,i,a]}function cG(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2,"i");t.l+=8;var r=t.read_shift(2);return t.l+=12,[e,n,r]}function uG(t,e,n){var r=t.read_shift(1)>>>5&3;t.l+=n&&n.biff==2?3:4;var i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function fG(t,e,n){var r=t.read_shift(1)>>>5&3,i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function hG(t,e,n){var r=t.read_shift(1)>>>5&3;return t.l+=4,n.biff<8&&t.l--,n.biff==12&&(t.l+=2),[r]}function dG(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2),a=4;if(n)switch(n.biff){case 5:a=15;break;case 12:a=6;break}return t.l+=a,[r,i]}var pG=ea,mG=ea,gG=ea;function nm(t,e,n){return t.l+=2,[kW(t)]}function TS(t){return t.l+=6,[]}var xG=nm,vG=TS,yG=TS,_G=nm;function eL(t){return t.l+=2,[$r(t),t.read_shift(2)&1]}var bG=nm,wG=eL,SG=TS,EG=nm,AG=nm,TG=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function MG(t){t.l+=2;var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(4),i=t.read_shift(2),a=t.read_shift(2),s=TG[n>>2&31];return{ixti:e,coltype:n&3,rt:s,idx:r,c:i,C:a}}function NG(t){return t.l+=2,[t.read_shift(4)]}function kG(t,e,n){return t.l+=5,t.l+=2,t.l+=n.biff==2?1:4,["PTGSHEET"]}function CG(t,e,n){return t.l+=n.biff==2?4:5,["PTGENDSHEET"]}function RG(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[e,n]}function PG(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[e,n]}function LG(t){return t.l+=4,[0,0]}var MA={1:{n:"PtgExp",f:ZW},2:{n:"PtgTbl",f:gG},3:{n:"PtgAdd",f:Gr},4:{n:"PtgSub",f:Gr},5:{n:"PtgMul",f:Gr},6:{n:"PtgDiv",f:Gr},7:{n:"PtgPower",f:Gr},8:{n:"PtgConcat",f:Gr},9:{n:"PtgLt",f:Gr},10:{n:"PtgLe",f:Gr},11:{n:"PtgEq",f:Gr},12:{n:"PtgGe",f:Gr},13:{n:"PtgGt",f:Gr},14:{n:"PtgNe",f:Gr},15:{n:"PtgIsect",f:Gr},16:{n:"PtgUnion",f:Gr},17:{n:"PtgRange",f:Gr},18:{n:"PtgUplus",f:Gr},19:{n:"PtgUminus",f:Gr},20:{n:"PtgPercent",f:Gr},21:{n:"PtgParen",f:Gr},22:{n:"PtgMissArg",f:Gr},23:{n:"PtgStr",f:rG},26:{n:"PtgSheet",f:kG},27:{n:"PtgEndSheet",f:CG},28:{n:"PtgErr",f:QW},29:{n:"PtgBool",f:tG},30:{n:"PtgInt",f:eG},31:{n:"PtgNum",f:nG},32:{n:"PtgArray",f:OW},33:{n:"PtgFunc",f:$W},34:{n:"PtgFuncVar",f:YW},35:{n:"PtgName",f:oG},36:{n:"PtgRef",f:GW},37:{n:"PtgArea",f:PW},38:{n:"PtgMemArea",f:uG},39:{n:"PtgMemErr",f:pG},40:{n:"PtgMemNoMem",f:mG},41:{n:"PtgMemFunc",f:fG},42:{n:"PtgRefErr",f:hG},43:{n:"PtgAreaErr",f:FW},44:{n:"PtgRefN",f:qW},45:{n:"PtgAreaN",f:IW},46:{n:"PtgMemAreaN",f:RG},47:{n:"PtgMemNoMemN",f:PG},57:{n:"PtgNameX",f:lG},58:{n:"PtgRef3d",f:XW},59:{n:"PtgArea3d",f:LW},60:{n:"PtgRefErr3d",f:dG},61:{n:"PtgAreaErr3d",f:DW},255:{}},FG={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},DG={1:{n:"PtgElfLel",f:eL},2:{n:"PtgElfRw",f:EG},3:{n:"PtgElfCol",f:xG},6:{n:"PtgElfRwV",f:AG},7:{n:"PtgElfColV",f:_G},10:{n:"PtgElfRadical",f:bG},11:{n:"PtgElfRadicalS",f:SG},13:{n:"PtgElfColS",f:vG},15:{n:"PtgElfColSV",f:yG},16:{n:"PtgElfRadicalLel",f:wG},25:{n:"PtgList",f:MG},29:{n:"PtgSxName",f:NG},255:{}},IG={0:{n:"PtgAttrNoop",f:LG},1:{n:"PtgAttrSemi",f:HW},2:{n:"PtgAttrIf",f:jW},4:{n:"PtgAttrChoose",f:UW},8:{n:"PtgAttrGoto",f:BW},16:{n:"PtgAttrSum",f:JW},32:{n:"PtgAttrBaxcel",f:TA},33:{n:"PtgAttrBaxcel",f:TA},64:{n:"PtgAttrSpace",f:VW},65:{n:"PtgAttrSpaceSemi",f:WW},128:{n:"PtgAttrIfError",f:zW},255:{}};function rm(t,e,n,r){if(r.biff<8)return ea(t,e);for(var i=t.l+e,a=[],s=0;s!==n.length;++s)switch(n[s][0]){case"PtgArray":n[s][1]=sG(t,0,r),a.push(n[s][1]);break;case"PtgMemArea":n[s][2]=aG(t,n[s][1],r),a.push(n[s][2]);break;case"PtgExp":r&&r.biff==12&&(n[s][1][1]=t.read_shift(4),a.push(n[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[s][0]}return e=i-t.l,e!==0&&a.push(ea(t,e)),a}function im(t,e,n){for(var r=t.l+e,i,a,s=[];r!=t.l;)e=r-t.l,a=t[t.l],i=MA[a]||MA[FG[a]],(a===24||a===25)&&(i=(a===24?DG:IG)[t[t.l+1]]),!i||!i.f?ea(t,e):s.push([i.n,i.f(t,e,n)]);return s}function OG(t){for(var e=[],n=0;n<t.length;++n){for(var r=t[n],i=[],a=0;a<r.length;++a){var s=r[a];if(s)switch(s[0]){case 2:i.push('"'+s[1].replace(/"/g,'""')+'"');break;default:i.push(s[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var UG={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function BG(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function tL(t,e,n){if(!t)return"SH33TJSERR0";if(n.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var r=t.XTI[e];if(n.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!r)return"SH33TJSERR1";var i="";if(n.biff>8)switch(t[r[0]][0]){case 357:return i=r[1]==-1?"#REF":t.SheetNames[r[1]],r[1]==r[2]?i:i+":"+t.SheetNames[r[2]];case 358:return n.SID!=null?t.SheetNames[n.SID]:"SH33TJSSAME"+t[r[0]][0];case 355:default:return"SH33TJSSRC"+t[r[0]][0]}switch(t[r[0]][0][0]){case 1025:return i=r[1]==-1?"#REF":t.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?i:i+":"+t.SheetNames[r[2]];case 14849:return t[r[0]].slice(1).map(function(a){return a.Name}).join(";;");default:return t[r[0]][0][3]?(i=r[1]==-1?"#REF":t[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?i:i+":"+t[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function NA(t,e,n){var r=tL(t,e,n);return r=="#REF"?r:BG(r,n)}function Gi(t,e,n,r,i){var a=i&&i.biff||8,s={s:{c:0,r:0}},o=[],l,c,u,f=0,d=0,h,g="";if(!t[0]||!t[0][0])return"";for(var x=-1,v="",m=0,b=t[0].length;m<b;++m){var _=t[0][m];switch(_[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),c=o.pop(),x>=0){switch(t[0][x][1][0]){case 0:v=Er(" ",t[0][x][1][1]);break;case 1:v=Er("\r",t[0][x][1][1]);break;default:if(v="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][x][1][0])}c=c+v,x=-1}o.push(c+UG[_[0]]+l);break;case"PtgIsect":l=o.pop(),c=o.pop(),o.push(c+" "+l);break;case"PtgUnion":l=o.pop(),c=o.pop(),o.push(c+","+l);break;case"PtgRange":l=o.pop(),c=o.pop(),o.push(c+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=I0(_[1][1],s,i),o.push(O0(u,a));break;case"PtgRefN":u=n?I0(_[1][1],n,i):_[1][1],o.push(O0(u,a));break;case"PtgRef3d":f=_[1][1],u=I0(_[1][2],s,i),g=NA(r,f,i),o.push(g+"!"+O0(u,a));break;case"PtgFunc":case"PtgFuncVar":var S=_[1][0],N=_[1][1];S||(S=0),S&=127;var P=S==0?[]:o.slice(-S);o.length-=S,N==="User"&&(N=P.shift()),o.push(N+"("+P.join(",")+")");break;case"PtgBool":o.push(_[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(_[1]);break;case"PtgNum":o.push(String(_[1]));break;case"PtgStr":o.push('"'+_[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(_[1]);break;case"PtgAreaN":h=lA(_[1][1],n?{s:n}:s,i),o.push(z2(h,i));break;case"PtgArea":h=lA(_[1][1],s,i),o.push(z2(h,i));break;case"PtgArea3d":f=_[1][1],h=_[1][2],g=NA(r,f,i),o.push(g+"!"+z2(h,i));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":d=_[1][2];var T=(r.names||[])[d-1]||(r[0]||[])[d],L=T?T.Name:"SH33TJSNAME"+String(d);L&&L.slice(0,6)=="_xlfn."&&!i.xlfn&&(L=L.slice(6)),o.push(L);break;case"PtgNameX":var E=_[1][1];d=_[1][2];var R;if(i.biff<=5)E<0&&(E=-E),r[E]&&(R=r[E][d]);else{var A="";if(((r[E]||[])[0]||[])[0]==14849||(((r[E]||[])[0]||[])[0]==1025?r[E][d]&&r[E][d].itab>0&&(A=r.SheetNames[r[E][d].itab-1]+"!"):A=r.SheetNames[d-1]+"!"),r[E]&&r[E][d])A+=r[E][d].Name;else if(r[0]&&r[0][d])A+=r[0][d].Name;else{var F=(tL(r,E,i)||"").split(";;");F[d-1]?A=F[d-1]:A+="SH33TJSERRX"}o.push(A);break}R||(R={Name:"SH33TJSERRY"}),o.push(R.Name);break;case"PtgParen":var j="(",V=")";if(x>=0){switch(v="",t[0][x][1][0]){case 2:j=Er(" ",t[0][x][1][1])+j;break;case 3:j=Er("\r",t[0][x][1][1])+j;break;case 4:V=Er(" ",t[0][x][1][1])+V;break;case 5:V=Er("\r",t[0][x][1][1])+V;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][x][1][0])}x=-1}o.push(j+o.pop()+V);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":u={c:_[1][1],r:_[1][0]};var X={c:n.c,r:n.r};if(r.sharedf[en(u)]){var ee=r.sharedf[en(u)];o.push(Gi(ee,s,X,r,i))}else{var se=!1;for(l=0;l!=r.arrayf.length;++l)if(c=r.arrayf[l],!(u.c<c[0].s.c||u.c>c[0].e.c)&&!(u.r<c[0].s.r||u.r>c[0].e.r)){o.push(Gi(c[1],s,X,r,i)),se=!0;break}se||o.push(_[1])}break;case"PtgArray":o.push("{"+OG(_[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":x=m;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+_[1].idx+"[#"+_[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(_));default:throw new Error("Unrecognized Formula Token: "+String(_))}var B=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&x>=0&&B.indexOf(t[0][m][0])==-1){_=t[0][x];var H=!0;switch(_[1][0]){case 4:H=!1;case 0:v=Er(" ",_[1][1]);break;case 5:H=!1;case 1:v=Er("\r",_[1][1]);break;default:if(v="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+_[1][0])}o.push((H?v:"")+o.pop()+(H?"":v)),x=-1}}if(o.length>1&&i.WTF)throw new Error("bad formula stack");return o[0]}function jG(t,e,n){var r=t.l+e,i=n.biff==2?1:2,a,s=t.read_shift(i);if(s==65535)return[[],ea(t,e-2)];var o=im(t,s,n);return e!==s+i&&(a=rm(t,e-s-i,o,n)),t.l=r,[o,a]}function zG(t,e,n){var r=t.l+e,i=n.biff==2?1:2,a,s=t.read_shift(i);if(s==65535)return[[],ea(t,e-2)];var o=im(t,s,n);return e!==s+i&&(a=rm(t,e-s-i,o,n)),t.l=r,[o,a]}function HG(t,e,n,r){var i=t.l+e,a=im(t,r,n),s;return i!==t.l&&(s=rm(t,i-t.l,a,n)),[a,s]}function VG(t,e,n){var r=t.l+e,i,a=t.read_shift(2),s=im(t,a,n);return a==65535?[[],ea(t,e-2)]:(e!==a+2&&(i=rm(t,r-a-2,s,n)),[s,i])}function WG(t){var e;if(ml(t,t.l+6)!==65535)return[Yi(t),"n"];switch(t[t.l]){case 0:return t.l+=8,["String","s"];case 1:return e=t[t.l+2]===1,t.l+=8,[e,"b"];case 2:return e=t[t.l+2],t.l+=8,[e,"e"];case 3:return t.l+=8,["","s"]}return[]}function W2(t,e,n){var r=t.l+e,i=Bo(t);n.biff==2&&++t.l;var a=WG(t),s=t.read_shift(1);n.biff!=2&&(t.read_shift(1),n.biff>=5&&t.read_shift(4));var o=zG(t,r-t.l,n);return{cell:i,val:a[0],formula:o,shared:s>>3&1,tt:a[1]}}function gv(t,e,n){var r=t.read_shift(4),i=im(t,r,n),a=t.read_shift(4),s=a>0?rm(t,a,i,n):null;return[i,s]}var GG=gv,xv=gv,qG=gv,XG=gv,$G={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},nL={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},YG={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function kA(t){return t.slice(0,3)=="of:"&&(t=t.slice(3)),t.charCodeAt(0)==61&&(t=t.slice(1),t.charCodeAt(0)==61&&(t=t.slice(1))),t=t.replace(/COM\.MICROSOFT\./g,""),t=t.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(e,n){return n.replace(/\./g,"")}),t=t.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),t.replace(/[;~]/g,",").replace(/\|/g,";")}function G2(t){var e=t.split(":"),n=e[0].split(".")[0];return[n,e[0].split(".")[1]+(e.length>1?":"+(e[1].split(".")[1]||e[1].split(".")[0]):"")]}var z0={},kh={};function H0(t,e){if(t){var n=[.7,.7,.75,.75,.3,.3];e=="xlml"&&(n=[1,1,1,1,.5,.5]),t.left==null&&(t.left=n[0]),t.right==null&&(t.right=n[1]),t.top==null&&(t.top=n[2]),t.bottom==null&&(t.bottom=n[3]),t.header==null&&(t.header=n[4]),t.footer==null&&(t.footer=n[5])}}function rL(t,e,n,r,i,a){try{r.cellNF&&(t.z=on[e])}catch(o){if(r.WTF)throw o}if(!(t.t==="z"&&!r.cellStyles)){if(t.t==="d"&&typeof t.v=="string"&&(t.v=yi(t.v)),(!r||r.cellText!==!1)&&t.t!=="z")try{if(on[e]==null&&Hu(Kj[e]||"General",e),t.t==="e")t.w=t.w||mf[t.v];else if(e===0)if(t.t==="n")(t.v|0)===t.v?t.w=t.v.toString(10):t.w=bp(t.v);else if(t.t==="d"){var s=pa(t.v);(s|0)===s?t.w=s.toString(10):t.w=bp(s)}else{if(t.v===void 0)return"";t.w=Qu(t.v,kh)}else t.t==="d"?t.w=Es(e,pa(t.v),kh):t.w=Es(e,t.v,kh)}catch(o){if(r.WTF)throw o}if(r.cellStyles&&n!=null)try{t.s=a.Fills[n],t.s.fgColor&&t.s.fgColor.theme&&!t.s.fgColor.rgb&&(t.s.fgColor.rgb=vx(i.themeElements.clrScheme[t.s.fgColor.theme].rgb,t.s.fgColor.tint||0),r.WTF&&(t.s.fgColor.raw_rgb=i.themeElements.clrScheme[t.s.fgColor.theme].rgb)),t.s.bgColor&&t.s.bgColor.theme&&(t.s.bgColor.rgb=vx(i.themeElements.clrScheme[t.s.bgColor.theme].rgb,t.s.bgColor.tint||0),r.WTF&&(t.s.bgColor.raw_rgb=i.themeElements.clrScheme[t.s.bgColor.theme].rgb))}catch(o){if(r.WTF&&a.Fills)throw o}}}function KG(t,e){var n=Nr(e);n.s.r<=n.e.r&&n.s.c<=n.e.c&&n.s.r>=0&&n.s.c>=0&&(t["!ref"]=An(n))}var JG=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,ZG=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,QG=/<(?:\w:)?hyperlink [^>]*>/mg,eq=/"(\w*:\w*)"/,tq=/<(?:\w:)?col\b[^>]*[\/]?>/g,nq=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,rq=/<(?:\w:)?pageMargins[^>]*\/>/g,iL=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,iq=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,aq=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function sq(t,e,n,r,i,a,s){if(!t)return t;r||(r={"!id":{}});var o=e.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},c="",u="",f=t.match(ZG);f?(c=t.slice(0,f.index),u=t.slice(f.index+f[0].length)):c=u=t;var d=c.match(iL);d?MS(d[0],o,i,n):(d=c.match(iq))&&oq(d[0],d[1]||"",o,i,n);var h=(c.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(h>0){var g=c.slice(h,h+50).match(eq);g&&KG(o,g[1])}var x=c.match(aq);x&&x[1]&&dq(x[1],i);var v=[];if(e.cellStyles){var m=c.match(tq);m&&uq(v,m)}f&&pq(f[1],o,e,l,a,s);var b=u.match(nq);b&&(o["!autofilter"]=fq(b[0]));var _=[],S=u.match(JG);if(S)for(h=0;h!=S.length;++h)_[h]=Nr(S[h].slice(S[h].indexOf('"')+1));var N=u.match(QG);N&&lq(o,N,r);var P=u.match(rq);if(P&&(o["!margins"]=cq($t(P[0]))),!o["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(o["!ref"]=An(l)),e.sheetRows>0&&o["!ref"]){var T=Nr(o["!ref"]);e.sheetRows<=+T.e.r&&(T.e.r=e.sheetRows-1,T.e.r>l.e.r&&(T.e.r=l.e.r),T.e.r<T.s.r&&(T.s.r=T.e.r),T.e.c>l.e.c&&(T.e.c=l.e.c),T.e.c<T.s.c&&(T.s.c=T.e.c),o["!fullref"]=o["!ref"],o["!ref"]=An(T))}return v.length>0&&(o["!cols"]=v),_.length>0&&(o["!merges"]=_),o}function MS(t,e,n,r){var i=$t(t);n.Sheets[r]||(n.Sheets[r]={}),i.codeName&&(n.Sheets[r].CodeName=Nn(Qn(i.codeName)))}function oq(t,e,n,r,i){MS(t.slice(0,t.indexOf(">")),n,r,i)}function lq(t,e,n){for(var r=Array.isArray(t),i=0;i!=e.length;++i){var a=$t(Qn(e[i]),!0);if(!a.ref)return;var s=((n||{})["!id"]||[])[a.id];s?(a.Target=s.Target,a.location&&(a.Target+="#"+Nn(a.location))):(a.Target="#"+Nn(a.location),s={Target:a.Target,TargetMode:"Internal"}),a.Rel=s,a.tooltip&&(a.Tooltip=a.tooltip,delete a.tooltip);for(var o=Nr(a.ref),l=o.s.r;l<=o.e.r;++l)for(var c=o.s.c;c<=o.e.c;++c){var u=en({c,r:l});r?(t[l]||(t[l]=[]),t[l][c]||(t[l][c]={t:"z",v:void 0}),t[l][c].l=a):(t[u]||(t[u]={t:"z",v:void 0}),t[u].l=a)}}}function cq(t){var e={};return["left","right","top","bottom","header","footer"].forEach(function(n){t[n]&&(e[n]=parseFloat(t[n]))}),e}function uq(t,e){for(var n=!1,r=0;r!=e.length;++r){var i=$t(e[r],!0);i.hidden&&(i.hidden=lr(i.hidden));var a=parseInt(i.min,10)-1,s=parseInt(i.max,10)-1;for(i.outlineLevel&&(i.level=+i.outlineLevel||0),delete i.min,delete i.max,i.width=+i.width,!n&&i.width&&(n=!0,AS(i.width)),$h(i);a<=s;)t[a++]=Ni(i)}}function fq(t){var e={ref:(t.match(/ref="([^"]*)"/)||[])[1]};return e}var hq=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function dq(t,e){e.Views||(e.Views=[{}]),(t.match(hq)||[]).forEach(function(n,r){var i=$t(n);e.Views[r]||(e.Views[r]={}),+i.zoomScale&&(e.Views[r].zoom=+i.zoomScale),lr(i.rightToLeft)&&(e.Views[r].RTL=!0)})}var pq=function(){var t=/<(?:\w+:)?c[ \/>]/,e=/<\/(?:\w+:)?row>/,n=/r=["']([^"']*)["']/,r=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,i=/ref=["']([^"']*)["']/,a=wp("v"),s=wp("f");return function(l,c,u,f,d,h){for(var g=0,x="",v=[],m=[],b=0,_=0,S=0,N="",P,T,L=0,E=0,R,A,F=0,j=0,V=Array.isArray(h.CellXf),X,ee=[],se=[],B=Array.isArray(c),H=[],xe={},Se=!1,k=!!u.sheetStubs,U=l.split(e),O=0,I=U.length;O!=I;++O){x=U[O].trim();var K=x.length;if(K!==0){var re=0;e:for(g=0;g<K;++g)switch(x[g]){case">":if(x[g-1]!="/"){++g;break e}if(u&&u.cellStyles){if(T=$t(x.slice(re,g),!0),L=T.r!=null?parseInt(T.r,10):L+1,E=-1,u.sheetRows&&u.sheetRows<L)continue;xe={},Se=!1,T.ht&&(Se=!0,xe.hpt=parseFloat(T.ht),xe.hpx=Tp(xe.hpt)),T.hidden=="1"&&(Se=!0,xe.hidden=!0),T.outlineLevel!=null&&(Se=!0,xe.level=+T.outlineLevel),Se&&(H[L-1]=xe)}break;case"<":re=g;break}if(re>=g)break;if(T=$t(x.slice(re,g),!0),L=T.r!=null?parseInt(T.r,10):L+1,E=-1,!(u.sheetRows&&u.sheetRows<L)){f.s.r>L-1&&(f.s.r=L-1),f.e.r<L-1&&(f.e.r=L-1),u&&u.cellStyles&&(xe={},Se=!1,T.ht&&(Se=!0,xe.hpt=parseFloat(T.ht),xe.hpx=Tp(xe.hpt)),T.hidden=="1"&&(Se=!0,xe.hidden=!0),T.outlineLevel!=null&&(Se=!0,xe.level=+T.outlineLevel),Se&&(H[L-1]=xe)),v=x.slice(g).split(t);for(var _e=0;_e!=v.length&&v[_e].trim().charAt(0)=="<";++_e);for(v=v.slice(_e),g=0;g!=v.length;++g)if(x=v[g].trim(),x.length!==0){if(m=x.match(n),b=g,_=0,S=0,x="<c "+(x.slice(0,1)=="<"?">":"")+x,m!=null&&m.length===2){for(b=0,N=m[1],_=0;_!=N.length&&!((S=N.charCodeAt(_)-64)<1||S>26);++_)b=26*b+S;--b,E=b}else++E;for(_=0;_!=x.length&&x.charCodeAt(_)!==62;++_);if(++_,T=$t(x.slice(0,_),!0),T.r||(T.r=en({r:L-1,c:E})),N=x.slice(_),P={t:""},(m=N.match(a))!=null&&m[1]!==""&&(P.v=Nn(m[1])),u.cellFormula){if((m=N.match(s))!=null&&m[1]!==""){if(P.f=Nn(Qn(m[1])).replace(/\r\n/g,`
`),u.xlfn||(P.f=AA(P.f)),m[0].indexOf('t="array"')>-1)P.F=(N.match(i)||[])[1],P.F.indexOf(":")>-1&&ee.push([Nr(P.F),P.F]);else if(m[0].indexOf('t="shared"')>-1){A=$t(m[0]);var ue=Nn(Qn(m[1]));u.xlfn||(ue=AA(ue)),se[parseInt(A.si,10)]=[A,ue,T.r]}}else(m=N.match(/<f[^>]*\/>/))&&(A=$t(m[0]),se[A.si]&&(P.f=AW(se[A.si][1],se[A.si][2],T.r)));var be=fa(T.r);for(_=0;_<ee.length;++_)be.r>=ee[_][0].s.r&&be.r<=ee[_][0].e.r&&be.c>=ee[_][0].s.c&&be.c<=ee[_][0].e.c&&(P.F=ee[_][1])}if(T.t==null&&P.v===void 0)if(P.f||P.F)P.v=0,P.t="n";else if(k)P.t="z";else continue;else P.t=T.t||"n";switch(f.s.c>E&&(f.s.c=E),f.e.c<E&&(f.e.c=E),P.t){case"n":if(P.v==""||P.v==null){if(!k)continue;P.t="z"}else P.v=parseFloat(P.v);break;case"s":if(typeof P.v>"u"){if(!k)continue;P.t="z"}else R=z0[parseInt(P.v,10)],P.v=R.t,P.r=R.r,u.cellHTML&&(P.h=R.h);break;case"str":P.t="s",P.v=P.v!=null?Qn(P.v):"",u.cellHTML&&(P.h=pS(P.v));break;case"inlineStr":m=N.match(r),P.t="s",m!=null&&(R=ES(m[1]))?(P.v=R.t,u.cellHTML&&(P.h=R.h)):P.v="";break;case"b":P.v=lr(P.v);break;case"d":u.cellDates?P.v=yi(P.v,1):(P.v=pa(yi(P.v,1)),P.t="n");break;case"e":(!u||u.cellText!==!1)&&(P.w=P.v),P.v=AP[P.v];break}if(F=j=0,X=null,V&&T.s!==void 0&&(X=h.CellXf[T.s],X!=null&&(X.numFmtId!=null&&(F=X.numFmtId),u.cellStyles&&X.fillId!=null&&(j=X.fillId))),rL(P,F,j,u,d,h),u.cellDates&&V&&P.t=="n"&&fd(on[F])&&(P.t="d",P.v=pv(P.v)),T.cm&&u.xlmeta){var ve=(u.xlmeta.Cell||[])[+T.cm-1];ve&&ve.type=="XLDAPR"&&(P.D=!0)}if(B){var q=fa(T.r);c[q.r]||(c[q.r]=[]),c[q.r][q.c]=P}else c[T.r]=P}}}}H.length>0&&(c["!rows"]=H)}}();function mq(t,e){var n={},r=t.l+e;n.r=t.read_shift(4),t.l+=4;var i=t.read_shift(2);t.l+=1;var a=t.read_shift(1);return t.l=r,a&7&&(n.level=a&7),a&16&&(n.hidden=!0),a&32&&(n.hpt=i/20),n}var gq=pf;function xq(){}function vq(t,e){var n={},r=t[t.l];return++t.l,n.above=!(r&64),n.left=!(r&128),t.l+=18,n.name=j9(t),n}function yq(t){var e=Ts(t);return[e]}function _q(t){var e=df(t);return[e]}function bq(t){var e=Ts(t),n=t.read_shift(1);return[e,n,"b"]}function wq(t){var e=df(t),n=t.read_shift(1);return[e,n,"b"]}function Sq(t){var e=Ts(t),n=t.read_shift(1);return[e,n,"e"]}function Eq(t){var e=df(t),n=t.read_shift(1);return[e,n,"e"]}function Aq(t){var e=Ts(t),n=t.read_shift(4);return[e,n,"s"]}function Tq(t){var e=df(t),n=t.read_shift(4);return[e,n,"s"]}function Mq(t){var e=Ts(t),n=Yi(t);return[e,n,"n"]}function aL(t){var e=df(t),n=Yi(t);return[e,n,"n"]}function Nq(t){var e=Ts(t),n=bS(t);return[e,n,"n"]}function kq(t){var e=df(t),n=bS(t);return[e,n,"n"]}function Cq(t){var e=Ts(t),n=yS(t);return[e,n,"is"]}function Rq(t){var e=Ts(t),n=Zi(t);return[e,n,"str"]}function Pq(t){var e=df(t),n=Zi(t);return[e,n,"str"]}function Lq(t,e,n){var r=t.l+e,i=Ts(t);i.r=n["!row"];var a=t.read_shift(1),s=[i,a,"b"];if(n.cellFormula){t.l+=2;var o=xv(t,r-t.l,n);s[3]=Gi(o,null,i,n.supbooks,n)}else t.l=r;return s}function Fq(t,e,n){var r=t.l+e,i=Ts(t);i.r=n["!row"];var a=t.read_shift(1),s=[i,a,"e"];if(n.cellFormula){t.l+=2;var o=xv(t,r-t.l,n);s[3]=Gi(o,null,i,n.supbooks,n)}else t.l=r;return s}function Dq(t,e,n){var r=t.l+e,i=Ts(t);i.r=n["!row"];var a=Yi(t),s=[i,a,"n"];if(n.cellFormula){t.l+=2;var o=xv(t,r-t.l,n);s[3]=Gi(o,null,i,n.supbooks,n)}else t.l=r;return s}function Iq(t,e,n){var r=t.l+e,i=Ts(t);i.r=n["!row"];var a=Zi(t),s=[i,a,"str"];if(n.cellFormula){t.l+=2;var o=xv(t,r-t.l,n);s[3]=Gi(o,null,i,n.supbooks,n)}else t.l=r;return s}var Oq=pf;function Uq(t,e){var n=t.l+e,r=pf(t),i=_S(t),a=Zi(t),s=Zi(t),o=Zi(t);t.l=n;var l={rfx:r,relId:i,loc:a,display:o};return s&&(l.Tooltip=s),l}function Bq(){}function jq(t,e,n){var r=t.l+e,i=wP(t),a=t.read_shift(1),s=[i];if(s[2]=a,n.cellFormula){var o=GG(t,r-t.l,n);s[1]=o}else t.l=r;return s}function zq(t,e,n){var r=t.l+e,i=pf(t),a=[i];if(n.cellFormula){var s=XG(t,r-t.l,n);a[1]=s,t.l=r}else t.l=r;return a}var Hq=["left","right","top","bottom","header","footer"];function Vq(t){var e={};return Hq.forEach(function(n){e[n]=Yi(t)}),e}function Wq(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function Gq(){}function qq(){}function Xq(t,e,n,r,i,a,s){if(!t)return t;var o=e||{};r||(r={"!id":{}});var l=o.dense?[]:{},c,u={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,d=!1,h,g,x,v,m,b,_,S,N,P=[];o.biff=12,o["!row"]=0;var T=0,L=!1,E=[],R={},A=o.supbooks||i.supbooks||[[]];if(A.sharedf=R,A.arrayf=E,A.SheetNames=i.SheetNames||i.Sheets.map(function(B){return B.name}),!o.supbooks&&(o.supbooks=A,i.Names))for(var F=0;F<i.Names.length;++F)A[0][F+1]=i.Names[F];var j=[],V=[],X=!1;bx[16]={n:"BrtShortReal",f:aL};var ee;if(Dl(t,function(H,xe,Se){if(!d)switch(Se){case 148:c=H;break;case 0:h=H,o.sheetRows&&o.sheetRows<=h.r&&(d=!0),S=ki(v=h.r),o["!row"]=h.r,(H.hidden||H.hpt||H.level!=null)&&(H.hpt&&(H.hpx=Tp(H.hpt)),V[H.r]=H);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(g={t:H[2]},H[2]){case"n":g.v=H[1];break;case"s":_=z0[H[1]],g.v=_.t,g.r=_.r;break;case"b":g.v=!!H[1];break;case"e":g.v=H[1],o.cellText!==!1&&(g.w=mf[g.v]);break;case"str":g.t="s",g.v=H[1];break;case"is":g.t="s",g.v=H[1].t;break}if((x=s.CellXf[H[0].iStyleRef])&&rL(g,x.numFmtId,null,o,a,s),m=H[0].c==-1?m+1:H[0].c,o.dense?(l[v]||(l[v]=[]),l[v][m]=g):l[ai(m)+S]=g,o.cellFormula){for(L=!1,T=0;T<E.length;++T){var k=E[T];h.r>=k[0].s.r&&h.r<=k[0].e.r&&m>=k[0].s.c&&m<=k[0].e.c&&(g.F=An(k[0]),L=!0)}!L&&H.length>3&&(g.f=H[3])}if(u.s.r>h.r&&(u.s.r=h.r),u.s.c>m&&(u.s.c=m),u.e.r<h.r&&(u.e.r=h.r),u.e.c<m&&(u.e.c=m),o.cellDates&&x&&g.t=="n"&&fd(on[x.numFmtId])){var U=Lu(g.v);U&&(g.t="d",g.v=new Date(U.y,U.m-1,U.d,U.H,U.M,U.S,U.u))}ee&&(ee.type=="XLDAPR"&&(g.D=!0),ee=void 0);break;case 1:case 12:if(!o.sheetStubs||f)break;g={t:"z",v:void 0},m=H[0].c==-1?m+1:H[0].c,o.dense?(l[v]||(l[v]=[]),l[v][m]=g):l[ai(m)+S]=g,u.s.r>h.r&&(u.s.r=h.r),u.s.c>m&&(u.s.c=m),u.e.r<h.r&&(u.e.r=h.r),u.e.c<m&&(u.e.c=m),ee&&(ee.type=="XLDAPR"&&(g.D=!0),ee=void 0);break;case 176:P.push(H);break;case 49:ee=((o.xlmeta||{}).Cell||[])[H-1];break;case 494:var O=r["!id"][H.relId];for(O?(H.Target=O.Target,H.loc&&(H.Target+="#"+H.loc),H.Rel=O):H.relId==""&&(H.Target="#"+H.loc),v=H.rfx.s.r;v<=H.rfx.e.r;++v)for(m=H.rfx.s.c;m<=H.rfx.e.c;++m)o.dense?(l[v]||(l[v]=[]),l[v][m]||(l[v][m]={t:"z",v:void 0}),l[v][m].l=H):(b=en({c:m,r:v}),l[b]||(l[b]={t:"z",v:void 0}),l[b].l=H);break;case 426:if(!o.cellFormula)break;E.push(H),N=o.dense?l[v][m]:l[ai(m)+S],N.f=Gi(H[1],u,{r:h.r,c:m},A,o),N.F=An(H[0]);break;case 427:if(!o.cellFormula)break;R[en(H[0].s)]=H[1],N=o.dense?l[v][m]:l[ai(m)+S],N.f=Gi(H[1],u,{r:h.r,c:m},A,o);break;case 60:if(!o.cellStyles)break;for(;H.e>=H.s;)j[H.e--]={width:H.w/256,hidden:!!(H.flags&1),level:H.level},X||(X=!0,AS(H.w/256)),$h(j[H.e+1]);break;case 161:l["!autofilter"]={ref:An(H)};break;case 476:l["!margins"]=H;break;case 147:i.Sheets[n]||(i.Sheets[n]={}),H.name&&(i.Sheets[n].CodeName=H.name),(H.above||H.left)&&(l["!outline"]={above:H.above,left:H.left});break;case 137:i.Views||(i.Views=[{}]),i.Views[0]||(i.Views[0]={}),H.RTL&&(i.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!xe.T){if(!f||o.WTF)throw new Error("Unexpected record 0x"+Se.toString(16))}}},o),delete o.supbooks,delete o["!row"],!l["!ref"]&&(u.s.r<2e6||c&&(c.e.r>0||c.e.c>0||c.s.r>0||c.s.c>0))&&(l["!ref"]=An(c||u)),o.sheetRows&&l["!ref"]){var se=Nr(l["!ref"]);o.sheetRows<=+se.e.r&&(se.e.r=o.sheetRows-1,se.e.r>u.e.r&&(se.e.r=u.e.r),se.e.r<se.s.r&&(se.s.r=se.e.r),se.e.c>u.e.c&&(se.e.c=u.e.c),se.e.c<se.s.c&&(se.s.c=se.e.c),l["!fullref"]=l["!ref"],l["!ref"]=An(se))}return P.length>0&&(l["!merges"]=P),j.length>0&&(l["!cols"]=j),V.length>0&&(l["!rows"]=V),l}function $q(t){var e=[],n=t.match(/^<c:numCache>/),r;(t.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(a){var s=a.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);s&&(e[+s[1]]=n?+s[2]:s[2])});var i=Nn((t.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(t.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(a){r=a.replace(/<.*?>/g,"")}),[e,i,r]}function Yq(t,e,n,r,i,a){var s=a||{"!type":"chart"};if(!t)return a;var o=0,l=0,c="A",u={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(t.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var d=$q(f);u.s.r=u.s.c=0,u.e.c=o,c=ai(o),d[0].forEach(function(h,g){s[c+ki(g)]={t:"n",v:h,z:d[1]},l=g}),u.e.r<l&&(u.e.r=l),++o}),o>0&&(s["!ref"]=An(u)),s}function Kq(t,e,n,r,i){if(!t)return t;r||(r={"!id":{}});var a={"!type":"chart","!drawel":null,"!rel":""},s,o=t.match(iL);return o&&MS(o[0],a,i,n),(s=t.match(/drawing r:id="(.*?)"/))&&(a["!rel"]=s[1]),r["!id"][a["!rel"]]&&(a["!drawel"]=r["!id"][a["!rel"]]),a}function Jq(t,e){t.l+=10;var n=Zi(t);return{name:n}}function Zq(t,e,n,r,i){if(!t)return t;r||(r={"!id":{}});var a={"!type":"chart","!drawel":null,"!rel":""},s=!1;return Dl(t,function(l,c,u){switch(u){case 550:a["!rel"]=l;break;case 651:i.Sheets[n]||(i.Sheets[n]={}),l.name&&(i.Sheets[n].CodeName=l.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!(c.T>0)){if(!(c.T<0)){if(!s||e.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}},e),r["!id"][a["!rel"]]&&(a["!drawel"]=r["!id"][a["!rel"]]),a}var sL=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],Qq=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],eX=[],tX=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function CA(t,e){for(var n=0;n!=t.length;++n)for(var r=t[n],i=0;i!=e.length;++i){var a=e[i];if(r[a[0]]==null)r[a[0]]=a[1];else switch(a[2]){case"bool":typeof r[a[0]]=="string"&&(r[a[0]]=lr(r[a[0]]));break;case"int":typeof r[a[0]]=="string"&&(r[a[0]]=parseInt(r[a[0]],10));break}}}function RA(t,e){for(var n=0;n!=e.length;++n){var r=e[n];if(t[r[0]]==null)t[r[0]]=r[1];else switch(r[2]){case"bool":typeof t[r[0]]=="string"&&(t[r[0]]=lr(t[r[0]]));break;case"int":typeof t[r[0]]=="string"&&(t[r[0]]=parseInt(t[r[0]],10));break}}}function oL(t){RA(t.WBProps,sL),RA(t.CalcPr,tX),CA(t.WBView,Qq),CA(t.Sheets,eX),kh.date1904=lr(t.WBProps.date1904)}var nX="][*?/\\".split("");function rX(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var n=!0;return nX.forEach(function(r){if(t.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),n}var iX=/<\w+:workbook/;function aX(t,e){if(!t)throw new Error("Could not find file");var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},r=!1,i="xmlns",a={},s=0;if(t.replace(na,function(l,c){var u=$t(l);switch(Uo(u[0])){case"<?xml":break;case"<workbook":l.match(iX)&&(i="xmlns"+l.match(/<(\w+):/)[1]),n.xmlns=u[i];break;case"</workbook>":break;case"<fileVersion":delete u[0],n.AppVersion=u;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":sL.forEach(function(f){if(u[f[0]]!=null)switch(f[2]){case"bool":n.WBProps[f[0]]=lr(u[f[0]]);break;case"int":n.WBProps[f[0]]=parseInt(u[f[0]],10);break;default:n.WBProps[f[0]]=u[f[0]]}}),u.codeName&&(n.WBProps.CodeName=Qn(u.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete u[0],n.WBView.push(u);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(u.state){case"hidden":u.Hidden=1;break;case"veryHidden":u.Hidden=2;break;default:u.Hidden=0}delete u.state,u.name=Nn(Qn(u.name)),delete u[0],n.Sheets.push(u);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":r=!0;break;case"</definedNames>":r=!1;break;case"<definedName":a={},a.Name=Qn(u.name),u.comment&&(a.Comment=u.comment),u.localSheetId&&(a.Sheet=+u.localSheetId),lr(u.hidden||"0")&&(a.Hidden=!0),s=c+l.length;break;case"</definedName>":a.Ref=Nn(Qn(t.slice(s,c))),n.Names.push(a);break;case"<definedName/>":break;case"<calcPr":delete u[0],n.CalcPr=u;break;case"<calcPr/>":delete u[0],n.CalcPr=u;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":r=!0;break;case"</AlternateContent>":r=!1;break;case"<revisionPtr":break;default:if(!r&&e.WTF)throw new Error("unrecognized "+u[0]+" in workbook")}return l}),S9.indexOf(n.xmlns)===-1)throw new Error("Unknown Namespace: "+n.xmlns);return oL(n),n}function sX(t,e){var n={};return n.Hidden=t.read_shift(4),n.iTabID=t.read_shift(4),n.strRelID=Nb(t),n.name=Zi(t),n}function oX(t,e){var n={},r=t.read_shift(4);n.defaultThemeVersion=t.read_shift(4);var i=e>8?Zi(t):"";return i.length>0&&(n.CodeName=i),n.autoCompressPictures=!!(r&65536),n.backupFile=!!(r&64),n.checkCompatibility=!!(r&4096),n.date1904=!!(r&1),n.filterPrivacy=!!(r&8),n.hidePivotFieldList=!!(r&1024),n.promptedSolutions=!!(r&16),n.publishItems=!!(r&2048),n.refreshAllConnections=!!(r&262144),n.saveExternalLinkValues=!!(r&128),n.showBorderUnselectedTables=!!(r&4),n.showInkAnnotation=!!(r&32),n.showObjects=["all","placeholders","none"][r>>13&3],n.showPivotChartFilter=!!(r&32768),n.updateLinks=["userSet","never","always"][r>>8&3],n}function lX(t,e){var n={};return t.read_shift(4),n.ArchID=t.read_shift(4),t.l+=e-8,n}function cX(t,e,n){var r=t.l+e;t.l+=4,t.l+=1;var i=t.read_shift(4),a=z9(t),s=qG(t,0,n),o=_S(t);t.l=r;var l={Name:a,Ptg:s};return i<268435455&&(l.Sheet=i),o&&(l.Comment=o),l}function uX(t,e){var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},r=[],i=!1;e||(e={}),e.biff=12;var a=[],s=[[]];return s.SheetNames=[],s.XTI=[],bx[16]={n:"BrtFRTArchID$",f:lX},Dl(t,function(l,c,u){switch(u){case 156:s.SheetNames.push(l.name),n.Sheets.push(l);break;case 153:n.WBProps=l;break;case 39:l.Sheet!=null&&(e.SID=l.Sheet),l.Ref=Gi(l.Ptg,null,null,s,e),delete e.SID,delete l.Ptg,a.push(l);break;case 1036:break;case 357:case 358:case 355:case 667:s[0].length?s.push([u,l]):s[0]=[u,l],s[s.length-1].XTI=[];break;case 362:s.length===0&&(s[0]=[],s[0].XTI=[]),s[s.length-1].XTI=s[s.length-1].XTI.concat(l),s.XTI=s.XTI.concat(l);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:r.push(u),i=!0;break;case 36:r.pop(),i=!1;break;case 37:r.push(u),i=!0;break;case 38:r.pop(),i=!1;break;case 16:break;default:if(!c.T){if(!i||e.WTF&&r[r.length-1]!=37&&r[r.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}},e),oL(n),n.Names=a,n.supbooks=s,n}function fX(t,e,n){return e.slice(-4)===".bin"?uX(t,n):aX(t,n)}function hX(t,e,n,r,i,a,s,o){return e.slice(-4)===".bin"?Xq(t,r,n,i,a,s,o):sq(t,r,n,i,a,s,o)}function dX(t,e,n,r,i,a,s,o){return e.slice(-4)===".bin"?Zq(t,r,n,i,a):Kq(t,r,n,i,a)}function pX(t,e,n,r,i,a,s,o){return e.slice(-4)===".bin"?wW():SW()}function mX(t,e,n,r,i,a,s,o){return e.slice(-4)===".bin"?_W():bW()}function gX(t,e,n,r){return e.slice(-4)===".bin"?OV(t,n,r):RV(t,n,r)}function xX(t,e,n){return XP(t,n)}function vX(t,e,n){return e.slice(-4)===".bin"?QH(t,n):JH(t,n)}function yX(t,e,n){return e.slice(-4)===".bin"?xW(t,n):hW(t,n)}function _X(t,e,n){return e.slice(-4)===".bin"?cW(t):oW(t)}function bX(t,e,n,r){return n.slice(-4)===".bin"?uW(t,e,n,r):void 0}function wX(t,e,n){return e.slice(-4)===".bin"?aW(t,e,n):sW(t,e,n)}var lL=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,cL=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Ps(t,e){var n=t.split(/\s+/),r=[];if(r[0]=n[0],n.length===1)return r;var i=t.match(lL),a,s,o,l;if(i)for(l=0;l!=i.length;++l)a=i[l].match(cL),(s=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?o="xmlns"+a[1].slice(6):o=a[1].slice(s+1),r[o]=a[2].slice(1,a[2].length-1));return r}function SX(t){var e=t.split(/\s+/),n={};if(e.length===1)return n;var r=t.match(lL),i,a,s,o;if(r)for(o=0;o!=r.length;++o)i=r[o].match(cL),(a=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?s="xmlns"+i[1].slice(6):s=i[1].slice(a+1),n[s]=i[2].slice(1,i[2].length-1));return n}var V0;function EX(t,e){var n=V0[t]||Nn(t);return n==="General"?Qu(e):Es(n,e)}function AX(t,e,n,r){var i=r;switch((n[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":i=lr(r);break;case"i2":case"int":i=parseInt(r,10);break;case"r4":case"float":i=parseFloat(r);break;case"date":case"dateTime.tz":i=yi(r);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+n[0])}t[Nn(e)]=i}function TX(t,e,n){if(t.t!=="z"){if(!n||n.cellText!==!1)try{t.t==="e"?t.w=t.w||mf[t.v]:e==="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=bp(t.v):t.w=Qu(t.v):t.w=EX(e||"General",t.v)}catch(a){if(n.WTF)throw a}try{var r=V0[e]||e||"General";if(n.cellNF&&(t.z=r),n.cellDates&&t.t=="n"&&fd(r)){var i=Lu(t.v);i&&(t.t="d",t.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}catch(a){if(n.WTF)throw a}}}function MX(t,e,n){if(n.cellStyles&&e.Interior){var r=e.Interior;r.Pattern&&(r.patternType=AV[r.Pattern]||r.Pattern)}t[e.ID]=e}function NX(t,e,n,r,i,a,s,o,l,c){var u="General",f=r.StyleID,d={};c=c||{};var h=[],g=0;for(f===void 0&&o&&(f=o.StyleID),f===void 0&&s&&(f=s.StyleID);a[f]!==void 0&&(a[f].nf&&(u=a[f].nf),a[f].Interior&&h.push(a[f].Interior),!!a[f].Parent);)f=a[f].Parent;switch(n.Type){case"Boolean":r.t="b",r.v=lr(t);break;case"String":r.t="s",r.r=Q4(Nn(t)),r.v=t.indexOf("<")>-1?Nn(e||t).replace(/<.*?>/g,""):r.r;break;case"DateTime":t.slice(-1)!="Z"&&(t+="Z"),r.v=(yi(t)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),r.v!==r.v?r.v=Nn(t):r.v<60&&(r.v=r.v-1),(!u||u=="General")&&(u="yyyy-mm-dd");case"Number":r.v===void 0&&(r.v=+t),r.t||(r.t="n");break;case"Error":r.t="e",r.v=AP[t],c.cellText!==!1&&(r.w=t);break;default:t==""&&e==""?r.t="z":(r.t="s",r.v=Q4(e||t));break}if(TX(r,u,c),c.cellFormula!==!1)if(r.Formula){var x=Nn(r.Formula);x.charCodeAt(0)==61&&(x=x.slice(1)),r.f=Nh(x,i),delete r.Formula,r.ArrayRange=="RC"?r.F=Nh("RC:RC",i):r.ArrayRange&&(r.F=Nh(r.ArrayRange,i),l.push([Nr(r.F),r.F]))}else for(g=0;g<l.length;++g)i.r>=l[g][0].s.r&&i.r<=l[g][0].e.r&&i.c>=l[g][0].s.c&&i.c<=l[g][0].e.c&&(r.F=l[g][1]);c.cellStyles&&(h.forEach(function(v){!d.patternType&&v.patternType&&(d.patternType=v.patternType)}),r.s=d),r.StyleID!==void 0&&(r.ixfe=r.StyleID)}function kX(t){t.t=t.v||"",t.t=t.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.v=t.w=t.ixfe=void 0}function q2(t,e){var n=e||{};JR();var r=m0(mS(t));(n.type=="binary"||n.type=="array"||n.type=="base64")&&(r=Qn(r));var i=r.slice(0,1024).toLowerCase(),a=!1;if(i=i.replace(/".*?"/g,""),(i.indexOf(">")&1023)>Math.min(i.indexOf(",")&1023,i.indexOf(";")&1023)){var s=Ni(n);return s.type="string",Ep.to_workbook(r,s)}if(i.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(rt){i.indexOf("<"+rt)>=0&&(a=!0)}),a)return UX(r,n);V0={"General Number":"General","General Date":on[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":on[15],"Short Date":on[14],"Long Time":on[19],"Medium Time":on[18],"Short Time":on[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:on[2],Standard:on[4],Percent:on[10],Scientific:on[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,l=[],c,u={},f=[],d=n.dense?[]:{},h="",g={},x={},v=Ps('<Data ss:Type="String">'),m=0,b=0,_=0,S={s:{r:2e6,c:2e6},e:{r:0,c:0}},N={},P={},T="",L=0,E=[],R={},A={},F=0,j=[],V=[],X={},ee=[],se,B=!1,H=[],xe=[],Se={},k=0,U=0,O={Sheets:[],WBProps:{date1904:!1}},I={};Sp.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"");for(var K="";o=Sp.exec(r);)switch(o[3]=(K=o[3]).toLowerCase()){case"data":if(K=="data"){if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break}if(l[l.length-1][1])break;o[1]==="/"?NX(r.slice(m,o.index),T,v,l[l.length-1][0]=="comment"?X:g,{c:b,r:_},N,ee[b],x,H,n):(T="",v=Ps(o[0]),m=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(V.length>0&&(g.c=V),(!n.sheetRows||n.sheetRows>_)&&g.v!==void 0&&(n.dense?(d[_]||(d[_]=[]),d[_][b]=g):d[ai(b)+ki(_)]=g),g.HRef&&(g.l={Target:Nn(g.HRef)},g.HRefScreenTip&&(g.l.Tooltip=g.HRefScreenTip),delete g.HRef,delete g.HRefScreenTip),(g.MergeAcross||g.MergeDown)&&(k=b+(parseInt(g.MergeAcross,10)|0),U=_+(parseInt(g.MergeDown,10)|0),E.push({s:{c:b,r:_},e:{c:k,r:U}})),!n.sheetStubs)g.MergeAcross?b=k+1:++b;else if(g.MergeAcross||g.MergeDown){for(var re=b;re<=k;++re)for(var _e=_;_e<=U;++_e)(re>b||_e>_)&&(n.dense?(d[_e]||(d[_e]=[]),d[_e][re]={t:"z"}):d[ai(re)+ki(_e)]={t:"z"});b=k+1}else++b;else g=SX(o[0]),g.Index&&(b=+g.Index-1),b<S.s.c&&(S.s.c=b),b>S.e.c&&(S.e.c=b),o[0].slice(-2)==="/>"&&++b,V=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(_<S.s.r&&(S.s.r=_),_>S.e.r&&(S.e.r=_),o[0].slice(-2)==="/>"&&(x=Ps(o[0]),x.Index&&(_=+x.Index-1)),b=0,++_):(x=Ps(o[0]),x.Index&&(_=+x.Index-1),Se={},(x.AutoFitHeight=="0"||x.Height)&&(Se.hpx=parseInt(x.Height,10),Se.hpt=qP(Se.hpx),xe[_]=Se),x.Hidden=="1"&&(Se.hidden=!0,xe[_]=Se));break;case"worksheet":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));f.push(h),S.s.r<=S.e.r&&S.s.c<=S.e.c&&(d["!ref"]=An(S),n.sheetRows&&n.sheetRows<=S.e.r&&(d["!fullref"]=d["!ref"],S.e.r=n.sheetRows-1,d["!ref"]=An(S))),E.length&&(d["!merges"]=E),ee.length>0&&(d["!cols"]=ee),xe.length>0&&(d["!rows"]=xe),u[h]=d}else S={s:{r:2e6,c:2e6},e:{r:0,c:0}},_=b=0,l.push([o[3],!1]),c=Ps(o[0]),h=Nn(c.Name),d=n.dense?[]:{},E=[],H=[],xe=[],I={name:h,Hidden:0},O.Sheets.push(I);break;case"table":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else{if(o[0].slice(-2)=="/>")break;l.push([o[3],!1]),ee=[],B=!1}break;case"style":o[1]==="/"?MX(N,P,n):P=Ps(o[0]);break;case"numberformat":P.nf=Nn(Ps(o[0]).Format||"General"),V0[P.nf]&&(P.nf=V0[P.nf]);for(var ue=0;ue!=392&&on[ue]!=P.nf;++ue);if(ue==392){for(ue=57;ue!=392;++ue)if(on[ue]==null){Hu(P.nf,ue);break}}break;case"column":if(l[l.length-1][0]!=="table")break;if(se=Ps(o[0]),se.Hidden&&(se.hidden=!0,delete se.Hidden),se.Width&&(se.wpx=parseInt(se.Width,10)),!B&&se.wpx>10){B=!0,ua=WP;for(var be=0;be<ee.length;++be)ee[be]&&$h(ee[be])}B&&$h(se),ee[se.Index-1||ee.length]=se;for(var ve=0;ve<+se.Span;++ve)ee[ee.length]=Ni(se);break;case"namedrange":if(o[1]==="/")break;O.Names||(O.Names=[]);var q=$t(o[0]),te={Name:q.Name,Ref:Nh(q.RefersTo.slice(1),{r:0,c:0})};O.Sheets.length>0&&(te.Sheet=O.Sheets.length-1),O.Names.push(te);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?T+=r.slice(L,o.index):L=o.index+o[0].length;break;case"interior":if(!n.cellStyles)break;P.Interior=Ps(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?hz(R,K,r.slice(F,o.index)):F=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else l.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));kX(X),V.push(X)}else l.push([o[3],!1]),c=Ps(o[0]),X={a:c.Author};break;case"autofilter":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var Ee=Ps(o[0]);d["!autofilter"]={ref:Nh(Ee.Range).replace(/\$/g,"")},l.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"null":break;default:if(l.length==0&&o[3]=="document"||l.length==0&&o[3]=="uof")return OA(r,n);var Z=!0;switch(l[l.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Z=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Z=!1}break;case"excelworkbook":switch(o[3]){case"date1904":O.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Z=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:Z=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(r.slice(F,o.index)){case"SheetHidden":I.Hidden=1;break;case"SheetVeryHidden":I.Hidden=2;break}else F=o.index+o[0].length;break;case"header":d["!margins"]||H0(d["!margins"]={},"xlml"),isNaN(+$t(o[0]).Margin)||(d["!margins"].header=+$t(o[0]).Margin);break;case"footer":d["!margins"]||H0(d["!margins"]={},"xlml"),isNaN(+$t(o[0]).Margin)||(d["!margins"].footer=+$t(o[0]).Margin);break;case"pagemargins":var qe=$t(o[0]);d["!margins"]||H0(d["!margins"]={},"xlml"),isNaN(+qe.Top)||(d["!margins"].top=+qe.Top),isNaN(+qe.Left)||(d["!margins"].left=+qe.Left),isNaN(+qe.Right)||(d["!margins"].right=+qe.Right),isNaN(+qe.Bottom)||(d["!margins"].bottom=+qe.Bottom);break;case"displayrighttoleft":O.Views||(O.Views=[]),O.Views[0]||(O.Views[0]={}),O.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":d["!outline"]||(d["!outline"]={}),d["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":d["!outline"]||(d["!outline"]={}),d["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Z=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Z=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Z=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Z=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Z=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Z=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Z=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Z=!1}break;case"smarttags":break;default:Z=!1;break}if(Z||o[3].match(/!\[CDATA/))break;if(!l[l.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+l.join("|");if(l[l.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?AX(A,K,j,r.slice(F,o.index)):(j=o,F=o.index+o[0].length);break}if(n.WTF)throw"Unrecognized tag: "+o[3]+"|"+l.join("|")}var Ce={};return!n.bookSheets&&!n.bookProps&&(Ce.Sheets=u),Ce.SheetNames=f,Ce.Workbook=O,Ce.SSF=Ni(on),Ce.Props=R,Ce.Custprops=A,Ce}function Pb(t,e){switch(CS(e=e||{}),e.type||"base64"){case"base64":return q2(is(t),e);case"binary":case"buffer":case"file":return q2(t,e);case"array":return q2(hf(t),e)}}function CX(t){var e={},n=t.content;if(n.l=28,e.AnsiUserType=n.read_shift(0,"lpstr-ansi"),e.AnsiClipboardFormat=W9(n),n.length-n.l<=4)return e;var r=n.read_shift(4);if(r==0||r>40||(n.l-=4,e.Reserved1=n.read_shift(0,"lpstr-ansi"),n.length-n.l<=4)||(r=n.read_shift(4),r!==1907505652)||(e.UnicodeClipboardFormat=G9(n),r=n.read_shift(4),r==0||r>40))return e;n.l-=4,e.Reserved2=n.read_shift(0,"lpwstr")}var RX=[60,1084,2066,2165,2175];function PX(t,e,n,r,i){var a=r,s=[],o=n.slice(n.l,n.l+a);if(i&&i.enc&&i.enc.insitu&&o.length>0)switch(t){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:i.enc.insitu(o)}s.push(o),n.l+=a;for(var l=ml(n,n.l),c=Lb[l],u=0;c!=null&&RX.indexOf(l)>-1;)a=ml(n,n.l+2),u=n.l+4,l==2066?u+=4:(l==2165||l==2175)&&(u+=12),o=n.slice(u,n.l+4+a),s.push(o),n.l+=4+a,c=Lb[l=ml(n,n.l)];var f=uc(s);Ai(f,0);var d=0;f.lens=[];for(var h=0;h<s.length;++h)f.lens.push(d),d+=s[h].length;if(f.length<r)throw"XLS Record 0x"+t.toString(16)+" Truncated: "+f.length+" < "+r;return e.f(f,f.length,i)}function mo(t,e,n){if(t.t!=="z"&&t.XF){var r=0;try{r=t.z||t.XF.numFmtId||0,e.cellNF&&(t.z=on[r])}catch(a){if(e.WTF)throw a}if(!e||e.cellText!==!1)try{t.t==="e"?t.w=t.w||mf[t.v]:r===0||r=="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=bp(t.v):t.w=Qu(t.v):t.w=Es(r,t.v,{date1904:!!n,dateNF:e&&e.dateNF})}catch(a){if(e.WTF)throw a}if(e.cellDates&&r&&t.t=="n"&&fd(on[r]||String(r))){var i=Lu(t.v);i&&(t.t="d",t.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}}function rg(t,e,n){return{v:t,ixfe:e,t:n}}function LX(t,e){var n={opts:{}},r={},i=e.dense?[]:{},a={},s={},o=null,l=[],c="",u={},f,d="",h,g,x,v,m={},b=[],_,S,N=[],P=[],T={Sheets:[],WBProps:{date1904:!1},Views:[{}]},L={},E=function(Ue){return Ue<8?Vu[Ue]:Ue<64&&P[Ue-8]||Vu[Ue]},R=function(Ue,tt,yt){var Ke=tt.XF.data;if(!(!Ke||!Ke.patternType||!yt||!yt.cellStyles)){tt.s={},tt.s.patternType=Ke.patternType;var Ze;(Ze=Ap(E(Ke.icvFore)))&&(tt.s.fgColor={rgb:Ze}),(Ze=Ap(E(Ke.icvBack)))&&(tt.s.bgColor={rgb:Ze})}},A=function(Ue,tt,yt){if(!(Se>1)&&!(yt.sheetRows&&Ue.r>=yt.sheetRows)){if(yt.cellStyles&&tt.XF&&tt.XF.data&&R(Ue,tt,yt),delete tt.ixfe,delete tt.XF,f=Ue,d=en(Ue),(!s||!s.s||!s.e)&&(s={s:{r:0,c:0},e:{r:0,c:0}}),Ue.r<s.s.r&&(s.s.r=Ue.r),Ue.c<s.s.c&&(s.s.c=Ue.c),Ue.r+1>s.e.r&&(s.e.r=Ue.r+1),Ue.c+1>s.e.c&&(s.e.c=Ue.c+1),yt.cellFormula&&tt.f){for(var Ke=0;Ke<b.length;++Ke)if(!(b[Ke][0].s.c>Ue.c||b[Ke][0].s.r>Ue.r)&&!(b[Ke][0].e.c<Ue.c||b[Ke][0].e.r<Ue.r)){tt.F=An(b[Ke][0]),(b[Ke][0].s.c!=Ue.c||b[Ke][0].s.r!=Ue.r)&&delete tt.f,tt.f&&(tt.f=""+Gi(b[Ke][1],s,Ue,H,F));break}}yt.dense?(i[Ue.r]||(i[Ue.r]=[]),i[Ue.r][Ue.c]=tt):i[d]=tt}},F={enc:!1,sbcch:0,snames:[],sharedf:m,arrayf:b,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!e&&!!e.cellStyles,WTF:!!e&&!!e.wtf};e.password&&(F.password=e.password);var j,V=[],X=[],ee=[],se=[],B=!1,H=[];H.SheetNames=F.snames,H.sharedf=F.sharedf,H.arrayf=F.arrayf,H.names=[],H.XTI=[];var xe=0,Se=0,k=0,U=[],O=[],I;F.codepage=1200,Ws(1200);for(var K=!1;t.l<t.length-1;){var re=t.l,_e=t.read_shift(2);if(_e===0&&xe===10)break;var ue=t.l===t.length?0:t.read_shift(2),be=Lb[_e];if(be&&be.f){if(e.bookSheets&&xe===133&&_e!==133)break;if(xe=_e,be.r===2||be.r==12){var ve=t.read_shift(2);if(ue-=2,!F.enc&&ve!==_e&&((ve&255)<<8|ve>>8)!==_e)throw new Error("rt mismatch: "+ve+"!="+_e);be.r==12&&(t.l+=10,ue-=10)}var q={};if(_e===10?q=be.f(t,ue,F):q=PX(_e,be,t,ue,F),Se==0&&[9,521,1033,2057].indexOf(xe)===-1)continue;switch(_e){case 34:n.opts.Date1904=T.WBProps.date1904=q;break;case 134:n.opts.WriteProtect=!0;break;case 47:if(F.enc||(t.l=0),F.enc=q,!e.password)throw new Error("File is password-protected");if(q.valid==null)throw new Error("Encryption scheme unsupported");if(!q.valid)throw new Error("Password is incorrect");break;case 92:F.lastuser=q;break;case 66:var te=Number(q);switch(te){case 21010:te=1200;break;case 32768:te=1e4;break;case 32769:te=1252;break}Ws(F.codepage=te),K=!0;break;case 317:F.rrtabid=q;break;case 25:F.winlocked=q;break;case 439:n.opts.RefreshAll=q;break;case 12:n.opts.CalcCount=q;break;case 16:n.opts.CalcDelta=q;break;case 17:n.opts.CalcIter=q;break;case 13:n.opts.CalcMode=q;break;case 14:n.opts.CalcPrecision=q;break;case 95:n.opts.CalcSaveRecalc=q;break;case 15:F.CalcRefMode=q;break;case 2211:n.opts.FullCalc=q;break;case 129:q.fDialog&&(i["!type"]="dialog"),q.fBelow||((i["!outline"]||(i["!outline"]={})).above=!0),q.fRight||((i["!outline"]||(i["!outline"]={})).left=!0);break;case 224:N.push(q);break;case 430:H.push([q]),H[H.length-1].XTI=[];break;case 35:case 547:H[H.length-1].push(q);break;case 24:case 536:I={Name:q.Name,Ref:Gi(q.rgce,s,null,H,F)},q.itab>0&&(I.Sheet=q.itab-1),H.names.push(I),H[0]||(H[0]=[],H[0].XTI=[]),H[H.length-1].push(q),q.Name=="_xlnm._FilterDatabase"&&q.itab>0&&q.rgce&&q.rgce[0]&&q.rgce[0][0]&&q.rgce[0][0][0]=="PtgArea3d"&&(O[q.itab-1]={ref:An(q.rgce[0][0][1][2])});break;case 22:F.ExternCount=q;break;case 23:H.length==0&&(H[0]=[],H[0].XTI=[]),H[H.length-1].XTI=H[H.length-1].XTI.concat(q),H.XTI=H.XTI.concat(q);break;case 2196:if(F.biff<8)break;I!=null&&(I.Comment=q[1]);break;case 18:i["!protect"]=q;break;case 19:q!==0&&F.WTF&&console.error("Password verifier: "+q);break;case 133:a[q.pos]=q,F.snames.push(q.name);break;case 10:{if(--Se)break;if(s.e){if(s.e.r>0&&s.e.c>0){if(s.e.r--,s.e.c--,i["!ref"]=An(s),e.sheetRows&&e.sheetRows<=s.e.r){var Ee=s.e.r;s.e.r=e.sheetRows-1,i["!fullref"]=i["!ref"],i["!ref"]=An(s),s.e.r=Ee}s.e.r++,s.e.c++}V.length>0&&(i["!merges"]=V),X.length>0&&(i["!objects"]=X),ee.length>0&&(i["!cols"]=ee),se.length>0&&(i["!rows"]=se),T.Sheets.push(L)}c===""?u=i:r[c]=i,i=e.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(F.biff===8&&(F.biff={9:2,521:3,1033:4}[_e]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[q.BIFFVer]||8),F.biffguess=q.BIFFVer==0,q.BIFFVer==0&&q.dt==4096&&(F.biff=5,K=!0,Ws(F.codepage=28591)),F.biff==8&&q.BIFFVer==0&&q.dt==16&&(F.biff=2),Se++)break;if(i=e.dense?[]:{},F.biff<8&&!K&&(K=!0,Ws(F.codepage=e.codepage||1252)),F.biff<5||q.BIFFVer==0&&q.dt==4096){c===""&&(c="Sheet1"),s={s:{r:0,c:0},e:{r:0,c:0}};var Z={pos:t.l-ue,name:c};a[Z.pos]=Z,F.snames.push(c)}else c=(a[re]||{name:""}).name;q.dt==32&&(i["!type"]="chart"),q.dt==64&&(i["!type"]="macro"),V=[],X=[],F.arrayf=b=[],ee=[],se=[],B=!1,L={Hidden:(a[re]||{hs:0}).hs,name:c}}break;case 515:case 3:case 2:i["!type"]=="chart"&&(e.dense?(i[q.r]||[])[q.c]:i[en({c:q.c,r:q.r})])&&++q.c,_={ixfe:q.ixfe,XF:N[q.ixfe]||{},v:q.val,t:"n"},k>0&&(_.z=U[_.ixfe>>8&63]),mo(_,e,n.opts.Date1904),A({c:q.c,r:q.r},_,e);break;case 5:case 517:_={ixfe:q.ixfe,XF:N[q.ixfe],v:q.val,t:q.t},k>0&&(_.z=U[_.ixfe>>8&63]),mo(_,e,n.opts.Date1904),A({c:q.c,r:q.r},_,e);break;case 638:_={ixfe:q.ixfe,XF:N[q.ixfe],v:q.rknum,t:"n"},k>0&&(_.z=U[_.ixfe>>8&63]),mo(_,e,n.opts.Date1904),A({c:q.c,r:q.r},_,e);break;case 189:for(var qe=q.c;qe<=q.C;++qe){var Ce=q.rkrec[qe-q.c][0];_={ixfe:Ce,XF:N[Ce],v:q.rkrec[qe-q.c][1],t:"n"},k>0&&(_.z=U[_.ixfe>>8&63]),mo(_,e,n.opts.Date1904),A({c:qe,r:q.r},_,e)}break;case 6:case 518:case 1030:{if(q.val=="String"){o=q;break}if(_=rg(q.val,q.cell.ixfe,q.tt),_.XF=N[_.ixfe],e.cellFormula){var rt=q.formula;if(rt&&rt[0]&&rt[0][0]&&rt[0][0][0]=="PtgExp"){var Pe=rt[0][0][1][0],nt=rt[0][0][1][1],ft=en({r:Pe,c:nt});m[ft]?_.f=""+Gi(q.formula,s,q.cell,H,F):_.F=((e.dense?(i[Pe]||[])[nt]:i[ft])||{}).F}else _.f=""+Gi(q.formula,s,q.cell,H,F)}k>0&&(_.z=U[_.ixfe>>8&63]),mo(_,e,n.opts.Date1904),A(q.cell,_,e),o=q}break;case 7:case 519:if(o)o.val=q,_=rg(q,o.cell.ixfe,"s"),_.XF=N[_.ixfe],e.cellFormula&&(_.f=""+Gi(o.formula,s,o.cell,H,F)),k>0&&(_.z=U[_.ixfe>>8&63]),mo(_,e,n.opts.Date1904),A(o.cell,_,e),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{b.push(q);var Tt=en(q[0].s);if(h=e.dense?(i[q[0].s.r]||[])[q[0].s.c]:i[Tt],e.cellFormula&&h){if(!o||!Tt||!h)break;h.f=""+Gi(q[1],s,q[0],H,F),h.F=An(q[0])}}break;case 1212:{if(!e.cellFormula)break;if(d){if(!o)break;m[en(o.cell)]=q[0],h=e.dense?(i[o.cell.r]||[])[o.cell.c]:i[en(o.cell)],(h||{}).f=""+Gi(q[0],s,f,H,F)}}break;case 253:_=rg(l[q.isst].t,q.ixfe,"s"),l[q.isst].h&&(_.h=l[q.isst].h),_.XF=N[_.ixfe],k>0&&(_.z=U[_.ixfe>>8&63]),mo(_,e,n.opts.Date1904),A({c:q.c,r:q.r},_,e);break;case 513:e.sheetStubs&&(_={ixfe:q.ixfe,XF:N[q.ixfe],t:"z"},k>0&&(_.z=U[_.ixfe>>8&63]),mo(_,e,n.opts.Date1904),A({c:q.c,r:q.r},_,e));break;case 190:if(e.sheetStubs)for(var ae=q.c;ae<=q.C;++ae){var Y=q.ixfe[ae-q.c];_={ixfe:Y,XF:N[Y],t:"z"},k>0&&(_.z=U[_.ixfe>>8&63]),mo(_,e,n.opts.Date1904),A({c:ae,r:q.r},_,e)}break;case 214:case 516:case 4:_=rg(q.val,q.ixfe,"s"),_.XF=N[_.ixfe],k>0&&(_.z=U[_.ixfe>>8&63]),mo(_,e,n.opts.Date1904),A({c:q.c,r:q.r},_,e);break;case 0:case 512:Se===1&&(s=q);break;case 252:l=q;break;case 1054:if(F.biff==4){U[k++]=q[1];for(var ke=0;ke<k+163&&on[ke]!=q[1];++ke);ke>=163&&Hu(q[1],k+163)}else Hu(q[1],q[0]);break;case 30:{U[k++]=q;for(var Oe=0;Oe<k+163&&on[Oe]!=q;++Oe);Oe>=163&&Hu(q,k+163)}break;case 229:V=V.concat(q);break;case 93:X[q.cmo[0]]=F.lastobj=q;break;case 438:F.lastobj.TxO=q;break;case 127:F.lastobj.ImData=q;break;case 440:for(v=q[0].s.r;v<=q[0].e.r;++v)for(x=q[0].s.c;x<=q[0].e.c;++x)h=e.dense?(i[v]||[])[x]:i[en({c:x,r:v})],h&&(h.l=q[1]);break;case 2048:for(v=q[0].s.r;v<=q[0].e.r;++v)for(x=q[0].s.c;x<=q[0].e.c;++x)h=e.dense?(i[v]||[])[x]:i[en({c:x,r:v})],h&&h.l&&(h.l.Tooltip=q[1]);break;case 28:{if(F.biff<=5&&F.biff>=2)break;h=e.dense?(i[q[0].r]||[])[q[0].c]:i[en(q[0])];var it=X[q[2]];h||(e.dense?(i[q[0].r]||(i[q[0].r]=[]),h=i[q[0].r][q[0].c]={t:"z"}):h=i[en(q[0])]={t:"z"},s.e.r=Math.max(s.e.r,q[0].r),s.s.r=Math.min(s.s.r,q[0].r),s.e.c=Math.max(s.e.c,q[0].c),s.s.c=Math.min(s.s.c,q[0].c)),h.c||(h.c=[]),g={a:q[1],t:it.TxO.t},h.c.push(g)}break;case 2173:tW(N[q.ixfe],q.ext);break;case 125:{if(!F.cellStyles)break;for(;q.e>=q.s;)ee[q.e--]={width:q.w/256,level:q.level||0,hidden:!!(q.flags&1)},B||(B=!0,AS(q.w/256)),$h(ee[q.e+1])}break;case 520:{var Fe={};q.level!=null&&(se[q.r]=Fe,Fe.level=q.level),q.hidden&&(se[q.r]=Fe,Fe.hidden=!0),q.hpt&&(se[q.r]=Fe,Fe.hpt=q.hpt,Fe.hpx=Tp(q.hpt))}break;case 38:case 39:case 40:case 41:i["!margins"]||H0(i["!margins"]={}),i["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[_e]]=q;break;case 161:i["!margins"]||H0(i["!margins"]={}),i["!margins"].header=q.header,i["!margins"].footer=q.footer;break;case 574:q.RTL&&(T.Views[0].RTL=!0);break;case 146:P=q;break;case 2198:j=q;break;case 140:S=q;break;case 442:c?L.CodeName=q||L.name:T.WBProps.CodeName=q||"ThisWorkbook";break}}else be||console.error("Missing Info for XLS Record 0x"+_e.toString(16)),t.l+=ue}return n.SheetNames=Lo(a).sort(function(lt,Ue){return Number(lt)-Number(Ue)}).map(function(lt){return a[lt].name}),e.bookSheets||(n.Sheets=r),!n.SheetNames.length&&u["!ref"]?(n.SheetNames.push("Sheet1"),n.Sheets&&(n.Sheets.Sheet1=u)):n.Preamble=u,n.Sheets&&O.forEach(function(lt,Ue){n.Sheets[n.SheetNames[Ue]]["!autofilter"]=lt}),n.Strings=l,n.SSF=Ni(on),F.enc&&(n.Encryption=F.enc),j&&(n.Themes=j),n.Metadata={},S!==void 0&&(n.Metadata.Country=S),H.names.length>0&&(T.Names=H.names),n.Workbook=T,n}var PA={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function FX(t,e,n){var r=En.find(t,"/!DocumentSummaryInformation");if(r&&r.size>0)try{var i=mA(r,J9,PA.DSI);for(var a in i)e[a]=i[a]}catch(c){if(n.WTF)throw c}var s=En.find(t,"/!SummaryInformation");if(s&&s.size>0)try{var o=mA(s,Z9,PA.SI);for(var l in o)e[l]==null&&(e[l]=o[l])}catch(c){if(n.WTF)throw c}e.HeadingPairs&&e.TitlesOfParts&&(MP(e.HeadingPairs,e.TitlesOfParts,e,n),delete e.HeadingPairs,delete e.TitlesOfParts)}function uL(t,e){e||(e={}),CS(e),BR(),e.codepage&&lS(e.codepage);var n,r;if(t.FullPaths){if(En.find(t,"/encryption"))throw new Error("File is password-protected");n=En.find(t,"!CompObj"),r=En.find(t,"/Workbook")||En.find(t,"/Book")}else{switch(e.type){case"base64":t=Hs(is(t));break;case"binary":t=Hs(t);break;case"buffer":break;case"array":Array.isArray(t)||(t=Array.prototype.slice.call(t));break}Ai(t,0),r={content:t}}var i,a;if(n&&CX(n),e.bookProps&&!e.bookSheets)i={};else{var s=wn?"buffer":"array";if(r&&r.content)i=LX(r.content,e);else if((a=En.find(t,"PerfectOffice_MAIN"))&&a.content)i=j0.to_workbook(a.content,(e.type=s,e));else if((a=En.find(t,"NativeContent_MAIN"))&&a.content)i=j0.to_workbook(a.content,(e.type=s,e));else throw(a=En.find(t,"MN0"))&&a.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");e.bookVBA&&t.FullPaths&&En.find(t,"/_VBA_PROJECT_CUR/VBA/dir")&&(i.vbaraw=yW(t))}var o={};return t.FullPaths&&FX(t,o,e),i.Props=i.Custprops=o,e.bookFiles&&(i.cfb=t),i}var bx={0:{f:mq},1:{f:yq},2:{f:Nq},3:{f:Sq},4:{f:bq},5:{f:Mq},6:{f:Rq},7:{f:Aq},8:{f:Iq},9:{f:Dq},10:{f:Lq},11:{f:Fq},12:{f:_q},13:{f:kq},14:{f:Eq},15:{f:wq},16:{f:aL},17:{f:Pq},18:{f:Tq},19:{f:yS},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:cX},40:{},42:{},43:{f:LV},44:{f:PV},45:{f:FV},46:{f:IV},47:{f:DV},48:{},49:{f:O9},50:{},51:{f:rW},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:BP},62:{f:Cq},63:{f:lW},64:{f:Gq},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:ea,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:Wq},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:vq},148:{f:gq,p:16},151:{f:Bq},152:{},153:{f:oX},154:{},155:{},156:{f:sX},157:{},158:{},159:{T:1,f:ZH},160:{T:-1},161:{T:1,f:pf},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:Oq},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:nW},336:{T:-1},337:{f:iW,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Nb},357:{},358:{},359:{},360:{T:1},361:{},362:{f:UP},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:jq},427:{f:zq},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Vq},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:xq},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:Uq},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Nb},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:gW},633:{T:1},634:{T:-1},635:{T:1,f:mW},636:{T:-1},637:{f:B9},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:Jq},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:qq},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},Lb={6:{f:W2},10:{f:Jl},12:{f:$r},13:{f:$r},14:{f:Or},15:{f:Or},16:{f:Yi},17:{f:Or},18:{f:Or},19:{f:$r},20:{f:yA},21:{f:yA},23:{f:UP},24:{f:bA},25:{f:Or},26:{},27:{},28:{f:dH},29:{},34:{f:Or},35:{f:_A},38:{f:Yi},39:{f:Yi},40:{f:Yi},41:{f:Yi},42:{f:Or},43:{f:Or},47:{f:xV},49:{f:$z},51:{f:$r},60:{},61:{f:Gz},64:{f:Or},65:{f:Xz},66:{f:$r},77:{},80:{},81:{},82:{},85:{f:$r},89:{},90:{},91:{},92:{f:Oz},93:{f:mH},94:{},95:{f:Or},96:{},97:{},99:{f:Or},125:{f:BP},128:{f:iH},129:{f:Uz},130:{f:$r},131:{f:Or},132:{f:Or},133:{f:Bz},134:{},140:{f:bH},141:{f:$r},144:{},146:{f:SH},151:{},152:{},153:{},154:{},155:{},156:{f:$r},157:{},158:{},160:{f:NH},161:{f:AH},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:eH},190:{f:tH},193:{f:Jl},197:{},198:{},199:{},200:{},201:{},202:{f:Or},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:$r},220:{},221:{f:Or},222:{},224:{f:rH},225:{f:Iz},226:{f:Jl},227:{},229:{f:pH},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:jz},253:{f:Yz},255:{f:zz},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:PP},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Or},353:{f:Jl},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:sH},431:{f:Or},432:{},433:{},434:{},437:{},438:{f:vH},439:{f:Or},440:{f:yH},441:{},442:{f:tm},443:{},444:{f:$r},445:{},446:{},448:{f:Jl},449:{f:Wz,r:2},450:{f:Jl},512:{f:xA},513:{f:MH},515:{f:aH},516:{f:Kz},517:{f:vA},519:{f:kH},520:{f:Hz},523:{},545:{f:wA},549:{f:gA},566:{},574:{f:qz},638:{f:Qz},659:{},1048:{},1054:{f:Jz},1084:{},1212:{f:uH},2048:{f:_H},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:eg},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Jl},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:EH,r:12},2173:{f:eW,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Or,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:cH,r:12},2197:{},2198:{f:$V,r:12},2199:{},2200:{},2201:{},2202:{f:fH,r:12},2203:{f:Jl},2204:{},2205:{},2206:{},2207:{},2211:{f:Vz},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:$r},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:TH},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:wH},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:xA},1:{},2:{f:LH},3:{f:PH},4:{f:RH},5:{f:vA},7:{f:FH},8:{},9:{f:eg},11:{},22:{f:$r},30:{f:Zz},31:{},32:{},33:{f:wA},36:{},37:{f:gA},50:{f:DH},62:{},52:{},67:{},68:{f:$r},69:{},86:{},126:{},127:{f:CH},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:IH},223:{},234:{},354:{},421:{},518:{f:W2},521:{f:eg},536:{f:bA},547:{f:_A},561:{},579:{},1030:{f:W2},1033:{f:eg},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Ls(t,e,n,r){var i=e;if(!isNaN(i)){var a=(n||[]).length||0,s=t.next(4);s.write_shift(2,i),s.write_shift(2,a),a>0&&yP(n)&&t.push(n)}}function LA(t,e){var n=e||{},r=n.dense?[]:{};t=t.replace(/<!--.*?-->/g,"");var i=t.match(/<table/i);if(!i)throw new Error("Invalid HTML: could not find <table>");var a=t.match(/<\/table/i),s=i.index,o=a&&a.index||t.length,l=a9(t.slice(s,o),/(:?<tr[^>]*>)/i,"<tr>"),c=-1,u=0,f=0,d=0,h={s:{r:1e7,c:1e7},e:{r:0,c:0}},g=[];for(s=0;s<l.length;++s){var x=l[s].trim(),v=x.slice(0,3).toLowerCase();if(v=="<tr"){if(++c,n.sheetRows&&n.sheetRows<=c){--c;break}u=0;continue}if(!(v!="<td"&&v!="<th")){var m=x.split(/<\/t[dh]>/i);for(o=0;o<m.length;++o){var b=m[o].trim();if(b.match(/<t[dh]/i)){for(var _=b,S=0;_.charAt(0)=="<"&&(S=_.indexOf(">"))>-1;)_=_.slice(S+1);for(var N=0;N<g.length;++N){var P=g[N];P.s.c==u&&P.s.r<c&&c<=P.e.r&&(u=P.e.c+1,N=-1)}var T=$t(b.slice(0,b.indexOf(">")));d=T.colspan?+T.colspan:1,((f=+T.rowspan)>1||d>1)&&g.push({s:{r:c,c:u},e:{r:c+(f||1)-1,c:u+d-1}});var L=T.t||T["data-t"]||"";if(!_.length){u+=d;continue}if(_=sP(_),h.s.r>c&&(h.s.r=c),h.e.r<c&&(h.e.r=c),h.s.c>u&&(h.s.c=u),h.e.c<u&&(h.e.c=u),!_.length){u+=d;continue}var E={t:"s",v:_};n.raw||!_.trim().length||L=="s"||(_==="TRUE"?E={t:"b",v:!0}:_==="FALSE"?E={t:"b",v:!1}:isNaN(Ks(_))?isNaN(Xh(_).getDate())||(E={t:"d",v:yi(_)},n.cellDates||(E={t:"n",v:pa(E.v)}),E.z=n.dateNF||on[14]):E={t:"n",v:Ks(_)}),n.dense?(r[c]||(r[c]=[]),r[c][u]=E):r[en({r:c,c:u})]=E,u+=d}}}}return r["!ref"]=An(h),g.length&&(r["!merges"]=g),r}function DX(t,e,n,r){for(var i=t["!merges"]||[],a=[],s=e.s.c;s<=e.e.c;++s){for(var o=0,l=0,c=0;c<i.length;++c)if(!(i[c].s.r>n||i[c].s.c>s)&&!(i[c].e.r<n||i[c].e.c<s)){if(i[c].s.r<n||i[c].s.c<s){o=-1;break}o=i[c].e.r-i[c].s.r+1,l=i[c].e.c-i[c].s.c+1;break}if(!(o<0)){var u=en({r:n,c:s}),f=r.dense?(t[n]||[])[s]:t[u],d=f&&f.v!=null&&(f.h||pS(f.w||(Cl(f),f.w)||""))||"",h={};o>1&&(h.rowspan=o),l>1&&(h.colspan=l),r.editable?d='<span contenteditable="true">'+d+"</span>":f&&(h["data-t"]=f&&f.t||"z",f.v!=null&&(h["data-v"]=f.v),f.z!=null&&(h["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(d='<a href="'+f.l.Target+'">'+d+"</a>")),h.id=(r.id||"sjs")+"-"+u,a.push(b9("td",d,h))}}var g="<tr>";return g+a.join("")+"</tr>"}var IX='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',OX="</body></html>";function UX(t,e){var n=t.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!n||n.length==0)throw new Error("Invalid HTML: could not find <table>");if(n.length==1)return Yc(LA(n[0],e),e);var r=PS();return n.forEach(function(i,a){LS(r,LA(i,e),"Sheet"+(a+1))}),r}function BX(t,e,n){var r=[];return r.join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}function jX(t,e){var n=e||{},r=n.header!=null?n.header:IX,i=n.footer!=null?n.footer:OX,a=[r],s=hd(t["!ref"]);n.dense=Array.isArray(t),a.push(BX(t,s,n));for(var o=s.s.r;o<=s.e.r;++o)a.push(DX(t,s,o,n));return a.push("</table>"+i),a.join("")}function fL(t,e,n){var r=n||{},i=0,a=0;if(r.origin!=null)if(typeof r.origin=="number")i=r.origin;else{var s=typeof r.origin=="string"?fa(r.origin):r.origin;i=s.r,a=s.c}var o=e.getElementsByTagName("tr"),l=Math.min(r.sheetRows||1e7,o.length),c={s:{r:0,c:0},e:{r:i,c:a}};if(t["!ref"]){var u=hd(t["!ref"]);c.s.r=Math.min(c.s.r,u.s.r),c.s.c=Math.min(c.s.c,u.s.c),c.e.r=Math.max(c.e.r,u.e.r),c.e.c=Math.max(c.e.c,u.e.c),i==-1&&(c.e.r=i=u.e.r+1)}var f=[],d=0,h=t["!rows"]||(t["!rows"]=[]),g=0,x=0,v=0,m=0,b=0,_=0;for(t["!cols"]||(t["!cols"]=[]);g<o.length&&x<l;++g){var S=o[g];if(FA(S)){if(r.display)continue;h[x]={hidden:!0}}var N=S.children;for(v=m=0;v<N.length;++v){var P=N[v];if(!(r.display&&FA(P))){var T=P.hasAttribute("data-v")?P.getAttribute("data-v"):P.hasAttribute("v")?P.getAttribute("v"):sP(P.innerHTML),L=P.getAttribute("data-z")||P.getAttribute("z");for(d=0;d<f.length;++d){var E=f[d];E.s.c==m+a&&E.s.r<x+i&&x+i<=E.e.r&&(m=E.e.c+1-a,d=-1)}_=+P.getAttribute("colspan")||1,((b=+P.getAttribute("rowspan")||1)>1||_>1)&&f.push({s:{r:x+i,c:m+a},e:{r:x+i+(b||1)-1,c:m+a+(_||1)-1}});var R={t:"s",v:T},A=P.getAttribute("data-t")||P.getAttribute("t")||"";T!=null&&(T.length==0?R.t=A||"z":r.raw||T.trim().length==0||A=="s"||(T==="TRUE"?R={t:"b",v:!0}:T==="FALSE"?R={t:"b",v:!1}:isNaN(Ks(T))?isNaN(Xh(T).getDate())||(R={t:"d",v:yi(T)},r.cellDates||(R={t:"n",v:pa(R.v)}),R.z=r.dateNF||on[14]):R={t:"n",v:Ks(T)})),R.z===void 0&&L!=null&&(R.z=L);var F="",j=P.getElementsByTagName("A");if(j&&j.length)for(var V=0;V<j.length&&!(j[V].hasAttribute("href")&&(F=j[V].getAttribute("href"),F.charAt(0)!="#"));++V);F&&F.charAt(0)!="#"&&(R.l={Target:F}),r.dense?(t[x+i]||(t[x+i]=[]),t[x+i][m+a]=R):t[en({c:m+a,r:x+i})]=R,c.e.c<m+a&&(c.e.c=m+a),m+=_}}++x}return f.length&&(t["!merges"]=(t["!merges"]||[]).concat(f)),c.e.r=Math.max(c.e.r,x-1+i),t["!ref"]=An(c),x>=l&&(t["!fullref"]=An((c.e.r=o.length-g+x-1+i,c))),t}function hL(t,e){var n=e||{},r=n.dense?[]:{};return fL(r,t,e)}function zX(t,e){return Yc(hL(t,e),e)}function FA(t){var e="",n=HX(t);return n&&(e=n(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function HX(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function VX(t){var e=t.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(r,i){return Array(parseInt(i,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),n=Nn(e.replace(/<[^>]*>/g,""));return[n]}var DA={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function dL(t,e){var n=e||{},r=mS(t),i=[],a,s,o={name:""},l="",c=0,u,f,d={},h=[],g=n.dense?[]:{},x,v,m={value:""},b="",_=0,S=[],N=-1,P=-1,T={s:{r:1e6,c:1e7},e:{r:0,c:0}},L=0,E={},R=[],A={},F=0,j=0,V=[],X=1,ee=1,se=[],B={Names:[]},H={},xe=["",""],Se=[],k={},U="",O=0,I=!1,K=!1,re=0;for(Sp.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");x=Sp.exec(r);)switch(x[3]=x[3].replace(/_.*$/,"")){case"table":case"":x[1]==="/"?(T.e.c>=T.s.c&&T.e.r>=T.s.r?g["!ref"]=An(T):g["!ref"]="A1:A1",n.sheetRows>0&&n.sheetRows<=T.e.r&&(g["!fullref"]=g["!ref"],T.e.r=n.sheetRows-1,g["!ref"]=An(T)),R.length&&(g["!merges"]=R),V.length&&(g["!rows"]=V),u.name=u.||u.name,typeof JSON<"u"&&JSON.stringify(u),h.push(u.name),d[u.name]=g,K=!1):x[0].charAt(x[0].length-2)!=="/"&&(u=$t(x[0],!1),N=P=-1,T.s.r=T.s.c=1e7,T.e.r=T.e.c=0,g=n.dense?[]:{},R=[],V=[],K=!0);break;case"table-row-group":x[1]==="/"?--L:++L;break;case"table-row":case"":if(x[1]==="/"){N+=X,X=1;break}if(f=$t(x[0],!1),f.?N=f.-1:N==-1&&(N=0),X=+f["number-rows-repeated"]||1,X<10)for(re=0;re<X;++re)L>0&&(V[N+re]={level:L});P=-1;break;case"covered-table-cell":x[1]!=="/"&&++P,n.sheetStubs&&(n.dense?(g[N]||(g[N]=[]),g[N][P]={t:"z"}):g[en({r:N,c:P})]={t:"z"}),b="",S=[];break;case"table-cell":case"":if(x[0].charAt(x[0].length-2)==="/")++P,m=$t(x[0],!1),ee=parseInt(m["number-columns-repeated"]||"1",10),v={t:"z",v:null},m.formula&&n.cellFormula!=!1&&(v.f=kA(Nn(m.formula))),(m.||m["value-type"])=="string"&&(v.t="s",v.v=Nn(m["string-value"]||""),n.dense?(g[N]||(g[N]=[]),g[N][P]=v):g[en({r:N,c:P})]=v),P+=ee-1;else if(x[1]!=="/"){++P,b="",_=0,S=[],ee=1;var _e=X?N+X-1:N;if(P>T.e.c&&(T.e.c=P),P<T.s.c&&(T.s.c=P),N<T.s.r&&(T.s.r=N),_e>T.e.r&&(T.e.r=_e),m=$t(x[0],!1),Se=[],k={},v={t:m.||m["value-type"],v:null},n.cellFormula)if(m.formula&&(m.formula=Nn(m.formula)),m["number-matrix-columns-spanned"]&&m["number-matrix-rows-spanned"]&&(F=parseInt(m["number-matrix-rows-spanned"],10)||0,j=parseInt(m["number-matrix-columns-spanned"],10)||0,A={s:{r:N,c:P},e:{r:N+F-1,c:P+j-1}},v.F=An(A),se.push([A,v.F])),m.formula)v.f=kA(m.formula);else for(re=0;re<se.length;++re)N>=se[re][0].s.r&&N<=se[re][0].e.r&&P>=se[re][0].s.c&&P<=se[re][0].e.c&&(v.F=se[re][1]);switch((m["number-columns-spanned"]||m["number-rows-spanned"])&&(F=parseInt(m["number-rows-spanned"],10)||0,j=parseInt(m["number-columns-spanned"],10)||0,A={s:{r:N,c:P},e:{r:N+F-1,c:P+j-1}},R.push(A)),m["number-columns-repeated"]&&(ee=parseInt(m["number-columns-repeated"],10)),v.t){case"boolean":v.t="b",v.v=lr(m["boolean-value"]);break;case"float":v.t="n",v.v=parseFloat(m.value);break;case"percentage":v.t="n",v.v=parseFloat(m.value);break;case"currency":v.t="n",v.v=parseFloat(m.value);break;case"date":v.t="d",v.v=yi(m["date-value"]),n.cellDates||(v.t="n",v.v=pa(v.v)),v.z="m/d/yy";break;case"time":v.t="n",v.v=n9(m["time-value"])/86400,n.cellDates&&(v.t="d",v.v=pv(v.v)),v.z="HH:MM:SS";break;case"number":v.t="n",v.v=parseFloat(m.);break;default:if(v.t==="string"||v.t==="text"||!v.t)v.t="s",m["string-value"]!=null&&(b=Nn(m["string-value"]),S=[]);else throw new Error("Unsupported value type "+v.t)}}else{if(I=!1,v.t==="s"&&(v.v=b||"",S.length&&(v.R=S),I=_==0),H.Target&&(v.l=H),Se.length>0&&(v.c=Se,Se=[]),b&&n.cellText!==!1&&(v.w=b),I&&(v.t="z",delete v.v),(!I||n.sheetStubs)&&!(n.sheetRows&&n.sheetRows<=N))for(var ue=0;ue<X;++ue){if(ee=parseInt(m["number-columns-repeated"]||"1",10),n.dense)for(g[N+ue]||(g[N+ue]=[]),g[N+ue][P]=ue==0?v:Ni(v);--ee>0;)g[N+ue][P+ee]=Ni(v);else for(g[en({r:N+ue,c:P})]=v;--ee>0;)g[en({r:N+ue,c:P+ee})]=Ni(v);T.e.c<=P&&(T.e.c=P)}ee=parseInt(m["number-columns-repeated"]||"1",10),P+=ee-1,ee=0,v={},b="",S=[]}H={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(x[1]==="/"){if((a=i.pop())[0]!==x[3])throw"Bad state: "+a}else x[0].charAt(x[0].length-2)!=="/"&&i.push([x[3],!0]);break;case"annotation":if(x[1]==="/"){if((a=i.pop())[0]!==x[3])throw"Bad state: "+a;k.t=b,S.length&&(k.R=S),k.a=U,Se.push(k)}else x[0].charAt(x[0].length-2)!=="/"&&i.push([x[3],!1]);U="",O=0,b="",_=0,S=[];break;case"creator":x[1]==="/"?U=r.slice(O,x.index):O=x.index+x[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(x[1]==="/"){if((a=i.pop())[0]!==x[3])throw"Bad state: "+a}else x[0].charAt(x[0].length-2)!=="/"&&i.push([x[3],!1]);b="",_=0,S=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(x[1]==="/"){if(E[o.name]=l,(a=i.pop())[0]!==x[3])throw"Bad state: "+a}else x[0].charAt(x[0].length-2)!=="/"&&(l="",o=$t(x[0],!1),i.push([x[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(i[i.length-1][0]){case"time-style":case"date-style":s=$t(x[0],!1),l+=DA[x[3]][s.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(i[i.length-1][0]){case"time-style":case"date-style":s=$t(x[0],!1),l+=DA[x[3]][s.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(x[0].slice(-2)==="/>")break;if(x[1]==="/")switch(i[i.length-1][0]){case"number-style":case"date-style":case"time-style":l+=r.slice(c,x.index);break}else c=x.index+x[0].length;break;case"named-range":s=$t(x[0],!1),xe=G2(s["cell-range-address"]);var be={Name:s.name,Ref:xe[0]+"!"+xe[1]};K&&(be.Sheet=h.length),B.Names.push(be);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(i[i.length-1][0])>-1)break;if(x[1]==="/"&&(!m||!m["string-value"])){var ve=VX(r.slice(_,x.index));b=(b.length>0?b+`
`:"")+ve[0]}else $t(x[0],!1),_=x.index+x[0].length;break;case"s":break;case"database-range":if(x[1]==="/")break;try{xe=G2($t(x[0])["target-range-address"]),d[xe[0]]["!autofilter"]={ref:xe[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(x[1]!=="/"){if(H=$t(x[0],!1),!H.href)break;H.Target=Nn(H.href),delete H.href,H.Target.charAt(0)=="#"&&H.Target.indexOf(".")>-1?(xe=G2(H.Target.slice(1)),H.Target="#"+xe[0]+"!"+xe[1]):H.Target.match(/^\.\.[\\\/]/)&&(H.Target=H.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(x[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(n.WTF)throw new Error(x)}}var q={Sheets:d,SheetNames:h,Workbook:B};return n.bookSheets&&delete q.Sheets,q}function IA(t,e){e=e||{},ms(t,"META-INF/manifest.xml")&&az(Xr(t,"META-INF/manifest.xml"),e);var n=Ja(t,"content.xml");if(!n)throw new Error("Missing content.xml in ODS / UOF file");var r=dL(Qn(n),e);return ms(t,"meta.xml")&&(r.Props=TP(Xr(t,"meta.xml"))),r}function OA(t,e){return dL(t,e)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function NS(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Fb(t){return typeof TextDecoder<"u"?new TextDecoder().decode(t):Qn(hf(t))}function Db(t){var e=t.reduce(function(i,a){return i+a.length},0),n=new Uint8Array(e),r=0;return t.forEach(function(i){n.set(i,r),r+=i.length}),n}function UA(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),(t+(t>>4)&252645135)*16843009>>>24}function WX(t,e){for(var n=(t[e+15]&127)<<7|t[e+14]>>1,r=t[e+14]&1,i=e+13;i>=e;--i)r=r*256+t[i];return(t[e+15]&128?-r:r)*Math.pow(10,n-6176)}function Mp(t,e){var n=e?e[0]:0,r=t[n]&127;e:if(t[n++]>=128&&(r|=(t[n]&127)<<7,t[n++]<128||(r|=(t[n]&127)<<14,t[n++]<128)||(r|=(t[n]&127)<<21,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,28),++n,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,35),++n,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,42),++n,t[n++]<128)))break e;return e&&(e[0]=n),r}function oi(t){var e=0,n=t[e]&127;e:if(t[e++]>=128){if(n|=(t[e]&127)<<7,t[e++]<128||(n|=(t[e]&127)<<14,t[e++]<128)||(n|=(t[e]&127)<<21,t[e++]<128))break e;n|=(t[e]&127)<<28}return n}function Ki(t){for(var e=[],n=[0];n[0]<t.length;){var r=n[0],i=Mp(t,n),a=i&7;i=Math.floor(i/8);var s=0,o;if(i==0)break;switch(a){case 0:{for(var l=n[0];t[n[0]++]>=128;);o=t.slice(l,n[0])}break;case 5:s=4,o=t.slice(n[0],n[0]+s),n[0]+=s;break;case 1:s=8,o=t.slice(n[0],n[0]+s),n[0]+=s;break;case 2:s=Mp(t,n),o=t.slice(n[0],n[0]+s),n[0]+=s;break;case 3:case 4:default:throw new Error("PB Type ".concat(a," for Field ").concat(i," at offset ").concat(r))}var c={data:o,type:a};e[i]==null?e[i]=[c]:e[i].push(c)}return e}function kS(t,e){return(t==null?void 0:t.map(function(n){return e(n.data)}))||[]}function GX(t){for(var e,n=[],r=[0];r[0]<t.length;){var i=Mp(t,r),a=Ki(t.slice(r[0],r[0]+i));r[0]+=i;var s={id:oi(a[1][0].data),messages:[]};a[2].forEach(function(o){var l=Ki(o.data),c=oi(l[3][0].data);s.messages.push({meta:l,data:t.slice(r[0],r[0]+c)}),r[0]+=c}),(e=a[3])!=null&&e[0]&&(s.merge=oi(a[3][0].data)>>>0>0),n.push(s)}return n}function qX(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var n=[0],r=Mp(e,n),i=[];n[0]<e.length;){var a=e[n[0]]&3;if(a==0){var s=e[n[0]++]>>2;if(s<60)++s;else{var o=s-59;s=e[n[0]],o>1&&(s|=e[n[0]+1]<<8),o>2&&(s|=e[n[0]+2]<<16),o>3&&(s|=e[n[0]+3]<<24),s>>>=0,s++,n[0]+=o}i.push(e.slice(n[0],n[0]+s)),n[0]+=s;continue}else{var l=0,c=0;if(a==1?(c=(e[n[0]]>>2&7)+4,l=(e[n[0]++]&224)<<3,l|=e[n[0]++]):(c=(e[n[0]++]>>2)+1,a==2?(l=e[n[0]]|e[n[0]+1]<<8,n[0]+=2):(l=(e[n[0]]|e[n[0]+1]<<8|e[n[0]+2]<<16|e[n[0]+3]<<24)>>>0,n[0]+=4)),i=[Db(i)],l==0)throw new Error("Invalid offset 0");if(l>i[0].length)throw new Error("Invalid offset beyond length");if(c>=l)for(i.push(i[0].slice(-l)),c-=l;c>=i[i.length-1].length;)i.push(i[i.length-1]),c-=i[i.length-1].length;i.push(i[0].slice(-l,-l+c))}}var u=Db(i);if(u.length!=r)throw new Error("Unexpected length: ".concat(u.length," != ").concat(r));return u}function XX(t){for(var e=[],n=0;n<t.length;){var r=t[n++],i=t[n]|t[n+1]<<8|t[n+2]<<16;n+=3,e.push(qX(r,t.slice(n,n+i))),n+=i}if(n!==t.length)throw new Error("data is not a valid framed stream!");return Db(e)}function $X(t,e,n,r){var i=NS(t),a=i.getUint32(4,!0),s=(r>1?12:8)+UA(a&(r>1?3470:398))*4,o=-1,l=-1,c=NaN,u=new Date(2001,0,1);a&512&&(o=i.getUint32(s,!0),s+=4),s+=UA(a&(r>1?12288:4096))*4,a&16&&(l=i.getUint32(s,!0),s+=4),a&32&&(c=i.getFloat64(s,!0),s+=8),a&64&&(u.setTime(u.getTime()+i.getFloat64(s,!0)*1e3),s+=8);var f;switch(t[2]){case 0:break;case 2:f={t:"n",v:c};break;case 3:f={t:"s",v:e[l]};break;case 5:f={t:"d",v:u};break;case 6:f={t:"b",v:c>0};break;case 7:f={t:"n",v:c/86400};break;case 8:f={t:"e",v:0};break;case 9:if(o>-1)f={t:"s",v:n[o]};else if(l>-1)f={t:"s",v:e[l]};else if(!isNaN(c))f={t:"n",v:c};else throw new Error("Unsupported cell type ".concat(t.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(t.slice(0,4)))}return f}function YX(t,e,n){var r=NS(t),i=r.getUint32(8,!0),a=12,s=-1,o=-1,l=NaN,c=NaN,u=new Date(2001,0,1);i&1&&(l=WX(t,a),a+=16),i&2&&(c=r.getFloat64(a,!0),a+=8),i&4&&(u.setTime(u.getTime()+r.getFloat64(a,!0)*1e3),a+=8),i&8&&(o=r.getUint32(a,!0),a+=4),i&16&&(s=r.getUint32(a,!0),a+=4);var f;switch(t[1]){case 0:break;case 2:f={t:"n",v:l};break;case 3:f={t:"s",v:e[o]};break;case 5:f={t:"d",v:u};break;case 6:f={t:"b",v:c>0};break;case 7:f={t:"n",v:c/86400};break;case 8:f={t:"e",v:0};break;case 9:if(s>-1)f={t:"s",v:n[s]};else throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(i&31," : ").concat(t.slice(0,4)));break;case 10:f={t:"n",v:l};break;default:throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(i&31," : ").concat(t.slice(0,4)))}return f}function KX(t,e,n){switch(t[0]){case 0:case 1:case 2:case 3:return $X(t,e,n,t[0]);case 5:return YX(t,e,n);default:throw new Error("Unsupported payload version ".concat(t[0]))}}function Rc(t){var e=Ki(t);return Mp(e[1][0].data)}function BA(t,e){var n=Ki(e.data),r=oi(n[1][0].data),i=n[3],a=[];return(i||[]).forEach(function(s){var o=Ki(s.data),l=oi(o[1][0].data)>>>0;switch(r){case 1:a[l]=Fb(o[3][0].data);break;case 8:{var c=t[Rc(o[9][0].data)][0],u=Ki(c.data),f=t[Rc(u[1][0].data)][0],d=oi(f.meta[1][0].data);if(d!=2001)throw new Error("2000 unexpected reference to ".concat(d));var h=Ki(f.data);a[l]=h[3].map(function(g){return Fb(g.data)}).join("")}break}}),a}function JX(t,e){var n,r,i,a,s,o,l,c,u,f,d,h,g,x,v=Ki(t),m=oi(v[1][0].data)>>>0,b=oi(v[2][0].data)>>>0,_=((r=(n=v[8])==null?void 0:n[0])==null?void 0:r.data)&&oi(v[8][0].data)>0||!1,S,N;if((a=(i=v[7])==null?void 0:i[0])!=null&&a.data&&e!=0)S=(o=(s=v[7])==null?void 0:s[0])==null?void 0:o.data,N=(c=(l=v[6])==null?void 0:l[0])==null?void 0:c.data;else if((f=(u=v[4])==null?void 0:u[0])!=null&&f.data&&e!=1)S=(h=(d=v[4])==null?void 0:d[0])==null?void 0:h.data,N=(x=(g=v[3])==null?void 0:g[0])==null?void 0:x.data;else throw"NUMBERS Tile missing ".concat(e," cell storage");for(var P=_?4:1,T=NS(S),L=[],E=0;E<S.length/2;++E){var R=T.getUint16(E*2,!0);R<65535&&L.push([E,R])}if(L.length!=b)throw"Expected ".concat(b," cells, found ").concat(L.length);var A=[];for(E=0;E<L.length-1;++E)A[L[E][0]]=N.subarray(L[E][1]*P,L[E+1][1]*P);return L.length>=1&&(A[L[L.length-1][0]]=N.subarray(L[L.length-1][1]*P)),{R:m,cells:A}}function ZX(t,e){var n,r=Ki(e.data),i=(n=r==null?void 0:r[7])!=null&&n[0]?oi(r[7][0].data)>>>0>0?1:0:-1,a=kS(r[5],function(s){return JX(s,i)});return{nrows:oi(r[4][0].data)>>>0,data:a.reduce(function(s,o){return s[o.R]||(s[o.R]=[]),o.cells.forEach(function(l,c){if(s[o.R][c])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(c));s[o.R][c]=l}),s},[])}}function QX(t,e,n){var r,i=Ki(e.data),a={s:{r:0,c:0},e:{r:0,c:0}};if(a.e.r=(oi(i[6][0].data)>>>0)-1,a.e.r<0)throw new Error("Invalid row varint ".concat(i[6][0].data));if(a.e.c=(oi(i[7][0].data)>>>0)-1,a.e.c<0)throw new Error("Invalid col varint ".concat(i[7][0].data));n["!ref"]=An(a);var s=Ki(i[4][0].data),o=BA(t,t[Rc(s[4][0].data)][0]),l=(r=s[17])!=null&&r[0]?BA(t,t[Rc(s[17][0].data)][0]):[],c=Ki(s[3][0].data),u=0;c[1].forEach(function(f){var d=Ki(f.data),h=t[Rc(d[2][0].data)][0],g=oi(h.meta[1][0].data);if(g!=6002)throw new Error("6001 unexpected reference to ".concat(g));var x=ZX(t,h);x.data.forEach(function(v,m){v.forEach(function(b,_){var S=en({r:u+m,c:_}),N=KX(b,o,l);N&&(n[S]=N)})}),u+=x.nrows})}function e$(t,e){var n=Ki(e.data),r={"!ref":"A1"},i=t[Rc(n[2][0].data)],a=oi(i[0].meta[1][0].data);if(a!=6001)throw new Error("6000 unexpected reference to ".concat(a));return QX(t,i[0],r),r}function t$(t,e){var n,r=Ki(e.data),i={name:(n=r[1])!=null&&n[0]?Fb(r[1][0].data):"",sheets:[]},a=kS(r[2],Rc);return a.forEach(function(s){t[s].forEach(function(o){var l=oi(o.meta[1][0].data);l==6e3&&i.sheets.push(e$(t,o))})}),i}function n$(t,e){var n=PS(),r=Ki(e.data),i=kS(r[1],Rc);if(i.forEach(function(a){t[a].forEach(function(s){var o=oi(s.meta[1][0].data);if(o==2){var l=t$(t,s);l.sheets.forEach(function(c,u){LS(n,c,u==0?l.name:l.name+"_"+u,!0)})}})}),n.SheetNames.length==0)throw new Error("Empty NUMBERS file");return n}function X2(t){var e,n,r,i,a={},s=[];if(t.FullPaths.forEach(function(l){if(l.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),t.FileIndex.forEach(function(l){if(l.name.match(/\.iwa$/)){var c;try{c=XX(l.content)}catch(f){return console.log("?? "+l.content.length+" "+(f.message||f))}var u;try{u=GX(c)}catch(f){return console.log("## "+(f.message||f))}u.forEach(function(f){a[f.id]=f.messages,s.push(f.id)})}}),!s.length)throw new Error("File has no messages");var o=((i=(r=(n=(e=a==null?void 0:a[1])==null?void 0:e[0])==null?void 0:n.meta)==null?void 0:r[1])==null?void 0:i[0].data)&&oi(a[1][0].meta[1][0].data)==1&&a[1][0];if(o||s.forEach(function(l){a[l].forEach(function(c){var u=oi(c.meta[1][0].data)>>>0;if(u==1)if(!o)o=c;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return n$(a,o)}function r$(t){return function(n){for(var r=0;r!=t.length;++r){var i=t[r];n[i[0]]===void 0&&(n[i[0]]=i[1]),i[2]==="n"&&(n[i[0]]=Number(n[i[0]]))}}}function CS(t){r$([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(t)}function i$(t){return xh.WS.indexOf(t)>-1?"sheet":t==xh.CS?"chart":t==xh.DS?"dialog":t==xh.MS?"macro":t&&t.length?t:"sheet"}function a$(t,e){if(!t)return 0;try{t=e.map(function(r){return r.id||(r.id=r.strRelID),[r.name,t["!id"][r.id].Target,i$(t["!id"][r.id].Type)]})}catch{return null}return!t||t.length===0?null:t}function s$(t,e,n,r,i,a,s,o,l,c,u,f){try{a[r]=U0(Ja(t,n,!0),e);var d=Xr(t,e),h;switch(o){case"sheet":h=hX(d,e,i,l,a[r],c,u,f);break;case"chart":if(h=dX(d,e,i,l,a[r],c,u,f),!h||!h["!drawel"])break;var g=x0(h["!drawel"].Target,e),x=kb(g),v=fW(Ja(t,g,!0),U0(Ja(t,x,!0),g)),m=x0(v,g),b=kb(m);h=Yq(Ja(t,m,!0),m,l,U0(Ja(t,b,!0),m),c,h);break;case"macro":h=pX(d,e,i,l,a[r],c,u,f);break;case"dialog":h=mX(d,e,i,l,a[r],c,u,f);break;default:throw new Error("Unrecognized sheet type "+o)}s[r]=h;var _=[];a&&a[r]&&Lo(a[r]).forEach(function(S){var N="";if(a[r][S].Type==xh.CMNT){N=x0(a[r][S].Target,e);var P=yX(Xr(t,N,!0),N,l);if(!P||!P.length)return;EA(h,P,!1)}a[r][S].Type==xh.TCMNT&&(N=x0(a[r][S].Target,e),_=_.concat(dW(Xr(t,N,!0),l)))}),_&&_.length&&EA(h,_,!0,l.people||[])}catch(S){if(l.WTF)throw S}}function fs(t){return t.charAt(0)=="/"?t.slice(1):t}function o$(t,e){if(JR(),e=e||{},CS(e),ms(t,"META-INF/manifest.xml")||ms(t,"objectdata.xml"))return IA(t,e);if(ms(t,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof X2<"u"){if(t.FileIndex)return X2(t);var n=En.utils.cfb_new();return J4(t).forEach(function(V){l9(n,V,o9(t,V))}),X2(n)}throw new Error("Unsupported NUMBERS file")}if(!ms(t,"[Content_Types].xml"))throw ms(t,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):ms(t,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var r=J4(t),i=rz(Ja(t,"[Content_Types].xml")),a=!1,s,o;if(i.workbooks.length===0&&(o="xl/workbook.xml",Xr(t,o,!0)&&i.workbooks.push(o)),i.workbooks.length===0){if(o="xl/workbook.bin",!Xr(t,o,!0))throw new Error("Could not find workbook");i.workbooks.push(o),a=!0}i.workbooks[0].slice(-3)=="bin"&&(a=!0);var l={},c={};if(!e.bookSheets&&!e.bookProps){if(z0=[],i.sst)try{z0=vX(Xr(t,fs(i.sst)),i.sst,e)}catch(V){if(e.WTF)throw V}e.cellStyles&&i.themes.length&&(l=xX(Ja(t,i.themes[0].replace(/^\//,""),!0)||"",i.themes[0],e)),i.style&&(c=gX(Xr(t,fs(i.style)),i.style,l,e))}i.links.map(function(V){try{var X=U0(Ja(t,kb(fs(V))),V);return bX(Xr(t,fs(V)),X,V,e)}catch{}});var u=fX(Xr(t,fs(i.workbooks[0])),i.workbooks[0],e),f={},d="";i.coreprops.length&&(d=Xr(t,fs(i.coreprops[0]),!0),d&&(f=TP(d)),i.extprops.length!==0&&(d=Xr(t,fs(i.extprops[0]),!0),d&&lz(d,f,e)));var h={};(!e.bookSheets||e.bookProps)&&i.custprops.length!==0&&(d=Ja(t,fs(i.custprops[0]),!0),d&&(h=uz(d,e)));var g={};if((e.bookSheets||e.bookProps)&&(u.Sheets?s=u.Sheets.map(function(X){return X.name}):f.Worksheets&&f.SheetNames.length>0&&(s=f.SheetNames),e.bookProps&&(g.Props=f,g.Custprops=h),e.bookSheets&&typeof s<"u"&&(g.SheetNames=s),e.bookSheets?g.SheetNames:e.bookProps))return g;s={};var x={};e.bookDeps&&i.calcchain&&(x=_X(Xr(t,fs(i.calcchain)),i.calcchain));var v=0,m={},b,_;{var S=u.Sheets;f.Worksheets=S.length,f.SheetNames=[];for(var N=0;N!=S.length;++N)f.SheetNames[N]=S[N].name}var P=a?"bin":"xml",T=i.workbooks[0].lastIndexOf("/"),L=(i.workbooks[0].slice(0,T+1)+"_rels/"+i.workbooks[0].slice(T+1)+".rels").replace(/^\//,"");ms(t,L)||(L="xl/_rels/workbook."+P+".rels");var E=U0(Ja(t,L,!0),L.replace(/_rels.*/,"s5s"));(i.metadata||[]).length>=1&&(e.xlmeta=wX(Xr(t,fs(i.metadata[0])),i.metadata[0],e)),(i.people||[]).length>=1&&(e.people=pW(Xr(t,fs(i.people[0])),e)),E&&(E=a$(E,u.Sheets));var R=Xr(t,"xl/worksheets/sheet.xml",!0)?1:0;e:for(v=0;v!=f.Worksheets;++v){var A="sheet";if(E&&E[v]?(b="xl/"+E[v][1].replace(/[\/]?xl\//,""),ms(t,b)||(b=E[v][1]),ms(t,b)||(b=L.replace(/_rels\/.*$/,"")+E[v][1]),A=E[v][2]):(b="xl/worksheets/sheet"+(v+1-R)+"."+P,b=b.replace(/sheet0\./,"sheet.")),_=b.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),e&&e.sheets!=null)switch(typeof e.sheets){case"number":if(v!=e.sheets)continue e;break;case"string":if(f.SheetNames[v].toLowerCase()!=e.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(e.sheets)){for(var F=!1,j=0;j!=e.sheets.length;++j)typeof e.sheets[j]=="number"&&e.sheets[j]==v&&(F=1),typeof e.sheets[j]=="string"&&e.sheets[j].toLowerCase()==f.SheetNames[v].toLowerCase()&&(F=1);if(!F)continue e}}s$(t,b,_,f.SheetNames[v],v,m,s,A,e,u,l,c)}return g={Directory:i,Workbook:u,Props:f,Custprops:h,Deps:x,Sheets:s,SheetNames:f.SheetNames,Strings:z0,Styles:c,Themes:l,SSF:Ni(on)},e&&e.bookFiles&&(t.files?(g.keys=r,g.files=t.files):(g.keys=[],g.files={},t.FullPaths.forEach(function(V,X){V=V.replace(/^Root Entry[\/]/,""),g.keys.push(V),g.files[V]=t.FileIndex[X]}))),e&&e.bookVBA&&(i.vba.length>0?g.vbaraw=Xr(t,fs(i.vba[0]),!0):i.defaults&&i.defaults.bin===vW&&(g.vbaraw=Xr(t,"xl/vbaProject.bin",!0))),g}function l$(t,e){var n=e||{},r="Workbook",i=En.find(t,r);try{if(r="/!DataSpaces/Version",i=En.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(eV(i.content),r="/!DataSpaces/DataSpaceMap",i=En.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var a=nV(i.content);if(a.length!==1||a[0].comps.length!==1||a[0].comps[0].t!==0||a[0].name!=="StrongEncryptionDataSpace"||a[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",i=En.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var s=rV(i.content);if(s.length!=1||s[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",i=En.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);aV(i.content)}catch{}if(r="/EncryptionInfo",i=En.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var o=sV(i.content);if(r="/EncryptedPackage",i=En.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],i.content,n.password||"",n);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],i.content,n.password||"",n);throw new Error("File is password-protected")}function RS(t,e){var n="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":n=is(t.slice(0,12));break;case"binary":n=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function c$(t,e){return En.find(t,"EncryptedPackage")?l$(t,e):uL(t,e)}function u$(t,e){var n,r=t,i=e||{};return i.type||(i.type=wn&&Buffer.isBuffer(t)?"buffer":"base64"),n=rP(r,i),o$(n,i)}function pL(t,e){var n=0;e:for(;n<t.length;)switch(t.charCodeAt(n)){case 10:case 13:case 32:++n;break;case 60:return Pb(t.slice(n),e);default:break e}return Ep.to_workbook(t,e)}function f$(t,e){var n="",r=RS(t,e);switch(e.type){case"base64":n=is(t);break;case"binary":n=t;break;case"buffer":n=t.toString("binary");break;case"array":n=ef(t);break;default:throw new Error("Unrecognized type "+e.type)}return r[0]==239&&r[1]==187&&r[2]==191&&(n=Qn(n)),e.type="binary",pL(n,e)}function h$(t,e){var n=t;return e.type=="base64"&&(n=is(n)),n=_p.utils.decode(1200,n.slice(2),"str"),e.type="binary",pL(n,e)}function d$(t){return t.match(/[^\x00-\x7F]/)?v0(t):t}function $2(t,e,n,r){return r?(n.type="string",Ep.to_workbook(t,n)):Ep.to_workbook(e,n)}function Np(t,e){BR();var n=e||{};if(typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer)return Np(new Uint8Array(t),(n=Ni(n),n.type="array",n));typeof Uint8Array<"u"&&t instanceof Uint8Array&&!n.type&&(n.type=typeof Deno<"u"?"buffer":"array");var r=t,i=[0,0,0,0],a=!1;if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),kh={},n.dateNF&&(kh.dateNF=n.dateNF),n.type||(n.type=wn&&Buffer.isBuffer(t)?"buffer":"base64"),n.type=="file"&&(n.type=wn?"buffer":"binary",r=e9(t),typeof Uint8Array<"u"&&!wn&&(n.type="array")),n.type=="string"&&(a=!0,n.type="binary",n.codepage=65001,r=d$(t)),n.type=="array"&&typeof Uint8Array<"u"&&t instanceof Uint8Array&&typeof ArrayBuffer<"u"){var s=new ArrayBuffer(3),o=new Uint8Array(s);if(o.foo="bar",!o.foo)return n=Ni(n),n.type="array",Np(cS(r),n)}switch((i=RS(r,n))[0]){case 208:if(i[1]===207&&i[2]===17&&i[3]===224&&i[4]===161&&i[5]===177&&i[6]===26&&i[7]===225)return c$(En.read(r,n),n);break;case 9:if(i[1]<=8)return uL(r,n);break;case 60:return Pb(r,n);case 73:if(i[1]===73&&i[2]===42&&i[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(i[1]===68)return zH(r,n);break;case 84:if(i[1]===65&&i[2]===66&&i[3]===76)return BH.to_workbook(r,n);break;case 80:return i[1]===75&&i[2]<9&&i[3]<9?u$(r,n):$2(t,r,n,a);case 239:return i[3]===60?Pb(r,n):$2(t,r,n,a);case 255:if(i[1]===254)return h$(r,n);if(i[1]===0&&i[2]===2&&i[3]===0)return j0.to_workbook(r,n);break;case 0:if(i[1]===0&&(i[2]>=2&&i[3]===0||i[2]===0&&(i[3]===8||i[3]===9)))return j0.to_workbook(r,n);break;case 3:case 131:case 139:case 140:return SA.to_workbook(r,n);case 123:if(i[1]===92&&i[2]===114&&i[3]===116)return vV.to_workbook(r,n);break;case 10:case 13:case 32:return f$(r,n);case 137:if(i[1]===80&&i[2]===78&&i[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return OH.indexOf(i[0])>-1&&i[2]<=12&&i[3]<=31?SA.to_workbook(r,n):$2(t,r,n,a)}function p$(t,e,n,r,i,a,s,o){var l=ki(n),c=o.defval,u=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),f=!0,d=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(d,"__rowNum__",{value:n,enumerable:!1})}catch{d.__rowNum__=n}else d.__rowNum__=n;if(!s||t[n])for(var h=e.s.c;h<=e.e.c;++h){var g=s?t[n][h]:t[r[h]+l];if(g===void 0||g.t===void 0){if(c===void 0)continue;a[h]!=null&&(d[a[h]]=c);continue}var x=g.v;switch(g.t){case"z":if(x==null)break;continue;case"e":x=x==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+g.t)}if(a[h]!=null){if(x==null)if(g.t=="e"&&x===null)d[a[h]]=null;else if(c!==void 0)d[a[h]]=c;else if(u&&x===null)d[a[h]]=null;else continue;else d[a[h]]=u&&(g.t!=="n"||g.t==="n"&&o.rawNumbers!==!1)?x:Cl(g,x,o);x!=null&&(f=!1)}}return{row:d,isempty:f}}function Ib(t,e){if(t==null||t["!ref"]==null)return[];var n={t:"n",v:0},r=0,i=1,a=[],s=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},c=e||{},u=c.range!=null?c.range:t["!ref"];switch(c.header===1?r=1:c.header==="A"?r=2:Array.isArray(c.header)?r=3:c.header==null&&(r=0),typeof u){case"string":l=Nr(u);break;case"number":l=Nr(t["!ref"]),l.s.r=u;break;default:l=u}r>0&&(i=0);var f=ki(l.s.r),d=[],h=[],g=0,x=0,v=Array.isArray(t),m=l.s.r,b=0,_={};v&&!t[m]&&(t[m]=[]);var S=c.skipHidden&&t["!cols"]||[],N=c.skipHidden&&t["!rows"]||[];for(b=l.s.c;b<=l.e.c;++b)if(!(S[b]||{}).hidden)switch(d[b]=ai(b),n=v?t[m][b]:t[d[b]+f],r){case 1:a[b]=b-l.s.c;break;case 2:a[b]=d[b];break;case 3:a[b]=c.header[b-l.s.c];break;default:if(n==null&&(n={w:"__EMPTY",t:"s"}),o=s=Cl(n,null,c),x=_[s]||0,!x)_[s]=1;else{do o=s+"_"+x++;while(_[o]);_[s]=x,_[o]=1}a[b]=o}for(m=l.s.r+i;m<=l.e.r;++m)if(!(N[m]||{}).hidden){var P=p$(t,l,m,d,r,a,v,c);(P.isempty===!1||(r===1?c.blankrows!==!1:c.blankrows))&&(h[g++]=P.row)}return h.length=g,h}var jA=/"/g;function m$(t,e,n,r,i,a,s,o){for(var l=!0,c=[],u="",f=ki(n),d=e.s.c;d<=e.e.c;++d)if(r[d]){var h=o.dense?(t[n]||[])[d]:t[r[d]+f];if(h==null)u="";else if(h.v!=null){l=!1,u=""+(o.rawNumbers&&h.t=="n"?h.v:Cl(h,null,o));for(var g=0,x=0;g!==u.length;++g)if((x=u.charCodeAt(g))===i||x===a||x===34||o.forceQuotes){u='"'+u.replace(jA,'""')+'"';break}u=="ID"&&(u='"ID"')}else h.f!=null&&!h.F?(l=!1,u="="+h.f,u.indexOf(",")>=0&&(u='"'+u.replace(jA,'""')+'"')):u="";c.push(u)}return o.blankrows===!1&&l?null:c.join(s)}function mL(t,e){var n=[],r=e??{};if(t==null||t["!ref"]==null)return"";var i=Nr(t["!ref"]),a=r.FS!==void 0?r.FS:",",s=a.charCodeAt(0),o=r.RS!==void 0?r.RS:`
`,l=o.charCodeAt(0),c=new RegExp((a=="|"?"\\|":a)+"+$"),u="",f=[];r.dense=Array.isArray(t);for(var d=r.skipHidden&&t["!cols"]||[],h=r.skipHidden&&t["!rows"]||[],g=i.s.c;g<=i.e.c;++g)(d[g]||{}).hidden||(f[g]=ai(g));for(var x=0,v=i.s.r;v<=i.e.r;++v)(h[v]||{}).hidden||(u=m$(t,i,v,f,s,l,a,r),u!=null&&(r.strip&&(u=u.replace(c,"")),(u||r.blankrows!==!1)&&n.push((x++?o:"")+u)));return delete r.dense,n.join("")}function g$(t,e){e||(e={}),e.FS="	",e.RS=`
`;var n=mL(t,e);return n}function x$(t){var e="",n,r="";if(t==null||t["!ref"]==null)return[];var i=Nr(t["!ref"]),a="",s=[],o,l=[],c=Array.isArray(t);for(o=i.s.c;o<=i.e.c;++o)s[o]=ai(o);for(var u=i.s.r;u<=i.e.r;++u)for(a=ki(u),o=i.s.c;o<=i.e.c;++o)if(e=s[o]+a,n=c?(t[u]||[])[o]:t[e],r="",n!==void 0){if(n.F!=null){if(e=n.F,!n.f)continue;r=n.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(n.f!=null)r=n.f;else{if(n.t=="z")continue;if(n.t=="n"&&n.v!=null)r=""+n.v;else if(n.t=="b")r=n.v?"TRUE":"FALSE";else if(n.w!==void 0)r="'"+n.w;else{if(n.v===void 0)continue;n.t=="s"?r="'"+n.v:r=""+n.v}}l[l.length]=e+"="+r}return l}function gL(t,e,n){var r=n||{},i=+!r.skipHeader,a=t||{},s=0,o=0;if(a&&r.origin!=null)if(typeof r.origin=="number")s=r.origin;else{var l=typeof r.origin=="string"?fa(r.origin):r.origin;s=l.r,o=l.c}var c,u={s:{c:0,r:0},e:{c:o,r:s+e.length-1+i}};if(a["!ref"]){var f=Nr(a["!ref"]);u.e.c=Math.max(u.e.c,f.e.c),u.e.r=Math.max(u.e.r,f.e.r),s==-1&&(s=f.e.r+1,u.e.r=s+e.length-1+i)}else s==-1&&(s=0,u.e.r=e.length-1+i);var d=r.header||[],h=0;e.forEach(function(x,v){Lo(x).forEach(function(m){(h=d.indexOf(m))==-1&&(d[h=d.length]=m);var b=x[m],_="z",S="",N=en({c:o+h,r:s+v+i});c=kp(a,N),b&&typeof b=="object"&&!(b instanceof Date)?a[N]=b:(typeof b=="number"?_="n":typeof b=="boolean"?_="b":typeof b=="string"?_="s":b instanceof Date?(_="d",r.cellDates||(_="n",b=pa(b)),S=r.dateNF||on[14]):b===null&&r.nullError&&(_="e",b=0),c?(c.t=_,c.v=b,delete c.w,delete c.R,S&&(c.z=S)):a[N]=c={t:_,v:b},S&&(c.z=S))})}),u.e.c=Math.max(u.e.c,o+d.length-1);var g=ki(s);if(i)for(h=0;h<d.length;++h)a[ai(h+o)+g]={t:"s",v:d[h]};return a["!ref"]=An(u),a}function v$(t,e){return gL(null,t,e)}function kp(t,e,n){if(typeof e=="string"){if(Array.isArray(t)){var r=fa(e);return t[r.r]||(t[r.r]=[]),t[r.r][r.c]||(t[r.r][r.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?kp(t,en(e)):kp(t,en({r:e,c:n||0}))}function y$(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var n=t.SheetNames.indexOf(e);if(n>-1)return n;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function PS(){return{SheetNames:[],Sheets:{}}}function LS(t,e,n,r){var i=1;if(!n)for(;i<=65535&&t.SheetNames.indexOf(n="Sheet"+i)!=-1;++i,n=void 0);if(!n||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&t.SheetNames.indexOf(n)>=0){var a=n.match(/(^.*?)(\d+)$/);i=a&&+a[2]||0;var s=a&&a[1]||n;for(++i;i<=65535&&t.SheetNames.indexOf(n=s+i)!=-1;++i);}if(rX(n),t.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return t.SheetNames.push(n),t.Sheets[n]=e,n}function _$(t,e,n){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var r=y$(t,e);switch(t.Workbook.Sheets[r]||(t.Workbook.Sheets[r]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}t.Workbook.Sheets[r].Hidden=n}function b$(t,e){return t.z=e,t}function xL(t,e,n){return e?(t.l={Target:e},n&&(t.l.Tooltip=n)):delete t.l,t}function w$(t,e,n){return xL(t,"#"+e,n)}function S$(t,e,n){t.c||(t.c=[]),t.c.push({t:e,a:n||"SheetJS"})}function E$(t,e,n,r){for(var i=typeof e!="string"?e:Nr(e),a=typeof e=="string"?e:An(e),s=i.s.r;s<=i.e.r;++s)for(var o=i.s.c;o<=i.e.c;++o){var l=kp(t,s,o);l.t="n",l.F=a,delete l.v,s==i.s.r&&o==i.s.c&&(l.f=n,r&&(l.D=!0))}return t}var FS={encode_col:ai,encode_row:ki,encode_cell:en,encode_range:An,decode_col:vS,decode_row:xS,split_cell:I9,decode_cell:fa,decode_range:hd,format_cell:Cl,sheet_add_aoa:bP,sheet_add_json:gL,sheet_add_dom:fL,aoa_to_sheet:dd,json_to_sheet:v$,table_to_sheet:hL,table_to_book:zX,sheet_to_csv:mL,sheet_to_txt:g$,sheet_to_json:Ib,sheet_to_html:jX,sheet_to_formulae:x$,sheet_to_row_object_array:Ib,sheet_get_cell:kp,book_new:PS,book_append_sheet:LS,book_set_sheet_visibility:_$,cell_set_number_format:b$,cell_set_hyperlink:xL,cell_set_internal_link:w$,cell_add_comment:S$,sheet_set_array_formula:E$,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const A$=({data:t,colors:e,size:n="w-24 h-24"})=>{const r=t.reduce((s,o)=>s+o,0);let i=0;const a=t.map((s,o)=>{const l=s/r*100,c=i*3.6;i+=l;const u=i*3.6,f=(c+u)/2;return{percentage:l,startAngle:c,endAngle:u,midAngle:f,color:e[o]}});return p.jsx("div",{className:`${n} relative`,children:p.jsxs("svg",{viewBox:"0 0 100 100",className:"w-full h-full",children:[a.map((s,o)=>{const l=50+50*Math.cos((s.startAngle-90)*(Math.PI/180)),c=50+50*Math.sin((s.startAngle-90)*(Math.PI/180)),u=50+50*Math.cos((s.endAngle-90)*(Math.PI/180)),f=50+50*Math.sin((s.endAngle-90)*(Math.PI/180)),d=s.percentage>50?1:0;return p.jsx("path",{d:`M50,50 L${l},${c} A50,50 0 ${d},1 ${u},${f} Z`,fill:s.color,stroke:"none"},o)}),p.jsx("circle",{cx:"50",cy:"50",r:"35",fill:"transparent"}),a.map((s,o)=>{const l=50+30*Math.cos((s.midAngle-90)*(Math.PI/180)),c=50+30*Math.sin((s.midAngle-90)*(Math.PI/180));return p.jsxs("text",{x:l,y:c,textAnchor:"middle",fontSize:"8",fill:"white",fontWeight:"bold",dy:".3em",children:[Math.round(s.percentage),"%"]},o)})]})})};function T$(){var ee,se;const{user:t}=$c(),e=Oo(),[n,r]=De.useState([]),[i,a]=De.useState(""),[s,o]=De.useState([]),[l,c]=De.useState([]),[u,f]=De.useState(""),[d,h]=De.useState(""),[g,x]=De.useState("bar"),[v,m]=De.useState(""),[b,_]=De.useState(""),[S,N]=De.useState([]),[P,T]=De.useState({}),[L,E]=De.useState(""),R=async()=>{var B,H;E("");try{const{data:xe}=await zu.get("/files/my");N(xe)}catch(xe){E(((H=(B=xe.response)==null?void 0:B.data)==null?void 0:H.message)||"Failed to load files")}},A=async B=>{try{const{data:H}=await zu.get(`/insights/${B}`);T(xe=>({...xe,[B]:H}))}catch{}};De.useEffect(()=>{R()},[]),De.useEffect(()=>{if(!t)return;const B=[{_id:"1",fileName:"Sales Data.xlsx",chartType:"bar",xAxis:"Month",yAxis:"Revenue",date:new Date},{_id:"2",fileName:"Expenses.xlsx",chartType:"pie",xAxis:"Category",yAxis:"Amount",date:new Date(Date.now()-864e5)},{_id:"3",fileName:"User Growth.xlsx",chartType:"line",xAxis:"Quarter",yAxis:"Users",date:new Date(Date.now()-1728e5)}];r(B)},[t]);const F=B=>{var Se;m(""),_("");const H=(Se=B.target.files)==null?void 0:Se[0];if(!H)return;a(H.name);const xe=new FileReader;xe.onload=k=>{try{const U=new Uint8Array(k.target.result),O=Np(U,{type:"array"}),I=O.Sheets[O.SheetNames[0]],K=FS.sheet_to_json(I,{header:1});if(!K||K.length===0){m("Uploaded file contains no data.");return}const re=K[0].map(ue=>ue==null?"":String(ue)),_e=K.slice(1).map(ue=>Array.isArray(ue)?ue:[]);o(re),c(_e),f(re[0]??""),h(re[1]??""),_(`Successfully loaded ${_e.length} rows and ${re.length} columns.`)}catch{m("Failed to parse the Excel file.")}},xe.readAsArrayBuffer(H)},j=()=>{if(m(""),_(""),!l.length){m("No data available. Please upload an Excel file first.");return}e("/presentation",{state:{fileName:i,columns:s,rows:l,xAxis:u,yAxis:d,chartType:g}})},V=[{value:"bar",label:"Bar Chart",icon:""},{value:"line",label:"Line Chart",icon:""},{value:"pie",label:"Pie Chart",icon:""},{value:"doughnut",label:"Doughnut Chart",icon:""},{value:"radar",label:"Radar Chart",icon:""},{value:"polarArea",label:"Polar Area",icon:""}],X=[{data:[35,25,40],colors:["#3B82F6","#8B5CF6","#06B6D4"]},{data:[45,30,25],colors:["#10B981","#F59E0B","#EF4444"]},{data:[20,50,30],colors:["#8B5CF6","#EC4899","#F97316"]}];return p.jsxs(qU,{children:[p.jsxs("div",{className:"fixed inset-0 overflow-hidden -z-10 pointer-events-none bg-gradient-to-br from-gray-900 via-slate-900 to-gray-900",children:[p.jsx("div",{className:"absolute top-20 right-32 w-96 h-96 bg-gradient-to-r from-blue-500/10 to-purple-600/10 rounded-full blur-3xl animate-pulse"}),p.jsx("div",{className:"absolute bottom-32 left-16 w-80 h-80 bg-gradient-to-r from-indigo-500/8 to-cyan-600/8 rounded-full blur-3xl animate-pulse",style:{animationDelay:"2s"}}),p.jsx("div",{className:"absolute top-1/2 right-1/3 w-64 h-64 bg-gradient-to-r from-purple-500/12 to-pink-600/12 rounded-full blur-3xl animate-pulse",style:{animationDelay:"4s"}}),[...Array(12)].map((B,H)=>p.jsx("div",{className:"absolute rounded-full bg-blue-400/20 animate-pulse",style:{top:`${Math.random()*100}%`,left:`${Math.random()*100}%`,width:`${Math.random()*4+2}px`,height:`${Math.random()*4+2}px`,animationDuration:`${Math.random()*4+3}s`,animationDelay:`${Math.random()*3}s`}},H)),p.jsx("div",{className:"absolute inset-0 opacity-[0.03]",style:{backgroundImage:`
              linear-gradient(rgba(59, 130, 246, 0.15) 1px, transparent 1px),
              linear-gradient(90deg, rgba(59, 130, 246, 0.15) 1px, transparent 1px)
            `,backgroundSize:"60px 60px"}})]}),p.jsxs("div",{className:"relative z-10 min-h-screen flex flex-col",children:[p.jsx("div",{className:"mb-8 flex flex-col lg:flex-row justify-between items-start lg:items-center gap-6",children:p.jsxs("div",{children:[p.jsxs("h1",{className:"text-4xl font-bold text-white mb-2",children:["Welcome back, ",(t==null?void 0:t.name)||"User"]}),p.jsx("p",{className:"text-gray-400",children:"Here's what's happening with your data today."})]})}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[p.jsx("div",{className:"group hover:scale-105 transition-transform duration-300",children:p.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-gray-800/90 to-blue-900/30 backdrop-blur-sm rounded-2xl p-6 shadow-2xl border border-gray-700/50 hover:border-blue-500/50",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx("div",{className:"p-3 bg-gradient-to-r from-blue-600 to-indigo-700 rounded-xl shadow-lg",children:p.jsx(Bu,{className:"h-6 w-6 text-white"})}),p.jsxs("div",{className:"text-right",children:[p.jsx("div",{className:"text-3xl font-bold text-white",children:"24"}),p.jsx("div",{className:"text-sm text-gray-400",children:"Files Uploaded"})]})]}),p.jsxs("div",{className:"flex items-center text-sm text-green-400",children:[p.jsx(Qa,{className:"h-4 w-4 mr-1"})," +2 this week"]}),p.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-gradient-to-br from-blue-500/10 to-transparent rounded-bl-full"})]})}),p.jsx("div",{className:"group hover:scale-105 transition-transform duration-300",children:p.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-gray-800/90 to-purple-900/30 backdrop-blur-sm rounded-2xl p-6 shadow-2xl border border-gray-700/50 hover:border-purple-500/50",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx("div",{className:"p-3 bg-gradient-to-r from-purple-600 to-pink-700 rounded-xl shadow-lg",children:p.jsx(hl,{className:"h-6 w-6 text-white"})}),p.jsxs("div",{className:"text-right",children:[p.jsx("div",{className:"text-3xl font-bold text-white",children:"18"}),p.jsx("div",{className:"text-sm text-gray-400",children:"Charts Created"})]})]}),p.jsxs("div",{className:"flex items-center text-sm text-green-400",children:[p.jsx(Qa,{className:"h-4 w-4 mr-1"})," +5 this week"]}),p.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-gradient-to-br from-purple-500/10 to-transparent rounded-bl-full"})]})}),p.jsx("div",{className:"group hover:scale-105 transition-transform duration-300",children:p.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-gray-800/90 to-green-900/30 backdrop-blur-sm rounded-2xl p-6 shadow-2xl border border-gray-700/50 hover:border-green-500/50",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx("div",{className:"p-3 bg-gradient-to-r from-green-600 to-emerald-700 rounded-xl shadow-lg",children:p.jsx(Qa,{className:"h-6 w-6 text-white"})}),p.jsxs("div",{className:"text-right",children:[p.jsx("div",{className:"text-3xl font-bold text-white",children:"87%"}),p.jsx("div",{className:"text-sm text-gray-400",children:"Success Rate"})]})]}),p.jsxs("div",{className:"flex items-center text-sm text-green-400",children:[p.jsx(Qa,{className:"h-4 w-4 mr-1"})," +3% improvement"]}),p.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-gradient-to-br from-green-500/10 to-transparent rounded-bl-full"})]})}),p.jsx("div",{className:"group hover:scale-105 transition-transform duration-300",children:p.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-gray-800/90 to-orange-900/30 backdrop-blur-sm rounded-2xl p-6 shadow-2xl border border-gray-700/50 hover:border-orange-500/50",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx("div",{className:"p-3 bg-gradient-to-r from-orange-600 to-amber-700 rounded-xl shadow-lg",children:p.jsx(xb,{className:"h-6 w-6 text-white"})}),p.jsxs("div",{className:"text-right",children:[p.jsx("div",{className:"text-3xl font-bold text-white",children:(ee=n[0])!=null&&ee.date?new Date(n[0].date).toLocaleDateString():""}),p.jsx("div",{className:"text-sm text-gray-400",children:"Last Active"})]})]}),p.jsxs("div",{className:"flex items-center text-sm text-blue-400",children:[p.jsx(xb,{className:"h-4 w-4 mr-1"}),(se=n[0])!=null&&se.date?new Date(n[0].date).toLocaleTimeString():""]}),p.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-gradient-to-br from-orange-500/10 to-transparent rounded-bl-full"})]})})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:X.map((B,H)=>p.jsx("div",{className:"group hover:scale-105 transition-transform duration-300",children:p.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-gray-800/90 to-indigo-900/30 backdrop-blur-sm rounded-2xl p-6 shadow-2xl border border-gray-700/50 hover:border-indigo-500/50 flex items-center justify-center",children:[p.jsx(A$,{data:B.data,colors:B.colors,size:"w-32 h-32"}),p.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-gradient-to-br from-indigo-500/10 to-transparent rounded-bl-full"})]})},H))}),p.jsxs("div",{className:"grid gap-8 lg:grid-cols-3 flex-grow",children:[p.jsx("div",{className:"lg:col-span-2",children:p.jsx("div",{className:"group hover:scale-[1.02] transition-transform duration-300",children:p.jsxs("div",{className:"relative bg-gradient-to-br from-gray-800/90 to-blue-900/20 backdrop-blur-sm rounded-3xl p-8 shadow-2xl border border-gray-700/50 hover:border-blue-500/50",children:[p.jsxs("div",{className:"flex items-center mb-6",children:[p.jsx("div",{className:"p-4 bg-gradient-to-r from-blue-600 to-indigo-700 rounded-2xl shadow-lg mr-4",children:p.jsx(Bu,{className:"h-8 w-8 text-white"})}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-3xl font-bold text-white",children:"Upload & Analyze"}),p.jsx("p",{className:"text-gray-400",children:"Transform your Excel files into beautiful insights"})]})]}),p.jsxs("div",{className:"mb-6",children:[p.jsxs("label",{className:"block text-sm font-semibold text-gray-300 mb-3",children:[p.jsx(hR,{className:"inline h-4 w-4 mr-2"}),"Upload Excel File"]}),p.jsx("div",{className:"relative",children:p.jsx("input",{type:"file",accept:".xls,.xlsx",onChange:F,className:"w-full border-2 border-dashed border-gray-600 rounded-2xl p-4 text-center bg-gray-700/50 hover:border-blue-500 transition-colors cursor-pointer file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-600 file:text-white hover:file:bg-blue-700"})}),i&&p.jsx("div",{className:"mt-3 p-3 bg-blue-900/30 rounded-xl",children:p.jsxs("div",{className:"flex items-center text-sm text-blue-300",children:[p.jsx(Bu,{className:"h-4 w-4 mr-2"}),p.jsxs("span",{className:"font-medium",children:["Loaded: ",i]})]})})]}),l.length>0&&p.jsxs("div",{className:"space-y-6 mb-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-semibold text-gray-300 mb-3",children:"X-Axis Column"}),p.jsxs("div",{className:"relative",children:[p.jsx("select",{value:u,onChange:B=>f(B.target.value),className:"w-full appearance-none bg-gray-700 border-2 border-gray-600 rounded-xl px-4 py-3 pr-10 text-gray-200 focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-800 transition-all",children:s.map(B=>p.jsx("option",{value:B,children:B},B))}),p.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-3 pointer-events-none",children:p.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-semibold text-gray-300 mb-3",children:"Y-Axis Column"}),p.jsxs("div",{className:"relative",children:[p.jsx("select",{value:d,onChange:B=>h(B.target.value),className:"w-full appearance-none bg-gray-700 border-2 border-gray-600 rounded-xl px-4 py-3 pr-10 text-gray-200 focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-800 transition-all",children:s.map(B=>p.jsx("option",{value:B,children:B},B))}),p.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-3 pointer-events-none",children:p.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]})]}),p.jsxs("div",{children:[p.jsxs("label",{className:"block text-sm font-semibold text-gray-300 mb-3",children:[p.jsx(Z5,{className:"inline h-4 w-4 mr-2"}),"Chart Type"]}),p.jsxs("div",{className:"relative",children:[p.jsx("select",{value:g,onChange:B=>x(B.target.value),className:"w-full appearance-none bg-gray-700 border-2 border-gray-600 rounded-xl px-4 py-3 pr-10 text-gray-200 focus:outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-800 transition-all",children:V.map(B=>p.jsxs("option",{value:B.value,children:[B.icon," ",B.label]},B.value))}),p.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-3 pointer-events-none",children:p.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]})]})]}),v&&p.jsx("div",{className:"mb-6 p-4 bg-gradient-to-r from-red-900/30 to-pink-900/20 border border-red-800 rounded-xl",children:p.jsxs("div",{className:"flex items-center text-red-300",children:[p.jsx("svg",{className:"w-5 h-5 mr-3",fill:"currentColor",viewBox:"0 0 20 20",children:p.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),p.jsx("span",{className:"font-medium",children:v})]})}),b&&p.jsx("div",{className:"mb-6 p-4 bg-gradient-to-r from-green-900/30 to-emerald-900/20 border border-green-800 rounded-xl",children:p.jsxs("div",{className:"flex items-center text-green-300",children:[p.jsx("svg",{className:"w-5 h-5 mr-3",fill:"currentColor",viewBox:"0 0 20 20",children:p.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),p.jsx("span",{className:"font-medium",children:b})]})}),p.jsxs("button",{onClick:j,className:"w-full flex items-center justify-center px-8 py-4 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-semibold rounded-2xl shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-200",children:[p.jsx(hl,{className:"h-5 w-5 mr-3"}),"Generate Visualization"]}),p.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-blue-500/10 to-transparent rounded-bl-full"})]})})}),p.jsxs("div",{className:"space-y-6",children:[p.jsx("div",{className:"group hover:scale-[1.02] transition-transform duration-300",children:p.jsxs("div",{className:"relative bg-gradient-to-br from-gray-800/90 to-purple-900/20 backdrop-blur-sm rounded-2xl p-6 shadow-2xl border border-gray-700/50 hover:border-purple-500/50",children:[p.jsxs("div",{className:"flex items-center mb-4",children:[p.jsx(mb,{className:"h-6 w-6 text-purple-400 mr-3"}),p.jsx("h3",{className:"text-xl font-bold text-white",children:"Quick Actions"})]}),p.jsxs("div",{className:"space-y-3",children:[p.jsxs("button",{onClick:()=>window.location.href="/upload",className:"w-full flex items-center gap-3 p-3 bg-gray-700/50 hover:bg-gray-700 rounded-lg transition-all duration-200 text-left group",children:[p.jsx(lR,{className:"h-5 w-5 text-blue-400"}),p.jsx("span",{className:"text-gray-300 group-hover:text-white",children:"New Analysis"})]}),p.jsxs("button",{className:"w-full flex items-center gap-3 p-3 bg-gray-700/50 hover:bg-gray-700 rounded-lg transition-all duration-200 text-left group",children:[p.jsx(vb,{className:"h-5 w-5 text-green-400"}),p.jsx("span",{className:"text-gray-300 group-hover:text-white",children:"Export Data"})]}),p.jsxs("button",{className:"w-full flex items-center gap-3 p-3 bg-gray-700/50 hover:bg-gray-700 rounded-lg transition-all duration-200 text-left group",children:[p.jsx(_4,{className:"h-5 w-5 text-orange-400"}),p.jsx("span",{className:"text-gray-300 group-hover:text-white",children:"Share Report"})]})]})]})}),p.jsx("div",{className:"group hover:scale-[1.02] transition-transform duration-300",children:p.jsxs("div",{className:"relative bg-gradient-to-br from-gray-800/90 to-emerald-900/20 backdrop-blur-sm rounded-2xl p-6 shadow-2xl border border-gray-700/50 hover:border-emerald-500/50",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx("h3",{className:"text-xl font-bold text-white",children:"Activity Feed"}),p.jsx(NU,{className:"h-5 w-5 text-emerald-400"})]}),p.jsxs("div",{className:"space-y-3 max-h-40 overflow-y-auto",children:[p.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[p.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full"}),p.jsx("span",{className:"text-gray-300",children:"Chart created 2 hours ago"})]}),p.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[p.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),p.jsx("span",{className:"text-gray-300",children:"File uploaded successfully"})]}),p.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[p.jsx("div",{className:"w-2 h-2 bg-orange-400 rounded-full"}),p.jsx("span",{className:"text-gray-300",children:"Report shared with team"})]})]})]})})]})]}),p.jsx("div",{className:"mt-8",children:p.jsx("div",{className:"group hover:scale-[1.01] transition-transform duration-300",children:p.jsxs("div",{className:"relative bg-gradient-to-br from-gray-800/90 to-purple-900/20 backdrop-blur-sm rounded-3xl p-8 shadow-2xl border border-gray-700/50 hover:border-purple-500/50",children:[p.jsxs("div",{className:"flex items-center justify-between mb-6",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:"p-4 bg-gradient-to-r from-purple-600 to-pink-700 rounded-2xl shadow-lg mr-4",children:p.jsx(hl,{className:"h-8 w-8 text-white"})}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-3xl font-bold text-white",children:"Recent Activity"}),p.jsx("p",{className:"text-gray-400",children:"Your latest charts and analytics"})]})]}),p.jsx("div",{className:"flex items-center gap-3",children:p.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-gray-700 hover:bg-gray-600 text-gray-300 hover:text-white rounded-lg transition-all duration-200",children:[p.jsx(vp,{className:"h-4 w-4"}),"View All"]})})]}),n.length>0?p.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:n.slice(0,6).map(B=>p.jsx("div",{className:"group/item hover:scale-105 transition-transform duration-200",children:p.jsxs("div",{className:"p-5 bg-gray-700/50 hover:bg-gray-700 border border-gray-600/50 hover:border-gray-500 rounded-xl transition-all duration-200",children:[p.jsxs("div",{className:"flex items-start justify-between mb-3",children:[p.jsx("div",{className:"p-2 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg",children:p.jsx(hl,{className:"h-5 w-5 text-white"})}),p.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover/item:opacity-100 transition-opacity duration-200",children:[p.jsx("button",{className:"p-1 hover:bg-gray-600 rounded",children:p.jsx(uR,{className:"h-4 w-4 text-gray-400 hover:text-white"})}),p.jsx("button",{className:"p-1 hover:bg-gray-600 rounded",children:p.jsx(_4,{className:"h-4 w-4 text-gray-400 hover:text-white"})}),p.jsx("button",{className:"p-1 hover:bg-gray-600 rounded",children:p.jsx(fR,{className:"h-4 w-4 text-gray-400 hover:text-red-400"})})]})]}),p.jsx("h4",{className:"font-semibold text-white mb-2 truncate",children:B.fileName}),p.jsxs("p",{className:"text-sm text-gray-400 mb-3",children:[p.jsx("span",{className:"inline-block px-2 py-1 bg-blue-600/20 text-blue-400 rounded text-xs font-medium mr-2",children:B.chartType.toUpperCase()}),B.xAxis," vs ",B.yAxis]}),p.jsx("p",{className:"text-xs text-gray-500",children:new Date(B.date).toLocaleString()})]})},B._id))}):p.jsxs("div",{className:"text-center py-12",children:[p.jsx("div",{className:"p-4 bg-gray-700/30 rounded-full w-fit mx-auto mb-4",children:p.jsx(hl,{className:"h-12 w-12 text-gray-500"})}),p.jsx("h4",{className:"text-xl font-semibold text-gray-400 mb-2",children:"No analyses yet"}),p.jsx("p",{className:"text-gray-500",children:"Upload your first file to get started with data visualization"})]}),p.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-purple-500/10 to-transparent rounded-bl-full"})]})})}),p.jsxs("div",{className:"p-4 space-y-6",children:[p.jsx("h1",{className:"text-2xl font-semibold",children:"My Upload History"}),L&&p.jsx("div",{className:"text-red-600",children:L}),p.jsxs("div",{className:"grid gap-4",children:[S.map(B=>p.jsxs("div",{className:"border rounded p-3",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("div",{className:"font-medium",children:B.originalname}),p.jsxs("div",{className:"text-sm opacity-70",children:["Uploaded ",new Date(B.createdAt).toLocaleString()]}),p.jsxs("div",{className:"text-sm opacity-70",children:["Size ",(B.size/1024).toFixed(1)," KB"]})]}),p.jsx(Sj,{fileId:B._id,onCreated:()=>A(B._id)})]}),p.jsxs("div",{className:"mt-3",children:[p.jsx("button",{className:"underline text-sm",onClick:()=>A(B._id),children:"Show insights"}),p.jsxs("div",{className:"mt-2 text-sm",children:[(P[B._id]||[]).length===0&&p.jsx("div",{className:"opacity-70",children:"No insights yet."}),(P[B._id]||[]).map(H=>p.jsxs("div",{className:"border rounded p-2 mb-2",children:[p.jsx("div",{className:"opacity-60",children:new Date(H.createdAt).toLocaleString()}),p.jsx("div",{children:H.summary})]},H._id))]})]})]},B._id)),S.length===0&&p.jsx("div",{children:"No uploads yet."})]})]})]})]})}function M$({children:t}){var f;const{currentUser:e,logout:n}=$c(),r=Oo(),i=Io(),[a,s]=De.useState("Dashboard"),[o,l]=De.useState(!1);De.useEffect(()=>{const d=i.pathname;d==="/dashboard/admin"?s("Dashboard"):d==="/admin/users"?s("User Management"):d==="/landing"?s("Landing"):d==="/presentation"&&s("Analyse")},[i]);const c=[{to:"/dashboard/admin",label:"Dashboard",icon:p.jsx(xp,{className:"h-5 w-5"})},{to:"/presentation",label:"Analyse",icon:p.jsx(Qa,{className:"h-5 w-5"})},{to:"/admin/users",label:"User Management",icon:p.jsx(wl,{className:"h-5 w-5"})},{to:"/landing",label:"Landing",icon:p.jsx(rS,{className:"h-5 w-5"})}],u=()=>{n(),r("/")};return p.jsxs("div",{className:"flex flex-col md:flex-row min-h-screen bg-gray-50 dark:bg-gray-900",children:[p.jsxs("div",{className:"md:hidden flex items-center justify-between p-4 bg-blue-700 text-white",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"bg-blue-600 w-8 h-8 rounded-full flex items-center justify-center",children:p.jsx(Oc,{className:"h-5 w-5"})}),p.jsx("span",{className:"font-semibold",children:"Admin Panel"})]}),p.jsx("button",{onClick:()=>l(!o),children:o?p.jsx(ld,{className:"h-6 w-6"}):p.jsx(nS,{className:"h-6 w-6"})})]}),p.jsxs("div",{className:`bg-blue-800 text-white w-64 flex-shrink-0 md:flex flex-col h-screen fixed md:sticky top-0 z-10 transition-transform duration-300 ${o?"translate-x-0":"-translate-x-full md:translate-x-0"}`,children:[p.jsxs("div",{className:"p-6 border-b border-blue-700",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[p.jsx("div",{className:"bg-gradient-to-r from-cyan-400 to-blue-500 w-12 h-12 rounded-full flex items-center justify-center",children:p.jsx(Oc,{className:"h-6 w-6"})}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-xl font-bold",children:"Admin Panel"}),p.jsx("p",{className:"text-blue-200 text-sm",children:"ADMIN DASHBOARD"})]})]}),p.jsx("div",{className:"bg-blue-900/50 rounded-lg p-3 mb-6",children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"bg-blue-700 p-2 rounded-lg",children:p.jsx($p,{className:"h-5 w-5"})}),p.jsxs("div",{className:"overflow-hidden",children:[p.jsx("p",{className:"font-medium truncate",children:(e==null?void 0:e.name)||"Admin User"}),p.jsx("p",{className:"text-blue-300 text-xs truncate",children:(e==null?void 0:e.email)||"admin@example.com"})]})]})})]}),p.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:p.jsx("nav",{className:"space-y-2",children:c.map(d=>p.jsxs("a",{href:d.to,onClick:h=>{h.preventDefault(),r(d.to),s(d.label),l(!1)},className:`flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-300 ${a===d.label?"bg-white/10 backdrop-blur-md shadow-lg":"hover:bg-blue-700/50"}`,children:[p.jsx("div",{className:`p-2 rounded-lg ${a===d.label?"bg-gradient-to-r from-cyan-400 to-blue-500 text-white":"bg-blue-700/30 text-blue-300"}`,children:d.icon}),p.jsx("span",{className:"font-medium",children:d.label})]},d.label))})}),p.jsx("div",{className:"p-4 border-t border-blue-700",children:p.jsxs("button",{onClick:u,className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl hover:bg-blue-700/50 text-blue-200 transition-all duration-300",children:[p.jsx("div",{className:"p-2 rounded-lg bg-blue-700/30 text-blue-300",children:p.jsx(tS,{className:"h-5 w-5"})}),p.jsx("span",{className:"font-medium",children:"Log out"})]})})]}),p.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[p.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow-sm p-4 flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-xl font-bold text-gray-800 dark:text-white",children:a}),p.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:a==="Dashboard"?"Admin overview and metrics":a==="User Management"?"Manage system users":a==="Analyse"?"Analyze your data":"Landing page"})]}),p.jsx("div",{className:"flex items-center gap-4",children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"bg-gradient-to-r from-cyan-400 to-blue-500 w-10 h-10 rounded-full flex items-center justify-center text-white font-bold",children:((f=e==null?void 0:e.name)==null?void 0:f.charAt(0))||"A"}),p.jsxs("div",{className:"hidden md:block",children:[p.jsx("p",{className:"font-medium text-gray-800 dark:text-white",children:(e==null?void 0:e.name)||"Admin User"}),p.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Admin Account"})]})]})})]}),p.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-white dark:bg-gray-800",children:t}),p.jsx("div",{className:"bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 p-4 text-center text-sm text-gray-500 dark:text-gray-400",children:" 2023 Excel Analytics Admin Panel. All rights reserved."})]})]})}const vL="https://excel-analytics-zo51.onrender.com/api",Y2=vr.create({baseURL:vL}),vh=vr.create({baseURL:vL,headers:{"Content-Type":"application/json"}});vh.interceptors.request.use(t=>{const e=localStorage.getItem("token");return e&&(t.headers.Authorization=`Bearer ${e}`),t},t=>Promise.reject(t));vh.interceptors.response.use(t=>t,t=>{var e;return((e=t.response)==null?void 0:e.status)===401&&(localStorage.removeItem("token"),window.location.href="/login"),Promise.reject(t)});const K2={getUsers:()=>vh.get("/admin/users"),createUser:t=>vh.post("/admin/users",t),updateUser:(t,e)=>vh.put(`/admin/users/${t}`,e),deleteUser:t=>vh.delete(`/admin/users/${t}`)},ig={saveAnalysis:t=>Y2.post("/history",t),getUserHistory:t=>Y2.get(`/history/${t}`),getSummary:t=>Y2.post("/history/summary",t)};function DS(){const[t,e]=De.useState([]),[n,r]=De.useState(!0),i=Oo(),[a,s]=De.useState(null),[o,l]=De.useState(!1),[c,u]=De.useState(!1);De.useEffect(()=>{f()},[]);const f=async()=>{try{const b=(await K2.getUsers()).data.filter(_=>_.role==="user"||_.role==="admin");e(b)}catch(m){console.error("Error fetching users:",m)}finally{r(!1)}},d=()=>{i("/register")};if(n)return p.jsx("div",{className:"p-6",children:"Loading users..."});const h=m=>{s(m),l(!0)},g=async m=>{m.preventDefault();try{await K2.updateUser(a._id,a),f(),l(!1)}catch(b){console.error("Update failed",b)}},x=m=>{s(m),u(!0)},v=async()=>{try{await K2.deleteUser(a._id),f(),u(!1)}catch(m){console.error("Delete failed",m)}};return p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"User Management"}),p.jsxs("button",{className:"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg flex items-center",onClick:d,children:[p.jsx(lR,{className:"h-4 w-4 mr-2"})," Add User"]})]}),p.jsxs("div",{className:"overflow-x-auto",children:[p.jsxs("table",{className:"w-full table-auto",children:[p.jsx("thead",{children:p.jsxs("tr",{className:"bg-gray-50 dark:bg-gray-700 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:[p.jsx("th",{className:"px-4 py-3",children:"Name"}),p.jsx("th",{className:"px-4 py-3",children:"Email"}),p.jsx("th",{className:"px-4 py-3",children:"Role"}),p.jsx("th",{className:"px-4 py-3",children:"Status"}),p.jsx("th",{className:"px-4 py-3",children:"Actions"})]})}),p.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-600",children:t.map(m=>p.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[p.jsx("td",{className:"px-4 py-3 font-medium text-gray-900 dark:text-white",children:m.name}),p.jsx("td",{className:"px-4 py-3 text-gray-600 dark:text-gray-300",children:m.email}),p.jsx("td",{className:"px-4 py-3",children:p.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${m.role==="admin"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":m.role==="superadmin"?"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200":"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}`,children:m.role})}),p.jsx("td",{className:"px-4 py-3",children:p.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${m.status==="active"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}`,children:m.status})}),p.jsx("td",{className:"px-4 py-3",children:p.jsxs("div",{className:"flex space-x-2",children:[p.jsx("button",{className:"p-1 text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300",onClick:()=>h(m),children:p.jsx(uR,{className:"h-4 w-4"})}),p.jsx("button",{className:"p-1 text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300",onClick:()=>x(m),children:p.jsx(fR,{className:"h-4 w-4"})})]})})]},m._id))})]}),o&&a&&p.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50",children:p.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg w-96 text-gray-800 dark:text-white",children:[p.jsx("h3",{className:"text-lg font-bold mb-4",children:"Edit User"}),p.jsxs("form",{onSubmit:g,className:"space-y-4",children:[p.jsx("input",{type:"text",value:a.name,onChange:m=>s({...a,name:m.target.value}),className:"w-full border px-3 py-2 rounded text-gray-800 dark:text-white dark:bg-gray-700",placeholder:"Full Name"}),p.jsx("input",{type:"email",value:a.email,onChange:m=>s({...a,email:m.target.value}),className:"w-full border px-3 py-2 rounded text-gray-800 dark:text-white dark:bg-gray-700",placeholder:"Email"}),p.jsxs("select",{value:a.role,onChange:m=>s({...a,role:m.target.value}),className:"w-full border px-3 py-2 rounded text-gray-800 dark:text-white dark:bg-gray-700",children:[p.jsx("option",{value:"user",children:"User"}),p.jsx("option",{value:"admin",children:"Admin"}),p.jsx("option",{value:"superadmin",children:"Super Admin"})]}),p.jsxs("select",{value:a.status,onChange:m=>s({...a,status:m.target.value}),className:"w-full border px-3 py-2 rounded text-gray-800 dark:text-white dark:bg-gray-700",children:[p.jsx("option",{value:"active",children:"Active"}),p.jsx("option",{value:"inactive",children:"Inactive"})]}),p.jsx("input",{type:"password",value:a.password||"",onChange:m=>s({...a,password:m.target.value}),className:"w-full border px-3 py-2 rounded text-gray-800 dark:text-white dark:bg-gray-700",placeholder:"Set new password"}),p.jsxs("div",{className:"flex justify-end space-x-2",children:[p.jsx("button",{type:"button",onClick:()=>l(!1),className:"px-4 py-2 bg-gray-300 dark:bg-gray-600 rounded",children:"Cancel"}),p.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded",children:"Save"})]})]})]})}),c&&a&&p.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50",children:p.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg w-80 text-gray-800 dark:text-white",children:[p.jsx("h3",{className:"text-lg font-bold mb-4",children:"Confirm Delete"}),p.jsxs("p",{children:["Are you sure you want to delete ",p.jsx("strong",{children:a.name})," (",a.email,")?"]}),p.jsxs("div",{className:"flex justify-end mt-4 space-x-2",children:[p.jsx("button",{onClick:()=>u(!1),className:"px-4 py-2 bg-gray-300 dark:bg-gray-600 rounded",children:"Cancel"}),p.jsx("button",{onClick:v,className:"px-4 py-2 bg-red-600 text-white rounded",children:"Delete"})]})]})})]})]})}function N$(){return p.jsxs(M$,{children:[p.jsxs("div",{className:"fixed inset-0 overflow-hidden -z-10 pointer-events-none",children:[p.jsx("div",{className:"absolute top-16 right-24 w-36 h-36 bg-gradient-to-r from-blue-500/15 to-indigo-600/15 rounded-full blur-3xl animate-pulse"}),p.jsx("div",{className:"absolute bottom-24 left-16 w-44 h-44 bg-gradient-to-r from-cyan-400/10 to-blue-500/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"3s"}}),p.jsx("div",{className:"absolute top-1/3 right-1/3 w-28 h-28 bg-gradient-to-r from-indigo-400/15 to-purple-500/15 rounded-full blur-2xl animate-pulse",style:{animationDelay:"6s"}}),[...Array(12)].map((t,e)=>p.jsx("div",{className:"absolute rounded-full bg-blue-400/20 animate-pulse",style:{top:`${Math.random()*100}%`,left:`${Math.random()*100}%`,width:`${Math.random()*4+2}px`,height:`${Math.random()*4+2}px`,animationDuration:`${Math.random()*4+3}s`,animationDelay:`${Math.random()*3}s`}},e)),p.jsx("div",{className:"absolute inset-0 opacity-[0.03]",style:{backgroundImage:`
              linear-gradient(rgba(59, 130, 246, 0.15) 1px, transparent 1px),
              linear-gradient(90deg, rgba(59, 130, 246, 0.15) 1px, transparent 1px)
            `,backgroundSize:"60px 60px"}})]}),p.jsxs("div",{className:"relative z-10",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[p.jsx("div",{className:"group",children:p.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-white/95 to-blue-50/60 dark:from-zinc-800/95 dark:to-blue-900/30 backdrop-blur-md border border-blue-200/40 dark:border-blue-700/40 rounded-3xl p-8 shadow-xl hover:shadow-2xl transition-all duration-500 hover:-translate-y-3 hover:scale-[1.02]",children:[p.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/8 via-transparent to-indigo-600/8 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),p.jsx("div",{className:"absolute -inset-1 rounded-3xl bg-gradient-to-r from-blue-400/20 to-indigo-600/20 blur-xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),p.jsxs("div",{className:"relative z-10",children:[p.jsxs("div",{className:"flex items-start justify-between mb-6",children:[p.jsx("div",{className:"p-4 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl shadow-2xl group-hover:scale-110 group-hover:rotate-3 transition-all duration-300",children:p.jsx(wl,{className:"h-8 w-8 text-white"})}),p.jsxs("div",{className:"text-right",children:[p.jsx("div",{className:"text-3xl font-bold text-gray-800 dark:text-white group-hover:text-blue-600 transition-colors duration-300 mb-1",children:"156"}),p.jsx("div",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Total Users"})]})]}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center text-sm text-emerald-600 dark:text-emerald-400 font-medium",children:[p.jsx(Qa,{className:"h-4 w-4 mr-2"}),"+12 this month"]}),p.jsx("div",{className:"w-12 h-1 bg-gradient-to-r from-blue-400 to-indigo-500 rounded-full group-hover:w-16 transition-all duration-300"})]})]})]})}),p.jsx("div",{className:"group",children:p.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-white/95 to-emerald-50/60 dark:from-zinc-800/95 dark:to-emerald-900/30 backdrop-blur-md border border-emerald-200/40 dark:border-emerald-700/40 rounded-3xl p-8 shadow-xl hover:shadow-2xl transition-all duration-500 hover:-translate-y-3 hover:scale-[1.02]",children:[p.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-500/8 via-transparent to-green-600/8 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),p.jsx("div",{className:"absolute -inset-1 rounded-3xl bg-gradient-to-r from-emerald-400/20 to-green-600/20 blur-xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),p.jsxs("div",{className:"relative z-10",children:[p.jsxs("div",{className:"flex items-start justify-between mb-6",children:[p.jsx("div",{className:"p-4 bg-gradient-to-br from-emerald-500 to-green-600 rounded-2xl shadow-2xl group-hover:scale-110 group-hover:rotate-3 transition-all duration-300",children:p.jsx(sR,{className:"h-8 w-8 text-white"})}),p.jsxs("div",{className:"text-right",children:[p.jsx("div",{className:"text-3xl font-bold text-gray-800 dark:text-white group-hover:text-emerald-600 transition-colors duration-300 mb-1",children:"342"}),p.jsx("div",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Files Uploaded"})]})]}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center text-sm text-emerald-600 dark:text-emerald-400 font-medium",children:[p.jsx(Qa,{className:"h-4 w-4 mr-2"}),"+28 today"]}),p.jsx("div",{className:"w-12 h-1 bg-gradient-to-r from-emerald-400 to-green-500 rounded-full group-hover:w-16 transition-all duration-300"})]})]})]})}),p.jsx("div",{className:"group",children:p.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-white/95 to-purple-50/60 dark:from-zinc-800/95 dark:to-purple-900/30 backdrop-blur-md border border-purple-200/40 dark:border-purple-700/40 rounded-3xl p-8 shadow-xl hover:shadow-2xl transition-all duration-500 hover:-translate-y-3 hover:scale-[1.02]",children:[p.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/8 via-transparent to-violet-600/8 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),p.jsx("div",{className:"absolute -inset-1 rounded-3xl bg-gradient-to-r from-purple-400/20 to-violet-600/20 blur-xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),p.jsxs("div",{className:"relative z-10",children:[p.jsxs("div",{className:"flex items-start justify-between mb-6",children:[p.jsx("div",{className:"p-4 bg-gradient-to-br from-purple-500 to-violet-600 rounded-2xl shadow-2xl group-hover:scale-110 group-hover:rotate-3 transition-all duration-300",children:p.jsx(xp,{className:"h-8 w-8 text-white"})}),p.jsxs("div",{className:"text-right",children:[p.jsx("div",{className:"text-3xl font-bold text-gray-800 dark:text-white group-hover:text-purple-600 transition-colors duration-300 mb-1",children:"128"}),p.jsx("div",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Charts Created"})]})]}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center text-sm text-emerald-600 dark:text-emerald-400 font-medium",children:[p.jsx(Qa,{className:"h-4 w-4 mr-2"}),"+15 this week"]}),p.jsx("div",{className:"w-12 h-1 bg-gradient-to-r from-purple-400 to-violet-500 rounded-full group-hover:w-16 transition-all duration-300"})]})]})]})}),p.jsx("div",{className:"group",children:p.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-white/95 to-orange-50/60 dark:from-zinc-800/95 dark:to-orange-900/30 backdrop-blur-md border border-orange-200/40 dark:border-orange-700/40 rounded-3xl p-8 shadow-xl hover:shadow-2xl transition-all duration-500 hover:-translate-y-3 hover:scale-[1.02]",children:[p.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-orange-500/8 via-transparent to-amber-600/8 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),p.jsx("div",{className:"absolute -inset-1 rounded-3xl bg-gradient-to-r from-orange-400/20 to-amber-600/20 blur-xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),p.jsxs("div",{className:"relative z-10",children:[p.jsxs("div",{className:"flex items-start justify-between mb-6",children:[p.jsx("div",{className:"p-4 bg-gradient-to-br from-orange-500 to-amber-600 rounded-2xl shadow-2xl group-hover:scale-110 group-hover:rotate-3 transition-all duration-300",children:p.jsx(mb,{className:"h-8 w-8 text-white"})}),p.jsxs("div",{className:"text-right",children:[p.jsx("div",{className:"text-3xl font-bold text-gray-800 dark:text-white group-hover:text-orange-600 transition-colors duration-300 mb-1",children:"24"}),p.jsx("div",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Active Sessions"})]})]}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center text-sm text-orange-600 dark:text-orange-400 font-medium",children:[p.jsx(xb,{className:"h-4 w-4 mr-2"}),"Real-time"]}),p.jsx("div",{className:"w-12 h-1 bg-gradient-to-r from-orange-400 to-amber-500 rounded-full group-hover:w-16 transition-all duration-300"})]})]})]})})]}),p.jsx("div",{className:"grid gap-8",children:p.jsx("div",{className:"group",children:p.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-white/90 to-blue-50/50 dark:from-zinc-800/90 dark:to-blue-900/20 backdrop-blur-sm border border-white/30 dark:border-zinc-700/30 rounded-3xl p-8 shadow-2xl hover:shadow-3xl transition-all duration-500 hover:-translate-y-2",children:[p.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/3 via-transparent to-indigo-500/3 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),p.jsx("div",{className:"absolute -inset-0.5 rounded-3xl bg-gradient-to-r from-blue-400/30 to-indigo-600/30 blur-xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),p.jsxs("div",{className:"relative z-10",children:[p.jsxs("div",{className:"flex items-center mb-8",children:[p.jsx("div",{className:"p-4 bg-gradient-to-br from-blue-600 to-indigo-700 rounded-2xl shadow-2xl mr-6 group-hover:scale-110 group-hover:rotate-2 transition-all duration-300",children:p.jsx(Oc,{className:"h-8 w-8 text-white"})}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-3xl font-bold text-gray-800 dark:text-white group-hover:text-blue-600 transition-colors duration-300 mb-2",children:"User Management"}),p.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-lg",children:"Monitor and manage system users"})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[p.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-2xl p-6 border border-blue-200/30 dark:border-blue-700/30 hover:shadow-lg transition-all duration-300",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:"142"}),p.jsx("div",{className:"text-sm text-blue-500 dark:text-blue-300 font-medium",children:"Active Users"})]}),p.jsx("div",{className:"p-3 bg-blue-500 rounded-xl",children:p.jsx(wl,{className:"h-6 w-6 text-white"})})]})}),p.jsx("div",{className:"bg-gradient-to-r from-emerald-50 to-green-50 dark:from-emerald-900/20 dark:to-green-900/20 rounded-2xl p-6 border border-emerald-200/30 dark:border-emerald-700/30 hover:shadow-lg transition-all duration-300",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("div",{className:"text-2xl font-bold text-emerald-600 dark:text-emerald-400",children:"14"}),p.jsx("div",{className:"text-sm text-emerald-500 dark:text-emerald-300 font-medium",children:"New Today"})]}),p.jsx("div",{className:"p-3 bg-emerald-500 rounded-xl",children:p.jsx(Qa,{className:"h-6 w-6 text-white"})})]})}),p.jsx("div",{className:"bg-gradient-to-r from-orange-50 to-amber-50 dark:from-orange-900/20 dark:to-amber-900/20 rounded-2xl p-6 border border-orange-200/30 dark:border-orange-700/30 hover:shadow-lg transition-all duration-300",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("div",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:"3"}),p.jsx("div",{className:"text-sm text-orange-500 dark:text-orange-300 font-medium",children:"Pending Review"})]}),p.jsx("div",{className:"p-3 bg-orange-500 rounded-xl",children:p.jsx(jU,{className:"h-6 w-6 text-white"})})]})})]}),p.jsx(DS,{})]})]})})}),p.jsxs("div",{className:"mt-8 grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[p.jsx("div",{className:"group cursor-pointer",children:p.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-white/80 to-blue-50/50 dark:from-zinc-800/80 dark:to-blue-900/20 backdrop-blur-sm border border-blue-200/30 dark:border-blue-700/30 rounded-2xl p-6 shadow-lg hover:shadow-2xl transition-all duration-500 hover:-translate-y-3",children:[p.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/5 via-transparent to-indigo-500/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),p.jsxs("div",{className:"relative z-10 text-center",children:[p.jsx("div",{className:"mx-auto mb-4 p-4 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-2xl w-fit shadow-lg group-hover:scale-110 transition-transform duration-300",children:p.jsx(wl,{className:"h-8 w-8 text-white"})}),p.jsx("h4",{className:"text-lg font-bold text-gray-800 dark:text-white mb-2 group-hover:text-blue-600 transition-colors duration-300",children:"Manage Users"}),p.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Add, edit, or remove users"})]})]})}),p.jsx("div",{className:"group cursor-pointer",children:p.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-white/80 to-emerald-50/50 dark:from-zinc-800/80 dark:to-emerald-900/20 backdrop-blur-sm border border-emerald-200/30 dark:border-emerald-700/30 rounded-2xl p-6 shadow-lg hover:shadow-2xl transition-all duration-500 hover:-translate-y-3",children:[p.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-500/5 via-transparent to-green-500/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),p.jsxs("div",{className:"relative z-10 text-center",children:[p.jsx("div",{className:"mx-auto mb-4 p-4 bg-gradient-to-r from-emerald-500 to-green-600 rounded-2xl w-fit shadow-lg group-hover:scale-110 transition-transform duration-300",children:p.jsx(xp,{className:"h-8 w-8 text-white"})}),p.jsx("h4",{className:"text-lg font-bold text-gray-800 dark:text-white mb-2 group-hover:text-emerald-600 transition-colors duration-300",children:"View Reports"}),p.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"System analytics & insights"})]})]})}),p.jsx("div",{className:"group cursor-pointer",children:p.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-white/80 to-purple-50/50 dark:from-zinc-800/80 dark:to-purple-900/20 backdrop-blur-sm border border-purple-200/30 dark:border-purple-700/30 rounded-2xl p-6 shadow-lg hover:shadow-2xl transition-all duration-500 hover:-translate-y-3",children:[p.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/5 via-transparent to-violet-500/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),p.jsxs("div",{className:"relative z-10 text-center",children:[p.jsx("div",{className:"mx-auto mb-4 p-4 bg-gradient-to-r from-purple-500 to-violet-600 rounded-2xl w-fit shadow-lg group-hover:scale-110 transition-transform duration-300",children:p.jsx(Oc,{className:"h-8 w-8 text-white"})}),p.jsx("h4",{className:"text-lg font-bold text-gray-800 dark:text-white mb-2 group-hover:text-purple-600 transition-colors duration-300",children:"Security"}),p.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Manage permissions & roles"})]})]})}),p.jsx("div",{className:"group cursor-pointer",children:p.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-white/80 to-orange-50/50 dark:from-zinc-800/80 dark:to-orange-900/20 backdrop-blur-sm border border-orange-200/30 dark:border-orange-700/30 rounded-2xl p-6 shadow-lg hover:shadow-2xl transition-all duration-500 hover:-translate-y-3",children:[p.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-orange-500/5 via-transparent to-amber-500/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),p.jsxs("div",{className:"relative z-10 text-center",children:[p.jsx("div",{className:"mx-auto mb-4 p-4 bg-gradient-to-r from-orange-500 to-amber-600 rounded-2xl w-fit shadow-lg group-hover:scale-110 transition-transform duration-300",children:p.jsx(mb,{className:"h-8 w-8 text-white"})}),p.jsx("h4",{className:"text-lg font-bold text-gray-800 dark:text-white mb-2 group-hover:text-orange-600 transition-colors duration-300",children:"Activity Log"}),p.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Monitor system activity"})]})]})})]})]})]})}const k$=[{to:"/dashboard/superadmin",label:"Dashboard",icon:xp},{to:"#users",label:"User Management",icon:wl},{to:"/superadmin/presentation",label:"Analyse",icon:IU},{to:"/superadmin/register",label:"Add User",icon:zU}];function C$({children:t}){var f;const{currentUser:e,logout:n}=$c(),r=Oo(),i=Io(),[a,s]=De.useState("Dashboard"),[o,l]=De.useState(!1);De.useEffect(()=>{const d=i.pathname,h=i.hash;d==="/dashboard/superadmin"?s("Dashboard"):h==="#users"?s("User Management"):d==="/superadmin/presentation"?s("Analyse"):d==="/superadmin/register"&&s("Add User")},[i]);const c=()=>{n(),r("/")},u=(d,h)=>{d==="#users"&&s("User Management"),l(!1)};return p.jsxs("div",{className:"flex flex-col md:flex-row min-h-screen bg-gray-50 dark:bg-gray-900",children:[p.jsxs("div",{className:"md:hidden flex items-center justify-between p-4 bg-purple-700 text-white",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"bg-purple-600 w-8 h-8 rounded-full flex items-center justify-center",children:p.jsx(Oc,{className:"h-5 w-5"})}),p.jsx("span",{className:"font-semibold",children:"Super Admin Panel"})]}),p.jsx("button",{onClick:()=>l(!o),"aria-label":"Toggle sidebar",children:o?p.jsx(ld,{className:"h-6 w-6"}):p.jsx(nS,{className:"h-6 w-6"})})]}),p.jsxs("aside",{className:`bg-purple-800 text-white w-64 flex-shrink-0 flex flex-col h-screen fixed top-0 left-0 z-10 transition-transform duration-300 ${o?"translate-x-0":"-translate-x-full md:translate-x-0"}`,children:[p.jsxs("div",{className:"p-6 border-b border-purple-700",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[p.jsx("div",{className:"bg-gradient-to-r from-purple-400 to-purple-500 w-12 h-12 rounded-full flex items-center justify-center",children:p.jsx(Oc,{className:"h-6 w-6"})}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-xl font-bold",children:"Super Admin"}),p.jsx("p",{className:"text-purple-200 text-sm",children:"SYSTEM ADMINISTRATOR"})]})]}),p.jsx("div",{className:"bg-purple-900/50 rounded-lg p-3 mb-6",children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"bg-purple-700 p-2 rounded-lg",children:p.jsx($p,{className:"h-5 w-5"})}),p.jsxs("div",{className:"overflow-hidden",children:[p.jsx("p",{className:"font-medium truncate",children:(e==null?void 0:e.name)||"Super Admin"}),p.jsx("p",{className:"text-purple-300 text-xs truncate",children:(e==null?void 0:e.email)||"superadmin@example.com"})]})]})})]}),p.jsx("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:k$.map(({to:d,label:h,icon:g})=>p.jsxs(vU,{to:d,onClick:()=>u(d),className:({isActive:x})=>`flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-300 ${a===h?"bg-white/10 backdrop-blur-md shadow-lg":"hover:bg-purple-700/50"}`,"aria-current":a===h?"page":void 0,children:[p.jsx("div",{className:`p-2 rounded-lg ${a===h?"bg-gradient-to-r from-purple-400 to-purple-500 text-white":"bg-purple-700/30 text-purple-300"}`,children:p.jsx(g,{className:"h-5 w-5"})}),p.jsx("span",{className:"font-medium",children:h})]},h))}),p.jsx("div",{className:"p-4 border-t border-purple-700",children:p.jsxs("button",{onClick:c,className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl hover:bg-purple-700/50 text-purple-200 transition-all duration-300",children:[p.jsx("div",{className:"p-2 rounded-lg bg-purple-700/30 text-purple-300",children:p.jsx(tS,{className:"h-5 w-5"})}),p.jsx("span",{className:"font-medium",children:"Log out"})]})})]}),p.jsxs("main",{className:"flex-1 flex flex-col min-w-0 md:ml-64",children:[p.jsxs("header",{className:"bg-white dark:bg-gray-800 shadow-sm p-4 flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-xl font-bold text-gray-800 dark:text-white",children:a}),p.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:a==="Dashboard"?"System overview and metrics":a==="User Management"?"Manage all users and admins":a==="Analyse"?"Analyze system data and performance":"Add new users to the system"})]}),p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsxs("button",{className:"relative p-2 rounded-full bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors","aria-label":"Notifications",children:[p.jsx(MU,{className:"h-5 w-5"}),p.jsx("span",{className:"absolute top-0 right-0 w-2 h-2 bg-red-500 rounded-full"})]}),p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"bg-gradient-to-r from-purple-400 to-purple-500 w-10 h-10 rounded-full flex items-center justify-center text-white font-bold",children:((f=e==null?void 0:e.name)==null?void 0:f.charAt(0))||"S"}),p.jsxs("div",{className:"hidden md:block",children:[p.jsx("p",{className:"font-medium text-gray-800 dark:text-white",children:(e==null?void 0:e.name)||"Super Admin"}),p.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Super Admin Account"})]})]})]})]}),p.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-white dark:bg-gray-800",children:a==="User Management"?p.jsx("div",{id:"users",className:"bg-white/80 dark:bg-gray-800/80 rounded-2xl p-6 border border-purple-200/30 dark:border-purple-700/30",children:p.jsx(DS,{})}):t}),p.jsxs("footer",{className:"bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 p-4 text-center text-sm text-gray-500 dark:text-gray-400",children:[" ",new Date().getFullYear()," Excel Analytics Super Admin Panel. All rights reserved."]})]})]})}function R$(){const t=[{label:"CPU Usage",value:"45%",icon:p.jsx(kU,{className:"h-5 w-5"}),color:"bg-blue-500"},{label:"Memory Usage",value:"62%",icon:p.jsx(cR,{className:"h-5 w-5"}),color:"bg-green-500"},{label:"Disk Usage",value:"38%",icon:p.jsx(PU,{className:"h-5 w-5"}),color:"bg-yellow-500"},{label:"Database Size",value:"2.4GB",icon:p.jsx(lx,{className:"h-5 w-5"}),color:"bg-purple-500"}];return p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[p.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-white mb-6",children:"System Metrics"}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.map((e,n)=>p.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 flex items-center",children:[p.jsx("div",{className:`p-3 rounded-full ${e.color} text-white mr-4`,children:e.icon}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:e.label}),p.jsx("p",{className:"text-lg font-bold text-gray-800 dark:text-white",children:e.value})]})]},n))}),p.jsxs("div",{className:"mt-6",children:[p.jsx("h3",{className:"font-medium text-gray-800 dark:text-white mb-3",children:"Recent System Events"}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:[p.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),"System backup completed - 2 hours ago"]}),p.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:[p.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mr-2"}),"Database optimization - 5 hours ago"]}),p.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:[p.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full mr-2"}),"Security patch applied - 1 day ago"]})]})]})]})}function P$(){return p.jsxs(C$,{children:[p.jsxs("div",{className:"fixed inset-0 overflow-hidden -z-10 pointer-events-none",children:[p.jsx("div",{className:"absolute top-20 right-32 w-40 h-40 bg-gradient-to-r from-purple-500/12 to-violet-600/12 rounded-full blur-3xl animate-pulse"}),p.jsx("div",{className:"absolute bottom-32 left-20 w-48 h-48 bg-gradient-to-r from-indigo-400/8 to-purple-500/8 rounded-full blur-3xl animate-pulse",style:{animationDelay:"4s"}}),p.jsx("div",{className:"absolute top-2/5 right-1/4 w-32 h-32 bg-gradient-to-r from-violet-400/10 to-pink-500/10 rounded-full blur-2xl animate-pulse",style:{animationDelay:"7s"}}),p.jsx("div",{className:"absolute top-1/4 left-1/3 w-36 h-36 bg-gradient-to-r from-purple-600/8 to-indigo-500/8 rounded-full blur-3xl animate-pulse",style:{animationDelay:"2s"}}),p.jsx("div",{className:"absolute inset-0 opacity-[0.04]",style:{backgroundImage:`
              linear-gradient(rgba(147, 51, 234, 0.2) 1px, transparent 1px),
              linear-gradient(90deg, rgba(147, 51, 234, 0.2) 1px, transparent 1px)
            `,backgroundSize:"80px 80px"}}),p.jsx("div",{className:"absolute inset-0 opacity-[0.02]",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%239333ea' fill-opacity='0.4'%3E%3Cpath d='m36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})]}),p.jsxs("div",{className:"relative z-10",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-10",children:[p.jsx("div",{className:"group",children:p.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-white/95 to-purple-50/70 dark:from-zinc-800/95 dark:to-purple-900/40 backdrop-blur-lg border border-purple-200/50 dark:border-purple-700/50 rounded-3xl p-8 shadow-2xl hover:shadow-3xl transition-all duration-700 hover:-translate-y-4 hover:scale-[1.03]",children:[p.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/10 via-transparent to-violet-600/10 opacity-0 group-hover:opacity-100 transition-opacity duration-700"}),p.jsx("div",{className:"absolute inset-0 bg-gradient-to-tl from-indigo-500/5 via-transparent to-purple-500/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500",style:{transitionDelay:"0.2s"}}),p.jsx("div",{className:"absolute -inset-2 rounded-3xl bg-gradient-to-r from-purple-400/30 to-violet-600/30 blur-2xl opacity-0 group-hover:opacity-100 transition-all duration-700"}),p.jsxs("div",{className:"relative z-10",children:[p.jsxs("div",{className:"flex items-start justify-between mb-8",children:[p.jsx("div",{className:"p-5 bg-gradient-to-br from-purple-500 via-violet-600 to-indigo-700 rounded-3xl shadow-2xl group-hover:scale-125 group-hover:rotate-6 transition-all duration-500",children:p.jsx(wl,{className:"h-10 w-10 text-white"})}),p.jsxs("div",{className:"text-right",children:[p.jsx("div",{className:"text-4xl font-bold bg-gradient-to-r from-purple-600 to-violet-700 bg-clip-text text-transparent group-hover:scale-110 transition-transform duration-300 mb-2",children:"256"}),p.jsx("div",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Total Users"})]})]}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center text-sm text-emerald-600 dark:text-emerald-400 font-semibold",children:[p.jsx(Qa,{className:"h-5 w-5 mr-2"}),"+23 this month"]}),p.jsx("div",{className:"w-16 h-1.5 bg-gradient-to-r from-purple-400 via-violet-500 to-indigo-500 rounded-full group-hover:w-20 transition-all duration-500"})]})]})]})}),p.jsx("div",{className:"group",children:p.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-white/95 to-cyan-50/70 dark:from-zinc-800/95 dark:to-cyan-900/40 backdrop-blur-lg border border-cyan-200/50 dark:border-cyan-700/50 rounded-3xl p-8 shadow-2xl hover:shadow-3xl transition-all duration-700 hover:-translate-y-4 hover:scale-[1.03]",children:[p.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-cyan-500/10 via-transparent to-blue-600/10 opacity-0 group-hover:opacity-100 transition-opacity duration-700"}),p.jsx("div",{className:"absolute inset-0 bg-gradient-to-tl from-blue-500/5 via-transparent to-cyan-500/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500",style:{transitionDelay:"0.2s"}}),p.jsx("div",{className:"absolute -inset-2 rounded-3xl bg-gradient-to-r from-cyan-400/30 to-blue-600/30 blur-2xl opacity-0 group-hover:opacity-100 transition-all duration-700"}),p.jsxs("div",{className:"relative z-10",children:[p.jsxs("div",{className:"flex items-start justify-between mb-8",children:[p.jsx("div",{className:"p-5 bg-gradient-to-br from-cyan-500 via-blue-600 to-indigo-700 rounded-3xl shadow-2xl group-hover:scale-125 group-hover:rotate-6 transition-all duration-500",children:p.jsx(sR,{className:"h-10 w-10 text-white"})}),p.jsxs("div",{className:"text-right",children:[p.jsx("div",{className:"text-4xl font-bold bg-gradient-to-r from-cyan-600 to-blue-700 bg-clip-text text-transparent group-hover:scale-110 transition-transform duration-300 mb-2",children:"642"}),p.jsx("div",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Files Uploaded"})]})]}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center text-sm text-emerald-600 dark:text-emerald-400 font-semibold",children:[p.jsx(Qa,{className:"h-5 w-5 mr-2"}),"+47 today"]}),p.jsx("div",{className:"w-16 h-1.5 bg-gradient-to-r from-cyan-400 via-blue-500 to-indigo-500 rounded-full group-hover:w-20 transition-all duration-500"})]})]})]})}),p.jsx("div",{className:"group",children:p.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-white/95 to-emerald-50/70 dark:from-zinc-800/95 dark:to-emerald-900/40 backdrop-blur-lg border border-emerald-200/50 dark:border-emerald-700/50 rounded-3xl p-8 shadow-2xl hover:shadow-3xl transition-all duration-700 hover:-translate-y-4 hover:scale-[1.03]",children:[p.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-500/10 via-transparent to-green-600/10 opacity-0 group-hover:opacity-100 transition-opacity duration-700"}),p.jsx("div",{className:"absolute inset-0 bg-gradient-to-tl from-green-500/5 via-transparent to-emerald-500/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500",style:{transitionDelay:"0.2s"}}),p.jsx("div",{className:"absolute -inset-2 rounded-3xl bg-gradient-to-r from-emerald-400/30 to-green-600/30 blur-2xl opacity-0 group-hover:opacity-100 transition-all duration-700"}),p.jsxs("div",{className:"relative z-10",children:[p.jsxs("div",{className:"flex items-start justify-between mb-8",children:[p.jsx("div",{className:"p-5 bg-gradient-to-br from-emerald-500 via-green-600 to-teal-700 rounded-3xl shadow-2xl group-hover:scale-125 group-hover:rotate-6 transition-all duration-500",children:p.jsx(xp,{className:"h-10 w-10 text-white"})}),p.jsxs("div",{className:"text-right",children:[p.jsx("div",{className:"text-4xl font-bold bg-gradient-to-r from-emerald-600 to-green-700 bg-clip-text text-transparent group-hover:scale-110 transition-transform duration-300 mb-2",children:"328"}),p.jsx("div",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Charts Created"})]})]}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center text-sm text-emerald-600 dark:text-emerald-400 font-semibold",children:[p.jsx(Qa,{className:"h-5 w-5 mr-2"}),"+31 this week"]}),p.jsx("div",{className:"w-16 h-1.5 bg-gradient-to-r from-emerald-400 via-green-500 to-teal-500 rounded-full group-hover:w-20 transition-all duration-500"})]})]})]})}),p.jsx("div",{className:"group",children:p.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-white/95 to-rose-50/70 dark:from-zinc-800/95 dark:to-rose-900/40 backdrop-blur-lg border border-rose-200/50 dark:border-rose-700/50 rounded-3xl p-8 shadow-2xl hover:shadow-3xl transition-all duration-700 hover:-translate-y-4 hover:scale-[1.03]",children:[p.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-rose-500/10 via-transparent to-pink-600/10 opacity-0 group-hover:opacity-100 transition-opacity duration-700"}),p.jsx("div",{className:"absolute inset-0 bg-gradient-to-tl from-pink-500/5 via-transparent to-rose-500/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500",style:{transitionDelay:"0.2s"}}),p.jsx("div",{className:"absolute -inset-2 rounded-3xl bg-gradient-to-r from-rose-400/30 to-pink-600/30 blur-2xl opacity-0 group-hover:opacity-100 transition-all duration-700"}),p.jsxs("div",{className:"relative z-10",children:[p.jsxs("div",{className:"flex items-start justify-between mb-8",children:[p.jsx("div",{className:"p-5 bg-gradient-to-br from-rose-500 via-pink-600 to-purple-700 rounded-3xl shadow-2xl group-hover:scale-125 group-hover:rotate-6 transition-all duration-500",children:p.jsx(cR,{className:"h-10 w-10 text-white"})}),p.jsxs("div",{className:"text-right",children:[p.jsx("div",{className:"text-4xl font-bold bg-gradient-to-r from-rose-600 to-pink-700 bg-clip-text text-transparent group-hover:scale-110 transition-transform duration-300 mb-2",children:"98%"}),p.jsx("div",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"System Health"})]})]}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center text-sm text-emerald-600 dark:text-emerald-400 font-semibold",children:[p.jsx(F2,{className:"h-5 w-5 mr-2"}),"All systems operational"]}),p.jsx("div",{className:"w-16 h-1.5 bg-gradient-to-r from-rose-400 via-pink-500 to-purple-500 rounded-full group-hover:w-20 transition-all duration-500"})]})]})]})})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-10",children:[p.jsx("div",{className:"group",children:p.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-white/95 to-purple-50/70 dark:from-zinc-800/95 dark:to-purple-900/40 backdrop-blur-lg border border-purple-200/50 dark:border-purple-700/50 rounded-3xl p-8 shadow-2xl hover:shadow-3xl transition-all duration-700 hover:-translate-y-2",children:[p.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/10 via-transparent to-violet-600/10 opacity-0 group-hover:opacity-100 transition-opacity duration-700"}),p.jsx("div",{className:"absolute -inset-2 rounded-3xl bg-gradient-to-r from-purple-400/30 to-violet-600/30 blur-2xl opacity-0 group-hover:opacity-100 transition-all duration-700"}),p.jsxs("div",{className:"relative z-10 text-center",children:[p.jsx("div",{className:"flex justify-center mb-6",children:p.jsx("div",{className:"p-4 bg-gradient-to-br from-purple-500 via-violet-600 to-indigo-700 rounded-2xl shadow-2xl group-hover:scale-110 group-hover:rotate-3 transition-all duration-300",children:p.jsx(Z5,{className:"h-8 w-8 text-white"})})}),p.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white mb-4",children:"User Distribution"}),p.jsxs("div",{className:"relative w-40 h-40 mx-auto mb-6",children:[p.jsx("div",{className:"absolute inset-0 rounded-full border-8 border-purple-500"}),p.jsx("div",{className:"absolute inset-0 rounded-full border-8 border-indigo-500",style:{clipPath:"polygon(50% 50%, 50% 0%, 100% 0%, 100% 100%, 50% 100%)"}}),p.jsx("div",{className:"absolute inset-0 rounded-full border-8 border-violet-500",style:{clipPath:"polygon(50% 50%, 50% 0%, 75% 0%, 100% 50%)"}}),p.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:p.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-purple-600 to-violet-700 bg-clip-text text-transparent",children:"100%"})})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full mr-2"}),p.jsx("span",{children:"Admins: 12%"})]}),p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:"w-3 h-3 bg-indigo-500 rounded-full mr-2"}),p.jsx("span",{children:"Editors: 45%"})]}),p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:"w-3 h-3 bg-violet-500 rounded-full mr-2"}),p.jsx("span",{children:"Viewers: 43%"})]})]})]})]})}),p.jsx("div",{className:"group",children:p.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-white/95 to-cyan-50/70 dark:from-zinc-800/95 dark:to-cyan-900/40 backdrop-blur-lg border border-cyan-200/50 dark:border-cyan-700/50 rounded-3xl p-8 shadow-2xl hover:shadow-3xl transition-all duration-700 hover:-translate-y-2",children:[p.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-cyan-500/10 via-transparent to-blue-600/10 opacity-0 group-hover:opacity-100 transition-opacity duration-700"}),p.jsx("div",{className:"absolute -inset-2 rounded-3xl bg-gradient-to-r from-cyan-400/30 to-blue-600/30 blur-2xl opacity-0 group-hover:opacity-100 transition-all duration-700"}),p.jsxs("div",{className:"relative z-10 text-center",children:[p.jsx("div",{className:"flex justify-center mb-6",children:p.jsx("div",{className:"p-4 bg-gradient-to-br from-cyan-500 via-blue-600 to-indigo-700 rounded-2xl shadow-2xl group-hover:scale-110 group-hover:rotate-3 transition-all duration-300",children:p.jsx(lx,{className:"h-8 w-8 text-white"})})}),p.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white mb-4",children:"Storage Usage"}),p.jsxs("div",{className:"relative w-40 h-40 mx-auto mb-6",children:[p.jsx("div",{className:"absolute inset-0 rounded-full border-8 border-cyan-400"}),p.jsx("div",{className:"absolute inset-0 rounded-full border-8 border-blue-500",style:{clipPath:"polygon(50% 50%, 50% 0%, 100% 0%, 100% 100%, 50% 100%)"}}),p.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:p.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-cyan-600 to-blue-700 bg-clip-text text-transparent",children:"72%"})})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:"w-3 h-3 bg-cyan-400 rounded-full mr-2"}),p.jsx("span",{children:"Used: 72%"})]}),p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full mr-2"}),p.jsx("span",{children:"Free: 28%"})]})]})]})]})}),p.jsx("div",{className:"group",children:p.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-white/95 to-emerald-50/70 dark:from-zinc-800/95 dark:to-emerald-900/40 backdrop-blur-lg border border-emerald-200/50 dark:border-emerald-700/50 rounded-3xl p-8 shadow-2xl hover:shadow-3xl transition-all duration-700 hover:-translate-y-2",children:[p.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-500/10 via-transparent to-green-600/10 opacity-0 group-hover:opacity-100 transition-opacity duration-700"}),p.jsx("div",{className:"absolute -inset-2 rounded-3xl bg-gradient-to-r from-emerald-400/30 to-green-600/30 blur-2xl opacity-0 group-hover:opacity-100 transition-all duration-700"}),p.jsxs("div",{className:"relative z-10 text-center",children:[p.jsx("div",{className:"flex justify-center mb-6",children:p.jsx("div",{className:"p-4 bg-gradient-to-br from-emerald-500 via-green-600 to-teal-700 rounded-2xl shadow-2xl group-hover:scale-110 group-hover:rotate-3 transition-all duration-300",children:p.jsx(F2,{className:"h-8 w-8 text-white"})})}),p.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white mb-4",children:"Activity Rate"}),p.jsxs("div",{className:"relative w-40 h-40 mx-auto mb-6",children:[p.jsx("div",{className:"absolute inset-0 rounded-full border-8 border-emerald-400"}),p.jsx("div",{className:"absolute inset-0 rounded-full border-8 border-green-500",style:{clipPath:"polygon(50% 50%, 50% 0%, 100% 0%, 100% 50%)"}}),p.jsx("div",{className:"absolute inset-0 rounded-full border-8 border-teal-500",style:{clipPath:"polygon(50% 50%, 100% 50%, 100% 100%, 50% 100%)"}}),p.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:p.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-emerald-600 to-green-700 bg-clip-text text-transparent",children:"89%"})})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:"w-3 h-3 bg-emerald-400 rounded-full mr-2"}),p.jsx("span",{children:"Active: 65%"})]}),p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full mr-2"}),p.jsx("span",{children:"Idle: 24%"})]}),p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:"w-3 h-3 bg-teal-500 rounded-full mr-2"}),p.jsx("span",{children:"Offline: 11%"})]})]})]})]})})]}),p.jsxs("div",{className:"grid gap-10 lg:grid-cols-2",children:[p.jsx("div",{className:"group",children:p.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-purple-50/90 to-purple-100/80 dark:from-purple-900/30 dark:to-purple-800/40 backdrop-blur-md border border-purple-200/50 dark:border-purple-700/40 rounded-3xl p-8 shadow-2xl hover:shadow-3xl transition-all duration-500 hover:-translate-y-2",children:[p.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/10 via-transparent to-violet-500/10 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),p.jsx("div",{className:"absolute -inset-1 rounded-3xl bg-gradient-to-r from-purple-400/25 to-violet-600/25 blur-xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),p.jsxs("div",{className:"relative z-10",children:[p.jsxs("div",{className:"flex items-center mb-8",children:[p.jsx("div",{className:"p-4 bg-gradient-to-br from-purple-600 via-violet-700 to-indigo-800 rounded-2xl shadow-2xl mr-6 group-hover:scale-110 group-hover:rotate-3 transition-all duration-300",children:p.jsx(Oc,{className:"h-8 w-8 text-white"})}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-3xl font-bold text-gray-800 dark:text-white group-hover:text-purple-600 transition-colors duration-300 mb-2",children:"Advanced User Management"}),p.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-lg",children:"Full system user control and administration"})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[p.jsx("div",{className:"bg-gradient-to-r from-purple-100 to-violet-100 dark:from-purple-900/40 dark:to-violet-900/40 rounded-2xl p-4 border border-purple-200/40 dark:border-purple-700/40 hover:shadow-lg transition-all duration-300",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("div",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:"189"}),p.jsx("div",{className:"text-sm text-purple-500 dark:text-purple-300 font-medium",children:"Total Active"})]}),p.jsx("div",{className:"p-2 bg-purple-500 rounded-lg",children:p.jsx(wl,{className:"h-5 w-5 text-white"})})]})}),p.jsx("div",{className:"bg-gradient-to-r from-indigo-100 to-blue-100 dark:from-indigo-900/40 dark:to-blue-900/40 rounded-2xl p-4 border border-indigo-200/40 dark:border-indigo-700/40 hover:shadow-lg transition-all duration-300",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("div",{className:"text-2xl font-bold text-indigo-600 dark:text-indigo-400",children:"12"}),p.jsx("div",{className:"text-sm text-indigo-500 dark:text-indigo-300 font-medium",children:"Admins"})]}),p.jsx("div",{className:"p-2 bg-indigo-500 rounded-lg",children:p.jsx(Oc,{className:"h-5 w-5 text-white"})})]})})]}),p.jsx("div",{id:"users",className:"bg-white/80 dark:bg-gray-800/80 rounded-2xl p-6 border border-purple-200/30 dark:border-purple-700/30",children:p.jsx(DS,{})})]})]})}),p.jsx("div",{className:"group",children:p.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-white/90 to-cyan-50/60 dark:from-zinc-800/90 dark:to-cyan-900/30 backdrop-blur-md border border-white/30 dark:border-zinc-700/30 rounded-3xl p-8 shadow-2xl hover:shadow-3xl transition-all duration-500 hover:-translate-y-2",children:[p.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-cyan-500/5 via-transparent to-blue-500/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),p.jsx("div",{className:"absolute -inset-1 rounded-3xl bg-gradient-to-r from-cyan-400/25 to-blue-600/25 blur-xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),p.jsxs("div",{className:"relative z-10",children:[p.jsxs("div",{className:"flex items-center mb-8",children:[p.jsx("div",{className:"p-4 bg-gradient-to-br from-cyan-600 via-blue-700 to-indigo-800 rounded-2xl shadow-2xl mr-6 group-hover:scale-110 group-hover:rotate-3 transition-all duration-300",children:p.jsx(DU,{className:"h-8 w-8 text-white"})}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-3xl font-bold text-gray-800 dark:text-white group-hover:text-cyan-600 transition-colors duration-300 mb-2",children:"System Metrics"}),p.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-lg",children:"Real-time system performance monitoring"})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[p.jsx("div",{className:"bg-gradient-to-r from-emerald-50 to-green-50 dark:from-emerald-900/30 dark:to-green-900/30 rounded-2xl p-4 border border-emerald-200/40 dark:border-emerald-700/40 hover:shadow-lg transition-all duration-300",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("div",{className:"text-2xl font-bold text-emerald-600 dark:text-emerald-400",children:"99.9%"}),p.jsx("div",{className:"text-sm text-emerald-500 dark:text-emerald-300 font-medium",children:"Uptime"})]}),p.jsx("div",{className:"p-2 bg-emerald-500 rounded-lg",children:p.jsx(F2,{className:"h-5 w-5 text-white"})})]})}),p.jsx("div",{className:"bg-gradient-to-r from-orange-50 to-amber-50 dark:from-orange-900/30 dark:to-amber-900/30 rounded-2xl p-4 border border-orange-200/40 dark:border-orange-700/40 hover:shadow-lg transition-all duration-300",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("div",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:"2.3GB"}),p.jsx("div",{className:"text-sm text-orange-500 dark:text-orange-300 font-medium",children:"Memory"})]}),p.jsx("div",{className:"p-2 bg-orange-500 rounded-lg",children:p.jsx(lx,{className:"h-5 w-5 text-white"})})]})})]}),p.jsx(R$,{})]})]})})]}),p.jsx("div",{className:"mt-8 group",children:p.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-r from-emerald-500/20 via-green-400/20 to-teal-500/20 dark:from-emerald-900/40 dark:via-green-800/40 dark:to-teal-900/40 backdrop-blur-sm border border-emerald-300/30 dark:border-emerald-600/30 rounded-3xl p-6 hover:shadow-2xl transition-all duration-500",children:[p.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-emerald-400/10 via-green-300/10 to-teal-400/10 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),p.jsxs("div",{className:"relative z-10 flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:"p-3 bg-gradient-to-r from-emerald-500 to-green-600 rounded-2xl shadow-lg mr-4 group-hover:scale-110 transition-transform duration-300",children:p.jsx(RU,{className:"h-8 w-8 text-white"})}),p.jsxs("div",{children:[p.jsx("h4",{className:"text-xl font-bold text-gray-800 dark:text-white group-hover:text-emerald-600 transition-colors duration-300",children:"System Status: All Systems Operational"}),p.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Last updated: 2 minutes ago  Next maintenance: Sunday 3:00 AM"})]})]}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("div",{className:"w-3 h-3 bg-emerald-400 rounded-full animate-pulse"}),p.jsx("span",{className:"text-sm font-medium text-emerald-600 dark:text-emerald-400",children:"Live"})]})]})]})})]})]})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function am(t){return t+.5|0}const xc=(t,e,n)=>Math.max(Math.min(t,n),e);function y0(t){return xc(am(t*2.55),0,255)}function Pc(t){return xc(am(t*255),0,255)}function ul(t){return xc(am(t/2.55)/100,0,1)}function zA(t){return xc(am(t*100),0,100)}const hs={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Ob=[..."0123456789ABCDEF"],L$=t=>Ob[t&15],F$=t=>Ob[(t&240)>>4]+Ob[t&15],ag=t=>(t&240)>>4===(t&15),D$=t=>ag(t.r)&&ag(t.g)&&ag(t.b)&&ag(t.a);function I$(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&hs[t[1]]*17,g:255&hs[t[2]]*17,b:255&hs[t[3]]*17,a:e===5?hs[t[4]]*17:255}:(e===7||e===9)&&(n={r:hs[t[1]]<<4|hs[t[2]],g:hs[t[3]]<<4|hs[t[4]],b:hs[t[5]]<<4|hs[t[6]],a:e===9?hs[t[7]]<<4|hs[t[8]]:255})),n}const O$=(t,e)=>t<255?e(t):"";function U$(t){var e=D$(t)?L$:F$;return t?"#"+e(t.r)+e(t.g)+e(t.b)+O$(t.a,e):void 0}const B$=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function yL(t,e,n){const r=e*Math.min(n,1-n),i=(a,s=(a+t/30)%12)=>n-r*Math.max(Math.min(s-3,9-s,1),-1);return[i(0),i(8),i(4)]}function j$(t,e,n){const r=(i,a=(i+t/60)%6)=>n-n*e*Math.max(Math.min(a,4-a,1),0);return[r(5),r(3),r(1)]}function z$(t,e,n){const r=yL(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)r[i]*=1-e-n,r[i]+=e;return r}function H$(t,e,n,r,i){return t===i?(e-n)/r+(e<n?6:0):e===i?(n-t)/r+2:(t-e)/r+4}function IS(t){const n=t.r/255,r=t.g/255,i=t.b/255,a=Math.max(n,r,i),s=Math.min(n,r,i),o=(a+s)/2;let l,c,u;return a!==s&&(u=a-s,c=o>.5?u/(2-a-s):u/(a+s),l=H$(n,r,i,u,a),l=l*60+.5),[l|0,c||0,o]}function OS(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(Pc)}function US(t,e,n){return OS(yL,t,e,n)}function V$(t,e,n){return OS(z$,t,e,n)}function W$(t,e,n){return OS(j$,t,e,n)}function _L(t){return(t%360+360)%360}function G$(t){const e=B$.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?y0(+e[5]):Pc(+e[5]));const i=_L(+e[2]),a=+e[3]/100,s=+e[4]/100;return e[1]==="hwb"?r=V$(i,a,s):e[1]==="hsv"?r=W$(i,a,s):r=US(i,a,s),{r:r[0],g:r[1],b:r[2],a:n}}function q$(t,e){var n=IS(t);n[0]=_L(n[0]+e),n=US(n),t.r=n[0],t.g=n[1],t.b=n[2]}function X$(t){if(!t)return;const e=IS(t),n=e[0],r=zA(e[1]),i=zA(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${i}%, ${ul(t.a)})`:`hsl(${n}, ${r}%, ${i}%)`}const HA={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},VA={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function $$(){const t={},e=Object.keys(VA),n=Object.keys(HA);let r,i,a,s,o;for(r=0;r<e.length;r++){for(s=o=e[r],i=0;i<n.length;i++)a=n[i],o=o.replace(a,HA[a]);a=parseInt(VA[s],16),t[o]=[a>>16&255,a>>8&255,a&255]}return t}let sg;function Y$(t){sg||(sg=$$(),sg.transparent=[0,0,0,0]);const e=sg[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const K$=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function J$(t){const e=K$.exec(t);let n=255,r,i,a;if(e){if(e[7]!==r){const s=+e[7];n=e[8]?y0(s):xc(s*255,0,255)}return r=+e[1],i=+e[3],a=+e[5],r=255&(e[2]?y0(r):xc(r,0,255)),i=255&(e[4]?y0(i):xc(i,0,255)),a=255&(e[6]?y0(a):xc(a,0,255)),{r,g:i,b:a,a:n}}}function Z$(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${ul(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const J2=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Of=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function Q$(t,e,n){const r=Of(ul(t.r)),i=Of(ul(t.g)),a=Of(ul(t.b));return{r:Pc(J2(r+n*(Of(ul(e.r))-r))),g:Pc(J2(i+n*(Of(ul(e.g))-i))),b:Pc(J2(a+n*(Of(ul(e.b))-a))),a:t.a+n*(e.a-t.a)}}function og(t,e,n){if(t){let r=IS(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=US(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function bL(t,e){return t&&Object.assign(e||{},t)}function WA(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Pc(t[3]))):(e=bL(t,{r:0,g:0,b:0,a:1}),e.a=Pc(e.a)),e}function eY(t){return t.charAt(0)==="r"?J$(t):G$(t)}let wL=class Ub{constructor(e){if(e instanceof Ub)return e;const n=typeof e;let r;n==="object"?r=WA(e):n==="string"&&(r=I$(e)||Y$(e)||eY(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=bL(this._rgb);return e&&(e.a=ul(e.a)),e}set rgb(e){this._rgb=WA(e)}rgbString(){return this._valid?Z$(this._rgb):void 0}hexString(){return this._valid?U$(this._rgb):void 0}hslString(){return this._valid?X$(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,i=e.rgb;let a;const s=n===a?.5:n,o=2*s-1,l=r.a-i.a,c=((o*l===-1?o:(o+l)/(1+o*l))+1)/2;a=1-c,r.r=255&c*r.r+a*i.r+.5,r.g=255&c*r.g+a*i.g+.5,r.b=255&c*r.b+a*i.b+.5,r.a=s*r.a+(1-s)*i.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=Q$(this._rgb,e._rgb,n)),this}clone(){return new Ub(this.rgb)}alpha(e){return this._rgb.a=Pc(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=am(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return og(this._rgb,2,e),this}darken(e){return og(this._rgb,2,-e),this}saturate(e){return og(this._rgb,1,e),this}desaturate(e){return og(this._rgb,1,-e),this}rotate(e){return q$(this._rgb,e),this}};/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Jo(){}const tY=(()=>{let t=0;return()=>t++})();function xn(t){return t==null}function ur(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function yn(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Tr(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function $a(t,e){return Tr(t)?t:e}function tn(t,e){return typeof t>"u"?e:t}const nY=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,SL=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Jn(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Un(t,e,n,r){let i,a,s;if(ur(t))for(a=t.length,i=0;i<a;i++)e.call(n,t[i],i);else if(yn(t))for(s=Object.keys(t),a=s.length,i=0;i<a;i++)e.call(n,t[s[i]],s[i])}function wx(t,e){let n,r,i,a;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(i=t[n],a=e[n],i.datasetIndex!==a.datasetIndex||i.index!==a.index)return!1;return!0}function Sx(t){if(ur(t))return t.map(Sx);if(yn(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let i=0;for(;i<r;++i)e[n[i]]=Sx(t[n[i]]);return e}return t}function EL(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function rY(t,e,n,r){if(!EL(t))return;const i=e[t],a=n[t];yn(i)&&yn(a)?Cp(i,a,r):e[t]=Sx(a)}function Cp(t,e,n){const r=ur(e)?e:[e],i=r.length;if(!yn(t))return t;n=n||{};const a=n.merger||rY;let s;for(let o=0;o<i;++o){if(s=r[o],!yn(s))continue;const l=Object.keys(s);for(let c=0,u=l.length;c<u;++c)a(l[c],t,s,n)}return t}function W0(t,e){return Cp(t,e,{merger:iY})}function iY(t,e,n){if(!EL(t))return;const r=e[t],i=n[t];yn(r)&&yn(i)?W0(r,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Sx(i))}const GA={"":t=>t,x:t=>t.x,y:t=>t.y};function aY(t){const e=t.split("."),n=[];let r="";for(const i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function sY(t){const e=aY(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function jc(t,e){return(GA[e]||(GA[e]=sY(e)))(t)}function BS(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Rp=t=>typeof t<"u",zc=t=>typeof t=="function",qA=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function oY(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Rn=Math.PI,ar=2*Rn,lY=ar+Rn,Ex=Number.POSITIVE_INFINITY,cY=Rn/180,Hr=Rn/2,lu=Rn/4,XA=Rn*2/3,vc=Math.log10,Ro=Math.sign;function G0(t,e,n){return Math.abs(t-e)<n}function $A(t){const e=Math.round(t);t=G0(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(vc(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function uY(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((i,a)=>i-a).pop(),e}function fY(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Yh(t){return!fY(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function hY(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function AL(t,e,n){let r,i,a;for(r=0,i=t.length;r<i;r++)a=t[r][n],isNaN(a)||(e.min=Math.min(e.min,a),e.max=Math.max(e.max,a))}function qs(t){return t*(Rn/180)}function jS(t){return t*(180/Rn)}function YA(t){if(!Tr(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function TL(t,e){const n=e.x-t.x,r=e.y-t.y,i=Math.sqrt(n*n+r*r);let a=Math.atan2(r,n);return a<-.5*Rn&&(a+=ar),{angle:a,distance:i}}function Bb(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function dY(t,e){return(t-e+lY)%ar-Rn}function qi(t){return(t%ar+ar)%ar}function Pp(t,e,n,r){const i=qi(t),a=qi(e),s=qi(n),o=qi(a-i),l=qi(s-i),c=qi(i-a),u=qi(i-s);return i===a||i===s||r&&a===s||o>l&&c<u}function xi(t,e,n){return Math.max(e,Math.min(n,t))}function pY(t){return xi(t,-32768,32767)}function gl(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function zS(t,e,n){n=n||(s=>t[s]<e);let r=t.length-1,i=0,a;for(;r-i>1;)a=i+r>>1,n(a)?i=a:r=a;return{lo:i,hi:r}}const xl=(t,e,n,r)=>zS(t,n,r?i=>{const a=t[i][e];return a<n||a===n&&t[i+1][e]===n}:i=>t[i][e]<n),mY=(t,e,n)=>zS(t,n,r=>t[r][e]>=n);function gY(t,e,n){let r=0,i=t.length;for(;r<i&&t[r]<e;)r++;for(;i>r&&t[i-1]>n;)i--;return r>0||i<t.length?t.slice(r,i):t}const ML=["push","pop","shift","splice","unshift"];function xY(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),ML.forEach(n=>{const r="_onData"+BS(n),i=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...a){const s=i.apply(this,a);return t._chartjs.listeners.forEach(o=>{typeof o[r]=="function"&&o[r](...a)}),s}})})}function KA(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(e);i!==-1&&r.splice(i,1),!(r.length>0)&&(ML.forEach(a=>{delete t[a]}),delete t._chartjs)}function NL(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const kL=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function CL(t,e){let n=[],r=!1;return function(...i){n=i,r||(r=!0,kL.call(window,()=>{r=!1,t.apply(e,n)}))}}function vY(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const HS=t=>t==="start"?"left":t==="end"?"right":"center",Wi=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,yY=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e;function RL(t,e,n){const r=e.length;let i=0,a=r;if(t._sorted){const{iScale:s,vScale:o,_parsed:l}=t,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,u=s.axis,{min:f,max:d,minDefined:h,maxDefined:g}=s.getUserBounds();if(h){if(i=Math.min(xl(l,u,f).lo,n?r:xl(e,u,s.getPixelForValue(f)).lo),c){const x=l.slice(0,i+1).reverse().findIndex(v=>!xn(v[o.axis]));i-=Math.max(0,x)}i=xi(i,0,r-1)}if(g){let x=Math.max(xl(l,s.axis,d,!0).hi+1,n?0:xl(e,u,s.getPixelForValue(d),!0).hi+1);if(c){const v=l.slice(x-1).findIndex(m=>!xn(m[o.axis]));x+=Math.max(0,v)}a=xi(x,i,r)-i}else a=r-i}return{start:i,count:a}}function PL(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,i={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=i,!0;const a=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),a}const lg=t=>t===0||t===1,JA=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*ar/n)),ZA=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*ar/n)+1,q0={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Hr)+1,easeOutSine:t=>Math.sin(t*Hr),easeInOutSine:t=>-.5*(Math.cos(Rn*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>lg(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>lg(t)?t:JA(t,.075,.3),easeOutElastic:t=>lg(t)?t:ZA(t,.075,.3),easeInOutElastic(t){return lg(t)?t:t<.5?.5*JA(t*2,.1125,.45):.5+.5*ZA(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-q0.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?q0.easeInBounce(t*2)*.5:q0.easeOutBounce(t*2-1)*.5+.5};function VS(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function QA(t){return VS(t)?t:new wL(t)}function Z2(t){return VS(t)?t:new wL(t).saturate(.5).darken(.1).hexString()}const _Y=["x","y","borderWidth","radius","tension"],bY=["color","borderColor","backgroundColor"];function wY(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:bY},numbers:{type:"number",properties:_Y}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function SY(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const eT=new Map;function EY(t,e){e=e||{};const n=t+JSON.stringify(e);let r=eT.get(n);return r||(r=new Intl.NumberFormat(t,e),eT.set(n,r)),r}function sm(t,e,n){return EY(e,n).format(t)}const LL={values(t){return ur(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let i,a=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),a=AY(t,n)}const s=vc(Math.abs(a)),o=isNaN(s)?1:Math.max(Math.min(-1*Math.floor(s),20),0),l={notation:i,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(l,this.options.ticks.format),sm(t,r,l)},logarithmic(t,e,n){if(t===0)return"0";const r=n[e].significand||t/Math.pow(10,Math.floor(vc(t)));return[1,2,3,5,10,15].includes(r)||e>.8*n.length?LL.numeric.call(this,t,e,n):""}};function AY(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var vv={formatters:LL};function TY(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:vv.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const nf=Object.create(null),jb=Object.create(null);function X0(t,e){if(!e)return t;const n=e.split(".");for(let r=0,i=n.length;r<i;++r){const a=n[r];t=t[a]||(t[a]=Object.create(null))}return t}function Q2(t,e,n){return typeof e=="string"?Cp(X0(t,e),n):Cp(X0(t,""),e)}class MY{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>Z2(i.backgroundColor),this.hoverBorderColor=(r,i)=>Z2(i.borderColor),this.hoverColor=(r,i)=>Z2(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return Q2(this,e,n)}get(e){return X0(this,e)}describe(e,n){return Q2(jb,e,n)}override(e,n){return Q2(nf,e,n)}route(e,n,r,i){const a=X0(this,e),s=X0(this,r),o="_"+n;Object.defineProperties(a,{[o]:{value:a[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[o],c=s[i];return yn(l)?Object.assign({},c,l):tn(l,c)},set(l){this[o]=l}}})}apply(e){e.forEach(n=>n(this))}}var fr=new MY({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[wY,SY,TY]);function NY(t){return!t||xn(t.size)||xn(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Ax(t,e,n,r,i){let a=e[i];return a||(a=e[i]=t.measureText(i).width,n.push(i)),a>r&&(r=a),r}function kY(t,e,n,r){r=r||{};let i=r.data=r.data||{},a=r.garbageCollect=r.garbageCollect||[];r.font!==e&&(i=r.data={},a=r.garbageCollect=[],r.font=e),t.save(),t.font=e;let s=0;const o=n.length;let l,c,u,f,d;for(l=0;l<o;l++)if(f=n[l],f!=null&&!ur(f))s=Ax(t,i,a,s,f);else if(ur(f))for(c=0,u=f.length;c<u;c++)d=f[c],d!=null&&!ur(d)&&(s=Ax(t,i,a,s,d));t.restore();const h=a.length/2;if(h>n.length){for(l=0;l<h;l++)delete i[a[l]];a.splice(0,h)}return s}function cu(t,e,n){const r=t.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((e-i)*r)/r+i}function tT(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function zb(t,e,n,r){FL(t,e,n,r,null)}function FL(t,e,n,r,i){let a,s,o,l,c,u,f,d;const h=e.pointStyle,g=e.rotation,x=e.radius;let v=(g||0)*cY;if(h&&typeof h=="object"&&(a=h.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(v),t.drawImage(h,-h.width/2,-h.height/2,h.width,h.height),t.restore();return}if(!(isNaN(x)||x<=0)){switch(t.beginPath(),h){default:i?t.ellipse(n,r,i/2,x,0,0,ar):t.arc(n,r,x,0,ar),t.closePath();break;case"triangle":u=i?i/2:x,t.moveTo(n+Math.sin(v)*u,r-Math.cos(v)*x),v+=XA,t.lineTo(n+Math.sin(v)*u,r-Math.cos(v)*x),v+=XA,t.lineTo(n+Math.sin(v)*u,r-Math.cos(v)*x),t.closePath();break;case"rectRounded":c=x*.516,l=x-c,s=Math.cos(v+lu)*l,f=Math.cos(v+lu)*(i?i/2-c:l),o=Math.sin(v+lu)*l,d=Math.sin(v+lu)*(i?i/2-c:l),t.arc(n-f,r-o,c,v-Rn,v-Hr),t.arc(n+d,r-s,c,v-Hr,v),t.arc(n+f,r+o,c,v,v+Hr),t.arc(n-d,r+s,c,v+Hr,v+Rn),t.closePath();break;case"rect":if(!g){l=Math.SQRT1_2*x,u=i?i/2:l,t.rect(n-u,r-l,2*u,2*l);break}v+=lu;case"rectRot":f=Math.cos(v)*(i?i/2:x),s=Math.cos(v)*x,o=Math.sin(v)*x,d=Math.sin(v)*(i?i/2:x),t.moveTo(n-f,r-o),t.lineTo(n+d,r-s),t.lineTo(n+f,r+o),t.lineTo(n-d,r+s),t.closePath();break;case"crossRot":v+=lu;case"cross":f=Math.cos(v)*(i?i/2:x),s=Math.cos(v)*x,o=Math.sin(v)*x,d=Math.sin(v)*(i?i/2:x),t.moveTo(n-f,r-o),t.lineTo(n+f,r+o),t.moveTo(n+d,r-s),t.lineTo(n-d,r+s);break;case"star":f=Math.cos(v)*(i?i/2:x),s=Math.cos(v)*x,o=Math.sin(v)*x,d=Math.sin(v)*(i?i/2:x),t.moveTo(n-f,r-o),t.lineTo(n+f,r+o),t.moveTo(n+d,r-s),t.lineTo(n-d,r+s),v+=lu,f=Math.cos(v)*(i?i/2:x),s=Math.cos(v)*x,o=Math.sin(v)*x,d=Math.sin(v)*(i?i/2:x),t.moveTo(n-f,r-o),t.lineTo(n+f,r+o),t.moveTo(n+d,r-s),t.lineTo(n-d,r+s);break;case"line":s=i?i/2:Math.cos(v)*x,o=Math.sin(v)*x,t.moveTo(n-s,r-o),t.lineTo(n+s,r+o);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(v)*(i?i/2:x),r+Math.sin(v)*x);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function vl(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function yv(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function _v(t){t.restore()}function CY(t,e,n,r,i){if(!e)return t.lineTo(n.x,n.y);if(i==="middle"){const a=(e.x+n.x)/2;t.lineTo(a,e.y),t.lineTo(a,n.y)}else i==="after"!=!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function RY(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function PY(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),xn(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function LY(t,e,n,r,i){if(i.strikethrough||i.underline){const a=t.measureText(r),s=e-a.actualBoundingBoxLeft,o=e+a.actualBoundingBoxRight,l=n-a.actualBoundingBoxAscent,c=n+a.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(s,u),t.lineTo(o,u),t.stroke()}}function FY(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function rf(t,e,n,r,i,a={}){const s=ur(e)?e:[e],o=a.strokeWidth>0&&a.strokeColor!=="";let l,c;for(t.save(),t.font=i.string,PY(t,a),l=0;l<s.length;++l)c=s[l],a.backdrop&&FY(t,a.backdrop),o&&(a.strokeColor&&(t.strokeStyle=a.strokeColor),xn(a.strokeWidth)||(t.lineWidth=a.strokeWidth),t.strokeText(c,n,r,a.maxWidth)),t.fillText(c,n,r,a.maxWidth),LY(t,n,r,c,a),r+=Number(i.lineHeight);t.restore()}function Lp(t,e){const{x:n,y:r,w:i,h:a,radius:s}=e;t.arc(n+s.topLeft,r+s.topLeft,s.topLeft,1.5*Rn,Rn,!0),t.lineTo(n,r+a-s.bottomLeft),t.arc(n+s.bottomLeft,r+a-s.bottomLeft,s.bottomLeft,Rn,Hr,!0),t.lineTo(n+i-s.bottomRight,r+a),t.arc(n+i-s.bottomRight,r+a-s.bottomRight,s.bottomRight,Hr,0,!0),t.lineTo(n+i,r+s.topRight),t.arc(n+i-s.topRight,r+s.topRight,s.topRight,0,-Hr,!0),t.lineTo(n+s.topLeft,r)}const DY=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,IY=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function OY(t,e){const n=(""+t).match(DY);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const UY=t=>+t||0;function WS(t,e){const n={},r=yn(e),i=r?Object.keys(e):e,a=yn(t)?r?s=>tn(t[s],t[e[s]]):s=>t[s]:()=>t;for(const s of i)n[s]=UY(a(s));return n}function DL(t){return WS(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Wu(t){return WS(t,["topLeft","topRight","bottomLeft","bottomRight"])}function ta(t){const e=DL(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function si(t,e){t=t||{},e=e||fr.font;let n=tn(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=tn(t.style,e.style);r&&!(""+r).match(IY)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:tn(t.family,e.family),lineHeight:OY(tn(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:tn(t.weight,e.weight),string:""};return i.string=NY(i),i}function _0(t,e,n,r){let i,a,s;for(i=0,a=t.length;i<a;++i)if(s=t[i],s!==void 0&&s!==void 0)return s}function BY(t,e,n){const{min:r,max:i}=t,a=SL(e,(i-r)/2),s=(o,l)=>n&&o===0?0:o+l;return{min:s(r,-Math.abs(a)),max:s(i,a)}}function Kc(t,e){return Object.assign(Object.create(t),e)}function GS(t,e=[""],n,r,i=()=>t[0]){const a=n||t;typeof r>"u"&&(r=BL("_fallback",t));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:a,_fallback:r,_getTarget:i,override:o=>GS([o,...t],e,a,r)};return new Proxy(s,{deleteProperty(o,l){return delete o[l],delete o._keys,delete t[0][l],!0},get(o,l){return OL(o,l,()=>XY(l,e,t,o))},getOwnPropertyDescriptor(o,l){return Reflect.getOwnPropertyDescriptor(o._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(o,l){return rT(o).includes(l)},ownKeys(o){return rT(o)},set(o,l,c){const u=o._storage||(o._storage=i());return o[l]=u[l]=c,delete o._keys,!0}})}function Kh(t,e,n,r){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:IL(t,r),setContext:a=>Kh(t,a,n,r),override:a=>Kh(t.override(a),e,n,r)};return new Proxy(i,{deleteProperty(a,s){return delete a[s],delete t[s],!0},get(a,s,o){return OL(a,s,()=>zY(a,s,o))},getOwnPropertyDescriptor(a,s){return a._descriptors.allKeys?Reflect.has(t,s)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,s)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(a,s){return Reflect.has(t,s)},ownKeys(){return Reflect.ownKeys(t)},set(a,s,o){return t[s]=o,delete a[s],!0}})}function IL(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:r,isScriptable:zc(n)?n:()=>n,isIndexable:zc(r)?r:()=>r}}const jY=(t,e)=>t?t+BS(e):e,qS=(t,e)=>yn(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function OL(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const r=n();return t[e]=r,r}function zY(t,e,n){const{_proxy:r,_context:i,_subProxy:a,_descriptors:s}=t;let o=r[e];return zc(o)&&s.isScriptable(e)&&(o=HY(e,o,t,n)),ur(o)&&o.length&&(o=VY(e,o,t,s.isIndexable)),qS(e,o)&&(o=Kh(o,i,a&&a[e],s)),o}function HY(t,e,n,r){const{_proxy:i,_context:a,_subProxy:s,_stack:o}=n;if(o.has(t))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+t);o.add(t);let l=e(a,s||r);return o.delete(t),qS(t,l)&&(l=XS(i._scopes,i,t,l)),l}function VY(t,e,n,r){const{_proxy:i,_context:a,_subProxy:s,_descriptors:o}=n;if(typeof a.index<"u"&&r(t))return e[a.index%e.length];if(yn(e[0])){const l=e,c=i._scopes.filter(u=>u!==l);e=[];for(const u of l){const f=XS(c,i,t,u);e.push(Kh(f,a,s&&s[t],o))}}return e}function UL(t,e,n){return zc(t)?t(e,n):t}const WY=(t,e)=>t===!0?e:typeof t=="string"?jc(e,t):void 0;function GY(t,e,n,r,i){for(const a of e){const s=WY(n,a);if(s){t.add(s);const o=UL(s._fallback,n,i);if(typeof o<"u"&&o!==n&&o!==r)return o}else if(s===!1&&typeof r<"u"&&n!==r)return null}return!1}function XS(t,e,n,r){const i=e._rootScopes,a=UL(e._fallback,n,r),s=[...t,...i],o=new Set;o.add(r);let l=nT(o,s,n,a||n,r);return l===null||typeof a<"u"&&a!==n&&(l=nT(o,s,a,l,r),l===null)?!1:GS(Array.from(o),[""],i,a,()=>qY(e,n,r))}function nT(t,e,n,r,i){for(;n;)n=GY(t,e,n,r,i);return n}function qY(t,e,n){const r=t._getTarget();e in r||(r[e]={});const i=r[e];return ur(i)&&yn(n)?n:i||{}}function XY(t,e,n,r){let i;for(const a of e)if(i=BL(jY(a,t),n),typeof i<"u")return qS(t,i)?XS(n,r,t,i):i}function BL(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function rT(t){let e=t._keys;return e||(e=t._keys=$Y(t._scopes)),e}function $Y(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}function jL(t,e,n,r){const{iScale:i}=t,{key:a="r"}=this._parsing,s=new Array(r);let o,l,c,u;for(o=0,l=r;o<l;++o)c=o+n,u=e[c],s[o]={r:i.parse(jc(u,a),c)};return s}const YY=Number.EPSILON||1e-14,Jh=(t,e)=>e<t.length&&!t[e].skip&&t[e],zL=t=>t==="x"?"y":"x";function KY(t,e,n,r){const i=t.skip?e:t,a=e,s=n.skip?e:n,o=Bb(a,i),l=Bb(s,a);let c=o/(o+l),u=l/(o+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const f=r*c,d=r*u;return{previous:{x:a.x-f*(s.x-i.x),y:a.y-f*(s.y-i.y)},next:{x:a.x+d*(s.x-i.x),y:a.y+d*(s.y-i.y)}}}function JY(t,e,n){const r=t.length;let i,a,s,o,l,c=Jh(t,0);for(let u=0;u<r-1;++u)if(l=c,c=Jh(t,u+1),!(!l||!c)){if(G0(e[u],0,YY)){n[u]=n[u+1]=0;continue}i=n[u]/e[u],a=n[u+1]/e[u],o=Math.pow(i,2)+Math.pow(a,2),!(o<=9)&&(s=3/Math.sqrt(o),n[u]=i*s*e[u],n[u+1]=a*s*e[u])}}function ZY(t,e,n="x"){const r=zL(n),i=t.length;let a,s,o,l=Jh(t,0);for(let c=0;c<i;++c){if(s=o,o=l,l=Jh(t,c+1),!o)continue;const u=o[n],f=o[r];s&&(a=(u-s[n])/3,o[`cp1${n}`]=u-a,o[`cp1${r}`]=f-a*e[c]),l&&(a=(l[n]-u)/3,o[`cp2${n}`]=u+a,o[`cp2${r}`]=f+a*e[c])}}function QY(t,e="x"){const n=zL(e),r=t.length,i=Array(r).fill(0),a=Array(r);let s,o,l,c=Jh(t,0);for(s=0;s<r;++s)if(o=l,l=c,c=Jh(t,s+1),!!l){if(c){const u=c[e]-l[e];i[s]=u!==0?(c[n]-l[n])/u:0}a[s]=o?c?Ro(i[s-1])!==Ro(i[s])?0:(i[s-1]+i[s])/2:i[s-1]:i[s]}JY(t,i,a),ZY(t,a,e)}function cg(t,e,n){return Math.max(Math.min(t,n),e)}function eK(t,e){let n,r,i,a,s,o=vl(t[0],e);for(n=0,r=t.length;n<r;++n)s=a,a=o,o=n<r-1&&vl(t[n+1],e),a&&(i=t[n],s&&(i.cp1x=cg(i.cp1x,e.left,e.right),i.cp1y=cg(i.cp1y,e.top,e.bottom)),o&&(i.cp2x=cg(i.cp2x,e.left,e.right),i.cp2y=cg(i.cp2y,e.top,e.bottom)))}function tK(t,e,n,r,i){let a,s,o,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")QY(t,i);else{let c=r?t[t.length-1]:t[0];for(a=0,s=t.length;a<s;++a)o=t[a],l=KY(c,o,t[Math.min(a+1,s-(r?0:1))%s],e.tension),o.cp1x=l.previous.x,o.cp1y=l.previous.y,o.cp2x=l.next.x,o.cp2y=l.next.y,c=o}e.capBezierPoints&&eK(t,n)}function $S(){return typeof window<"u"&&typeof document<"u"}function YS(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Tx(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const bv=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function nK(t,e){return bv(t).getPropertyValue(e)}const rK=["top","right","bottom","left"];function Gu(t,e,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const a=rK[i];r[a]=parseFloat(t[e+"-"+a+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const iK=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function aK(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:i,offsetY:a}=r;let s=!1,o,l;if(iK(i,a,t.target))o=i,l=a;else{const c=e.getBoundingClientRect();o=r.clientX-c.left,l=r.clientY-c.top,s=!0}return{x:o,y:l,box:s}}function _u(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,i=bv(n),a=i.boxSizing==="border-box",s=Gu(i,"padding"),o=Gu(i,"border","width"),{x:l,y:c,box:u}=aK(t,n),f=s.left+(u&&o.left),d=s.top+(u&&o.top);let{width:h,height:g}=e;return a&&(h-=s.width+o.width,g-=s.height+o.height),{x:Math.round((l-f)/h*n.width/r),y:Math.round((c-d)/g*n.height/r)}}function sK(t,e,n){let r,i;if(e===void 0||n===void 0){const a=t&&YS(t);if(!a)e=t.clientWidth,n=t.clientHeight;else{const s=a.getBoundingClientRect(),o=bv(a),l=Gu(o,"border","width"),c=Gu(o,"padding");e=s.width-c.width-l.width,n=s.height-c.height-l.height,r=Tx(o.maxWidth,a,"clientWidth"),i=Tx(o.maxHeight,a,"clientHeight")}}return{width:e,height:n,maxWidth:r||Ex,maxHeight:i||Ex}}const ug=t=>Math.round(t*10)/10;function oK(t,e,n,r){const i=bv(t),a=Gu(i,"margin"),s=Tx(i.maxWidth,t,"clientWidth")||Ex,o=Tx(i.maxHeight,t,"clientHeight")||Ex,l=sK(t,e,n);let{width:c,height:u}=l;if(i.boxSizing==="content-box"){const d=Gu(i,"border","width"),h=Gu(i,"padding");c-=h.width+d.width,u-=h.height+d.height}return c=Math.max(0,c-a.width),u=Math.max(0,r?c/r:u-a.height),c=ug(Math.min(c,s,l.maxWidth)),u=ug(Math.min(u,o,l.maxHeight)),c&&!u&&(u=ug(c/2)),(e!==void 0||n!==void 0)&&r&&l.height&&u>l.height&&(u=l.height,c=ug(Math.floor(u*r))),{width:c,height:u}}function iT(t,e,n){const r=e||1,i=Math.floor(t.height*r),a=Math.floor(t.width*r);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const s=t.canvas;return s.style&&(n||!s.style.height&&!s.style.width)&&(s.style.height=`${t.height}px`,s.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||s.height!==i||s.width!==a?(t.currentDevicePixelRatio=r,s.height=i,s.width=a,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const lK=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};$S()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function aT(t,e){const n=nK(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function bu(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function cK(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:r==="middle"?n<.5?t.y:e.y:r==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function uK(t,e,n,r){const i={x:t.cp2x,y:t.cp2y},a={x:e.cp1x,y:e.cp1y},s=bu(t,i,n),o=bu(i,a,n),l=bu(a,e,n),c=bu(s,o,n),u=bu(o,l,n);return bu(c,u,n)}const fK=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},hK=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Ch(t,e,n){return t?fK(e,n):hK()}function HL(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function VL(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function WL(t){return t==="angle"?{between:Pp,compare:dY,normalize:qi}:{between:gl,compare:(e,n)=>e-n,normalize:e=>e}}function sT({start:t,end:e,count:n,loop:r,style:i}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n===0,style:i}}function dK(t,e,n){const{property:r,start:i,end:a}=n,{between:s,normalize:o}=WL(r),l=e.length;let{start:c,end:u,loop:f}=t,d,h;if(f){for(c+=l,u+=l,d=0,h=l;d<h&&s(o(e[c%l][r]),i,a);++d)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:f,style:t.style}}function GL(t,e,n){if(!n)return[t];const{property:r,start:i,end:a}=n,s=e.length,{compare:o,between:l,normalize:c}=WL(r),{start:u,end:f,loop:d,style:h}=dK(t,e,n),g=[];let x=!1,v=null,m,b,_;const S=()=>l(i,_,m)&&o(i,_)!==0,N=()=>o(a,m)===0||l(a,_,m),P=()=>x||S(),T=()=>!x||N();for(let L=u,E=u;L<=f;++L)b=e[L%s],!b.skip&&(m=c(b[r]),m!==_&&(x=l(m,i,a),v===null&&P()&&(v=o(m,i)===0?L:E),v!==null&&T()&&(g.push(sT({start:v,end:L,loop:d,count:s,style:h})),v=null),E=L,_=m));return v!==null&&g.push(sT({start:v,end:f,loop:d,count:s,style:h})),g}function qL(t,e){const n=[],r=t.segments;for(let i=0;i<r.length;i++){const a=GL(r[i],t.points,e);a.length&&n.push(...a)}return n}function pK(t,e,n,r){let i=0,a=e-1;if(n&&!r)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,n&&(a+=i);a>i&&t[a%e].skip;)a--;return a%=e,{start:i,end:a}}function mK(t,e,n,r){const i=t.length,a=[];let s=e,o=t[e],l;for(l=e+1;l<=n;++l){const c=t[l%i];c.skip||c.stop?o.skip||(r=!1,a.push({start:e%i,end:(l-1)%i,loop:r}),e=s=c.stop?l:null):(s=l,o.skip&&(e=l)),o=c}return s!==null&&a.push({start:e%i,end:s%i,loop:r}),a}function gK(t,e){const n=t.points,r=t.options.spanGaps,i=n.length;if(!i)return[];const a=!!t._loop,{start:s,end:o}=pK(n,i,a,r);if(r===!0)return oT(t,[{start:s,end:o,loop:a}],n,e);const l=o<s?o+i:o,c=!!t._fullLoop&&s===0&&o===i-1;return oT(t,mK(n,s,l,c),n,e)}function oT(t,e,n,r){return!r||!r.setContext||!n?e:xK(t,e,n,r)}function xK(t,e,n,r){const i=t._chart.getContext(),a=lT(t.options),{_datasetIndex:s,options:{spanGaps:o}}=t,l=n.length,c=[];let u=a,f=e[0].start,d=f;function h(g,x,v,m){const b=o?-1:1;if(g!==x){for(g+=l;n[g%l].skip;)g-=b;for(;n[x%l].skip;)x+=b;g%l!==x%l&&(c.push({start:g%l,end:x%l,loop:v,style:m}),u=m,f=x%l)}}for(const g of e){f=o?f:g.start;let x=n[f%l],v;for(d=f+1;d<=g.end;d++){const m=n[d%l];v=lT(r.setContext(Kc(i,{type:"segment",p0:x,p1:m,p0DataIndex:(d-1)%l,p1DataIndex:d%l,datasetIndex:s}))),vK(v,u)&&h(f,d-1,g.loop,u),x=m,u=v}f<d-1&&h(f,d-1,g.loop,u)}return c}function lT(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function vK(t,e){if(!e)return!1;const n=[],r=function(i,a){return VS(a)?(n.includes(a)||n.push(a),n.indexOf(a)):a};return JSON.stringify(t,r)!==JSON.stringify(e,r)}function fg(t,e,n){return t.options.clip?t[n]:e[n]}function yK(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:fg(n,e,"left"),right:fg(n,e,"right"),top:fg(r,e,"top"),bottom:fg(r,e,"bottom")}:e}function XL(t,e){const n=e._clip;if(n.disabled)return!1;const r=yK(e,t.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class _K{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,i){const a=n.listeners[i],s=n.duration;a.forEach(o=>o({chart:e,initial:n.initial,numSteps:s,currentStep:Math.min(r-n.start,s)}))}_refresh(){this._request||(this._running=!0,this._request=kL.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const a=r.items;let s=a.length-1,o=!1,l;for(;s>=0;--s)l=a[s],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(e),o=!0):(a[s]=a[a.length-1],a.pop());o&&(i.draw(),this._notify(i,r,e,"progress")),a.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),n+=a.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var al=new _K;const cT="transparent",bK={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=QA(t||cT),i=r.valid&&QA(e||cT);return i&&i.valid?i.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class wK{constructor(e,n,r,i){const a=n[r];i=_0([e.to,i,a,e.from]);const s=_0([e.from,a,i]);this._active=!0,this._fn=e.fn||bK[e.type||typeof s],this._easing=q0[e.easing]||q0.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=s,this._to=i,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const i=this._target[this._prop],a=r-this._start,s=this._duration-a;this._start=r,this._duration=Math.floor(Math.max(s,e.duration)),this._total+=a,this._loop=!!e.loop,this._to=_0([e.to,n,i,e.from]),this._from=_0([e.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,i=this._prop,a=this._from,s=this._loop,o=this._to;let l;if(this._active=a!==o&&(s||n<r),!this._active){this._target[i]=o,this._notify(!0);return}if(n<0){this._target[i]=a;return}l=n/r%2,l=s&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(a,o,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][n]()}}class $L{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!yn(e))return;const n=Object.keys(fr.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const a=e[i];if(!yn(a))return;const s={};for(const o of n)s[o]=a[o];(ur(a.properties)&&a.properties||[i]).forEach(o=>{(o===i||!r.has(o))&&r.set(o,s)})})}_animateOptions(e,n){const r=n.options,i=EK(e,r);if(!i)return[];const a=this._createAnimations(i,r);return r.$shared&&SK(e.options.$animations,r).then(()=>{e.options=r},()=>{}),a}_createAnimations(e,n){const r=this._properties,i=[],a=e.$animations||(e.$animations={}),s=Object.keys(n),o=Date.now();let l;for(l=s.length-1;l>=0;--l){const c=s[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(e,n));continue}const u=n[c];let f=a[c];const d=r.get(c);if(f)if(d&&f.active()){f.update(d,u,o);continue}else f.cancel();if(!d||!d.duration){e[c]=u;continue}a[c]=f=new wK(d,e,c,u),i.push(f)}return i}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return al.add(this._chart,r),!0}}function SK(t,e){const n=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const a=t[r[i]];a&&a.active()&&n.push(a.wait())}return Promise.all(n)}function EK(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function uT(t,e){const n=t&&t.options||{},r=n.reverse,i=n.min===void 0?e:0,a=n.max===void 0?e:0;return{start:r?a:i,end:r?i:a}}function AK(t,e,n){if(n===!1)return!1;const r=uT(t,n),i=uT(e,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function TK(t){let e,n,r,i;return yn(t)?(e=t.top,n=t.right,r=t.bottom,i=t.left):e=n=r=i=t,{top:e,right:n,bottom:r,left:i,disabled:t===!1}}function YL(t,e){const n=[],r=t._getSortedDatasetMetas(e);let i,a;for(i=0,a=r.length;i<a;++i)n.push(r[i].index);return n}function fT(t,e,n,r={}){const i=t.keys,a=r.mode==="single";let s,o,l,c;if(e===null)return;let u=!1;for(s=0,o=i.length;s<o;++s){if(l=+i[s],l===n){if(u=!0,r.all)continue;break}c=t.values[l],Tr(c)&&(a||e===0||Ro(e)===Ro(c))&&(e+=c)}return!u&&!r.all?0:e}function MK(t,e){const{iScale:n,vScale:r}=e,i=n.axis==="x"?"x":"y",a=r.axis==="x"?"x":"y",s=Object.keys(t),o=new Array(s.length);let l,c,u;for(l=0,c=s.length;l<c;++l)u=s[l],o[l]={[i]:u,[a]:t[u]};return o}function ey(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function NK(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function kK(t){const{min:e,max:n,minDefined:r,maxDefined:i}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function CK(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function hT(t,e,n,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const a=t[i.index];if(n&&a>0||!n&&a<0)return i.index}return null}function dT(t,e){const{chart:n,_cachedMeta:r}=t,i=n._stacks||(n._stacks={}),{iScale:a,vScale:s,index:o}=r,l=a.axis,c=s.axis,u=NK(a,s,r),f=e.length;let d;for(let h=0;h<f;++h){const g=e[h],{[l]:x,[c]:v}=g,m=g._stacks||(g._stacks={});d=m[c]=CK(i,u,x),d[o]=v,d._top=hT(d,s,!0,r.type),d._bottom=hT(d,s,!1,r.type);const b=d._visualValues||(d._visualValues={});b[o]=v}}function ty(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function RK(t,e){return Kc(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function PK(t,e,n){return Kc(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Zd(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const i of e){const a=i._stacks;if(!a||a[r]===void 0||a[r][n]===void 0)return;delete a[r][n],a[r]._visualValues!==void 0&&a[r]._visualValues[n]!==void 0&&delete a[r]._visualValues[n]}}}const ny=t=>t==="reset"||t==="none",pT=(t,e)=>e?t:Object.assign({},t),LK=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:YL(n,!0),values:null};class Js{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=ey(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Zd(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),i=(f,d,h,g)=>f==="x"?d:f==="r"?g:h,a=n.xAxisID=tn(r.xAxisID,ty(e,"x")),s=n.yAxisID=tn(r.yAxisID,ty(e,"y")),o=n.rAxisID=tn(r.rAxisID,ty(e,"r")),l=n.indexAxis,c=n.iAxisID=i(l,a,s,o),u=n.vAxisID=i(l,s,a,o);n.xScale=this.getScaleForId(a),n.yScale=this.getScaleForId(s),n.rScale=this.getScaleForId(o),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&KA(this._data,this),e._stacked&&Zd(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(yn(n)){const i=this._cachedMeta;this._data=MK(n,i)}else if(r!==n){if(r){KA(r,this);const i=this._cachedMeta;Zd(i),i._parsed=[]}n&&Object.isExtensible(n)&&xY(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const a=n._stacked;n._stacked=ey(n.vScale,n),n.stack!==r.stack&&(i=!0,Zd(n),n.stack=r.stack),this._resyncElements(e),(i||a!==n._stacked)&&(dT(this,n._parsed),n._stacked=ey(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:i}=this,{iScale:a,_stacked:s}=r,o=a.axis;let l=e===0&&n===i.length?!0:r._sorted,c=e>0&&r._parsed[e-1],u,f,d;if(this._parsing===!1)r._parsed=i,r._sorted=!0,d=i;else{ur(i[e])?d=this.parseArrayData(r,i,e,n):yn(i[e])?d=this.parseObjectData(r,i,e,n):d=this.parsePrimitiveData(r,i,e,n);const h=()=>f[o]===null||c&&f[o]<c[o];for(u=0;u<n;++u)r._parsed[u+e]=f=d[u],l&&(h()&&(l=!1),c=f);r._sorted=l}s&&dT(this,d)}parsePrimitiveData(e,n,r,i){const{iScale:a,vScale:s}=e,o=a.axis,l=s.axis,c=a.getLabels(),u=a===s,f=new Array(i);let d,h,g;for(d=0,h=i;d<h;++d)g=d+r,f[d]={[o]:u||a.parse(c[g],g),[l]:s.parse(n[g],g)};return f}parseArrayData(e,n,r,i){const{xScale:a,yScale:s}=e,o=new Array(i);let l,c,u,f;for(l=0,c=i;l<c;++l)u=l+r,f=n[u],o[l]={x:a.parse(f[0],u),y:s.parse(f[1],u)};return o}parseObjectData(e,n,r,i){const{xScale:a,yScale:s}=e,{xAxisKey:o="x",yAxisKey:l="y"}=this._parsing,c=new Array(i);let u,f,d,h;for(u=0,f=i;u<f;++u)d=u+r,h=n[d],c[u]={x:a.parse(jc(h,o),d),y:s.parse(jc(h,l),d)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const i=this.chart,a=this._cachedMeta,s=n[e.axis],o={keys:YL(i,!0),values:n._stacks[e.axis]._visualValues};return fT(o,s,a.index,{mode:r})}updateRangeFromParsed(e,n,r,i){const a=r[n.axis];let s=a===null?NaN:a;const o=i&&r._stacks[n.axis];i&&o&&(i.values=o,s=fT(i,a,this._cachedMeta.index)),e.min=Math.min(e.min,s),e.max=Math.max(e.max,s)}getMinMax(e,n){const r=this._cachedMeta,i=r._parsed,a=r._sorted&&e===r.iScale,s=i.length,o=this._getOtherScale(e),l=LK(n,r,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:f}=kK(o);let d,h;function g(){h=i[d];const x=h[o.axis];return!Tr(h[e.axis])||u>x||f<x}for(d=0;d<s&&!(!g()&&(this.updateRangeFromParsed(c,e,h,l),a));++d);if(a){for(d=s-1;d>=0;--d)if(!g()){this.updateRangeFromParsed(c,e,h,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let i,a,s;for(i=0,a=n.length;i<a;++i)s=n[i][e.axis],Tr(s)&&r.push(s);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,i=n.vScale,a=this.getParsed(e);return{label:r?""+r.getLabelForValue(a[r.axis]):"",value:i?""+i.getLabelForValue(a[i.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=TK(tn(this.options.clip,AK(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,i=r.data||[],a=n.chartArea,s=[],o=this._drawStart||0,l=this._drawCount||i.length-o,c=this.options.drawActiveElementsOnTop;let u;for(r.dataset&&r.dataset.draw(e,a,o,l),u=o;u<o+l;++u){const f=i[u];f.hidden||(f.active&&c?s.push(f):f.draw(e,a))}for(u=0;u<s.length;++u)s[u].draw(e,a)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const i=this.getDataset();let a;if(e>=0&&e<this._cachedMeta.data.length){const s=this._cachedMeta.data[e];a=s.$context||(s.$context=PK(this.getContext(),e,s)),a.parsed=this.getParsed(e),a.raw=i.data[e],a.index=a.dataIndex=e}else a=this.$context||(this.$context=RK(this.chart.getContext(),this.index)),a.dataset=i,a.index=a.datasetIndex=this.index;return a.active=!!n,a.mode=r,a}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const i=n==="active",a=this._cachedDataOpts,s=e+"-"+n,o=a[s],l=this.enableOptionSharing&&Rp(r);if(o)return pT(o,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),f=i?[`${e}Hover`,"hover",e,""]:[e,""],d=c.getOptionScopes(this.getDataset(),u),h=Object.keys(fr.elements[e]),g=()=>this.getContext(r,i,n),x=c.resolveNamedOptions(d,h,g,f);return x.$shared&&(x.$shared=l,a[s]=Object.freeze(pT(x,l))),x}_resolveAnimations(e,n,r){const i=this.chart,a=this._cachedDataOpts,s=`animation-${n}`,o=a[s];if(o)return o;let l;if(i.options.animation!==!1){const u=this.chart.config,f=u.datasetAnimationScopeKeys(this._type,n),d=u.getOptionScopes(this.getDataset(),f);l=u.createResolver(d,this.getContext(e,r,n))}const c=new $L(i,l&&l.animations);return l&&l._cacheable&&(a[s]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||ny(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),i=this._sharedOptions,a=this.getSharedOptions(r),s=this.includeOptions(n,a)||a!==i;return this.updateSharedOptions(a,n,r),{sharedOptions:a,includeOptions:s}}updateElement(e,n,r,i){ny(i)?Object.assign(e,r):this._resolveAnimations(n,i).update(e,r)}updateSharedOptions(e,n,r){e&&!ny(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,i){e.active=i;const a=this.getStyle(n,i);this._resolveAnimations(n,r,i).update(e,{options:!i&&this.getSharedOptions(a)||a})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[o,l,c]of this._syncList)this[o](l,c);this._syncList=[];const i=r.length,a=n.length,s=Math.min(a,i);s&&this.parse(0,s),a>i?this._insertElements(i,a-i,e):a<i&&this._removeElements(a,i-a)}_insertElements(e,n,r=!0){const i=this._cachedMeta,a=i.data,s=e+n;let o;const l=c=>{for(c.length+=n,o=c.length-1;o>=s;o--)c[o]=c[o-n]};for(l(a),o=e;o<s;++o)a[o]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(e,n),r&&this.updateElements(a,e,n,"reset")}updateElements(e,n,r,i){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(e,n);r._stacked&&Zd(r,i)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,i]=e;this[n](r,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}dt(Js,"defaults",{}),dt(Js,"datasetElementType",null),dt(Js,"dataElementType",null);function FK(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let r=[];for(let i=0,a=n.length;i<a;i++)r=r.concat(n[i].controller.getAllParsedValues(t));t._cache.$bar=NL(r.sort((i,a)=>i-a))}return t._cache.$bar}function DK(t){const e=t.iScale,n=FK(e,t.type);let r=e._length,i,a,s,o;const l=()=>{s===32767||s===-32768||(Rp(o)&&(r=Math.min(r,Math.abs(s-o)||r)),o=s)};for(i=0,a=n.length;i<a;++i)s=e.getPixelForValue(n[i]),l();for(o=void 0,i=0,a=e.ticks.length;i<a;++i)s=e.getPixelForTick(i),l();return r}function IK(t,e,n,r){const i=n.barThickness;let a,s;return xn(i)?(a=e.min*n.categoryPercentage,s=n.barPercentage):(a=i*r,s=1),{chunk:a/r,ratio:s,start:e.pixels[t]-a/2}}function OK(t,e,n,r){const i=e.pixels,a=i[t];let s=t>0?i[t-1]:null,o=t<i.length-1?i[t+1]:null;const l=n.categoryPercentage;s===null&&(s=a-(o===null?e.end-e.start:o-a)),o===null&&(o=a+a-s);const c=a-(a-Math.min(s,o))/2*l;return{chunk:Math.abs(o-s)/2*l/r,ratio:n.barPercentage,start:c}}function UK(t,e,n,r){const i=n.parse(t[0],r),a=n.parse(t[1],r),s=Math.min(i,a),o=Math.max(i,a);let l=s,c=o;Math.abs(s)>Math.abs(o)&&(l=o,c=s),e[n.axis]=c,e._custom={barStart:l,barEnd:c,start:i,end:a,min:s,max:o}}function KL(t,e,n,r){return ur(t)?UK(t,e,n,r):e[n.axis]=n.parse(t,r),e}function mT(t,e,n,r){const i=t.iScale,a=t.vScale,s=i.getLabels(),o=i===a,l=[];let c,u,f,d;for(c=n,u=n+r;c<u;++c)d=e[c],f={},f[i.axis]=o||i.parse(s[c],c),l.push(KL(d,f,a,c));return l}function ry(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function BK(t,e,n){return t!==0?Ro(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function jK(t){let e,n,r,i,a;return t.horizontal?(e=t.base>t.x,n="left",r="right"):(e=t.base<t.y,n="bottom",r="top"),e?(i="end",a="start"):(i="start",a="end"),{start:n,end:r,reverse:e,top:i,bottom:a}}function zK(t,e,n,r){let i=e.borderSkipped;const a={};if(!i){t.borderSkipped=a;return}if(i===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:s,end:o,reverse:l,top:c,bottom:u}=jK(t);i==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===r?i=c:(n._bottom||0)===r?i=u:(a[gT(u,s,o,l)]=!0,i=c)),a[gT(i,s,o,l)]=!0,t.borderSkipped=a}function gT(t,e,n,r){return r?(t=HK(t,e,n),t=xT(t,n,e)):t=xT(t,e,n),t}function HK(t,e,n){return t===e?n:t===n?e:t}function xT(t,e,n){return t==="start"?e:t==="end"?n:t}function VK(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class m1 extends Js{parsePrimitiveData(e,n,r,i){return mT(e,n,r,i)}parseArrayData(e,n,r,i){return mT(e,n,r,i)}parseObjectData(e,n,r,i){const{iScale:a,vScale:s}=e,{xAxisKey:o="x",yAxisKey:l="y"}=this._parsing,c=a.axis==="x"?o:l,u=s.axis==="x"?o:l,f=[];let d,h,g,x;for(d=r,h=r+i;d<h;++d)x=n[d],g={},g[a.axis]=a.parse(jc(x,c),d),f.push(KL(jc(x,u),g,s,d));return f}updateRangeFromParsed(e,n,r,i){super.updateRangeFromParsed(e,n,r,i);const a=r._custom;a&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,a.min),e.max=Math.max(e.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:r,vScale:i}=n,a=this.getParsed(e),s=a._custom,o=ry(s)?"["+s.start+", "+s.end+"]":""+i.getLabelForValue(a[i.axis]);return{label:""+r.getLabelForValue(a[r.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,r,i){const a=i==="reset",{index:s,_cachedMeta:{vScale:o}}=this,l=o.getBasePixel(),c=o.isHorizontal(),u=this._getRuler(),{sharedOptions:f,includeOptions:d}=this._getSharedOptions(n,i);for(let h=n;h<n+r;h++){const g=this.getParsed(h),x=a||xn(g[o.axis])?{base:l,head:l}:this._calculateBarValuePixels(h),v=this._calculateBarIndexPixels(h,u),m=(g._stacks||{})[o.axis],b={horizontal:c,base:x.base,enableBorderRadius:!m||ry(g._custom)||s===m._top||s===m._bottom,x:c?x.head:v.center,y:c?v.center:x.head,height:c?v.size:Math.abs(x.size),width:c?Math.abs(x.size):v.size};d&&(b.options=f||this.resolveDataElementOptions(h,e[h].active?"active":i));const _=b.options||e[h].options;zK(b,_,m,s),VK(b,_,u.ratio),this.updateElement(e[h],h,b,i)}}_getStacks(e,n){const{iScale:r}=this._cachedMeta,i=r.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),a=r.options.stacked,s=[],o=this._cachedMeta.controller.getParsed(n),l=o&&o[r.axis],c=u=>{const f=u._parsed.find(h=>h[r.axis]===l),d=f&&f[u.vScale.axis];if(xn(d)||isNaN(d))return!0};for(const u of i)if(!(n!==void 0&&c(u))&&((a===!1||s.indexOf(u.stack)===-1||a===void 0&&u.stack===void 0)&&s.push(u.stack),u.index===e))break;return s.length||s.push(void 0),s}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(e).filter(r=>e[r].axis===n).shift()}_getAxis(){const e={},n=this.getFirstScaleIdForIndexAxis();for(const r of this.chart.data.datasets)e[tn(this.chart.options.indexAxis==="x"?r.xAxisID:r.yAxisID,n)]=!0;return Object.keys(e)}_getStackIndex(e,n,r){const i=this._getStacks(e,r),a=n!==void 0?i.indexOf(n):-1;return a===-1?i.length-1:a}_getRuler(){const e=this.options,n=this._cachedMeta,r=n.iScale,i=[];let a,s;for(a=0,s=n.data.length;a<s;++a)i.push(r.getPixelForValue(this.getParsed(a)[r.axis],a));const o=e.barThickness;return{min:o||DK(n),pixels:i,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:o?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:r,index:i},options:{base:a,minBarLength:s}}=this,o=a||0,l=this.getParsed(e),c=l._custom,u=ry(c);let f=l[n.axis],d=0,h=r?this.applyStack(n,l,r):f,g,x;h!==f&&(d=h-f,h=f),u&&(f=c.barStart,h=c.barEnd-c.barStart,f!==0&&Ro(f)!==Ro(c.barEnd)&&(d=0),d+=f);const v=!xn(a)&&!u?a:d;let m=n.getPixelForValue(v);if(this.chart.getDataVisibility(e)?g=n.getPixelForValue(d+h):g=m,x=g-m,Math.abs(x)<s){x=BK(x,n,o)*s,f===o&&(m-=x/2);const b=n.getPixelForDecimal(0),_=n.getPixelForDecimal(1),S=Math.min(b,_),N=Math.max(b,_);m=Math.max(Math.min(m,N),S),g=m+x,r&&!u&&(l._stacks[n.axis]._visualValues[i]=n.getValueForPixel(g)-n.getValueForPixel(m))}if(m===n.getPixelForValue(o)){const b=Ro(x)*n.getLineWidthForValue(o)/2;m+=b,x-=b}return{size:x,base:m,head:g,center:g+x/2}}_calculateBarIndexPixels(e,n){const r=n.scale,i=this.options,a=i.skipNull,s=tn(i.maxBarThickness,1/0);let o,l;const c=this._getAxisCount();if(n.grouped){const u=a?this._getStackCount(e):n.stackCount,f=i.barThickness==="flex"?OK(e,n,i,u*c):IK(e,n,i,u*c),d=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,h=this._getAxis().indexOf(tn(d,this.getFirstScaleIdForIndexAxis())),g=this._getStackIndex(this.index,this._cachedMeta.stack,a?e:void 0)+h;o=f.start+f.chunk*g+f.chunk/2,l=Math.min(s,f.chunk*f.ratio)}else o=r.getPixelForValue(this.getParsed(e)[r.axis],e),l=Math.min(s,n.min*n.ratio);return{base:o-l/2,head:o+l/2,center:o,size:l}}draw(){const e=this._cachedMeta,n=e.vScale,r=e.data,i=r.length;let a=0;for(;a<i;++a)this.getParsed(a)[n.axis]!==null&&!r[a].hidden&&r[a].draw(this._ctx)}}dt(m1,"id","bar"),dt(m1,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),dt(m1,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class g1 extends Js{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,n,r,i){const a=super.parsePrimitiveData(e,n,r,i);for(let s=0;s<a.length;s++)a[s]._custom=this.resolveDataElementOptions(s+r).radius;return a}parseArrayData(e,n,r,i){const a=super.parseArrayData(e,n,r,i);for(let s=0;s<a.length;s++){const o=n[r+s];a[s]._custom=tn(o[2],this.resolveDataElementOptions(s+r).radius)}return a}parseObjectData(e,n,r,i){const a=super.parseObjectData(e,n,r,i);for(let s=0;s<a.length;s++){const o=n[r+s];a[s]._custom=tn(o&&o.r&&+o.r,this.resolveDataElementOptions(s+r).radius)}return a}getMaxOverflow(){const e=this._cachedMeta.data;let n=0;for(let r=e.length-1;r>=0;--r)n=Math.max(n,e[r].size(this.resolveDataElementOptions(r))/2);return n>0&&n}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:i,yScale:a}=n,s=this.getParsed(e),o=i.getLabelForValue(s.x),l=a.getLabelForValue(s.y),c=s._custom;return{label:r[e]||"",value:"("+o+", "+l+(c?", "+c:"")+")"}}update(e){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,e)}updateElements(e,n,r,i){const a=i==="reset",{iScale:s,vScale:o}=this._cachedMeta,{sharedOptions:l,includeOptions:c}=this._getSharedOptions(n,i),u=s.axis,f=o.axis;for(let d=n;d<n+r;d++){const h=e[d],g=!a&&this.getParsed(d),x={},v=x[u]=a?s.getPixelForDecimal(.5):s.getPixelForValue(g[u]),m=x[f]=a?o.getBasePixel():o.getPixelForValue(g[f]);x.skip=isNaN(v)||isNaN(m),c&&(x.options=l||this.resolveDataElementOptions(d,h.active?"active":i),a&&(x.options.radius=0)),this.updateElement(h,d,x,i)}}resolveDataElementOptions(e,n){const r=this.getParsed(e);let i=super.resolveDataElementOptions(e,n);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const a=i.radius;return n!=="active"&&(i.radius=0),i.radius+=tn(r&&r._custom,a),i}}dt(g1,"id","bubble"),dt(g1,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),dt(g1,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function WK(t,e,n){let r=1,i=1,a=0,s=0;if(e<ar){const o=t,l=o+e,c=Math.cos(o),u=Math.sin(o),f=Math.cos(l),d=Math.sin(l),h=(_,S,N)=>Pp(_,o,l,!0)?1:Math.max(S,S*n,N,N*n),g=(_,S,N)=>Pp(_,o,l,!0)?-1:Math.min(S,S*n,N,N*n),x=h(0,c,f),v=h(Hr,u,d),m=g(Rn,c,f),b=g(Rn+Hr,u,d);r=(x-m)/2,i=(v-b)/2,a=-(x+m)/2,s=-(v+b)/2}return{ratioX:r,ratioY:i,offsetX:a,offsetY:s}}class Fu extends Js{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const r=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=r;else{let a=l=>+r[l];if(yn(r[e])){const{key:l="value"}=this._parsing;a=c=>+jc(r[c],l)}let s,o;for(s=e,o=e+n;s<o;++s)i._parsed[s]=a(s)}}_getRotation(){return qs(this.options.rotation-90)}_getCircumference(){return qs(this.options.circumference)}_getRotationExtents(){let e=ar,n=-ar;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const i=this.chart.getDatasetMeta(r).controller,a=i._getRotation(),s=i._getCircumference();e=Math.min(e,a),n=Math.max(n,a+s)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:r}=n,i=this._cachedMeta,a=i.data,s=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,o=Math.max((Math.min(r.width,r.height)-s)/2,0),l=Math.min(nY(this.options.cutout,o),1),c=this._getRingWeight(this.index),{circumference:u,rotation:f}=this._getRotationExtents(),{ratioX:d,ratioY:h,offsetX:g,offsetY:x}=WK(f,u,l),v=(r.width-s)/d,m=(r.height-s)/h,b=Math.max(Math.min(v,m)/2,0),_=SL(this.options.radius,b),S=Math.max(_*l,0),N=(_-S)/this._getVisibleDatasetWeightTotal();this.offsetX=g*_,this.offsetY=x*_,i.total=this.calculateTotal(),this.outerRadius=_-N*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-N*c,0),this.updateElements(a,0,a.length,e)}_circumference(e,n){const r=this.options,i=this._cachedMeta,a=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*a/ar)}updateElements(e,n,r,i){const a=i==="reset",s=this.chart,o=s.chartArea,c=s.options.animation,u=(o.left+o.right)/2,f=(o.top+o.bottom)/2,d=a&&c.animateScale,h=d?0:this.innerRadius,g=d?0:this.outerRadius,{sharedOptions:x,includeOptions:v}=this._getSharedOptions(n,i);let m=this._getRotation(),b;for(b=0;b<n;++b)m+=this._circumference(b,a);for(b=n;b<n+r;++b){const _=this._circumference(b,a),S=e[b],N={x:u+this.offsetX,y:f+this.offsetY,startAngle:m,endAngle:m+_,circumference:_,outerRadius:g,innerRadius:h};v&&(N.options=x||this.resolveDataElementOptions(b,S.active?"active":i)),m+=_,this.updateElement(S,b,N,i)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let r=0,i;for(i=0;i<n.length;i++){const a=e._parsed[i];a!==null&&!isNaN(a)&&this.chart.getDataVisibility(i)&&!n[i].hidden&&(r+=Math.abs(a))}return r}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?ar*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart,i=r.data.labels||[],a=sm(n._parsed[e],r.options.locale);return{label:i[e]||"",value:a}}getMaxBorderWidth(e){let n=0;const r=this.chart;let i,a,s,o,l;if(!e){for(i=0,a=r.data.datasets.length;i<a;++i)if(r.isDatasetVisible(i)){s=r.getDatasetMeta(i),e=s.data,o=s.controller;break}}if(!e)return 0;for(i=0,a=e.length;i<a;++i)l=o.resolveDataElementOptions(i),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let r=0,i=e.length;r<i;++r){const a=this.resolveDataElementOptions(r);n=Math.max(n,a.offset||0,a.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(e){return Math.max(tn(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}dt(Fu,"id","doughnut"),dt(Fu,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),dt(Fu,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),dt(Fu,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:i}}=e.legend.options;return n.labels.map((a,s)=>{const l=e.getDatasetMeta(0).controller.getStyle(s);return{text:a,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(s),index:s}})}return[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}});class x1 extends Js{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:r,data:i=[],_dataset:a}=n,s=this.chart._animationsDisabled;let{start:o,count:l}=RL(n,i,s);this._drawStart=o,this._drawCount=l,PL(n)&&(o=0,l=i.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!a._decimated,r.points=i;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(r,void 0,{animated:!s,options:c},e),this.updateElements(i,o,l,e)}updateElements(e,n,r,i){const a=i==="reset",{iScale:s,vScale:o,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:f}=this._getSharedOptions(n,i),d=s.axis,h=o.axis,{spanGaps:g,segment:x}=this.options,v=Yh(g)?g:Number.POSITIVE_INFINITY,m=this.chart._animationsDisabled||a||i==="none",b=n+r,_=e.length;let S=n>0&&this.getParsed(n-1);for(let N=0;N<_;++N){const P=e[N],T=m?P:{};if(N<n||N>=b){T.skip=!0;continue}const L=this.getParsed(N),E=xn(L[h]),R=T[d]=s.getPixelForValue(L[d],N),A=T[h]=a||E?o.getBasePixel():o.getPixelForValue(l?this.applyStack(o,L,l):L[h],N);T.skip=isNaN(R)||isNaN(A)||E,T.stop=N>0&&Math.abs(L[d]-S[d])>v,x&&(T.parsed=L,T.raw=c.data[N]),f&&(T.options=u||this.resolveDataElementOptions(N,P.active?"active":i)),m||this.updateElement(P,N,T,i),S=L}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,r=n.options&&n.options.borderWidth||0,i=e.data||[];if(!i.length)return r;const a=i[0].size(this.resolveDataElementOptions(0)),s=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(r,a,s)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}dt(x1,"id","line"),dt(x1,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),dt(x1,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class $0 extends Js{constructor(e,n){super(e,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart,i=r.data.labels||[],a=sm(n._parsed[e].r,r.options.locale);return{label:i[e]||"",value:a}}parseObjectData(e,n,r,i){return jL.bind(this)(e,n,r,i)}update(e){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,e)}getMinMax(){const e=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((r,i)=>{const a=this.getParsed(i).r;!isNaN(a)&&this.chart.getDataVisibility(i)&&(a<n.min&&(n.min=a),a>n.max&&(n.max=a))}),n}_updateRadius(){const e=this.chart,n=e.chartArea,r=e.options,i=Math.min(n.right-n.left,n.bottom-n.top),a=Math.max(i/2,0),s=Math.max(r.cutoutPercentage?a/100*r.cutoutPercentage:1,0),o=(a-s)/e.getVisibleDatasetCount();this.outerRadius=a-o*this.index,this.innerRadius=this.outerRadius-o}updateElements(e,n,r,i){const a=i==="reset",s=this.chart,l=s.options.animation,c=this._cachedMeta.rScale,u=c.xCenter,f=c.yCenter,d=c.getIndexAngle(0)-.5*Rn;let h=d,g;const x=360/this.countVisibleElements();for(g=0;g<n;++g)h+=this._computeAngle(g,i,x);for(g=n;g<n+r;g++){const v=e[g];let m=h,b=h+this._computeAngle(g,i,x),_=s.getDataVisibility(g)?c.getDistanceFromCenterForValue(this.getParsed(g).r):0;h=b,a&&(l.animateScale&&(_=0),l.animateRotate&&(m=b=d));const S={x:u,y:f,innerRadius:0,outerRadius:_,startAngle:m,endAngle:b,options:this.resolveDataElementOptions(g,v.active?"active":i)};this.updateElement(v,g,S,i)}}countVisibleElements(){const e=this._cachedMeta;let n=0;return e.data.forEach((r,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&n++}),n}_computeAngle(e,n,r){return this.chart.getDataVisibility(e)?qs(this.resolveDataElementOptions(e,n).angle||r):0}}dt($0,"id","polarArea"),dt($0,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),dt($0,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:i}}=e.legend.options;return n.labels.map((a,s)=>{const l=e.getDatasetMeta(0).controller.getStyle(s);return{text:a,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(s),index:s}})}return[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class Hb extends Fu{}dt(Hb,"id","pie"),dt(Hb,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class v1 extends Js{getLabelAndValue(e){const n=this._cachedMeta.vScale,r=this.getParsed(e);return{label:n.getLabels()[e],value:""+n.getLabelForValue(r[n.axis])}}parseObjectData(e,n,r,i){return jL.bind(this)(e,n,r,i)}update(e){const n=this._cachedMeta,r=n.dataset,i=n.data||[],a=n.iScale.getLabels();if(r.points=i,e!=="resize"){const s=this.resolveDatasetElementOptions(e);this.options.showLine||(s.borderWidth=0);const o={_loop:!0,_fullLoop:a.length===i.length,options:s};this.updateElement(r,void 0,o,e)}this.updateElements(i,0,i.length,e)}updateElements(e,n,r,i){const a=this._cachedMeta.rScale,s=i==="reset";for(let o=n;o<n+r;o++){const l=e[o],c=this.resolveDataElementOptions(o,l.active?"active":i),u=a.getPointPositionForValue(o,this.getParsed(o).r),f=s?a.xCenter:u.x,d=s?a.yCenter:u.y,h={x:f,y:d,angle:u.angle,skip:isNaN(f)||isNaN(d),options:c};this.updateElement(l,o,h,i)}}}dt(v1,"id","radar"),dt(v1,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),dt(v1,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class y1 extends Js{getLabelAndValue(e){const n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:i,yScale:a}=n,s=this.getParsed(e),o=i.getLabelForValue(s.x),l=a.getLabelForValue(s.y);return{label:r[e]||"",value:"("+o+", "+l+")"}}update(e){const n=this._cachedMeta,{data:r=[]}=n,i=this.chart._animationsDisabled;let{start:a,count:s}=RL(n,r,i);if(this._drawStart=a,this._drawCount=s,PL(n)&&(a=0,s=r.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:o,_dataset:l}=n;o._chart=this.chart,o._datasetIndex=this.index,o._decimated=!!l._decimated,o.points=r;const c=this.resolveDatasetElementOptions(e);c.segment=this.options.segment,this.updateElement(o,void 0,{animated:!i,options:c},e)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(r,a,s,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,n,r,i){const a=i==="reset",{iScale:s,vScale:o,_stacked:l,_dataset:c}=this._cachedMeta,u=this.resolveDataElementOptions(n,i),f=this.getSharedOptions(u),d=this.includeOptions(i,f),h=s.axis,g=o.axis,{spanGaps:x,segment:v}=this.options,m=Yh(x)?x:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||a||i==="none";let _=n>0&&this.getParsed(n-1);for(let S=n;S<n+r;++S){const N=e[S],P=this.getParsed(S),T=b?N:{},L=xn(P[g]),E=T[h]=s.getPixelForValue(P[h],S),R=T[g]=a||L?o.getBasePixel():o.getPixelForValue(l?this.applyStack(o,P,l):P[g],S);T.skip=isNaN(E)||isNaN(R)||L,T.stop=S>0&&Math.abs(P[h]-_[h])>m,v&&(T.parsed=P,T.raw=c.data[S]),d&&(T.options=f||this.resolveDataElementOptions(S,N.active?"active":i)),b||this.updateElement(N,S,T,i),_=P}this.updateSharedOptions(f,i,u)}getMaxOverflow(){const e=this._cachedMeta,n=e.data||[];if(!this.options.showLine){let o=0;for(let l=n.length-1;l>=0;--l)o=Math.max(o,n[l].size(this.resolveDataElementOptions(l))/2);return o>0&&o}const r=e.dataset,i=r.options&&r.options.borderWidth||0;if(!n.length)return i;const a=n[0].size(this.resolveDataElementOptions(0)),s=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(i,a,s)/2}}dt(y1,"id","scatter"),dt(y1,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),dt(y1,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var GK=Object.freeze({__proto__:null,BarController:m1,BubbleController:g1,DoughnutController:Fu,LineController:x1,PieController:Hb,PolarAreaController:$0,RadarController:v1,ScatterController:y1});function uu(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class KS{constructor(e){dt(this,"options");this.options=e||{}}static override(e){Object.assign(KS.prototype,e)}init(){}formats(){return uu()}parse(){return uu()}format(){return uu()}add(){return uu()}diff(){return uu()}startOf(){return uu()}endOf(){return uu()}}var qK={_date:KS};function XK(t,e,n,r){const{controller:i,data:a,_sorted:s}=t,o=i._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(o&&e===o.axis&&e!=="r"&&s&&a.length){const c=o._reversePixels?mY:xl;if(r){if(i._sharedOptions){const u=a[0],f=typeof u.getRange=="function"&&u.getRange(e);if(f){const d=c(a,e,n-f),h=c(a,e,n+f);return{lo:d.lo,hi:h.hi}}}}else{const u=c(a,e,n);if(l){const{vScale:f}=i._cachedMeta,{_parsed:d}=t,h=d.slice(0,u.lo+1).reverse().findIndex(x=>!xn(x[f.axis]));u.lo-=Math.max(0,h);const g=d.slice(u.hi).findIndex(x=>!xn(x[f.axis]));u.hi+=Math.max(0,g)}return u}}return{lo:0,hi:a.length-1}}function wv(t,e,n,r,i){const a=t.getSortedVisibleDatasetMetas(),s=n[e];for(let o=0,l=a.length;o<l;++o){const{index:c,data:u}=a[o],{lo:f,hi:d}=XK(a[o],e,s,i);for(let h=f;h<=d;++h){const g=u[h];g.skip||r(g,c,h)}}}function $K(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,i){const a=e?Math.abs(r.x-i.x):0,s=n?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(s,2))}}function iy(t,e,n,r,i){const a=[];return!i&&!t.isPointInArea(e)||wv(t,n,e,function(o,l,c){!i&&!vl(o,t.chartArea,0)||o.inRange(e.x,e.y,r)&&a.push({element:o,datasetIndex:l,index:c})},!0),a}function YK(t,e,n,r){let i=[];function a(s,o,l){const{startAngle:c,endAngle:u}=s.getProps(["startAngle","endAngle"],r),{angle:f}=TL(s,{x:e.x,y:e.y});Pp(f,c,u)&&i.push({element:s,datasetIndex:o,index:l})}return wv(t,n,e,a),i}function KK(t,e,n,r,i,a){let s=[];const o=$K(n);let l=Number.POSITIVE_INFINITY;function c(u,f,d){const h=u.inRange(e.x,e.y,i);if(r&&!h)return;const g=u.getCenterPoint(i);if(!(!!a||t.isPointInArea(g))&&!h)return;const v=o(e,g);v<l?(s=[{element:u,datasetIndex:f,index:d}],l=v):v===l&&s.push({element:u,datasetIndex:f,index:d})}return wv(t,n,e,c),s}function ay(t,e,n,r,i,a){return!a&&!t.isPointInArea(e)?[]:n==="r"&&!r?YK(t,e,n,i):KK(t,e,n,r,i,a)}function vT(t,e,n,r,i){const a=[],s=n==="x"?"inXRange":"inYRange";let o=!1;return wv(t,n,e,(l,c,u)=>{l[s]&&l[s](e[n],i)&&(a.push({element:l,datasetIndex:c,index:u}),o=o||l.inRange(e.x,e.y,i))}),r&&!o?[]:a}var JK={modes:{index(t,e,n,r){const i=_u(e,t),a=n.axis||"x",s=n.includeInvisible||!1,o=n.intersect?iy(t,i,a,r,s):ay(t,i,a,!1,r,s),l=[];return o.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const u=o[0].index,f=c.data[u];f&&!f.skip&&l.push({element:f,datasetIndex:c.index,index:u})}),l):[]},dataset(t,e,n,r){const i=_u(e,t),a=n.axis||"xy",s=n.includeInvisible||!1;let o=n.intersect?iy(t,i,a,r,s):ay(t,i,a,!1,r,s);if(o.length>0){const l=o[0].datasetIndex,c=t.getDatasetMeta(l).data;o=[];for(let u=0;u<c.length;++u)o.push({element:c[u],datasetIndex:l,index:u})}return o},point(t,e,n,r){const i=_u(e,t),a=n.axis||"xy",s=n.includeInvisible||!1;return iy(t,i,a,r,s)},nearest(t,e,n,r){const i=_u(e,t),a=n.axis||"xy",s=n.includeInvisible||!1;return ay(t,i,a,n.intersect,r,s)},x(t,e,n,r){const i=_u(e,t);return vT(t,i,"x",n.intersect,r)},y(t,e,n,r){const i=_u(e,t);return vT(t,i,"y",n.intersect,r)}}};const JL=["left","top","right","bottom"];function Qd(t,e){return t.filter(n=>n.pos===e)}function yT(t,e){return t.filter(n=>JL.indexOf(n.pos)===-1&&n.box.axis===e)}function e0(t,e){return t.sort((n,r)=>{const i=e?r:n,a=e?n:r;return i.weight===a.weight?i.index-a.index:i.weight-a.weight})}function ZK(t){const e=[];let n,r,i,a,s,o;for(n=0,r=(t||[]).length;n<r;++n)i=t[n],{position:a,options:{stack:s,stackWeight:o=1}}=i,e.push({index:n,box:i,pos:a,horizontal:i.isHorizontal(),weight:i.weight,stack:s&&a+s,stackWeight:o});return e}function QK(t){const e={};for(const n of t){const{stack:r,pos:i,stackWeight:a}=n;if(!r||!JL.includes(i))continue;const s=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=a}return e}function eJ(t,e){const n=QK(t),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let a,s,o;for(a=0,s=t.length;a<s;++a){o=t[a];const{fullSize:l}=o.box,c=n[o.stack],u=c&&o.stackWeight/c.weight;o.horizontal?(o.width=u?u*r:l&&e.availableWidth,o.height=i):(o.width=r,o.height=u?u*i:l&&e.availableHeight)}return n}function tJ(t){const e=ZK(t),n=e0(e.filter(c=>c.box.fullSize),!0),r=e0(Qd(e,"left"),!0),i=e0(Qd(e,"right")),a=e0(Qd(e,"top"),!0),s=e0(Qd(e,"bottom")),o=yT(e,"x"),l=yT(e,"y");return{fullSize:n,leftAndTop:r.concat(a),rightAndBottom:i.concat(l).concat(s).concat(o),chartArea:Qd(e,"chartArea"),vertical:r.concat(i).concat(l),horizontal:a.concat(s).concat(o)}}function _T(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function ZL(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function nJ(t,e,n,r){const{pos:i,box:a}=n,s=t.maxPadding;if(!yn(i)){n.size&&(t[i]-=n.size);const f=r[n.stack]||{size:0,count:1};f.size=Math.max(f.size,n.horizontal?a.height:a.width),n.size=f.size/f.count,t[i]+=n.size}a.getPadding&&ZL(s,a.getPadding());const o=Math.max(0,e.outerWidth-_T(s,t,"left","right")),l=Math.max(0,e.outerHeight-_T(s,t,"top","bottom")),c=o!==t.w,u=l!==t.h;return t.w=o,t.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function rJ(t){const e=t.maxPadding;function n(r){const i=Math.max(e[r]-t[r],0);return t[r]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function iJ(t,e){const n=e.maxPadding;function r(i){const a={left:0,top:0,right:0,bottom:0};return i.forEach(s=>{a[s]=Math.max(e[s],n[s])}),a}return r(t?["left","right"]:["top","bottom"])}function b0(t,e,n,r){const i=[];let a,s,o,l,c,u;for(a=0,s=t.length,c=0;a<s;++a){o=t[a],l=o.box,l.update(o.width||e.w,o.height||e.h,iJ(o.horizontal,e));const{same:f,other:d}=nJ(e,n,o,r);c|=f&&i.length,u=u||d,l.fullSize||i.push(o)}return c&&b0(i,e,n,r)||u}function hg(t,e,n,r,i){t.top=n,t.left=e,t.right=e+r,t.bottom=n+i,t.width=r,t.height=i}function bT(t,e,n,r){const i=n.padding;let{x:a,y:s}=e;for(const o of t){const l=o.box,c=r[o.stack]||{placed:0,weight:1},u=o.stackWeight/c.weight||1;if(o.horizontal){const f=e.w*u,d=c.size||l.height;Rp(c.start)&&(s=c.start),l.fullSize?hg(l,i.left,s,n.outerWidth-i.right-i.left,d):hg(l,e.left+c.placed,s,f,d),c.start=s,c.placed+=f,s=l.bottom}else{const f=e.h*u,d=c.size||l.width;Rp(c.start)&&(a=c.start),l.fullSize?hg(l,a,i.top,d,n.outerHeight-i.bottom-i.top):hg(l,a,e.top+c.placed,d,f),c.start=a,c.placed+=f,a=l.right}}e.x=a,e.y=s}var Ji={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const i=ta(t.options.layout.padding),a=Math.max(e-i.width,0),s=Math.max(n-i.height,0),o=tJ(t.boxes),l=o.vertical,c=o.horizontal;Un(t.boxes,x=>{typeof x.beforeLayout=="function"&&x.beforeLayout()});const u=l.reduce((x,v)=>v.box.options&&v.box.options.display===!1?x:x+1,0)||1,f=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:a,availableHeight:s,vBoxMaxWidth:a/2/u,hBoxMaxHeight:s/2}),d=Object.assign({},i);ZL(d,ta(r));const h=Object.assign({maxPadding:d,w:a,h:s,x:i.left,y:i.top},i),g=eJ(l.concat(c),f);b0(o.fullSize,h,f,g),b0(l,h,f,g),b0(c,h,f,g)&&b0(l,h,f,g),rJ(h),bT(o.leftAndTop,h,f,g),h.x+=h.w,h.y+=h.h,bT(o.rightAndBottom,h,f,g),t.chartArea={left:h.left,top:h.top,right:h.left+h.w,bottom:h.top+h.h,height:h.h,width:h.w},Un(o.chartArea,x=>{const v=x.box;Object.assign(v,t.chartArea),v.update(h.w,h.h,{left:0,top:0,right:0,bottom:0})})}};class QL{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,i){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,i?Math.floor(n/i):r)}}isAttached(e){return!0}updateConfig(e){}}class aJ extends QL{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const _1="$chartjs",sJ={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},wT=t=>t===null||t==="";function oJ(t,e){const n=t.style,r=t.getAttribute("height"),i=t.getAttribute("width");if(t[_1]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",wT(i)){const a=aT(t,"width");a!==void 0&&(t.width=a)}if(wT(r))if(t.style.height==="")t.height=t.width/(e||2);else{const a=aT(t,"height");a!==void 0&&(t.height=a)}return t}const e8=lK?{passive:!0}:!1;function lJ(t,e,n){t&&t.addEventListener(e,n,e8)}function cJ(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,e8)}function uJ(t,e){const n=sJ[t.type]||t.type,{x:r,y:i}=_u(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:i!==void 0?i:null}}function Mx(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function fJ(t,e,n){const r=t.canvas,i=new MutationObserver(a=>{let s=!1;for(const o of a)s=s||Mx(o.addedNodes,r),s=s&&!Mx(o.removedNodes,r);s&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function hJ(t,e,n){const r=t.canvas,i=new MutationObserver(a=>{let s=!1;for(const o of a)s=s||Mx(o.removedNodes,r),s=s&&!Mx(o.addedNodes,r);s&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const Fp=new Map;let ST=0;function t8(){const t=window.devicePixelRatio;t!==ST&&(ST=t,Fp.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function dJ(t,e){Fp.size||window.addEventListener("resize",t8),Fp.set(t,e)}function pJ(t){Fp.delete(t),Fp.size||window.removeEventListener("resize",t8)}function mJ(t,e,n){const r=t.canvas,i=r&&YS(r);if(!i)return;const a=CL((o,l)=>{const c=i.clientWidth;n(o,l),c<i.clientWidth&&n()},window),s=new ResizeObserver(o=>{const l=o[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||a(c,u)});return s.observe(i),dJ(t,a),s}function sy(t,e,n){n&&n.disconnect(),e==="resize"&&pJ(t)}function gJ(t,e,n){const r=t.canvas,i=CL(a=>{t.ctx!==null&&n(uJ(a,t))},t);return lJ(r,e,i),i}class xJ extends QL{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(oJ(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[_1])return!1;const r=n[_1].initial;["height","width"].forEach(a=>{const s=r[a];xn(s)?n.removeAttribute(a):n.setAttribute(a,s)});const i=r.style||{};return Object.keys(i).forEach(a=>{n.style[a]=i[a]}),n.width=n.width,delete n[_1],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const i=e.$proxies||(e.$proxies={}),s={attach:fJ,detach:hJ,resize:mJ}[n]||gJ;i[n]=s(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),i=r[n];if(!i)return;({attach:sy,detach:sy,resize:sy}[n]||cJ)(e,n,i),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,i){return oK(e,n,r,i)}isAttached(e){const n=e&&YS(e);return!!(n&&n.isConnected)}}function vJ(t){return!$S()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?aJ:xJ}class eo{constructor(){dt(this,"x");dt(this,"y");dt(this,"active",!1);dt(this,"options");dt(this,"$animations")}tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return Yh(this.x)&&Yh(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const i={};return e.forEach(a=>{i[a]=r[a]&&r[a].active()?r[a]._to:this[a]}),i}}dt(eo,"defaults",{}),dt(eo,"defaultRoutes");function yJ(t,e){const n=t.options.ticks,r=_J(t),i=Math.min(n.maxTicksLimit||r,r),a=n.major.enabled?wJ(e):[],s=a.length,o=a[0],l=a[s-1],c=[];if(s>i)return SJ(e,c,a,s/i),c;const u=bJ(a,e,i);if(s>0){let f,d;const h=s>1?Math.round((l-o)/(s-1)):null;for(dg(e,c,u,xn(h)?0:o-h,o),f=0,d=s-1;f<d;f++)dg(e,c,u,a[f],a[f+1]);return dg(e,c,u,l,xn(h)?e.length:l+h),c}return dg(e,c,u),c}function _J(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(r,i))}function bJ(t,e,n){const r=EJ(t),i=e.length/n;if(!r)return Math.max(i,1);const a=uY(r);for(let s=0,o=a.length-1;s<o;s++){const l=a[s];if(l>i)return l}return Math.max(i,1)}function wJ(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function SJ(t,e,n,r){let i=0,a=n[0],s;for(r=Math.ceil(r),s=0;s<t.length;s++)s===a&&(e.push(t[s]),i++,a=n[i*r])}function dg(t,e,n,r,i){const a=tn(r,0),s=Math.min(tn(i,t.length),t.length);let o=0,l,c,u;for(n=Math.ceil(n),i&&(l=i-r,n=l/Math.floor(l/n)),u=a;u<0;)o++,u=Math.round(a+o*n);for(c=Math.max(a,0);c<s;c++)c===u&&(e.push(t[c]),o++,u=Math.round(a+o*n))}function EJ(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const AJ=t=>t==="left"?"right":t==="right"?"left":t,ET=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,AT=(t,e)=>Math.min(e||t,t);function TT(t,e){const n=[],r=t.length/e,i=t.length;let a=0;for(;a<i;a+=r)n.push(t[Math.floor(a)]);return n}function TJ(t,e,n){const r=t.ticks.length,i=Math.min(e,r-1),a=t._startPixel,s=t._endPixel,o=1e-6;let l=t.getPixelForTick(i),c;if(!(n&&(r===1?c=Math.max(l-a,s-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(i-1))/2,l+=i<e?c:-c,l<a-o||l>s+o)))return l}function MJ(t,e){Un(t,n=>{const r=n.gc,i=r.length/2;let a;if(i>e){for(a=0;a<i;++a)delete n.data[r[a]];r.splice(0,i)}})}function t0(t){return t.drawTicks?t.tickLength:0}function MT(t,e){if(!t.display)return 0;const n=si(t.font,e),r=ta(t.padding);return(ur(t.text)?t.text.length:1)*n.lineHeight+r.height}function NJ(t,e){return Kc(t,{scale:e,type:"scale"})}function kJ(t,e,n){return Kc(t,{tick:n,index:e,type:"tick"})}function CJ(t,e,n){let r=HS(t);return(n&&e!=="right"||!n&&e==="right")&&(r=AJ(r)),r}function RJ(t,e,n,r){const{top:i,left:a,bottom:s,right:o,chart:l}=t,{chartArea:c,scales:u}=l;let f=0,d,h,g;const x=s-i,v=o-a;if(t.isHorizontal()){if(h=Wi(r,a,o),yn(n)){const m=Object.keys(n)[0],b=n[m];g=u[m].getPixelForValue(b)+x-e}else n==="center"?g=(c.bottom+c.top)/2+x-e:g=ET(t,n,e);d=o-a}else{if(yn(n)){const m=Object.keys(n)[0],b=n[m];h=u[m].getPixelForValue(b)-v+e}else n==="center"?h=(c.left+c.right)/2-v+e:h=ET(t,n,e);g=Wi(r,s,i),f=n==="left"?-Hr:Hr}return{titleX:h,titleY:g,maxWidth:d,rotation:f}}class xf extends eo{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:i}=this;return e=$a(e,Number.POSITIVE_INFINITY),n=$a(n,Number.NEGATIVE_INFINITY),r=$a(r,Number.POSITIVE_INFINITY),i=$a(i,Number.NEGATIVE_INFINITY),{min:$a(e,r),max:$a(n,i),minDefined:Tr(e),maxDefined:Tr(n)}}getMinMax(e){let{min:n,max:r,minDefined:i,maxDefined:a}=this.getUserBounds(),s;if(i&&a)return{min:n,max:r};const o=this.getMatchingVisibleMetas();for(let l=0,c=o.length;l<c;++l)s=o[l].controller.getMinMax(this,e),i||(n=Math.min(n,s.min)),a||(r=Math.max(r,s.max));return n=a&&n>r?r:n,r=i&&n>r?n:r,{min:$a(n,$a(r,n)),max:$a(r,$a(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Jn(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:i,grace:a,ticks:s}=this.options,o=s.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=BY(this,a,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=o<this.ticks.length;this._convertTicksToLabels(l?TT(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||s.source==="auto")&&(this.ticks=yJ(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Jn(this.options.afterUpdate,[this])}beforeSetDimensions(){Jn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Jn(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Jn(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Jn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,i,a;for(r=0,i=e.length;r<i;r++)a=e[r],a.label=Jn(n.callback,[a.value,r,e],this)}afterTickToLabelConversion(){Jn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Jn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=AT(this.ticks.length,e.ticks.maxTicksLimit),i=n.minRotation||0,a=n.maxRotation;let s=i,o,l,c;if(!this._isVisible()||!n.display||i>=a||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const u=this._getLabelSizes(),f=u.widest.width,d=u.highest.height,h=xi(this.chart.width-f,0,this.maxWidth);o=e.offset?this.maxWidth/r:h/(r-1),f+6>o&&(o=h/(r-(e.offset?.5:1)),l=this.maxHeight-t0(e.grid)-n.padding-MT(e.title,this.chart.options.font),c=Math.sqrt(f*f+d*d),s=jS(Math.min(Math.asin(xi((u.highest.height+6)/o,-1,1)),Math.asin(xi(l/c,-1,1))-Math.asin(xi(d/c,-1,1)))),s=Math.max(i,Math.min(a,s))),this.labelRotation=s}afterCalculateLabelRotation(){Jn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Jn(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:i,grid:a}}=this,s=this._isVisible(),o=this.isHorizontal();if(s){const l=MT(i,n.options.font);if(o?(e.width=this.maxWidth,e.height=t0(a)+l):(e.height=this.maxHeight,e.width=t0(a)+l),r.display&&this.ticks.length){const{first:c,last:u,widest:f,highest:d}=this._getLabelSizes(),h=r.padding*2,g=qs(this.labelRotation),x=Math.cos(g),v=Math.sin(g);if(o){const m=r.mirror?0:v*f.width+x*d.height;e.height=Math.min(this.maxHeight,e.height+m+h)}else{const m=r.mirror?0:x*f.width+v*d.height;e.width=Math.min(this.maxWidth,e.width+m+h)}this._calculatePadding(c,u,v,x)}}this._handleMargins(),o?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,i){const{ticks:{align:a,padding:s},position:o}=this.options,l=this.labelRotation!==0,c=o!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,h=0;l?c?(d=i*e.width,h=r*n.height):(d=r*e.height,h=i*n.width):a==="start"?h=n.width:a==="end"?d=e.width:a!=="inner"&&(d=e.width/2,h=n.width/2),this.paddingLeft=Math.max((d-u+s)*this.width/(this.width-u),0),this.paddingRight=Math.max((h-f+s)*this.width/(this.width-f),0)}else{let u=n.height/2,f=e.height/2;a==="start"?(u=0,f=e.height):a==="end"&&(u=n.height,f=0),this.paddingTop=u+s,this.paddingBottom=f+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Jn(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)xn(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=TT(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:i,_longestTextCache:a}=this,s=[],o=[],l=Math.floor(n/AT(n,r));let c=0,u=0,f,d,h,g,x,v,m,b,_,S,N;for(f=0;f<n;f+=l){if(g=e[f].label,x=this._resolveTickFontOptions(f),i.font=v=x.string,m=a[v]=a[v]||{data:{},gc:[]},b=x.lineHeight,_=S=0,!xn(g)&&!ur(g))_=Ax(i,m.data,m.gc,_,g),S=b;else if(ur(g))for(d=0,h=g.length;d<h;++d)N=g[d],!xn(N)&&!ur(N)&&(_=Ax(i,m.data,m.gc,_,N),S+=b);s.push(_),o.push(S),c=Math.max(_,c),u=Math.max(S,u)}MJ(a,n);const P=s.indexOf(c),T=o.indexOf(u),L=E=>({width:s[E]||0,height:o[E]||0});return{first:L(0),last:L(n-1),widest:L(P),highest:L(T),widths:s,heights:o}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return pY(this._alignToPixels?cu(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=kJ(this.getContext(),e,r))}return this.$context||(this.$context=NJ(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=qs(this.labelRotation),r=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),a=this._getLabelSizes(),s=e.autoSkipPadding||0,o=a?a.widest.width+s:0,l=a?a.highest.height+s:0;return this.isHorizontal()?l*r>o*i?o/r:l/i:l*i<o*r?l/r:o/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,i=this.options,{grid:a,position:s,border:o}=i,l=a.offset,c=this.isHorizontal(),f=this.ticks.length+(l?1:0),d=t0(a),h=[],g=o.setContext(this.getContext()),x=g.display?g.width:0,v=x/2,m=function(ee){return cu(r,ee,x)};let b,_,S,N,P,T,L,E,R,A,F,j;if(s==="top")b=m(this.bottom),T=this.bottom-d,E=b-v,A=m(e.top)+v,j=e.bottom;else if(s==="bottom")b=m(this.top),A=e.top,j=m(e.bottom)-v,T=b+v,E=this.top+d;else if(s==="left")b=m(this.right),P=this.right-d,L=b-v,R=m(e.left)+v,F=e.right;else if(s==="right")b=m(this.left),R=e.left,F=m(e.right)-v,P=b+v,L=this.left+d;else if(n==="x"){if(s==="center")b=m((e.top+e.bottom)/2+.5);else if(yn(s)){const ee=Object.keys(s)[0],se=s[ee];b=m(this.chart.scales[ee].getPixelForValue(se))}A=e.top,j=e.bottom,T=b+v,E=T+d}else if(n==="y"){if(s==="center")b=m((e.left+e.right)/2);else if(yn(s)){const ee=Object.keys(s)[0],se=s[ee];b=m(this.chart.scales[ee].getPixelForValue(se))}P=b-v,L=P-d,R=e.left,F=e.right}const V=tn(i.ticks.maxTicksLimit,f),X=Math.max(1,Math.ceil(f/V));for(_=0;_<f;_+=X){const ee=this.getContext(_),se=a.setContext(ee),B=o.setContext(ee),H=se.lineWidth,xe=se.color,Se=B.dash||[],k=B.dashOffset,U=se.tickWidth,O=se.tickColor,I=se.tickBorderDash||[],K=se.tickBorderDashOffset;S=TJ(this,_,l),S!==void 0&&(N=cu(r,S,H),c?P=L=R=F=N:T=E=A=j=N,h.push({tx1:P,ty1:T,tx2:L,ty2:E,x1:R,y1:A,x2:F,y2:j,width:H,color:xe,borderDash:Se,borderDashOffset:k,tickWidth:U,tickColor:O,tickBorderDash:I,tickBorderDashOffset:K}))}return this._ticksLength=f,this._borderValue=b,h}_computeLabelItems(e){const n=this.axis,r=this.options,{position:i,ticks:a}=r,s=this.isHorizontal(),o=this.ticks,{align:l,crossAlign:c,padding:u,mirror:f}=a,d=t0(r.grid),h=d+u,g=f?-u:h,x=-qs(this.labelRotation),v=[];let m,b,_,S,N,P,T,L,E,R,A,F,j="middle";if(i==="top")P=this.bottom-g,T=this._getXAxisLabelAlignment();else if(i==="bottom")P=this.top+g,T=this._getXAxisLabelAlignment();else if(i==="left"){const X=this._getYAxisLabelAlignment(d);T=X.textAlign,N=X.x}else if(i==="right"){const X=this._getYAxisLabelAlignment(d);T=X.textAlign,N=X.x}else if(n==="x"){if(i==="center")P=(e.top+e.bottom)/2+h;else if(yn(i)){const X=Object.keys(i)[0],ee=i[X];P=this.chart.scales[X].getPixelForValue(ee)+h}T=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")N=(e.left+e.right)/2-h;else if(yn(i)){const X=Object.keys(i)[0],ee=i[X];N=this.chart.scales[X].getPixelForValue(ee)}T=this._getYAxisLabelAlignment(d).textAlign}n==="y"&&(l==="start"?j="top":l==="end"&&(j="bottom"));const V=this._getLabelSizes();for(m=0,b=o.length;m<b;++m){_=o[m],S=_.label;const X=a.setContext(this.getContext(m));L=this.getPixelForTick(m)+a.labelOffset,E=this._resolveTickFontOptions(m),R=E.lineHeight,A=ur(S)?S.length:1;const ee=A/2,se=X.color,B=X.textStrokeColor,H=X.textStrokeWidth;let xe=T;s?(N=L,T==="inner"&&(m===b-1?xe=this.options.reverse?"left":"right":m===0?xe=this.options.reverse?"right":"left":xe="center"),i==="top"?c==="near"||x!==0?F=-A*R+R/2:c==="center"?F=-V.highest.height/2-ee*R+R:F=-V.highest.height+R/2:c==="near"||x!==0?F=R/2:c==="center"?F=V.highest.height/2-ee*R:F=V.highest.height-A*R,f&&(F*=-1),x!==0&&!X.showLabelBackdrop&&(N+=R/2*Math.sin(x))):(P=L,F=(1-A)*R/2);let Se;if(X.showLabelBackdrop){const k=ta(X.backdropPadding),U=V.heights[m],O=V.widths[m];let I=F-k.top,K=0-k.left;switch(j){case"middle":I-=U/2;break;case"bottom":I-=U;break}switch(T){case"center":K-=O/2;break;case"right":K-=O;break;case"inner":m===b-1?K-=O:m>0&&(K-=O/2);break}Se={left:K,top:I,width:O+k.width,height:U+k.height,color:X.backdropColor}}v.push({label:S,font:E,textOffset:F,options:{rotation:x,color:se,strokeColor:B,strokeWidth:H,textAlign:xe,textBaseline:j,translation:[N,P],backdrop:Se}})}return v}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-qs(this.labelRotation))return e==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:i,padding:a}}=this.options,s=this._getLabelSizes(),o=e+a,l=s.widest.width;let c,u;return n==="left"?i?(u=this.right+a,r==="near"?c="left":r==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-o,r==="near"?c="right":r==="center"?(c="center",u-=l/2):(c="left",u=this.left)):n==="right"?i?(u=this.left+a,r==="near"?c="right":r==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+o,r==="near"?c="left":r==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:i,width:a,height:s}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,i,a,s),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(a=>a.value===e);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let a,s;const o=(l,c,u)=>{!u.width||!u.color||(r.save(),r.lineWidth=u.width,r.strokeStyle=u.color,r.setLineDash(u.borderDash||[]),r.lineDashOffset=u.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(c.x,c.y),r.stroke(),r.restore())};if(n.display)for(a=0,s=i.length;a<s;++a){const l=i[a];n.drawOnChartArea&&o({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&o({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:i}}=this,a=r.setContext(this.getContext()),s=r.display?a.width:0;if(!s)return;const o=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,f,d;this.isHorizontal()?(c=cu(e,this.left,s)-s/2,u=cu(e,this.right,o)+o/2,f=d=l):(f=cu(e,this.top,s)-s/2,d=cu(e,this.bottom,o)+o/2,c=u=l),n.save(),n.lineWidth=a.width,n.strokeStyle=a.color,n.beginPath(),n.moveTo(c,f),n.lineTo(u,d),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&yv(r,i);const a=this.getLabelItems(e);for(const s of a){const o=s.options,l=s.font,c=s.label,u=s.textOffset;rf(r,c,0,u,l,o)}i&&_v(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:i}}=this;if(!r.display)return;const a=si(r.font),s=ta(r.padding),o=r.align;let l=a.lineHeight/2;n==="bottom"||n==="center"||yn(n)?(l+=s.bottom,ur(r.text)&&(l+=a.lineHeight*(r.text.length-1))):l+=s.top;const{titleX:c,titleY:u,maxWidth:f,rotation:d}=RJ(this,l,n,o);rf(e,r.text,0,0,a,{color:r.color,maxWidth:f,rotation:d,textAlign:CJ(o,n,i),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=tn(e.grid&&e.grid.z,-1),i=tn(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==xf.prototype.draw?[{z:n,draw:a=>{this.draw(a)}}]:[{z:r,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let a,s;for(a=0,s=n.length;a<s;++a){const o=n[a];o[r]===this.id&&(!e||o.type===e)&&i.push(o)}return i}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return si(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class pg{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;FJ(n)&&(r=this.register(n));const i=this.items,a=e.id,s=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+e);return a in i||(i[a]=e,PJ(e,s,r),this.override&&fr.override(e.id,e.overrides)),s}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,i=this.scope;r in n&&delete n[r],i&&r in fr[i]&&(delete fr[i][r],this.override&&delete nf[r])}}function PJ(t,e,n){const r=Cp(Object.create(null),[n?fr.get(n):{},fr.get(e),t.defaults]);fr.set(e,r),t.defaultRoutes&&LJ(e,t.defaultRoutes),t.descriptors&&fr.describe(e,t.descriptors)}function LJ(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),i=r.pop(),a=[t].concat(r).join("."),s=e[n].split("."),o=s.pop(),l=s.join(".");fr.route(a,i,l,o)})}function FJ(t){return"id"in t&&"defaults"in t}class DJ{constructor(){this.controllers=new pg(Js,"datasets",!0),this.elements=new pg(eo,"elements"),this.plugins=new pg(Object,"plugins"),this.scales=new pg(xf,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(i=>{const a=r||this._getRegistryForType(i);r||a.isForType(i)||a===this.plugins&&i.id?this._exec(e,a,i):Un(i,s=>{const o=r||this._getRegistryForType(s);this._exec(e,o,s)})})}_exec(e,n,r){const i=BS(e);Jn(r["before"+i],[],r),n[e](r),Jn(r["after"+i],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const i=n.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return i}}var bo=new DJ;class IJ{constructor(){this._init=[]}notify(e,n,r,i){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const a=i?this._descriptors(e).filter(i):this._descriptors(e),s=this._notify(a,e,n,r);return n==="afterDestroy"&&(this._notify(a,e,"stop"),this._notify(this._init,e,"uninstall")),s}_notify(e,n,r,i){i=i||{};for(const a of e){const s=a.plugin,o=s[r],l=[n,i,a.options];if(Jn(o,l,s)===!1&&i.cancelable)return!1}return!0}invalidate(){xn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,i=tn(r.options&&r.options.plugins,{}),a=OJ(r);return i===!1&&!n?[]:BJ(e,a,i,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,i=(a,s)=>a.filter(o=>!s.some(l=>o.plugin.id===l.plugin.id));this._notify(i(n,r),e,"stop"),this._notify(i(r,n),e,"start")}}function OJ(t){const e={},n=[],r=Object.keys(bo.plugins.items);for(let a=0;a<r.length;a++)n.push(bo.getPlugin(r[a]));const i=t.plugins||[];for(let a=0;a<i.length;a++){const s=i[a];n.indexOf(s)===-1&&(n.push(s),e[s.id]=!0)}return{plugins:n,localIds:e}}function UJ(t,e){return!e&&t===!1?null:t===!0?{}:t}function BJ(t,{plugins:e,localIds:n},r,i){const a=[],s=t.getContext();for(const o of e){const l=o.id,c=UJ(r[l],i);c!==null&&a.push({plugin:o,options:jJ(t.config,{plugin:o,local:n[l]},c,s)})}return a}function jJ(t,{plugin:e,local:n},r,i){const a=t.pluginScopeKeys(e),s=t.getOptionScopes(r,a);return n&&e.defaults&&s.push(e.defaults),t.createResolver(s,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Vb(t,e){const n=fr.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function zJ(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function HJ(t,e){return t===e?"_index_":"_value_"}function NT(t){if(t==="x"||t==="y"||t==="r")return t}function VJ(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Wb(t,...e){if(NT(t))return t;for(const n of e){const r=n.axis||VJ(n.position)||t.length>1&&NT(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function kT(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function WJ(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return kT(t,"x",n[0])||kT(t,"y",n[0])}return{}}function GJ(t,e){const n=nf[t.type]||{scales:{}},r=e.scales||{},i=Vb(t.type,e),a=Object.create(null);return Object.keys(r).forEach(s=>{const o=r[s];if(!yn(o))return console.error(`Invalid scale configuration for scale: ${s}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${s}`);const l=Wb(s,o,WJ(s,t),fr.scales[o.type]),c=HJ(l,i),u=n.scales||{};a[s]=W0(Object.create(null),[{axis:l},o,u[l],u[c]])}),t.data.datasets.forEach(s=>{const o=s.type||t.type,l=s.indexAxis||Vb(o,e),u=(nf[o]||{}).scales||{};Object.keys(u).forEach(f=>{const d=zJ(f,l),h=s[d+"AxisID"]||d;a[h]=a[h]||Object.create(null),W0(a[h],[{axis:d},r[h],u[f]])})}),Object.keys(a).forEach(s=>{const o=a[s];W0(o,[fr.scales[o.type],fr.scale])}),a}function n8(t){const e=t.options||(t.options={});e.plugins=tn(e.plugins,{}),e.scales=GJ(t,e)}function r8(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function qJ(t){return t=t||{},t.data=r8(t.data),n8(t),t}const CT=new Map,i8=new Set;function mg(t,e){let n=CT.get(t);return n||(n=e(),CT.set(t,n),i8.add(n)),n}const n0=(t,e,n)=>{const r=jc(e,n);r!==void 0&&t.add(r)};class XJ{constructor(e){this._config=qJ(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=r8(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),n8(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return mg(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return mg(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return mg(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return mg(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let i=r.get(e);return(!i||n)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,n,r){const{options:i,type:a}=this,s=this._cachedScopes(e,r),o=s.get(n);if(o)return o;const l=new Set;n.forEach(u=>{e&&(l.add(e),u.forEach(f=>n0(l,e,f))),u.forEach(f=>n0(l,i,f)),u.forEach(f=>n0(l,nf[a]||{},f)),u.forEach(f=>n0(l,fr,f)),u.forEach(f=>n0(l,jb,f))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),i8.has(n)&&s.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,nf[n]||{},fr.datasets[n]||{},{type:n},fr,jb]}resolveNamedOptions(e,n,r,i=[""]){const a={$shared:!0},{resolver:s,subPrefixes:o}=RT(this._resolverCache,e,i);let l=s;if(YJ(s,n)){a.$shared=!1,r=zc(r)?r():r;const c=this.createResolver(e,r,o);l=Kh(s,r,c)}for(const c of n)a[c]=l[c];return a}createResolver(e,n,r=[""],i){const{resolver:a}=RT(this._resolverCache,e,r);return yn(n)?Kh(a,n,void 0,i):a}}function RT(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const i=n.join();let a=r.get(i);return a||(a={resolver:GS(e,n),subPrefixes:n.filter(o=>!o.toLowerCase().includes("hover"))},r.set(i,a)),a}const $J=t=>yn(t)&&Object.getOwnPropertyNames(t).some(e=>zc(t[e]));function YJ(t,e){const{isScriptable:n,isIndexable:r}=IL(t);for(const i of e){const a=n(i),s=r(i),o=(s||a)&&t[i];if(a&&(zc(o)||$J(o))||s&&ur(o))return!0}return!1}var KJ="4.5.0";const JJ=["top","bottom","left","right","chartArea"];function PT(t,e){return t==="top"||t==="bottom"||JJ.indexOf(t)===-1&&e==="x"}function LT(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function FT(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Jn(n&&n.onComplete,[t],e)}function ZJ(t){const e=t.chart,n=e.options.animation;Jn(n&&n.onProgress,[t],e)}function a8(t){return $S()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const b1={},DT=t=>{const e=a8(t);return Object.values(b1).filter(n=>n.canvas===e).pop()};function QJ(t,e,n){const r=Object.keys(t);for(const i of r){const a=+i;if(a>=e){const s=t[i];delete t[i],(n>0||a>e)&&(t[a+n]=s)}}}function eZ(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}class zs{static register(...e){bo.add(...e),IT()}static unregister(...e){bo.remove(...e),IT()}constructor(e,n){const r=this.config=new XJ(n),i=a8(e),a=DT(i);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const s=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||vJ(i)),this.platform.updateConfig(r);const o=this.platform.acquireContext(i,s.aspectRatio),l=o&&o.canvas,c=l&&l.height,u=l&&l.width;if(this.id=tY(),this.ctx=o,this.canvas=l,this.width=u,this.height=c,this._options=s,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new IJ,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=vY(f=>this.update(f),s.resizeDelay||0),this._dataChanges=[],b1[this.id]=this,!o||!l){console.error("Failed to create chart: can't acquire context from the given item");return}al.listen(this,"complete",FT),al.listen(this,"progress",ZJ),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:i,_aspectRatio:a}=this;return xn(e)?n&&a?a:i?r/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return bo}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():iT(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return tT(this.canvas,this.ctx),this}stop(){return al.stop(this),this}resize(e,n){al.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,i=this.canvas,a=r.maintainAspectRatio&&this.aspectRatio,s=this.platform.getMaximumSize(i,e,n,a),o=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=s.width,this.height=s.height,this._aspectRatio=this.aspectRatio,iT(this,o,!0)&&(this.notifyPlugins("resize",{size:s}),Jn(r.onResize,[this,s],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Un(n,(r,i)=>{r.id=i})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,i=Object.keys(r).reduce((s,o)=>(s[o]=!1,s),{});let a=[];n&&(a=a.concat(Object.keys(n).map(s=>{const o=n[s],l=Wb(s,o),c=l==="r",u=l==="x";return{options:o,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),Un(a,s=>{const o=s.options,l=o.id,c=Wb(l,o),u=tn(o.type,s.dtype);(o.position===void 0||PT(o.position,c)!==PT(s.dposition))&&(o.position=s.dposition),i[l]=!0;let f=null;if(l in r&&r[l].type===u)f=r[l];else{const d=bo.getScale(u);f=new d({id:l,type:u,ctx:this.ctx,chart:this}),r[f.id]=f}f.init(o,e)}),Un(i,(s,o)=>{s||delete r[o]}),Un(r,s=>{Ji.configure(this,s,s.options),Ji.addBox(this,s)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((i,a)=>i.index-a.index),r>n){for(let i=n;i<r;++i)this._destroyDatasetMeta(i);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(LT("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,i)=>{n.filter(a=>a===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=n.length;r<i;r++){const a=n[r];let s=this.getDatasetMeta(r);const o=a.type||this.config.type;if(s.type&&s.type!==o&&(this._destroyDatasetMeta(r),s=this.getDatasetMeta(r)),s.type=o,s.indexAxis=a.indexAxis||Vb(o,this.options),s.order=a.order||0,s.index=r,s.label=""+a.label,s.visible=this.isDatasetVisible(r),s.controller)s.controller.updateIndex(r),s.controller.linkScales();else{const l=bo.getController(o),{datasetElementType:c,dataElementType:u}=fr.datasets[o];Object.assign(l,{dataElementType:bo.getElement(u),datasetElementType:c&&bo.getElement(c)}),s.controller=new l(this,r),e.push(s.controller)}}return this._updateMetasets(),e}_resetElements(){Un(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let s=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:f}=this.getDatasetMeta(c),d=!i&&a.indexOf(f)===-1;f.buildOrUpdateElements(d),s=Math.max(+f.getMaxOverflow(),s)}s=this._minPadding=r.layout.autoPadding?s:0,this._updateLayout(s),i||Un(a,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(LT("z","_idx"));const{_active:o,_lastEvent:l}=this;l?this._eventHandler(l,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){Un(this.scales,e=>{Ji.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!qA(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:a}of n){const s=r==="_removeElements"?-a:a;QJ(e,i,s)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=a=>new Set(e.filter(s=>s[0]===a).map((s,o)=>o+","+s.splice(1).join(","))),i=r(0);for(let a=1;a<n;a++)if(!qA(i,r(a)))return;return Array.from(i).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ji.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],Un(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,a)=>{i._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,zc(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),i={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(al.has(this)?this.attached&&!al.running(this)&&al.start(this):(this.draw(),FT({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let i,a;for(i=0,a=n.length;i<a;++i){const s=n[i];(!e||s.visible)&&r.push(s)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r={meta:e,index:e.index,cancelable:!0},i=XL(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(i&&yv(n,i),e.controller.draw(),i&&_v(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return vl(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,i){const a=JK.modes[n];return typeof a=="function"?a(this,e,r,i):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let i=r.filter(a=>a&&a._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=Kc(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const i=r?"show":"hide",a=this.getDatasetMeta(e),s=a.controller._resolveAnimations(void 0,i);Rp(n)?(a.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),s.update(a,{visible:r}),this.update(o=>o.datasetIndex===e?i:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),al.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),tT(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete b1[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(a,s)=>{n.addEventListener(this,a,s),e[a]=s},i=(a,s,o)=>{a.offsetX=s,a.offsetY=o,this._eventHandler(a)};Un(this.options.events,a=>r(a,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},i=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},a=(l,c)=>{this.canvas&&this.resize(l,c)};let s;const o=()=>{i("attach",o),this.attached=!0,this.resize(),r("resize",a),r("detach",s)};s=()=>{this.attached=!1,i("resize",a),this._stop(),this._resize(0,0),r("attach",o)},n.isAttached(this.canvas)?o():s()}unbindEvents(){Un(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},Un(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const i=r?"set":"remove";let a,s,o,l;for(n==="dataset"&&(a=this.getDatasetMeta(e[0].datasetIndex),a.controller["_"+i+"DatasetHoverStyle"]()),o=0,l=e.length;o<l;++o){s=e[o];const c=s&&this.getDatasetMeta(s.datasetIndex).controller;c&&c[i+"HoverStyle"](s.element,s.datasetIndex,s.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:a,index:s})=>{const o=this.getDatasetMeta(a);if(!o)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:o.data[s],index:s}});!wx(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const i=this.options.hover,a=(l,c)=>l.filter(u=>!c.some(f=>u.datasetIndex===f.datasetIndex&&u.index===f.index)),s=a(n,e),o=r?e:a(e,n);s.length&&this.updateHoverStyle(s,i.mode,!1),o.length&&i.mode&&this.updateHoverStyle(o,i.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},i=s=>(s.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const a=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(a||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:i=[],options:a}=this,s=n,o=this._getActiveElements(e,i,r,s),l=oY(e),c=eZ(e,this._lastEvent,r,l);r&&(this._lastEvent=null,Jn(a.onHover,[e,o,this],this),l&&Jn(a.onClick,[e,o,this],this));const u=!wx(o,i);return(u||n)&&(this._active=o,this._updateHoverStyles(o,i,n)),this._lastEvent=c,u}_getActiveElements(e,n,r,i){if(e.type==="mouseout")return[];if(!r)return n;const a=this.options.hover;return this.getElementsAtEventForMode(e,a.mode,a,i)}}dt(zs,"defaults",fr),dt(zs,"instances",b1),dt(zs,"overrides",nf),dt(zs,"registry",bo),dt(zs,"version",KJ),dt(zs,"getChart",DT);function IT(){return Un(zs.instances,t=>t._plugins.invalidate())}function tZ(t,e,n){const{startAngle:r,x:i,y:a,outerRadius:s,innerRadius:o,options:l}=e,{borderWidth:c,borderJoinStyle:u}=l,f=Math.min(c/s,qi(r-n));if(t.beginPath(),t.arc(i,a,s-c/2,r+f/2,n-f/2),o>0){const d=Math.min(c/o,qi(r-n));t.arc(i,a,o+c/2,n-d/2,r+d/2,!0)}else{const d=Math.min(c/2,s*qi(r-n));if(u==="round")t.arc(i,a,d,n-Rn/2,r+Rn/2,!0);else if(u==="bevel"){const h=2*d*d,g=-h*Math.cos(n+Rn/2)+i,x=-h*Math.sin(n+Rn/2)+a,v=h*Math.cos(r+Rn/2)+i,m=h*Math.sin(r+Rn/2)+a;t.lineTo(g,x),t.lineTo(v,m)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function nZ(t,e,n){const{startAngle:r,pixelMargin:i,x:a,y:s,outerRadius:o,innerRadius:l}=e;let c=i/o;t.beginPath(),t.arc(a,s,o,r-c,n+c),l>i?(c=i/l,t.arc(a,s,l,n+c,r-c,!0)):t.arc(a,s,i,n+Hr,r-Hr),t.closePath(),t.clip()}function rZ(t){return WS(t,["outerStart","outerEnd","innerStart","innerEnd"])}function iZ(t,e,n,r){const i=rZ(t.options.borderRadius),a=(n-e)/2,s=Math.min(a,r*e/2),o=l=>{const c=(n-Math.min(a,l))*r/2;return xi(l,0,Math.min(a,c))};return{outerStart:o(i.outerStart),outerEnd:o(i.outerEnd),innerStart:xi(i.innerStart,0,s),innerEnd:xi(i.innerEnd,0,s)}}function Uf(t,e,n,r){return{x:n+t*Math.cos(e),y:r+t*Math.sin(e)}}function Nx(t,e,n,r,i,a){const{x:s,y:o,startAngle:l,pixelMargin:c,innerRadius:u}=e,f=Math.max(e.outerRadius+r+n-c,0),d=u>0?u+r+n+c:0;let h=0;const g=i-l;if(r){const X=u>0?u-r:0,ee=f>0?f-r:0,se=(X+ee)/2,B=se!==0?g*se/(se+r):g;h=(g-B)/2}const x=Math.max(.001,g*f-n/Rn)/f,v=(g-x)/2,m=l+v+h,b=i-v-h,{outerStart:_,outerEnd:S,innerStart:N,innerEnd:P}=iZ(e,d,f,b-m),T=f-_,L=f-S,E=m+_/T,R=b-S/L,A=d+N,F=d+P,j=m+N/A,V=b-P/F;if(t.beginPath(),a){const X=(E+R)/2;if(t.arc(s,o,f,E,X),t.arc(s,o,f,X,R),S>0){const H=Uf(L,R,s,o);t.arc(H.x,H.y,S,R,b+Hr)}const ee=Uf(F,b,s,o);if(t.lineTo(ee.x,ee.y),P>0){const H=Uf(F,V,s,o);t.arc(H.x,H.y,P,b+Hr,V+Math.PI)}const se=(b-P/d+(m+N/d))/2;if(t.arc(s,o,d,b-P/d,se,!0),t.arc(s,o,d,se,m+N/d,!0),N>0){const H=Uf(A,j,s,o);t.arc(H.x,H.y,N,j+Math.PI,m-Hr)}const B=Uf(T,m,s,o);if(t.lineTo(B.x,B.y),_>0){const H=Uf(T,E,s,o);t.arc(H.x,H.y,_,m-Hr,E)}}else{t.moveTo(s,o);const X=Math.cos(E)*f+s,ee=Math.sin(E)*f+o;t.lineTo(X,ee);const se=Math.cos(R)*f+s,B=Math.sin(R)*f+o;t.lineTo(se,B)}t.closePath()}function aZ(t,e,n,r,i){const{fullCircles:a,startAngle:s,circumference:o}=e;let l=e.endAngle;if(a){Nx(t,e,n,r,l,i);for(let c=0;c<a;++c)t.fill();isNaN(o)||(l=s+(o%ar||ar))}return Nx(t,e,n,r,l,i),t.fill(),l}function sZ(t,e,n,r,i){const{fullCircles:a,startAngle:s,circumference:o,options:l}=e,{borderWidth:c,borderJoinStyle:u,borderDash:f,borderDashOffset:d,borderRadius:h}=l,g=l.borderAlign==="inner";if(!c)return;t.setLineDash(f||[]),t.lineDashOffset=d,g?(t.lineWidth=c*2,t.lineJoin=u||"round"):(t.lineWidth=c,t.lineJoin=u||"bevel");let x=e.endAngle;if(a){Nx(t,e,n,r,x,i);for(let v=0;v<a;++v)t.stroke();isNaN(o)||(x=s+(o%ar||ar))}g&&nZ(t,e,x),l.selfJoin&&x-s>=Rn&&h===0&&u!=="miter"&&tZ(t,e,x),a||(Nx(t,e,n,r,x,i),t.stroke())}class w0 extends eo{constructor(n){super();dt(this,"circumference");dt(this,"endAngle");dt(this,"fullCircles");dt(this,"innerRadius");dt(this,"outerRadius");dt(this,"pixelMargin");dt(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,r,i){const a=this.getProps(["x","y"],i),{angle:s,distance:o}=TL(a,{x:n,y:r}),{startAngle:l,endAngle:c,innerRadius:u,outerRadius:f,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),h=(this.options.spacing+this.options.borderWidth)/2,g=tn(d,c-l),x=Pp(s,l,c)&&l!==c,v=g>=ar||x,m=gl(o,u+h,f+h);return v&&m}getCenterPoint(n){const{x:r,y:i,startAngle:a,endAngle:s,innerRadius:o,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:c,spacing:u}=this.options,f=(a+s)/2,d=(o+l+u+c)/2;return{x:r+Math.cos(f)*d,y:i+Math.sin(f)*d}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:r,circumference:i}=this,a=(r.offset||0)/4,s=(r.spacing||0)/2,o=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=i>ar?Math.floor(i/ar):0,i===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const l=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(l)*a,Math.sin(l)*a);const c=1-Math.sin(Math.min(Rn,i||0)),u=a*c;n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,aZ(n,this,u,s,o),sZ(n,this,u,s,o),n.restore()}}dt(w0,"id","arc"),dt(w0,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),dt(w0,"defaultRoutes",{backgroundColor:"backgroundColor"}),dt(w0,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function s8(t,e,n=e){t.lineCap=tn(n.borderCapStyle,e.borderCapStyle),t.setLineDash(tn(n.borderDash,e.borderDash)),t.lineDashOffset=tn(n.borderDashOffset,e.borderDashOffset),t.lineJoin=tn(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=tn(n.borderWidth,e.borderWidth),t.strokeStyle=tn(n.borderColor,e.borderColor)}function oZ(t,e,n){t.lineTo(n.x,n.y)}function lZ(t){return t.stepped?CY:t.tension||t.cubicInterpolationMode==="monotone"?RY:oZ}function o8(t,e,n={}){const r=t.length,{start:i=0,end:a=r-1}=n,{start:s,end:o}=e,l=Math.max(i,s),c=Math.min(a,o),u=i<s&&a<s||i>o&&a>o;return{count:r,start:l,loop:e.loop,ilen:c<l&&!u?r+c-l:c-l}}function cZ(t,e,n,r){const{points:i,options:a}=e,{count:s,start:o,loop:l,ilen:c}=o8(i,n,r),u=lZ(a);let{move:f=!0,reverse:d}=r||{},h,g,x;for(h=0;h<=c;++h)g=i[(o+(d?c-h:h))%s],!g.skip&&(f?(t.moveTo(g.x,g.y),f=!1):u(t,x,g,d,a.stepped),x=g);return l&&(g=i[(o+(d?c:0))%s],u(t,x,g,d,a.stepped)),!!l}function uZ(t,e,n,r){const i=e.points,{count:a,start:s,ilen:o}=o8(i,n,r),{move:l=!0,reverse:c}=r||{};let u=0,f=0,d,h,g,x,v,m;const b=S=>(s+(c?o-S:S))%a,_=()=>{x!==v&&(t.lineTo(u,v),t.lineTo(u,x),t.lineTo(u,m))};for(l&&(h=i[b(0)],t.moveTo(h.x,h.y)),d=0;d<=o;++d){if(h=i[b(d)],h.skip)continue;const S=h.x,N=h.y,P=S|0;P===g?(N<x?x=N:N>v&&(v=N),u=(f*u+S)/++f):(_(),t.lineTo(S,N),g=P,f=0,x=v=N),m=N}_()}function Gb(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?uZ:cZ}function fZ(t){return t.stepped?cK:t.tension||t.cubicInterpolationMode==="monotone"?uK:bu}function hZ(t,e,n,r){let i=e._path;i||(i=e._path=new Path2D,e.path(i,n,r)&&i.closePath()),s8(t,e.options),t.stroke(i)}function dZ(t,e,n,r){const{segments:i,options:a}=e,s=Gb(e);for(const o of i)s8(t,a,o.style),t.beginPath(),s(t,e,o,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}const pZ=typeof Path2D=="function";function mZ(t,e,n,r){pZ&&!e.options.segment?hZ(t,e,n,r):dZ(t,e,n,r)}class yc extends eo{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const i=r.spanGaps?this._loop:this._fullLoop;tK(this._points,r,e,i,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=gK(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,r=e.length;return r&&n[e[r-1].end]}interpolate(e,n){const r=this.options,i=e[n],a=this.points,s=qL(this,{property:n,start:i,end:i});if(!s.length)return;const o=[],l=fZ(r);let c,u;for(c=0,u=s.length;c<u;++c){const{start:f,end:d}=s[c],h=a[f],g=a[d];if(h===g){o.push(h);continue}const x=Math.abs((i-h[n])/(g[n]-h[n])),v=l(h,g,x,r.stepped);v[n]=e[n],o.push(v)}return o.length===1?o[0]:o}pathSegment(e,n,r){return Gb(this)(e,this,n,r)}path(e,n,r){const i=this.segments,a=Gb(this);let s=this._loop;n=n||0,r=r||this.points.length-n;for(const o of i)s&=a(e,this,o,{start:n,end:n+r-1});return!!s}draw(e,n,r,i){const a=this.options||{};(this.points||[]).length&&a.borderWidth&&(e.save(),mZ(e,this,r,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}dt(yc,"id","line"),dt(yc,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),dt(yc,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),dt(yc,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function OT(t,e,n,r){const i=t.options,{[n]:a}=t.getProps([n],r);return Math.abs(e-a)<i.radius+i.hitRadius}class w1 extends eo{constructor(n){super();dt(this,"parsed");dt(this,"skip");dt(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,r,i){const a=this.options,{x:s,y:o}=this.getProps(["x","y"],i);return Math.pow(n-s,2)+Math.pow(r-o,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(n,r){return OT(this,n,"x",r)}inYRange(n,r){return OT(this,n,"y",r)}getCenterPoint(n){const{x:r,y:i}=this.getProps(["x","y"],n);return{x:r,y:i}}size(n){n=n||this.options||{};let r=n.radius||0;r=Math.max(r,r&&n.hoverRadius||0);const i=r&&n.borderWidth||0;return(r+i)*2}draw(n,r){const i=this.options;this.skip||i.radius<.1||!vl(this,r,this.size(i)/2)||(n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.fillStyle=i.backgroundColor,zb(n,i,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}dt(w1,"id","point"),dt(w1,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),dt(w1,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function l8(t,e){const{x:n,y:r,base:i,width:a,height:s}=t.getProps(["x","y","base","width","height"],e);let o,l,c,u,f;return t.horizontal?(f=s/2,o=Math.min(n,i),l=Math.max(n,i),c=r-f,u=r+f):(f=a/2,o=n-f,l=n+f,c=Math.min(r,i),u=Math.max(r,i)),{left:o,top:c,right:l,bottom:u}}function _c(t,e,n,r){return t?0:xi(e,n,r)}function gZ(t,e,n){const r=t.options.borderWidth,i=t.borderSkipped,a=DL(r);return{t:_c(i.top,a.top,0,n),r:_c(i.right,a.right,0,e),b:_c(i.bottom,a.bottom,0,n),l:_c(i.left,a.left,0,e)}}function xZ(t,e,n){const{enableBorderRadius:r}=t.getProps(["enableBorderRadius"]),i=t.options.borderRadius,a=Wu(i),s=Math.min(e,n),o=t.borderSkipped,l=r||yn(i);return{topLeft:_c(!l||o.top||o.left,a.topLeft,0,s),topRight:_c(!l||o.top||o.right,a.topRight,0,s),bottomLeft:_c(!l||o.bottom||o.left,a.bottomLeft,0,s),bottomRight:_c(!l||o.bottom||o.right,a.bottomRight,0,s)}}function vZ(t){const e=l8(t),n=e.right-e.left,r=e.bottom-e.top,i=gZ(t,n/2,r/2),a=xZ(t,n/2,r/2);return{outer:{x:e.left,y:e.top,w:n,h:r,radius:a},inner:{x:e.left+i.l,y:e.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,a.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(i.b,i.r))}}}}function oy(t,e,n,r){const i=e===null,a=n===null,o=t&&!(i&&a)&&l8(t,r);return o&&(i||gl(e,o.left,o.right))&&(a||gl(n,o.top,o.bottom))}function yZ(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function _Z(t,e){t.rect(e.x,e.y,e.w,e.h)}function ly(t,e,n={}){const r=t.x!==n.x?-e:0,i=t.y!==n.y?-e:0,a=(t.x+t.w!==n.x+n.w?e:0)-r,s=(t.y+t.h!==n.y+n.h?e:0)-i;return{x:t.x+r,y:t.y+i,w:t.w+a,h:t.h+s,radius:t.radius}}class S1 extends eo{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:r,backgroundColor:i}}=this,{inner:a,outer:s}=vZ(this),o=yZ(s.radius)?Lp:_Z;e.save(),(s.w!==a.w||s.h!==a.h)&&(e.beginPath(),o(e,ly(s,n,a)),e.clip(),o(e,ly(a,-n,s)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),o(e,ly(a,n)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,n,r){return oy(this,e,n,r)}inXRange(e,n){return oy(this,e,null,n)}inYRange(e,n){return oy(this,null,e,n)}getCenterPoint(e){const{x:n,y:r,base:i,horizontal:a}=this.getProps(["x","y","base","horizontal"],e);return{x:a?(n+i)/2:n,y:a?r:(r+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}dt(S1,"id","bar"),dt(S1,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),dt(S1,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var bZ=Object.freeze({__proto__:null,ArcElement:w0,BarElement:S1,LineElement:yc,PointElement:w1});const qb=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],UT=qb.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function c8(t){return qb[t%qb.length]}function u8(t){return UT[t%UT.length]}function wZ(t,e){return t.borderColor=c8(e),t.backgroundColor=u8(e),++e}function SZ(t,e){return t.backgroundColor=t.data.map(()=>c8(e++)),e}function EZ(t,e){return t.backgroundColor=t.data.map(()=>u8(e++)),e}function AZ(t){let e=0;return(n,r)=>{const i=t.getDatasetMeta(r).controller;i instanceof Fu?e=SZ(n,e):i instanceof $0?e=EZ(n,e):i&&(e=wZ(n,e))}}function BT(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}function TZ(t){return t&&(t.borderColor||t.backgroundColor)}function MZ(){return fr.borderColor!=="rgba(0,0,0,0.1)"||fr.backgroundColor!=="rgba(0,0,0,0.1)"}var NZ={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,n){if(!n.enabled)return;const{data:{datasets:r},options:i}=t.config,{elements:a}=i,s=BT(r)||TZ(i)||a&&BT(a)||MZ();if(!n.forceOverride&&s)return;const o=AZ(t);r.forEach(o)}};function kZ(t,e,n,r,i){const a=i.samples||r;if(a>=n)return t.slice(e,e+n);const s=[],o=(n-2)/(a-2);let l=0;const c=e+n-1;let u=e,f,d,h,g,x;for(s[l++]=t[u],f=0;f<a-2;f++){let v=0,m=0,b;const _=Math.floor((f+1)*o)+1+e,S=Math.min(Math.floor((f+2)*o)+1,n)+e,N=S-_;for(b=_;b<S;b++)v+=t[b].x,m+=t[b].y;v/=N,m/=N;const P=Math.floor(f*o)+1+e,T=Math.min(Math.floor((f+1)*o)+1,n)+e,{x:L,y:E}=t[u];for(h=g=-1,b=P;b<T;b++)g=.5*Math.abs((L-v)*(t[b].y-E)-(L-t[b].x)*(m-E)),g>h&&(h=g,d=t[b],x=b);s[l++]=d,u=x}return s[l++]=t[c],s}function CZ(t,e,n,r){let i=0,a=0,s,o,l,c,u,f,d,h,g,x;const v=[],m=e+n-1,b=t[e].x,S=t[m].x-b;for(s=e;s<e+n;++s){o=t[s],l=(o.x-b)/S*r,c=o.y;const N=l|0;if(N===u)c<g?(g=c,f=s):c>x&&(x=c,d=s),i=(a*i+o.x)/++a;else{const P=s-1;if(!xn(f)&&!xn(d)){const T=Math.min(f,d),L=Math.max(f,d);T!==h&&T!==P&&v.push({...t[T],x:i}),L!==h&&L!==P&&v.push({...t[L],x:i})}s>0&&P!==h&&v.push(t[P]),v.push(o),u=N,a=0,g=x=c,f=d=h=s}}return v}function f8(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function jT(t){t.data.datasets.forEach(e=>{f8(e)})}function RZ(t,e){const n=e.length;let r=0,i;const{iScale:a}=t,{min:s,max:o,minDefined:l,maxDefined:c}=a.getUserBounds();return l&&(r=xi(xl(e,a.axis,s).lo,0,n-1)),c?i=xi(xl(e,a.axis,o).hi+1,r,n)-r:i=n-r,{start:r,count:i}}var PZ={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,n)=>{if(!n.enabled){jT(t);return}const r=t.width;t.data.datasets.forEach((i,a)=>{const{_data:s,indexAxis:o}=i,l=t.getDatasetMeta(a),c=s||i.data;if(_0([o,t.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const u=t.scales[l.xAxisID];if(u.type!=="linear"&&u.type!=="time"||t.options.parsing)return;let{start:f,count:d}=RZ(l,c);const h=n.threshold||4*r;if(d<=h){f8(i);return}xn(s)&&(i._data=c,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(x){this._data=x}}));let g;switch(n.algorithm){case"lttb":g=kZ(c,f,d,r,n);break;case"min-max":g=CZ(c,f,d,r);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}i._decimated=g})},destroy(t){jT(t)}};function LZ(t,e,n){const r=t.segments,i=t.points,a=e.points,s=[];for(const o of r){let{start:l,end:c}=o;c=Sv(l,c,i);const u=Xb(n,i[l],i[c],o.loop);if(!e.segments){s.push({source:o,target:u,start:i[l],end:i[c]});continue}const f=qL(e,u);for(const d of f){const h=Xb(n,a[d.start],a[d.end],d.loop),g=GL(o,i,h);for(const x of g)s.push({source:x,target:d,start:{[n]:zT(u,h,"start",Math.max)},end:{[n]:zT(u,h,"end",Math.min)}})}}return s}function Xb(t,e,n,r){if(r)return;let i=e[t],a=n[t];return t==="angle"&&(i=qi(i),a=qi(a)),{property:t,start:i,end:a}}function FZ(t,e){const{x:n=null,y:r=null}=t||{},i=e.points,a=[];return e.segments.forEach(({start:s,end:o})=>{o=Sv(s,o,i);const l=i[s],c=i[o];r!==null?(a.push({x:l.x,y:r}),a.push({x:c.x,y:r})):n!==null&&(a.push({x:n,y:l.y}),a.push({x:n,y:c.y}))}),a}function Sv(t,e,n){for(;e>t;e--){const r=n[e];if(!isNaN(r.x)&&!isNaN(r.y))break}return e}function zT(t,e,n,r){return t&&e?r(t[n],e[n]):t?t[n]:e?e[n]:0}function h8(t,e){let n=[],r=!1;return ur(t)?(r=!0,n=t):n=FZ(t,e),n.length?new yc({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function HT(t){return t&&t.fill!==!1}function DZ(t,e,n){let i=t[e].fill;const a=[e];let s;if(!n)return i;for(;i!==!1&&a.indexOf(i)===-1;){if(!Tr(i))return i;if(s=t[i],!s)return!1;if(s.visible)return i;a.push(i),i=s.fill}return!1}function IZ(t,e,n){const r=jZ(t);if(yn(r))return isNaN(r.value)?!1:r;let i=parseFloat(r);return Tr(i)&&Math.floor(i)===i?OZ(r[0],e,i,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function OZ(t,e,n,r){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=r?!1:n}function UZ(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:yn(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function BZ(t,e,n){let r;return t==="start"?r=n:t==="end"?r=e.options.reverse?e.min:e.max:yn(t)?r=t.value:r=e.getBaseValue(),r}function jZ(t){const e=t.options,n=e.fill;let r=tn(n&&n.target,n);return r===void 0&&(r=!!e.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function zZ(t){const{scale:e,index:n,line:r}=t,i=[],a=r.segments,s=r.points,o=HZ(e,n);o.push(h8({x:null,y:e.bottom},r));for(let l=0;l<a.length;l++){const c=a[l];for(let u=c.start;u<=c.end;u++)VZ(i,s[u],o)}return new yc({points:i,options:{}})}function HZ(t,e){const n=[],r=t.getMatchingVisibleMetas("line");for(let i=0;i<r.length;i++){const a=r[i];if(a.index===e)break;a.hidden||n.unshift(a.dataset)}return n}function VZ(t,e,n){const r=[];for(let i=0;i<n.length;i++){const a=n[i],{first:s,last:o,point:l}=WZ(a,e,"x");if(!(!l||s&&o)){if(s)r.unshift(l);else if(t.push(l),!o)break}}t.push(...r)}function WZ(t,e,n){const r=t.interpolate(e,n);if(!r)return{};const i=r[n],a=t.segments,s=t.points;let o=!1,l=!1;for(let c=0;c<a.length;c++){const u=a[c],f=s[u.start][n],d=s[u.end][n];if(gl(i,f,d)){o=i===f,l=i===d;break}}return{first:o,last:l,point:r}}class d8{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,r){const{x:i,y:a,radius:s}=this;return n=n||{start:0,end:ar},e.arc(i,a,s,n.end,n.start,!0),!r.bounds}interpolate(e){const{x:n,y:r,radius:i}=this,a=e.angle;return{x:n+Math.cos(a)*i,y:r+Math.sin(a)*i,angle:a}}}function GZ(t){const{chart:e,fill:n,line:r}=t;if(Tr(n))return qZ(e,n);if(n==="stack")return zZ(t);if(n==="shape")return!0;const i=XZ(t);return i instanceof d8?i:h8(i,r)}function qZ(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function XZ(t){return(t.scale||{}).getPointPositionForValue?YZ(t):$Z(t)}function $Z(t){const{scale:e={},fill:n}=t,r=UZ(n,e);if(Tr(r)){const i=e.isHorizontal();return{x:i?r:null,y:i?null:r}}return null}function YZ(t){const{scale:e,fill:n}=t,r=e.options,i=e.getLabels().length,a=r.reverse?e.max:e.min,s=BZ(n,e,a),o=[];if(r.grid.circular){const l=e.getPointPositionForValue(0,a);return new d8({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(s)})}for(let l=0;l<i;++l)o.push(e.getPointPositionForValue(l,s));return o}function cy(t,e,n){const r=GZ(e),{chart:i,index:a,line:s,scale:o,axis:l}=e,c=s.options,u=c.fill,f=c.backgroundColor,{above:d=f,below:h=f}=u||{},g=i.getDatasetMeta(a),x=XL(i,g);r&&s.points.length&&(yv(t,n),KZ(t,{line:s,target:r,above:d,below:h,area:n,scale:o,axis:l,clip:x}),_v(t))}function KZ(t,e){const{line:n,target:r,above:i,below:a,area:s,scale:o,clip:l}=e,c=n._loop?"angle":e.axis;t.save();let u=a;a!==i&&(c==="x"?(VT(t,r,s.top),uy(t,{line:n,target:r,color:i,scale:o,property:c,clip:l}),t.restore(),t.save(),VT(t,r,s.bottom)):c==="y"&&(WT(t,r,s.left),uy(t,{line:n,target:r,color:a,scale:o,property:c,clip:l}),t.restore(),t.save(),WT(t,r,s.right),u=i)),uy(t,{line:n,target:r,color:u,scale:o,property:c,clip:l}),t.restore()}function VT(t,e,n){const{segments:r,points:i}=e;let a=!0,s=!1;t.beginPath();for(const o of r){const{start:l,end:c}=o,u=i[l],f=i[Sv(l,c,i)];a?(t.moveTo(u.x,u.y),a=!1):(t.lineTo(u.x,n),t.lineTo(u.x,u.y)),s=!!e.pathSegment(t,o,{move:s}),s?t.closePath():t.lineTo(f.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function WT(t,e,n){const{segments:r,points:i}=e;let a=!0,s=!1;t.beginPath();for(const o of r){const{start:l,end:c}=o,u=i[l],f=i[Sv(l,c,i)];a?(t.moveTo(u.x,u.y),a=!1):(t.lineTo(n,u.y),t.lineTo(u.x,u.y)),s=!!e.pathSegment(t,o,{move:s}),s?t.closePath():t.lineTo(n,f.y)}t.lineTo(n,e.first().y),t.closePath(),t.clip()}function uy(t,e){const{line:n,target:r,property:i,color:a,scale:s,clip:o}=e,l=LZ(n,r,i);for(const{source:c,target:u,start:f,end:d}of l){const{style:{backgroundColor:h=a}={}}=c,g=r!==!0;t.save(),t.fillStyle=h,JZ(t,s,o,g&&Xb(i,f,d)),t.beginPath();const x=!!n.pathSegment(t,c);let v;if(g){x?t.closePath():GT(t,r,d,i);const m=!!r.pathSegment(t,u,{move:x,reverse:!0});v=x&&m,v||GT(t,r,f,i)}t.closePath(),t.fill(v?"evenodd":"nonzero"),t.restore()}}function JZ(t,e,n,r){const i=e.chart.chartArea,{property:a,start:s,end:o}=r||{};if(a==="x"||a==="y"){let l,c,u,f;a==="x"?(l=s,c=i.top,u=o,f=i.bottom):(l=i.left,c=s,u=i.right,f=o),t.beginPath(),n&&(l=Math.max(l,n.left),u=Math.min(u,n.right),c=Math.max(c,n.top),f=Math.min(f,n.bottom)),t.rect(l,c,u-l,f-c),t.clip()}}function GT(t,e,n,r){const i=e.interpolate(n,r);i&&t.lineTo(i.x,i.y)}var ZZ={id:"filler",afterDatasetsUpdate(t,e,n){const r=(t.data.datasets||[]).length,i=[];let a,s,o,l;for(s=0;s<r;++s)a=t.getDatasetMeta(s),o=a.dataset,l=null,o&&o.options&&o instanceof yc&&(l={visible:t.isDatasetVisible(s),index:s,fill:IZ(o,s,r),chart:t,axis:a.controller.options.indexAxis,scale:a.vScale,line:o}),a.$filler=l,i.push(l);for(s=0;s<r;++s)l=i[s],!(!l||l.fill===!1)&&(l.fill=DZ(i,s,n.propagate))},beforeDraw(t,e,n){const r=n.drawTime==="beforeDraw",i=t.getSortedVisibleDatasetMetas(),a=t.chartArea;for(let s=i.length-1;s>=0;--s){const o=i[s].$filler;o&&(o.line.updateControlPoints(a,o.axis),r&&o.fill&&cy(t.ctx,o,a))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const r=t.getSortedVisibleDatasetMetas();for(let i=r.length-1;i>=0;--i){const a=r[i].$filler;HT(a)&&cy(t.ctx,a,t.chartArea)}},beforeDatasetDraw(t,e,n){const r=e.meta.$filler;!HT(r)||n.drawTime!=="beforeDatasetDraw"||cy(t.ctx,r,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const qT=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},QZ=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class XT extends eo{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Jn(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,i)=>e.sort(r,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,i=si(r.font),a=i.size,s=this._computeTitleHeight(),{boxWidth:o,itemHeight:l}=qT(r,a);let c,u;n.font=i.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(s,a,o,l)+10):(u=this.maxHeight,c=this._fitCols(s,i,o,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,i){const{ctx:a,maxWidth:s,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=i+o;let f=e;a.textAlign="left",a.textBaseline="middle";let d=-1,h=-u;return this.legendItems.forEach((g,x)=>{const v=r+n/2+a.measureText(g.text).width;(x===0||c[c.length-1]+v+2*o>s)&&(f+=u,c[c.length-(x>0?0:1)]=0,h+=u,d++),l[x]={left:0,top:h,row:d,width:v,height:i},c[c.length-1]+=v+o}),f}_fitCols(e,n,r,i){const{ctx:a,maxHeight:s,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=s-e;let f=o,d=0,h=0,g=0,x=0;return this.legendItems.forEach((v,m)=>{const{itemWidth:b,itemHeight:_}=eQ(r,n,a,v,i);m>0&&h+_+2*o>u&&(f+=d+o,c.push({width:d,height:h}),g+=d+o,x++,d=h=0),l[m]={left:g,top:h,col:x,width:b,height:_},d=Math.max(d,b),h+=_+o}),f+=d,c.push({width:d,height:h}),f}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:i},rtl:a}}=this,s=Ch(a,this.left,this.width);if(this.isHorizontal()){let o=0,l=Wi(r,this.left+i,this.right-this.lineWidths[o]);for(const c of n)o!==c.row&&(o=c.row,l=Wi(r,this.left+i,this.right-this.lineWidths[o])),c.top+=this.top+e+i,c.left=s.leftForLtr(s.x(l),c.width),l+=c.width+i}else{let o=0,l=Wi(r,this.top+e+i,this.bottom-this.columnSizes[o].height);for(const c of n)c.col!==o&&(o=c.col,l=Wi(r,this.top+e+i,this.bottom-this.columnSizes[o].height)),c.top=l,c.left+=this.left+i,c.left=s.leftForLtr(s.x(c.left),c.width),l+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;yv(e,this),this._draw(),_v(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:i}=this,{align:a,labels:s}=e,o=fr.color,l=Ch(e.rtl,this.left,this.width),c=si(s.font),{padding:u}=s,f=c.size,d=f/2;let h;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:g,boxHeight:x,itemHeight:v}=qT(s,f),m=function(P,T,L){if(isNaN(g)||g<=0||isNaN(x)||x<0)return;i.save();const E=tn(L.lineWidth,1);if(i.fillStyle=tn(L.fillStyle,o),i.lineCap=tn(L.lineCap,"butt"),i.lineDashOffset=tn(L.lineDashOffset,0),i.lineJoin=tn(L.lineJoin,"miter"),i.lineWidth=E,i.strokeStyle=tn(L.strokeStyle,o),i.setLineDash(tn(L.lineDash,[])),s.usePointStyle){const R={radius:x*Math.SQRT2/2,pointStyle:L.pointStyle,rotation:L.rotation,borderWidth:E},A=l.xPlus(P,g/2),F=T+d;FL(i,R,A,F,s.pointStyleWidth&&g)}else{const R=T+Math.max((f-x)/2,0),A=l.leftForLtr(P,g),F=Wu(L.borderRadius);i.beginPath(),Object.values(F).some(j=>j!==0)?Lp(i,{x:A,y:R,w:g,h:x,radius:F}):i.rect(A,R,g,x),i.fill(),E!==0&&i.stroke()}i.restore()},b=function(P,T,L){rf(i,L.text,P,T+v/2,c,{strikethrough:L.hidden,textAlign:l.textAlign(L.textAlign)})},_=this.isHorizontal(),S=this._computeTitleHeight();_?h={x:Wi(a,this.left+u,this.right-r[0]),y:this.top+u+S,line:0}:h={x:this.left+u,y:Wi(a,this.top+S+u,this.bottom-n[0].height),line:0},HL(this.ctx,e.textDirection);const N=v+u;this.legendItems.forEach((P,T)=>{i.strokeStyle=P.fontColor,i.fillStyle=P.fontColor;const L=i.measureText(P.text).width,E=l.textAlign(P.textAlign||(P.textAlign=s.textAlign)),R=g+d+L;let A=h.x,F=h.y;l.setWidth(this.width),_?T>0&&A+R+u>this.right&&(F=h.y+=N,h.line++,A=h.x=Wi(a,this.left+u,this.right-r[h.line])):T>0&&F+N>this.bottom&&(A=h.x=A+n[h.line].width+u,h.line++,F=h.y=Wi(a,this.top+S+u,this.bottom-n[h.line].height));const j=l.x(A);if(m(j,F,P),A=yY(E,A+g+d,_?A+R:this.right,e.rtl),b(l.x(A),F,P),_)h.x+=R+u;else if(typeof P.text!="string"){const V=c.lineHeight;h.y+=p8(P,V)+u}else h.y+=N}),VL(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=si(n.font),i=ta(n.padding);if(!n.display)return;const a=Ch(e.rtl,this.left,this.width),s=this.ctx,o=n.position,l=r.size/2,c=i.top+l;let u,f=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),u=this.top+c,f=Wi(e.align,f,this.right-d);else{const g=this.columnSizes.reduce((x,v)=>Math.max(x,v.height),0);u=c+Wi(e.align,this.top,this.bottom-g-e.labels.padding-this._computeTitleHeight())}const h=Wi(o,f,f+d);s.textAlign=a.textAlign(HS(o)),s.textBaseline="middle",s.strokeStyle=n.color,s.fillStyle=n.color,s.font=r.string,rf(s,n.text,h,u,r)}_computeTitleHeight(){const e=this.options.title,n=si(e.font),r=ta(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,i,a;if(gl(e,this.left,this.right)&&gl(n,this.top,this.bottom)){for(a=this.legendHitBoxes,r=0;r<a.length;++r)if(i=a[r],gl(e,i.left,i.left+i.width)&&gl(n,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(e){const n=this.options;if(!rQ(e.type,n))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,a=QZ(i,r);i&&!a&&Jn(n.onLeave,[e,i,this],this),this._hoveredItem=r,r&&!a&&Jn(n.onHover,[e,r,this],this)}else r&&Jn(n.onClick,[e,r,this],this)}}function eQ(t,e,n,r,i){const a=tQ(r,t,e,n),s=nQ(i,r,e.lineHeight);return{itemWidth:a,itemHeight:s}}function tQ(t,e,n,r){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((a,s)=>a.length>s.length?a:s)),e+n.size/2+r.measureText(i).width}function nQ(t,e,n){let r=t;return typeof e.text!="string"&&(r=p8(e,n)),r}function p8(t,e){const n=t.text?t.text.length:0;return e*n}function rQ(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var iQ={id:"legend",_element:XT,start(t,e,n){const r=t.legend=new XT({ctx:t.ctx,options:n,chart:t});Ji.configure(t,r,n),Ji.addBox(t,r)},stop(t){Ji.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;Ji.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:a,useBorderRadius:s,borderRadius:o}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),u=ta(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:a,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:r||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:s&&(o||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class JS extends eo{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const i=ur(r.text)?r.text.length:1;this._padding=ta(r.padding);const a=i*si(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:r,bottom:i,right:a,options:s}=this,o=s.align;let l=0,c,u,f;return this.isHorizontal()?(u=Wi(o,r,a),f=n+e,c=a-r):(s.position==="left"?(u=r+e,f=Wi(o,i,n),l=Rn*-.5):(u=a-e,f=Wi(o,n,i),l=Rn*.5),c=i-n),{titleX:u,titleY:f,maxWidth:c,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const r=si(n.font),a=r.lineHeight/2+this._padding.top,{titleX:s,titleY:o,maxWidth:l,rotation:c}=this._drawArgs(a);rf(e,n.text,0,0,r,{color:n.color,maxWidth:l,rotation:c,textAlign:HS(n.align),textBaseline:"middle",translation:[s,o]})}}function aQ(t,e){const n=new JS({ctx:t.ctx,options:e,chart:t});Ji.configure(t,n,e),Ji.addBox(t,n),t.titleBlock=n}var sQ={id:"title",_element:JS,start(t,e,n){aQ(t,n)},stop(t){const e=t.titleBlock;Ji.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;Ji.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const gg=new WeakMap;var oQ={id:"subtitle",start(t,e,n){const r=new JS({ctx:t.ctx,options:n,chart:t});Ji.configure(t,r,n),Ji.addBox(t,r),gg.set(t,r)},stop(t){Ji.removeBox(t,gg.get(t)),gg.delete(t)},beforeUpdate(t,e,n){const r=gg.get(t);Ji.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const S0={average(t){if(!t.length)return!1;let e,n,r=new Set,i=0,a=0;for(e=0,n=t.length;e<n;++e){const o=t[e].element;if(o&&o.hasValue()){const l=o.tooltipPosition();r.add(l.x),i+=l.y,++a}}return a===0||r.size===0?!1:{x:[...r].reduce((o,l)=>o+l)/r.size,y:i/a}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,i=Number.POSITIVE_INFINITY,a,s,o;for(a=0,s=t.length;a<s;++a){const l=t[a].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=Bb(e,c);u<i&&(i=u,o=l)}}if(o){const l=o.tooltipPosition();n=l.x,r=l.y}return{x:n,y:r}}};function vo(t,e){return e&&(ur(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function sl(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function lQ(t,e){const{element:n,datasetIndex:r,index:i}=e,a=t.getDatasetMeta(r).controller,{label:s,value:o}=a.getLabelAndValue(i);return{chart:t,label:s,parsed:a.getParsed(i),raw:t.data.datasets[r].data[i],formattedValue:o,dataset:a.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function $T(t,e){const n=t.chart.ctx,{body:r,footer:i,title:a}=t,{boxWidth:s,boxHeight:o}=e,l=si(e.bodyFont),c=si(e.titleFont),u=si(e.footerFont),f=a.length,d=i.length,h=r.length,g=ta(e.padding);let x=g.height,v=0,m=r.reduce((S,N)=>S+N.before.length+N.lines.length+N.after.length,0);if(m+=t.beforeBody.length+t.afterBody.length,f&&(x+=f*c.lineHeight+(f-1)*e.titleSpacing+e.titleMarginBottom),m){const S=e.displayColors?Math.max(o,l.lineHeight):l.lineHeight;x+=h*S+(m-h)*l.lineHeight+(m-1)*e.bodySpacing}d&&(x+=e.footerMarginTop+d*u.lineHeight+(d-1)*e.footerSpacing);let b=0;const _=function(S){v=Math.max(v,n.measureText(S).width+b)};return n.save(),n.font=c.string,Un(t.title,_),n.font=l.string,Un(t.beforeBody.concat(t.afterBody),_),b=e.displayColors?s+2+e.boxPadding:0,Un(r,S=>{Un(S.before,_),Un(S.lines,_),Un(S.after,_)}),b=0,n.font=u.string,Un(t.footer,_),n.restore(),v+=g.width,{width:v,height:x}}function cQ(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function uQ(t,e,n,r){const{x:i,width:a}=r,s=n.caretSize+n.caretPadding;if(t==="left"&&i+a+s>e.width||t==="right"&&i-a-s<0)return!0}function fQ(t,e,n,r){const{x:i,width:a}=n,{width:s,chartArea:{left:o,right:l}}=t;let c="center";return r==="center"?c=i<=(o+l)/2?"left":"right":i<=a/2?c="left":i>=s-a/2&&(c="right"),uQ(c,t,e,n)&&(c="center"),c}function YT(t,e,n){const r=n.yAlign||e.yAlign||cQ(t,n);return{xAlign:n.xAlign||e.xAlign||fQ(t,e,n,r),yAlign:r}}function hQ(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function dQ(t,e,n){let{y:r,height:i}=t;return e==="top"?r+=n:e==="bottom"?r-=i+n:r-=i/2,r}function KT(t,e,n,r){const{caretSize:i,caretPadding:a,cornerRadius:s}=t,{xAlign:o,yAlign:l}=n,c=i+a,{topLeft:u,topRight:f,bottomLeft:d,bottomRight:h}=Wu(s);let g=hQ(e,o);const x=dQ(e,l,c);return l==="center"?o==="left"?g+=c:o==="right"&&(g-=c):o==="left"?g-=Math.max(u,d)+i:o==="right"&&(g+=Math.max(f,h)+i),{x:xi(g,0,r.width-e.width),y:xi(x,0,r.height-e.height)}}function xg(t,e,n){const r=ta(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function JT(t){return vo([],sl(t))}function pQ(t,e,n){return Kc(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function ZT(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const m8={beforeTitle:Jo,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:Jo,beforeBody:Jo,beforeLabel:Jo,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return xn(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Jo,afterBody:Jo,beforeFooter:Jo,footer:Jo,afterFooter:Jo};function wa(t,e,n,r){const i=t[e].call(n,r);return typeof i>"u"?m8[e].call(n,r):i}class $b extends eo{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&n.options.animation&&r.animations,a=new $L(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=pQ(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,i=wa(r,"beforeTitle",this,e),a=wa(r,"title",this,e),s=wa(r,"afterTitle",this,e);let o=[];return o=vo(o,sl(i)),o=vo(o,sl(a)),o=vo(o,sl(s)),o}getBeforeBody(e,n){return JT(wa(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,i=[];return Un(e,a=>{const s={before:[],lines:[],after:[]},o=ZT(r,a);vo(s.before,sl(wa(o,"beforeLabel",this,a))),vo(s.lines,wa(o,"label",this,a)),vo(s.after,sl(wa(o,"afterLabel",this,a))),i.push(s)}),i}getAfterBody(e,n){return JT(wa(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,i=wa(r,"beforeFooter",this,e),a=wa(r,"footer",this,e),s=wa(r,"afterFooter",this,e);let o=[];return o=vo(o,sl(i)),o=vo(o,sl(a)),o=vo(o,sl(s)),o}_createItems(e){const n=this._active,r=this.chart.data,i=[],a=[],s=[];let o=[],l,c;for(l=0,c=n.length;l<c;++l)o.push(lQ(this.chart,n[l]));return e.filter&&(o=o.filter((u,f,d)=>e.filter(u,f,d,r))),e.itemSort&&(o=o.sort((u,f)=>e.itemSort(u,f,r))),Un(o,u=>{const f=ZT(e.callbacks,u);i.push(wa(f,"labelColor",this,u)),a.push(wa(f,"labelPointStyle",this,u)),s.push(wa(f,"labelTextColor",this,u))}),this.labelColors=i,this.labelPointStyles=a,this.labelTextColors=s,this.dataPoints=o,o}update(e,n){const r=this.options.setContext(this.getContext()),i=this._active;let a,s=[];if(!i.length)this.opacity!==0&&(a={opacity:0});else{const o=S0[r.position].call(this,i,this._eventPosition);s=this._createItems(r),this.title=this.getTitle(s,r),this.beforeBody=this.getBeforeBody(s,r),this.body=this.getBody(s,r),this.afterBody=this.getAfterBody(s,r),this.footer=this.getFooter(s,r);const l=this._size=$T(this,r),c=Object.assign({},o,l),u=YT(this.chart,r,c),f=KT(r,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,a={opacity:1,x:f.x,y:f.y,width:l.width,height:l.height,caretX:o.x,caretY:o.y}}this._tooltipItems=s,this.$context=void 0,a&&this._resolveAnimations().update(this,a),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,i){const a=this.getCaretPosition(e,r,i);n.lineTo(a.x1,a.y1),n.lineTo(a.x2,a.y2),n.lineTo(a.x3,a.y3)}getCaretPosition(e,n,r){const{xAlign:i,yAlign:a}=this,{caretSize:s,cornerRadius:o}=r,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:f}=Wu(o),{x:d,y:h}=e,{width:g,height:x}=n;let v,m,b,_,S,N;return a==="center"?(S=h+x/2,i==="left"?(v=d,m=v-s,_=S+s,N=S-s):(v=d+g,m=v+s,_=S-s,N=S+s),b=v):(i==="left"?m=d+Math.max(l,u)+s:i==="right"?m=d+g-Math.max(c,f)-s:m=this.caretX,a==="top"?(_=h,S=_-s,v=m-s,b=m+s):(_=h+x,S=_+s,v=m+s,b=m-s),N=_),{x1:v,x2:m,x3:b,y1:_,y2:S,y3:N}}drawTitle(e,n,r){const i=this.title,a=i.length;let s,o,l;if(a){const c=Ch(r.rtl,this.x,this.width);for(e.x=xg(this,r.titleAlign,r),n.textAlign=c.textAlign(r.titleAlign),n.textBaseline="middle",s=si(r.titleFont),o=r.titleSpacing,n.fillStyle=r.titleColor,n.font=s.string,l=0;l<a;++l)n.fillText(i[l],c.x(e.x),e.y+s.lineHeight/2),e.y+=s.lineHeight+o,l+1===a&&(e.y+=r.titleMarginBottom-o)}}_drawColorBox(e,n,r,i,a){const s=this.labelColors[r],o=this.labelPointStyles[r],{boxHeight:l,boxWidth:c}=a,u=si(a.bodyFont),f=xg(this,"left",a),d=i.x(f),h=l<u.lineHeight?(u.lineHeight-l)/2:0,g=n.y+h;if(a.usePointStyle){const x={radius:Math.min(c,l)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},v=i.leftForLtr(d,c)+c/2,m=g+l/2;e.strokeStyle=a.multiKeyBackground,e.fillStyle=a.multiKeyBackground,zb(e,x,v,m),e.strokeStyle=s.borderColor,e.fillStyle=s.backgroundColor,zb(e,x,v,m)}else{e.lineWidth=yn(s.borderWidth)?Math.max(...Object.values(s.borderWidth)):s.borderWidth||1,e.strokeStyle=s.borderColor,e.setLineDash(s.borderDash||[]),e.lineDashOffset=s.borderDashOffset||0;const x=i.leftForLtr(d,c),v=i.leftForLtr(i.xPlus(d,1),c-2),m=Wu(s.borderRadius);Object.values(m).some(b=>b!==0)?(e.beginPath(),e.fillStyle=a.multiKeyBackground,Lp(e,{x,y:g,w:c,h:l,radius:m}),e.fill(),e.stroke(),e.fillStyle=s.backgroundColor,e.beginPath(),Lp(e,{x:v,y:g+1,w:c-2,h:l-2,radius:m}),e.fill()):(e.fillStyle=a.multiKeyBackground,e.fillRect(x,g,c,l),e.strokeRect(x,g,c,l),e.fillStyle=s.backgroundColor,e.fillRect(v,g+1,c-2,l-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:i}=this,{bodySpacing:a,bodyAlign:s,displayColors:o,boxHeight:l,boxWidth:c,boxPadding:u}=r,f=si(r.bodyFont);let d=f.lineHeight,h=0;const g=Ch(r.rtl,this.x,this.width),x=function(L){n.fillText(L,g.x(e.x+h),e.y+d/2),e.y+=d+a},v=g.textAlign(s);let m,b,_,S,N,P,T;for(n.textAlign=s,n.textBaseline="middle",n.font=f.string,e.x=xg(this,v,r),n.fillStyle=r.bodyColor,Un(this.beforeBody,x),h=o&&v!=="right"?s==="center"?c/2+u:c+2+u:0,S=0,P=i.length;S<P;++S){for(m=i[S],b=this.labelTextColors[S],n.fillStyle=b,Un(m.before,x),_=m.lines,o&&_.length&&(this._drawColorBox(n,e,S,g,r),d=Math.max(f.lineHeight,l)),N=0,T=_.length;N<T;++N)x(_[N]),d=f.lineHeight;Un(m.after,x)}h=0,d=f.lineHeight,Un(this.afterBody,x),e.y-=a}drawFooter(e,n,r){const i=this.footer,a=i.length;let s,o;if(a){const l=Ch(r.rtl,this.x,this.width);for(e.x=xg(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=l.textAlign(r.footerAlign),n.textBaseline="middle",s=si(r.footerFont),n.fillStyle=r.footerColor,n.font=s.string,o=0;o<a;++o)n.fillText(i[o],l.x(e.x),e.y+s.lineHeight/2),e.y+=s.lineHeight+r.footerSpacing}}drawBackground(e,n,r,i){const{xAlign:a,yAlign:s}=this,{x:o,y:l}=e,{width:c,height:u}=r,{topLeft:f,topRight:d,bottomLeft:h,bottomRight:g}=Wu(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(o+f,l),s==="top"&&this.drawCaret(e,n,r,i),n.lineTo(o+c-d,l),n.quadraticCurveTo(o+c,l,o+c,l+d),s==="center"&&a==="right"&&this.drawCaret(e,n,r,i),n.lineTo(o+c,l+u-g),n.quadraticCurveTo(o+c,l+u,o+c-g,l+u),s==="bottom"&&this.drawCaret(e,n,r,i),n.lineTo(o+h,l+u),n.quadraticCurveTo(o,l+u,o,l+u-h),s==="center"&&a==="left"&&this.drawCaret(e,n,r,i),n.lineTo(o,l+f),n.quadraticCurveTo(o,l,o+f,l),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,i=r&&r.x,a=r&&r.y;if(i||a){const s=S0[e.position].call(this,this._active,this._eventPosition);if(!s)return;const o=this._size=$T(this,e),l=Object.assign({},s,this._size),c=YT(n,e,l),u=KT(e,l,c,n);(i._to!==u.x||a._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=o.width,this.height=o.height,this.caretX=s.x,this.caretY=s.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},a={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const s=ta(n.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&o&&(e.save(),e.globalAlpha=r,this.drawBackground(a,e,i,n),HL(e,n.textDirection),a.y+=s.top,this.drawTitle(a,e,n),this.drawBody(a,e,n),this.drawFooter(a,e,n),VL(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,i=e.map(({datasetIndex:o,index:l})=>{const c=this.chart.getDatasetMeta(o);if(!c)throw new Error("Cannot find a dataset at index "+o);return{datasetIndex:o,element:c.data[l],index:l}}),a=!wx(r,i),s=this._positionChanged(i,n);(a||s)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,a=this._active||[],s=this._getActiveElements(e,a,n,r),o=this._positionChanged(s,e),l=n||!wx(s,a)||o;return l&&(this._active=s,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,r,i){const a=this.options;if(e.type==="mouseout")return[];if(!i)return n.filter(o=>this.chart.data.datasets[o.datasetIndex]&&this.chart.getDatasetMeta(o.datasetIndex).controller.getParsed(o.index)!==void 0);const s=this.chart.getElementsAtEventForMode(e,a.mode,a,r);return a.reverse&&s.reverse(),s}_positionChanged(e,n){const{caretX:r,caretY:i,options:a}=this,s=S0[a.position].call(this,e,n);return s!==!1&&(r!==s.x||i!==s.y)}}dt($b,"positioners",S0);var mQ={id:"tooltip",_element:$b,positioners:S0,afterInit(t,e,n){n&&(t.tooltip=new $b({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:m8},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},gQ=Object.freeze({__proto__:null,Colors:NZ,Decimation:PZ,Filler:ZZ,Legend:iQ,SubTitle:oQ,Title:sQ,Tooltip:mQ});const xQ=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function vQ(t,e,n,r){const i=t.indexOf(e);if(i===-1)return xQ(t,e,n,r);const a=t.lastIndexOf(e);return i!==a?n:i}const yQ=(t,e)=>t===null?null:xi(Math.round(t),0,e);function QT(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Yb extends xf{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:i,label:a}of n)r[i]===a&&r.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(xn(e))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:vQ(r,e,tn(n,e),this._addedLabels),yQ(n,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,i=[];let a=this.getLabels();a=e===0&&n===a.length-1?a:a.slice(e,n+1),this._valueRange=Math.max(a.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let s=e;s<=n;s++)i.push({value:s});return i}getLabelForValue(e){return QT.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}dt(Yb,"id","category"),dt(Yb,"defaults",{ticks:{callback:QT}});function _Q(t,e){const n=[],{bounds:i,step:a,min:s,max:o,precision:l,count:c,maxTicks:u,maxDigits:f,includeBounds:d}=t,h=a||1,g=u-1,{min:x,max:v}=e,m=!xn(s),b=!xn(o),_=!xn(c),S=(v-x)/(f+1);let N=$A((v-x)/g/h)*h,P,T,L,E;if(N<1e-14&&!m&&!b)return[{value:x},{value:v}];E=Math.ceil(v/N)-Math.floor(x/N),E>g&&(N=$A(E*N/g/h)*h),xn(l)||(P=Math.pow(10,l),N=Math.ceil(N*P)/P),i==="ticks"?(T=Math.floor(x/N)*N,L=Math.ceil(v/N)*N):(T=x,L=v),m&&b&&a&&hY((o-s)/a,N/1e3)?(E=Math.round(Math.min((o-s)/N,u)),N=(o-s)/E,T=s,L=o):_?(T=m?s:T,L=b?o:L,E=c-1,N=(L-T)/E):(E=(L-T)/N,G0(E,Math.round(E),N/1e3)?E=Math.round(E):E=Math.ceil(E));const R=Math.max(YA(N),YA(T));P=Math.pow(10,xn(l)?R:l),T=Math.round(T*P)/P,L=Math.round(L*P)/P;let A=0;for(m&&(d&&T!==s?(n.push({value:s}),T<s&&A++,G0(Math.round((T+A*N)*P)/P,s,eM(s,S,t))&&A++):T<s&&A++);A<E;++A){const F=Math.round((T+A*N)*P)/P;if(b&&F>o)break;n.push({value:F})}return b&&d&&L!==o?n.length&&G0(n[n.length-1].value,o,eM(o,S,t))?n[n.length-1].value=o:n.push({value:o}):(!b||L===o)&&n.push({value:L}),n}function eM(t,e,{horizontal:n,minRotation:r}){const i=qs(r),a=(n?Math.sin(i):Math.cos(i))||.001,s=.75*e*(""+t).length;return Math.min(e/a,s)}class kx extends xf{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return xn(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:i,max:a}=this;const s=l=>i=n?i:l,o=l=>a=r?a:l;if(e){const l=Ro(i),c=Ro(a);l<0&&c<0?o(0):l>0&&c>0&&s(0)}if(i===a){let l=a===0?1:Math.abs(a*.05);o(a+l),e||s(i-l)}this.min=i,this.max=a}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=e,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},a=this._range||this,s=_Q(i,a);return e.bounds==="ticks"&&AL(s,this,"value"),e.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const i=(r-n)/Math.max(e.length-1,1)/2;n-=i,r+=i}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return sm(e,this.chart.options.locale,this.options.ticks.format)}}class Kb extends kx{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Tr(e)?e:0,this.max=Tr(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=qs(this.options.ticks.minRotation),i=(e?Math.sin(r):Math.cos(r))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,a.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}dt(Kb,"id","linear"),dt(Kb,"defaults",{ticks:{callback:vv.formatters.numeric}});const Dp=t=>Math.floor(vc(t)),fu=(t,e)=>Math.pow(10,Dp(t)+e);function tM(t){return t/Math.pow(10,Dp(t))===1}function nM(t,e,n){const r=Math.pow(10,n),i=Math.floor(t/r);return Math.ceil(e/r)-i}function bQ(t,e){const n=e-t;let r=Dp(n);for(;nM(t,e,r)>10;)r++;for(;nM(t,e,r)<10;)r--;return Math.min(r,Dp(t))}function wQ(t,{min:e,max:n}){e=$a(t.min,e);const r=[],i=Dp(e);let a=bQ(e,n),s=a<0?Math.pow(10,Math.abs(a)):1;const o=Math.pow(10,a),l=i>a?Math.pow(10,i):0,c=Math.round((e-l)*s)/s,u=Math.floor((e-l)/o/10)*o*10;let f=Math.floor((c-u)/Math.pow(10,a)),d=$a(t.min,Math.round((l+u+f*Math.pow(10,a))*s)/s);for(;d<n;)r.push({value:d,major:tM(d),significand:f}),f>=10?f=f<15?15:20:f++,f>=20&&(a++,f=2,s=a>=0?1:s),d=Math.round((l+u+f*Math.pow(10,a))*s)/s;const h=$a(t.max,d);return r.push({value:h,major:tM(h),significand:f}),r}class Jb extends xf{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){const r=kx.prototype.parse.apply(this,[e,n]);if(r===0){this._zero=!0;return}return Tr(r)&&r>0?r:null}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Tr(e)?Math.max(0,e):null,this.max=Tr(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Tr(this._userMin)&&(this.min=e===fu(this.min,0)?fu(this.min,-1):fu(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let r=this.min,i=this.max;const a=o=>r=e?r:o,s=o=>i=n?i:o;r===i&&(r<=0?(a(1),s(10)):(a(fu(r,-1)),s(fu(i,1)))),r<=0&&a(fu(i,-1)),i<=0&&s(fu(r,1)),this.min=r,this.max=i}buildTicks(){const e=this.options,n={min:this._userMin,max:this._userMax},r=wQ(n,this);return e.bounds==="ticks"&&AL(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}getLabelForValue(e){return e===void 0?"0":sm(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=vc(e),this._valueRange=vc(this.max)-vc(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(vc(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}}dt(Jb,"id","logarithmic"),dt(Jb,"defaults",{ticks:{callback:vv.formatters.logarithmic,major:{enabled:!0}}});function Zb(t){const e=t.ticks;if(e.display&&t.display){const n=ta(e.backdropPadding);return tn(e.font&&e.font.size,fr.font.size)+n.height}return 0}function SQ(t,e,n){return n=ur(n)?n:[n],{w:kY(t,e.string,n),h:n.length*e.lineHeight}}function rM(t,e,n,r,i){return t===r||t===i?{start:e-n/2,end:e+n/2}:t<r||t>i?{start:e-n,end:e}:{start:e,end:e+n}}function EQ(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),r=[],i=[],a=t._pointLabels.length,s=t.options.pointLabels,o=s.centerPointLabels?Rn/a:0;for(let l=0;l<a;l++){const c=s.setContext(t.getPointLabelContext(l));i[l]=c.padding;const u=t.getPointPosition(l,t.drawingArea+i[l],o),f=si(c.font),d=SQ(t.ctx,f,t._pointLabels[l]);r[l]=d;const h=qi(t.getIndexAngle(l)+o),g=Math.round(jS(h)),x=rM(g,u.x,d.w,0,180),v=rM(g,u.y,d.h,90,270);AQ(n,e,h,x,v)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=NQ(t,r,i)}function AQ(t,e,n,r,i){const a=Math.abs(Math.sin(n)),s=Math.abs(Math.cos(n));let o=0,l=0;r.start<e.l?(o=(e.l-r.start)/a,t.l=Math.min(t.l,e.l-o)):r.end>e.r&&(o=(r.end-e.r)/a,t.r=Math.max(t.r,e.r+o)),i.start<e.t?(l=(e.t-i.start)/s,t.t=Math.min(t.t,e.t-l)):i.end>e.b&&(l=(i.end-e.b)/s,t.b=Math.max(t.b,e.b+l))}function TQ(t,e,n){const r=t.drawingArea,{extra:i,additionalAngle:a,padding:s,size:o}=n,l=t.getPointPosition(e,r+i+s,a),c=Math.round(jS(qi(l.angle+Hr))),u=RQ(l.y,o.h,c),f=kQ(c),d=CQ(l.x,o.w,f);return{visible:!0,x:l.x,y:u,textAlign:f,left:d,top:u,right:d+o.w,bottom:u+o.h}}function MQ(t,e){if(!e)return!0;const{left:n,top:r,right:i,bottom:a}=t;return!(vl({x:n,y:r},e)||vl({x:n,y:a},e)||vl({x:i,y:r},e)||vl({x:i,y:a},e))}function NQ(t,e,n){const r=[],i=t._pointLabels.length,a=t.options,{centerPointLabels:s,display:o}=a.pointLabels,l={extra:Zb(a)/2,additionalAngle:s?Rn/i:0};let c;for(let u=0;u<i;u++){l.padding=n[u],l.size=e[u];const f=TQ(t,u,l);r.push(f),o==="auto"&&(f.visible=MQ(f,c),f.visible&&(c=f))}return r}function kQ(t){return t===0||t===180?"center":t<180?"left":"right"}function CQ(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function RQ(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function PQ(t,e,n){const{left:r,top:i,right:a,bottom:s}=n,{backdropColor:o}=e;if(!xn(o)){const l=Wu(e.borderRadius),c=ta(e.backdropPadding);t.fillStyle=o;const u=r-c.left,f=i-c.top,d=a-r+c.width,h=s-i+c.height;Object.values(l).some(g=>g!==0)?(t.beginPath(),Lp(t,{x:u,y:f,w:d,h,radius:l}),t.fill()):t.fillRect(u,f,d,h)}}function LQ(t,e){const{ctx:n,options:{pointLabels:r}}=t;for(let i=e-1;i>=0;i--){const a=t._pointLabelItems[i];if(!a.visible)continue;const s=r.setContext(t.getPointLabelContext(i));PQ(n,s,a);const o=si(s.font),{x:l,y:c,textAlign:u}=a;rf(n,t._pointLabels[i],l,c+o.lineHeight/2,o,{color:s.color,textAlign:u,textBaseline:"middle"})}}function g8(t,e,n,r){const{ctx:i}=t;if(n)i.arc(t.xCenter,t.yCenter,e,0,ar);else{let a=t.getPointPosition(0,e);i.moveTo(a.x,a.y);for(let s=1;s<r;s++)a=t.getPointPosition(s,e),i.lineTo(a.x,a.y)}}function FQ(t,e,n,r,i){const a=t.ctx,s=e.circular,{color:o,lineWidth:l}=e;!s&&!r||!o||!l||n<0||(a.save(),a.strokeStyle=o,a.lineWidth=l,a.setLineDash(i.dash||[]),a.lineDashOffset=i.dashOffset,a.beginPath(),g8(t,n,s,r),a.closePath(),a.stroke(),a.restore())}function DQ(t,e,n){return Kc(t,{label:n,index:e,type:"pointLabel"})}class E0 extends kx{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=ta(Zb(this.options)/2),n=this.width=this.maxWidth-e.width,r=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+r/2+e.top),this.drawingArea=Math.floor(Math.min(n,r)/2)}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!1);this.min=Tr(e)&&!isNaN(e)?e:0,this.max=Tr(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Zb(this.options))}generateTickLabels(e){kx.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,r)=>{const i=Jn(this.options.pointLabels.callback,[n,r],this);return i||i===0?i:""}).filter((n,r)=>this.chart.getDataVisibility(r))}fit(){const e=this.options;e.display&&e.pointLabels.display?EQ(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,r,i){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((r-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,r,i))}getIndexAngle(e){const n=ar/(this._pointLabels.length||1),r=this.options.startAngle||0;return qi(e*n+qs(r))}getDistanceFromCenterForValue(e){if(xn(e))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(xn(e))return NaN;const n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){const n=this._pointLabels||[];if(e>=0&&e<n.length){const r=n[e];return DQ(this.getContext(),e,r)}}getPointPosition(e,n,r=0){const i=this.getIndexAngle(e)-Hr+r;return{x:Math.cos(i)*n+this.xCenter,y:Math.sin(i)*n+this.yCenter,angle:i}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:n,top:r,right:i,bottom:a}=this._pointLabelItems[e];return{left:n,top:r,right:i,bottom:a}}drawBackground(){const{backgroundColor:e,grid:{circular:n}}=this.options;if(e){const r=this.ctx;r.save(),r.beginPath(),g8(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),r.closePath(),r.fillStyle=e,r.fill(),r.restore()}}drawGrid(){const e=this.ctx,n=this.options,{angleLines:r,grid:i,border:a}=n,s=this._pointLabels.length;let o,l,c;if(n.pointLabels.display&&LQ(this,s),i.display&&this.ticks.forEach((u,f)=>{if(f!==0||f===0&&this.min<0){l=this.getDistanceFromCenterForValue(u.value);const d=this.getContext(f),h=i.setContext(d),g=a.setContext(d);FQ(this,h,l,s,g)}}),r.display){for(e.save(),o=s-1;o>=0;o--){const u=r.setContext(this.getPointLabelContext(o)),{color:f,lineWidth:d}=u;!d||!f||(e.lineWidth=d,e.strokeStyle=f,e.setLineDash(u.borderDash),e.lineDashOffset=u.borderDashOffset,l=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),c=this.getPointPosition(o,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(c.x,c.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,n=this.options,r=n.ticks;if(!r.display)return;const i=this.getIndexAngle(0);let a,s;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((o,l)=>{if(l===0&&this.min>=0&&!n.reverse)return;const c=r.setContext(this.getContext(l)),u=si(c.font);if(a=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){e.font=u.string,s=e.measureText(o.label).width,e.fillStyle=c.backdropColor;const f=ta(c.backdropPadding);e.fillRect(-s/2-f.left,-a-u.size/2-f.top,s+f.width,u.size+f.height)}rf(e,o.label,0,-a,u,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),e.restore()}drawTitle(){}}dt(E0,"id","radialLinear"),dt(E0,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:vv.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),dt(E0,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),dt(E0,"descriptors",{angleLines:{_fallback:"grid"}});const Ev={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ta=Object.keys(Ev);function iM(t,e){return t-e}function aM(t,e){if(xn(e))return null;const n=t._adapter,{parser:r,round:i,isoWeekday:a}=t._parseOpts;let s=e;return typeof r=="function"&&(s=r(s)),Tr(s)||(s=typeof r=="string"?n.parse(s,r):n.parse(s)),s===null?null:(i&&(s=i==="week"&&(Yh(a)||a===!0)?n.startOf(s,"isoWeek",a):n.startOf(s,i)),+s)}function sM(t,e,n,r){const i=Ta.length;for(let a=Ta.indexOf(t);a<i-1;++a){const s=Ev[Ta[a]],o=s.steps?s.steps:Number.MAX_SAFE_INTEGER;if(s.common&&Math.ceil((n-e)/(o*s.size))<=r)return Ta[a]}return Ta[i-1]}function IQ(t,e,n,r,i){for(let a=Ta.length-1;a>=Ta.indexOf(n);a--){const s=Ta[a];if(Ev[s].common&&t._adapter.diff(i,r,s)>=e-1)return s}return Ta[n?Ta.indexOf(n):0]}function OQ(t){for(let e=Ta.indexOf(t)+1,n=Ta.length;e<n;++e)if(Ev[Ta[e]].common)return Ta[e]}function oM(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:i}=zS(n,e),a=n[r]>=e?n[r]:n[i];t[a]=!0}}function UQ(t,e,n,r){const i=t._adapter,a=+i.startOf(e[0].value,r),s=e[e.length-1].value;let o,l;for(o=a;o<=s;o=+i.add(o,1,r))l=n[o],l>=0&&(e[l].major=!0);return e}function lM(t,e,n){const r=[],i={},a=e.length;let s,o;for(s=0;s<a;++s)o=e[s],i[o]=s,r.push({value:o,major:!1});return a===0||!n?r:UQ(t,r,i,n)}class Ip extends xf{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),i=this._adapter=new qK._date(e.adapters.date);i.init(n),W0(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:aM(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:i,max:a,minDefined:s,maxDefined:o}=this.getUserBounds();function l(c){!s&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!o&&!isNaN(c.max)&&(a=Math.max(a,c.max))}(!s||!o)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=Tr(i)&&!isNaN(i)?i:+n.startOf(Date.now(),r),a=Tr(a)&&!isNaN(a)?a:+n.endOf(Date.now(),r)+1,this.min=Math.min(i,a-1),this.max=Math.max(i+1,a)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const a=this.min,s=this.max,o=gY(i,a,s);return this._unit=n.unit||(r.autoSkip?sM(n.minUnit,this.min,this.max,this._getLabelCapacity(a)):IQ(this,o.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:OQ(this._unit),this.initOffsets(i),e.reverse&&o.reverse(),lM(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,i,a;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?n=1-i:n=(this.getDecimalForValue(e[1])-i)/2,a=this.getDecimalForValue(e[e.length-1]),e.length===1?r=a:r=(a-this.getDecimalForValue(e[e.length-2]))/2);const s=e.length<3?.5:.25;n=xi(n,0,s),r=xi(r,0,s),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,i=this.options,a=i.time,s=a.unit||sM(a.minUnit,n,r,this._getLabelCapacity(n)),o=tn(i.ticks.stepSize,1),l=s==="week"?a.isoWeekday:!1,c=Yh(l)||l===!0,u={};let f=n,d,h;if(c&&(f=+e.startOf(f,"isoWeek",l)),f=+e.startOf(f,c?"day":s),e.diff(r,n,s)>1e5*o)throw new Error(n+" and "+r+" are too far apart with stepSize of "+o+" "+s);const g=i.ticks.source==="data"&&this.getDataTimestamps();for(d=f,h=0;d<r;d=+e.add(d,o,s),h++)oM(u,d,g);return(d===r||i.bounds==="ticks"||h===1)&&oM(u,d,g),Object.keys(u).sort(iM).map(x=>+x)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const i=this.options.time.displayFormats,a=this._unit,s=n||i[a];return this._adapter.format(e,s)}_tickFormatFunction(e,n,r,i){const a=this.options,s=a.ticks.callback;if(s)return Jn(s,[e,n,r],this);const o=a.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&o[l],f=c&&o[c],d=r[n],h=c&&f&&d&&d.major;return this._adapter.format(e,i||(h?f:u))}generateTickLabels(e){let n,r,i;for(n=0,r=e.length;n<r;++n)i=e[n],i.label=this._tickFormatFunction(i.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,i=qs(this.isHorizontal()?n.maxRotation:n.minRotation),a=Math.cos(i),s=Math.sin(i),o=this._resolveTickFontOptions(0).size;return{w:r*a+o*s,h:r*s+o*a}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,i=r[n.unit]||r.millisecond,a=this._tickFormatFunction(e,0,lM(this,[e],this._majorUnit),i),s=this._getLabelSize(a),o=Math.floor(this.isHorizontal()?this.width/s.w:this.height/s.h)-1;return o>0?o:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,r=i.length;n<r;++n)e=e.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const i=this.getLabels();for(n=0,r=i.length;n<r;++n)e.push(aM(this,i[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return NL(e.sort(iM))}}dt(Ip,"id","time"),dt(Ip,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function vg(t,e,n){let r=0,i=t.length-1,a,s,o,l;n?(e>=t[r].pos&&e<=t[i].pos&&({lo:r,hi:i}=xl(t,"pos",e)),{pos:a,time:o}=t[r],{pos:s,time:l}=t[i]):(e>=t[r].time&&e<=t[i].time&&({lo:r,hi:i}=xl(t,"time",e)),{time:a,pos:o}=t[r],{time:s,pos:l}=t[i]);const c=s-a;return c?o+(l-o)*(e-a)/c:o}class Qb extends Ip{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=vg(n,this.min),this._tableRange=vg(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,i=[],a=[];let s,o,l,c,u;for(s=0,o=e.length;s<o;++s)c=e[s],c>=n&&c<=r&&i.push(c);if(i.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(s=0,o=i.length;s<o;++s)u=i[s+1],l=i[s-1],c=i[s],Math.round((u+l)/2)!==c&&a.push({time:c,pos:s/(o-1)});return a}_generate(){const e=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((i,a)=>i-a)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(vg(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return vg(this._table,r*this._tableRange+this._minPos,!0)}}dt(Qb,"id","timeseries"),dt(Qb,"defaults",Ip.defaults);var BQ=Object.freeze({__proto__:null,CategoryScale:Yb,LinearScale:Kb,LogarithmicScale:Jb,RadialLinearScale:E0,TimeScale:Ip,TimeSeriesScale:Qb});const jQ=[GK,bZ,gQ,BQ];zs.register(...jQ);const cM=({children:t,delay:e=0})=>{const[n,r]=De.useState(!1),i=De.useRef(null);return De.useEffect(()=>{const a=new IntersectionObserver(([s])=>{s.isIntersecting&&(r(!0),a.disconnect())},{threshold:.1});return i.current&&a.observe(i.current),()=>a.disconnect()},[]),p.jsx("div",{ref:i,className:`transition-all duration-1000 ease-out ${n?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,style:{transitionDelay:`${e}s`},children:t})};function zQ(){const[t,e]=De.useState(null),[n,r]=De.useState([]),[i,a]=De.useState([]),[s,o]=De.useState(""),[l,c]=De.useState(""),[u,f]=De.useState("bar"),[d,h]=De.useState(!1),[g,x]=De.useState(!1),[v,m]=De.useState({x:0,y:0}),[b,_]=De.useState(!1),S=De.useRef(null),N=De.useRef(null),P=De.useRef(null);De.useEffect(()=>{const X=ee=>{m({x:ee.clientX,y:ee.clientY})};return window.addEventListener("mousemove",X),()=>window.removeEventListener("mousemove",X)},[]);const T=X=>new Promise((ee,se)=>{const B=new FileReader;B.onload=H=>{try{const xe=new Uint8Array(H.target.result),Se=Np(xe,{type:"array"}),k=Se.Sheets[Se.SheetNames[0]],U=FS.sheet_to_json(k,{header:1});if(!U||U.length===0){se(new Error("Uploaded file contains no data."));return}const O=U[0].map(K=>K==null?"":String(K)),I=U.slice(1).map(K=>Array.isArray(K)?K:[]);ee({headerRow:O,dataRows:I})}catch(xe){se(xe)}},B.onerror=()=>se(new Error("Failed to read file")),B.readAsArrayBuffer(X)}),L=async X=>{if(X.target.files.length){const ee=X.target.files[0];e(ee);try{const{headerRow:se,dataRows:B}=await T(ee);r(se),a(B),o(se[0]||""),c(se[1]||"")}catch(se){alert(se.message)}}},E=X=>{X.preventDefault(),X.stopPropagation(),X.type==="dragenter"||X.type==="dragover"?h(!0):X.type==="dragleave"&&h(!1)},R=async X=>{if(X.preventDefault(),X.stopPropagation(),h(!1),X.dataTransfer.files&&X.dataTransfer.files[0]){const ee=X.dataTransfer.files[0];if(A(ee)){e(ee);try{const{headerRow:se,dataRows:B}=await T(ee);r(se),a(B),o(se[0]||""),c(se[1]||"")}catch(se){alert(se.message)}}else alert("Please upload a valid Excel file (.xlsx or .xls)")}},A=X=>["application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"].includes(X.type)||X.name.endsWith(".xlsx")||X.name.endsWith(".xls"),F=()=>{var k;if(["3dscatter","3dbar","3dline","3dsurface","radar","polarArea","bubble","scatter","doughnut"].includes(u)){_(!0);return}if(!i.length){alert("No data available. Please upload an Excel file first.");return}if(P.current){try{P.current.destroy()}catch{}P.current=null}const ee=n.indexOf(s),se=n.indexOf(l),B=i.map((U,O)=>({rawX:U[ee],rawY:U[se],xNum:Number(U[ee]),yNum:Number(U[se]),label:String(U[ee]??`Row ${O+1}`)})),H=B.map(U=>U.label),xe=B.map(U=>U.yNum).filter(U=>!isNaN(U));if(!xe.length){alert("The selected Y-axis column has no numeric data to plot. Choose a different column.");return}const Se=(k=N.current)==null?void 0:k.getContext("2d");if(!Se){alert("Canvas context not available.");return}try{P.current=new zs(Se,{type:u,data:{labels:H,datasets:[{label:l||"Value",data:xe,backgroundColor:["#3B82F6","#8B5CF6","#06B6D4","#10B981","#F59E0B","#EF4444","#EC4899","#F97316","#6366F1","#14B8A6"],borderColor:"#1F2937",borderWidth:2}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{labels:{color:"#374151",font:{size:12,weight:"bold"}}},tooltip:{enabled:!0}},scales:u!=="pie"&&u!=="doughnut"?{x:{title:{display:!0,text:s,color:"#6B7280",font:{weight:"bold"}},ticks:{color:"#6B7280"},grid:{color:"rgba(0,0,0,0.04)"}},y:{title:{display:!0,text:l,color:"#6B7280",font:{weight:"bold"}},ticks:{color:"#6B7280"},grid:{color:"rgba(0,0,0,0.06)"}}}:void 0,animation:{duration:600}}})}catch(U){console.error(U),alert("Failed to render chart.")}},j=async X=>{if(X.preventDefault(),!t){alert("Please select an Excel file!");return}try{x(!0),F()}catch(ee){console.error("Error processing file:",ee),alert("Failed to process file. Please try again.")}finally{x(!1)}},V=[{value:"bar",label:"Bar Chart",icon:""},{value:"line",label:"Line Chart",icon:""},{value:"pie",label:"Pie Chart",icon:""},{value:"doughnut",label:"Doughnut Chart",icon:"",pro:!0},{value:"radar",label:"Radar Chart",icon:"",pro:!0},{value:"polarArea",label:"Polar Area",icon:"",pro:!0},{value:"bubble",label:"Bubble Chart",icon:"",pro:!0},{value:"scatter",label:"Scatter Plot",icon:"",pro:!0},{value:"3dscatter",label:"3D Scatter",icon:"",pro:!0},{value:"3dbar",label:"3D Bar",icon:"",pro:!0},{value:"3dline",label:"3D Line",icon:"",pro:!0},{value:"3dsurface",label:"3D Surface",icon:"",pro:!0}];return p.jsxs("main",{className:"relative min-h-screen overflow-hidden",children:[p.jsxs("div",{className:"fixed inset-0 overflow-hidden -z-10",children:[p.jsx("div",{className:"absolute bottom-0 left-0 w-64 md:w-80 lg:w-[400px]",children:p.jsxs("div",{className:"relative w-full h-full",children:[p.jsx("div",{className:"absolute inset-0 bg-purple-500 rounded-full blur-3xl opacity-20 animate-pulse"}),p.jsx("img",{src:"/planet1.png",className:"relative z-10 w-full",alt:"Decorative planet",style:{transform:"translateX(-30%)",animation:"float 6s ease-in-out infinite"}})]})}),p.jsx("div",{className:"absolute top-10 right-10 w-48 md:w-72 lg:w-[300px]",children:p.jsxs("div",{className:"relative w-full h-full",children:[p.jsx("div",{className:"absolute inset-0 bg-blue-400 rounded-full blur-3xl opacity-20 animate-pulse"}),p.jsx("img",{src:"/planet2.png",className:"relative z-10 w-full",alt:"Decorative planet",style:{transform:"translateX(30%)",animation:"float 8s ease-in-out infinite reverse"}})]})}),[...Array(15)].map((X,ee)=>p.jsx("div",{className:"absolute rounded-full bg-white animate-pulse",style:{top:`${Math.random()*100}%`,left:`${Math.random()*100}%`,width:`${Math.random()*4+1}px`,height:`${Math.random()*4+1}px`,animationDuration:`${Math.random()*3+2}s`,animationDelay:`${Math.random()*2}s`,opacity:Math.random()*.8+.2,boxShadow:"0 0 10px rgba(255, 255, 255, 0.5)"}},ee)),p.jsx("div",{className:"absolute w-96 h-96 rounded-full bg-gradient-to-r from-indigo-500/10 to-purple-500/10 blur-3xl transition-all duration-1000 pointer-events-none",style:{left:v.x-192,top:v.y-192}})]}),p.jsxs("nav",{className:"flex justify-between items-center p-6 max-w-7xl mx-auto w-full relative z-50",children:[p.jsxs(Ti,{to:"/",className:"text-white font-bold text-3xl relative group",children:[p.jsx("span",{className:"bg-gradient-to-r from-blue-400 via-purple-500 to-pink-400 bg-clip-text text-transparent transition-all duration-300 hover:scale-105",children:"Excel Analytics"}),p.jsx("span",{className:"absolute bottom-0 left-0 w-0 h-0.5 bg-gradient-to-r from-blue-400 to-pink-400 transition-all duration-500 group-hover:w-full"}),p.jsx("div",{className:"absolute -inset-2 bg-gradient-to-r from-blue-400/20 to-pink-400/20 rounded-lg blur opacity-0 group-hover:opacity-100 transition-opacity duration-300 -z-10"})]}),p.jsxs("ul",{className:"hidden md:flex items-center gap-6 text-white",children:[["home","about","features","services"].map(X=>p.jsx("li",{children:p.jsxs(Ti,{to:`/#${X.toLowerCase()}`,className:"relative py-1 px-3 group transition-all duration-300 hover:text-indigo-300",children:[p.jsx("span",{className:"relative z-10 capitalize",children:X.charAt(0).toUpperCase()+X.slice(1)}),p.jsx("span",{className:"absolute inset-0 bg-gray-800/80 rounded-lg scale-90 opacity-0 group-hover:opacity-100 group-hover:scale-100 transition-all duration-300 z-0 backdrop-blur-sm"}),p.jsx("span",{className:"absolute inset-0 rounded-lg bg-blue-500 blur-md opacity-0 group-hover:opacity-20 transition-opacity duration-300"})]})},X)),p.jsx("li",{children:p.jsxs(Ti,{to:"/login",className:"relative inline-block px-4 py-2 font-medium overflow-hidden rounded-lg group",children:[p.jsx("span",{className:"relative z-10 text-white",children:"Sign In"}),p.jsx("span",{className:"absolute inset-0 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg"}),p.jsx("span",{className:"absolute inset-0 bg-gradient-to-r from-purple-500 to-pink-500 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),p.jsx("span",{className:"absolute top-0 left-1/2 w-0 h-full bg-white/20 transition-all duration-700 group-hover:w-3/4 group-hover:left-0 transform -skew-x-12"})]})})]})]}),p.jsx("section",{className:"relative min-h-[70vh] flex items-center justify-center pt-16 pb-32",children:p.jsx("div",{className:"container mx-auto px-4 relative z-10 w-full",children:p.jsxs("div",{className:"max-w-4xl mx-auto w-full",children:[p.jsx(cM,{delay:.2,children:p.jsxs("div",{className:"text-center mb-10",children:[p.jsxs("h1",{className:"text-4xl md:text-5xl font-extrabold tracking-tight mb-6 hover:scale-105 transition-transform duration-500",children:["Turn your ",p.jsx("span",{className:"bg-gradient-to-r from-indigo-600 to-violet-600 bg-clip-text text-transparent",children:"Excel"})," into ",p.jsx("br",{}),p.jsx("span",{className:"bg-gradient-to-r from-pink-500 to-purple-600 bg-clip-text text-transparent",children:"Actionable Insights"})]}),p.jsx("p",{className:"text-xl text-zinc-300 max-w-xl mx-auto",children:"Unlock hidden potential in your data with beautiful visualizations and interactive dashboards. Transform spreadsheets into compelling stories."})]})}),p.jsx(cM,{delay:.4,children:p.jsxs("form",{onSubmit:j,className:"w-full bg-gray-800/50 backdrop-blur-lg rounded-2xl p-1 border border-gray-700 shadow-xl",children:[p.jsxs("div",{className:`relative border-2 border-dashed rounded-2xl p-8 md:p-12 transition-all duration-300 ${d?"border-blue-400 bg-blue-900/20":"border-gray-700 hover:border-gray-500 bg-gray-800/30"}`,onDragEnter:E,onDragOver:E,onDragLeave:E,onDrop:R,children:[p.jsx("input",{type:"file",accept:".xlsx,.xls",onChange:L,className:"hidden",id:"fileInput",ref:S}),p.jsxs("div",{className:"flex flex-col items-center justify-center space-y-6",children:[p.jsx("div",{className:"p-4 rounded-full bg-gradient-to-br from-purple-900/30 to-blue-900/30 group-hover:scale-110 transition-transform duration-300",children:p.jsx(Bu,{className:"h-12 w-12 text-blue-400"})}),p.jsx("div",{className:"text-center",children:t?p.jsxs(p.Fragment,{children:[p.jsx("p",{className:"text-lg font-medium mb-1",children:t.name}),p.jsxs("p",{className:"text-sm text-gray-400 mb-4",children:[Math.round(t.size/1024)," KB"]}),p.jsx("button",{type:"button",className:"text-blue-400 hover:text-blue-300 text-sm font-medium",onClick:()=>S.current.click(),children:"Select different file"})]}):p.jsxs(p.Fragment,{children:[p.jsx("p",{className:"text-lg font-medium mb-2",children:d?"Drop your file here":"Drag & drop your Excel file"}),p.jsxs("p",{className:"text-gray-400 text-sm mb-6",children:["Only ",p.jsx("span",{className:"font-semibold",children:".xlsx"})," and"," ",p.jsx("span",{className:"font-semibold",children:".xls"})," files accepted"]}),p.jsx("label",{htmlFor:"fileInput",className:"cursor-pointer px-6 py-3 rounded-lg bg-gradient-to-r from-blue-500 to-indigo-600 text-white font-medium hover:from-blue-600 hover:to-indigo-700 transition-all duration-300 shadow-lg shadow-blue-500/20 hover:shadow-blue-500/30 inline-block",children:"Browse Files"})]})})]}),d&&p.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-blue-900/30 rounded-2xl",children:p.jsx("div",{className:"p-6 bg-black/50 backdrop-blur-sm rounded-xl border border-blue-400",children:p.jsx("p",{className:"text-blue-300 font-medium",children:"Drop to upload"})})})]}),t&&n.length>0&&p.jsxs("div",{className:"mt-6 px-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-semibold text-gray-300 mb-2",children:"X-Axis"}),p.jsx("select",{value:s,onChange:X=>o(X.target.value),className:"w-full bg-gray-700 border-2 border-gray-600 rounded-xl px-4 py-3 text-white focus:outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-900 transition-all",children:n.map((X,ee)=>p.jsx("option",{value:X,children:X},ee))})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-semibold text-gray-300 mb-2",children:"Y-Axis"}),p.jsx("select",{value:l,onChange:X=>c(X.target.value),className:"w-full bg-gray-700 border-2 border-gray-600 rounded-xl px-4 py-3 text-white focus:outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-900 transition-all",children:n.map((X,ee)=>p.jsx("option",{value:X,children:X},ee))})]})]}),t&&p.jsxs("div",{className:"mt-6 px-6",children:[p.jsx("label",{className:"block text-sm font-semibold text-gray-300 mb-3",children:"Chart Type"}),p.jsxs("div",{className:"relative",children:[p.jsx("select",{value:u,onChange:X=>f(X.target.value),className:"w-full appearance-none bg-gray-700 border-2 border-gray-600 rounded-xl px-4 py-3 pr-10 text-white focus:outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-900 transition-all",children:V.map(X=>p.jsxs("option",{value:X.value,children:[X.icon," ",X.label," ",X.pro&&""]},X.value))}),p.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-3 pointer-events-none",children:p.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]})]}),t&&i.length>0&&p.jsx("div",{className:"mt-6 px-6",children:p.jsxs("div",{className:"bg-gray-900/50 rounded-xl p-4",children:[p.jsx("h3",{className:"text-gray-300 font-medium mb-3",children:"Preview"}),p.jsx("div",{className:"w-full h-64 bg-gray-800/50 rounded-lg p-4",children:p.jsx("canvas",{ref:N,className:"w-full h-full"})}),p.jsx("button",{type:"button",onClick:F,className:"mt-4 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:"Refresh Preview"})]})}),p.jsx("div",{className:"mt-8 px-4 pb-6 flex justify-center",children:p.jsx("button",{type:"submit",disabled:!t||g,className:`px-8 py-4 rounded-2xl font-medium text-lg w-full max-w-xs transition-all duration-300 flex items-center justify-center group ${t&&!g?"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 shadow-lg shadow-green-500/20 hover:shadow-green-500/30 cursor-pointer transform hover:-translate-y-1":"bg-gray-700 text-gray-500 cursor-not-allowed"}`,children:g?p.jsxs(p.Fragment,{children:[p.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[p.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),p.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):t?p.jsxs(p.Fragment,{children:["Generate Chart ",p.jsx(J5,{className:"h-5 w-5 ml-2 group-hover:translate-x-1 transition-transform"})]}):"Upload File First"})})]})})]})})}),p.jsx("div",{className:"absolute bottom-6 left-0 right-0 text-center text-gray-500 text-sm relative z-10",children:"Transform raw data into compelling business narratives"}),b&&p.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:p.jsxs("div",{className:"bg-gray-800 rounded-2xl p-6 max-w-md w-full relative",children:[p.jsx("button",{onClick:()=>_(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-white",children:p.jsx(ld,{className:"h-5 w-5"})}),p.jsxs("div",{className:"text-center mb-6",children:[p.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-r from-amber-500 to-orange-600 rounded-full mb-4",children:p.jsx(CU,{className:"h-8 w-8 text-white"})}),p.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Premium Feature"}),p.jsx("p",{className:"text-gray-300",children:"This chart type is available with a Pro subscription. Please login to access all advanced features."})]}),p.jsxs("div",{className:"flex gap-4",children:[p.jsx("button",{onClick:()=>_(!1),className:"flex-1 py-3 px-4 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors",children:"Maybe Later"}),p.jsx(Ti,{to:"/login",className:"flex-1 py-3 px-4 bg-gradient-to-r from-amber-500 to-orange-600 hover:from-amber-600 hover:to-orange-700 text-white rounded-lg transition-all text-center",children:"Login Now"})]})]})})]})}/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const ZS="179",HQ=0,uM=1,VQ=2,x8=1,WQ=2,ol=3,Hc=0,La=1,Eo=2,Lc=0,Rh=1,fM=2,hM=3,dM=4,GQ=5,Tu=100,qQ=101,XQ=102,$Q=103,YQ=104,KQ=200,JQ=201,ZQ=202,QQ=203,ew=204,tw=205,eee=206,tee=207,nee=208,ree=209,iee=210,aee=211,see=212,oee=213,lee=214,nw=0,rw=1,iw=2,Zh=3,aw=4,sw=5,ow=6,lw=7,QS=0,cee=1,uee=2,Fc=0,fee=1,hee=2,dee=3,pee=4,mee=5,gee=6,xee=7,v8=300,Qh=301,ed=302,cw=303,uw=304,Av=306,fw=1e3,Du=1001,hw=1002,Zs=1003,vee=1004,yg=1005,To=1006,fy=1007,Iu=1008,Fo=1009,y8=1010,_8=1011,Op=1012,e3=1013,af=1014,yl=1015,om=1016,t3=1017,n3=1018,Up=1020,b8=35902,w8=1021,S8=1022,Xs=1023,Bp=1026,jp=1027,E8=1028,r3=1029,A8=1030,i3=1031,a3=1033,E1=33776,A1=33777,T1=33778,M1=33779,dw=35840,pw=35841,mw=35842,gw=35843,xw=36196,vw=37492,yw=37496,_w=37808,bw=37809,ww=37810,Sw=37811,Ew=37812,Aw=37813,Tw=37814,Mw=37815,Nw=37816,kw=37817,Cw=37818,Rw=37819,Pw=37820,Lw=37821,N1=36492,Fw=36494,Dw=36495,T8=36283,Iw=36284,Ow=36285,Uw=36286,yee=3200,_ee=3201,M8=0,bee=1,fc="",gs="srgb",td="srgb-linear",Cx="linear",Vn="srgb",Bf=7680,pM=519,wee=512,See=513,Eee=514,N8=515,Aee=516,Tee=517,Mee=518,Nee=519,mM=35044,gM="300 es",Mo=2e3,Rx=2001;class pd{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){const r=this._listeners;return r===void 0?!1:r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){const r=this._listeners;if(r===void 0)return;const i=r[e];if(i!==void 0){const a=i.indexOf(n);a!==-1&&i.splice(a,1)}}dispatchEvent(e){const n=this._listeners;if(n===void 0)return;const r=n[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let a=0,s=i.length;a<s;a++)i[a].call(this,e);e.target=null}}}const Ui=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],hy=Math.PI/180,Bw=180/Math.PI;function lm(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Ui[t&255]+Ui[t>>8&255]+Ui[t>>16&255]+Ui[t>>24&255]+"-"+Ui[e&255]+Ui[e>>8&255]+"-"+Ui[e>>16&15|64]+Ui[e>>24&255]+"-"+Ui[n&63|128]+Ui[n>>8&255]+"-"+Ui[n>>16&255]+Ui[n>>24&255]+Ui[r&255]+Ui[r>>8&255]+Ui[r>>16&255]+Ui[r>>24&255]).toLowerCase()}function bn(t,e,n){return Math.max(e,Math.min(n,t))}function kee(t,e){return(t%e+e)%e}function dy(t,e,n){return(1-n)*t+n*e}function r0(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function Sa(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}class Ln{constructor(e=0,n=0){Ln.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=bn(this.x,e.x,n.x),this.y=bn(this.y,e.y,n.y),this}clampScalar(e,n){return this.x=bn(this.x,e,n),this.y=bn(this.y,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(bn(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(bn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),a=this.x-e.x,s=this.y-e.y;return this.x=a*r-s*i+e.x,this.y=a*i+s*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class cm{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,a,s,o){let l=r[i+0],c=r[i+1],u=r[i+2],f=r[i+3];const d=a[s+0],h=a[s+1],g=a[s+2],x=a[s+3];if(o===0){e[n+0]=l,e[n+1]=c,e[n+2]=u,e[n+3]=f;return}if(o===1){e[n+0]=d,e[n+1]=h,e[n+2]=g,e[n+3]=x;return}if(f!==x||l!==d||c!==h||u!==g){let v=1-o;const m=l*d+c*h+u*g+f*x,b=m>=0?1:-1,_=1-m*m;if(_>Number.EPSILON){const N=Math.sqrt(_),P=Math.atan2(N,m*b);v=Math.sin(v*P)/N,o=Math.sin(o*P)/N}const S=o*b;if(l=l*v+d*S,c=c*v+h*S,u=u*v+g*S,f=f*v+x*S,v===1-o){const N=1/Math.sqrt(l*l+c*c+u*u+f*f);l*=N,c*=N,u*=N,f*=N}}e[n]=l,e[n+1]=c,e[n+2]=u,e[n+3]=f}static multiplyQuaternionsFlat(e,n,r,i,a,s){const o=r[i],l=r[i+1],c=r[i+2],u=r[i+3],f=a[s],d=a[s+1],h=a[s+2],g=a[s+3];return e[n]=o*g+u*f+l*h-c*d,e[n+1]=l*g+u*d+c*f-o*h,e[n+2]=c*g+u*h+o*d-l*f,e[n+3]=u*g-o*f-l*d-c*h,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const r=e._x,i=e._y,a=e._z,s=e._order,o=Math.cos,l=Math.sin,c=o(r/2),u=o(i/2),f=o(a/2),d=l(r/2),h=l(i/2),g=l(a/2);switch(s){case"XYZ":this._x=d*u*f+c*h*g,this._y=c*h*f-d*u*g,this._z=c*u*g+d*h*f,this._w=c*u*f-d*h*g;break;case"YXZ":this._x=d*u*f+c*h*g,this._y=c*h*f-d*u*g,this._z=c*u*g-d*h*f,this._w=c*u*f+d*h*g;break;case"ZXY":this._x=d*u*f-c*h*g,this._y=c*h*f+d*u*g,this._z=c*u*g+d*h*f,this._w=c*u*f-d*h*g;break;case"ZYX":this._x=d*u*f-c*h*g,this._y=c*h*f+d*u*g,this._z=c*u*g-d*h*f,this._w=c*u*f+d*h*g;break;case"YZX":this._x=d*u*f+c*h*g,this._y=c*h*f+d*u*g,this._z=c*u*g-d*h*f,this._w=c*u*f-d*h*g;break;case"XZY":this._x=d*u*f-c*h*g,this._y=c*h*f-d*u*g,this._z=c*u*g+d*h*f,this._w=c*u*f+d*h*g;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],a=n[8],s=n[1],o=n[5],l=n[9],c=n[2],u=n[6],f=n[10],d=r+o+f;if(d>0){const h=.5/Math.sqrt(d+1);this._w=.25/h,this._x=(u-l)*h,this._y=(a-c)*h,this._z=(s-i)*h}else if(r>o&&r>f){const h=2*Math.sqrt(1+r-o-f);this._w=(u-l)/h,this._x=.25*h,this._y=(i+s)/h,this._z=(a+c)/h}else if(o>f){const h=2*Math.sqrt(1+o-r-f);this._w=(a-c)/h,this._x=(i+s)/h,this._y=.25*h,this._z=(l+u)/h}else{const h=2*Math.sqrt(1+f-r-o);this._w=(s-i)/h,this._x=(a+c)/h,this._y=(l+u)/h,this._z=.25*h}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<1e-8?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(bn(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,a=e._z,s=e._w,o=n._x,l=n._y,c=n._z,u=n._w;return this._x=r*u+s*o+i*c-a*l,this._y=i*u+s*l+a*o-r*c,this._z=a*u+s*c+r*l-i*o,this._w=s*u-r*o-i*l-a*c,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,i=this._y,a=this._z,s=this._w;let o=s*e._w+r*e._x+i*e._y+a*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=s,this._x=r,this._y=i,this._z=a,this;const l=1-o*o;if(l<=Number.EPSILON){const h=1-n;return this._w=h*s+n*this._w,this._x=h*r+n*this._x,this._y=h*i+n*this._y,this._z=h*a+n*this._z,this.normalize(),this}const c=Math.sqrt(l),u=Math.atan2(c,o),f=Math.sin((1-n)*u)/c,d=Math.sin(n*u)/c;return this._w=s*f+this._w*d,this._x=r*f+this._x*d,this._y=i*f+this._y*d,this._z=a*f+this._z*d,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),r=Math.random(),i=Math.sqrt(1-r),a=Math.sqrt(r);return this.set(i*Math.sin(e),i*Math.cos(e),a*Math.sin(n),a*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Xe{constructor(e=0,n=0,r=0){Xe.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(xM.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(xM.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,a=e.elements;return this.x=a[0]*n+a[3]*r+a[6]*i,this.y=a[1]*n+a[4]*r+a[7]*i,this.z=a[2]*n+a[5]*r+a[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,a=e.elements,s=1/(a[3]*n+a[7]*r+a[11]*i+a[15]);return this.x=(a[0]*n+a[4]*r+a[8]*i+a[12])*s,this.y=(a[1]*n+a[5]*r+a[9]*i+a[13])*s,this.z=(a[2]*n+a[6]*r+a[10]*i+a[14])*s,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,a=e.x,s=e.y,o=e.z,l=e.w,c=2*(s*i-o*r),u=2*(o*n-a*i),f=2*(a*r-s*n);return this.x=n+l*c+s*f-o*u,this.y=r+l*u+o*c-a*f,this.z=i+l*f+a*u-s*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,a=e.elements;return this.x=a[0]*n+a[4]*r+a[8]*i,this.y=a[1]*n+a[5]*r+a[9]*i,this.z=a[2]*n+a[6]*r+a[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=bn(this.x,e.x,n.x),this.y=bn(this.y,e.y,n.y),this.z=bn(this.z,e.z,n.z),this}clampScalar(e,n){return this.x=bn(this.x,e,n),this.y=bn(this.y,e,n),this.z=bn(this.z,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(bn(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,a=e.z,s=n.x,o=n.y,l=n.z;return this.x=i*l-a*o,this.y=a*s-r*l,this.z=r*o-i*s,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return py.copy(this).projectOnVector(e),this.sub(py)}reflect(e){return this.sub(py.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(bn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=Math.random()*2-1,r=Math.sqrt(1-n*n);return this.x=r*Math.cos(e),this.y=n,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const py=new Xe,xM=new cm;class fn{constructor(e,n,r,i,a,s,o,l,c){fn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,i,a,s,o,l,c)}set(e,n,r,i,a,s,o,l,c){const u=this.elements;return u[0]=e,u[1]=i,u[2]=o,u[3]=n,u[4]=a,u[5]=l,u[6]=r,u[7]=s,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,a=this.elements,s=r[0],o=r[3],l=r[6],c=r[1],u=r[4],f=r[7],d=r[2],h=r[5],g=r[8],x=i[0],v=i[3],m=i[6],b=i[1],_=i[4],S=i[7],N=i[2],P=i[5],T=i[8];return a[0]=s*x+o*b+l*N,a[3]=s*v+o*_+l*P,a[6]=s*m+o*S+l*T,a[1]=c*x+u*b+f*N,a[4]=c*v+u*_+f*P,a[7]=c*m+u*S+f*T,a[2]=d*x+h*b+g*N,a[5]=d*v+h*_+g*P,a[8]=d*m+h*S+g*T,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],a=e[3],s=e[4],o=e[5],l=e[6],c=e[7],u=e[8];return n*s*u-n*o*c-r*a*u+r*o*l+i*a*c-i*s*l}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],a=e[3],s=e[4],o=e[5],l=e[6],c=e[7],u=e[8],f=u*s-o*c,d=o*l-u*a,h=c*a-s*l,g=n*f+r*d+i*h;if(g===0)return this.set(0,0,0,0,0,0,0,0,0);const x=1/g;return e[0]=f*x,e[1]=(i*c-u*r)*x,e[2]=(o*r-i*s)*x,e[3]=d*x,e[4]=(u*n-i*l)*x,e[5]=(i*a-o*n)*x,e[6]=h*x,e[7]=(r*l-c*n)*x,e[8]=(s*n-r*a)*x,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,a,s,o){const l=Math.cos(a),c=Math.sin(a);return this.set(r*l,r*c,-r*(l*s+c*o)+s+e,-i*c,i*l,-i*(-c*s+l*o)+o+n,0,0,1),this}scale(e,n){return this.premultiply(my.makeScale(e,n)),this}rotate(e){return this.premultiply(my.makeRotation(-e)),this}translate(e,n){return this.premultiply(my.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const my=new fn;function k8(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}function Px(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function Cee(){const t=Px("canvas");return t.style.display="block",t}const vM={};function Ph(t){t in vM||(vM[t]=!0,console.warn(t))}function Ree(t,e,n){return new Promise(function(r,i){function a(){switch(t.clientWaitSync(e,t.SYNC_FLUSH_COMMANDS_BIT,0)){case t.WAIT_FAILED:i();break;case t.TIMEOUT_EXPIRED:setTimeout(a,n);break;default:r()}}setTimeout(a,n)})}const yM=new fn().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),_M=new fn().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function Pee(){const t={enabled:!0,workingColorSpace:td,spaces:{},convert:function(i,a,s){return this.enabled===!1||a===s||!a||!s||(this.spaces[a].transfer===Vn&&(i.r=Al(i.r),i.g=Al(i.g),i.b=Al(i.b)),this.spaces[a].primaries!==this.spaces[s].primaries&&(i.applyMatrix3(this.spaces[a].toXYZ),i.applyMatrix3(this.spaces[s].fromXYZ)),this.spaces[s].transfer===Vn&&(i.r=Lh(i.r),i.g=Lh(i.g),i.b=Lh(i.b))),i},workingToColorSpace:function(i,a){return this.convert(i,this.workingColorSpace,a)},colorSpaceToWorking:function(i,a){return this.convert(i,a,this.workingColorSpace)},getPrimaries:function(i){return this.spaces[i].primaries},getTransfer:function(i){return i===fc?Cx:this.spaces[i].transfer},getLuminanceCoefficients:function(i,a=this.workingColorSpace){return i.fromArray(this.spaces[a].luminanceCoefficients)},define:function(i){Object.assign(this.spaces,i)},_getMatrix:function(i,a,s){return i.copy(this.spaces[a].toXYZ).multiply(this.spaces[s].fromXYZ)},_getDrawingBufferColorSpace:function(i){return this.spaces[i].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(i=this.workingColorSpace){return this.spaces[i].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(i,a){return Ph("THREE.ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),t.workingToColorSpace(i,a)},toWorkingColorSpace:function(i,a){return Ph("THREE.ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),t.colorSpaceToWorking(i,a)}},e=[.64,.33,.3,.6,.15,.06],n=[.2126,.7152,.0722],r=[.3127,.329];return t.define({[td]:{primaries:e,whitePoint:r,transfer:Cx,toXYZ:yM,fromXYZ:_M,luminanceCoefficients:n,workingColorSpaceConfig:{unpackColorSpace:gs},outputColorSpaceConfig:{drawingBufferColorSpace:gs}},[gs]:{primaries:e,whitePoint:r,transfer:Vn,toXYZ:yM,fromXYZ:_M,luminanceCoefficients:n,outputColorSpaceConfig:{drawingBufferColorSpace:gs}}}),t}const Cn=Pee();function Al(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function Lh(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let jf;class Lee{static getDataURL(e,n="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let r;if(e instanceof HTMLCanvasElement)r=e;else{jf===void 0&&(jf=Px("canvas")),jf.width=e.width,jf.height=e.height;const i=jf.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),r=jf}return r.toDataURL(n)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=Px("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),a=i.data;for(let s=0;s<a.length;s++)a[s]=Al(a[s]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(Al(n[r]/255)*255):n[r]=Al(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let Fee=0;class s3{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:Fee++}),this.uuid=lm(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const n=this.data;return n instanceof HTMLVideoElement?e.set(n.videoWidth,n.videoHeight,0):n instanceof VideoFrame?e.set(n.displayHeight,n.displayWidth,0):n!==null?e.set(n.width,n.height,n.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let a;if(Array.isArray(i)){a=[];for(let s=0,o=i.length;s<o;s++)i[s].isDataTexture?a.push(gy(i[s].image)):a.push(gy(i[s]))}else a=gy(i);r.url=a}return n||(e.images[this.uuid]=r),r}}function gy(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?Lee.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let Dee=0;const xy=new Xe;class Fa extends pd{constructor(e=Fa.DEFAULT_IMAGE,n=Fa.DEFAULT_MAPPING,r=Du,i=Du,a=To,s=Iu,o=Xs,l=Fo,c=Fa.DEFAULT_ANISOTROPY,u=fc){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Dee++}),this.uuid=lm(),this.name="",this.source=new s3(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=a,this.minFilter=s,this.anisotropy=c,this.format=o,this.internalFormat=null,this.type=l,this.offset=new Ln(0,0),this.repeat=new Ln(1,1),this.center=new Ln(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new fn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=u,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(xy).x}get height(){return this.source.getSize(xy).y}get depth(){return this.source.getSize(xy).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const n in e){const r=e[n];if(r===void 0){console.warn(`THREE.Texture.setValues(): parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){console.warn(`THREE.Texture.setValues(): property '${n}' does not exist.`);continue}i&&r&&i.isVector2&&r.isVector2||i&&r&&i.isVector3&&r.isVector3||i&&r&&i.isMatrix3&&r.isMatrix3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==v8)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case fw:e.x=e.x-Math.floor(e.x);break;case Du:e.x=e.x<0?0:1;break;case hw:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case fw:e.y=e.y-Math.floor(e.y);break;case Du:e.y=e.y<0?0:1;break;case hw:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Fa.DEFAULT_IMAGE=null;Fa.DEFAULT_MAPPING=v8;Fa.DEFAULT_ANISOTROPY=1;class Ar{constructor(e=0,n=0,r=0,i=1){Ar.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,a=this.w,s=e.elements;return this.x=s[0]*n+s[4]*r+s[8]*i+s[12]*a,this.y=s[1]*n+s[5]*r+s[9]*i+s[13]*a,this.z=s[2]*n+s[6]*r+s[10]*i+s[14]*a,this.w=s[3]*n+s[7]*r+s[11]*i+s[15]*a,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,a;const l=e.elements,c=l[0],u=l[4],f=l[8],d=l[1],h=l[5],g=l[9],x=l[2],v=l[6],m=l[10];if(Math.abs(u-d)<.01&&Math.abs(f-x)<.01&&Math.abs(g-v)<.01){if(Math.abs(u+d)<.1&&Math.abs(f+x)<.1&&Math.abs(g+v)<.1&&Math.abs(c+h+m-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const _=(c+1)/2,S=(h+1)/2,N=(m+1)/2,P=(u+d)/4,T=(f+x)/4,L=(g+v)/4;return _>S&&_>N?_<.01?(r=0,i=.707106781,a=.707106781):(r=Math.sqrt(_),i=P/r,a=T/r):S>N?S<.01?(r=.707106781,i=0,a=.707106781):(i=Math.sqrt(S),r=P/i,a=L/i):N<.01?(r=.707106781,i=.707106781,a=0):(a=Math.sqrt(N),r=T/a,i=L/a),this.set(r,i,a,n),this}let b=Math.sqrt((v-g)*(v-g)+(f-x)*(f-x)+(d-u)*(d-u));return Math.abs(b)<.001&&(b=1),this.x=(v-g)/b,this.y=(f-x)/b,this.z=(d-u)/b,this.w=Math.acos((c+h+m-1)/2),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this.w=n[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=bn(this.x,e.x,n.x),this.y=bn(this.y,e.y,n.y),this.z=bn(this.z,e.z,n.z),this.w=bn(this.w,e.w,n.w),this}clampScalar(e,n){return this.x=bn(this.x,e,n),this.y=bn(this.y,e,n),this.z=bn(this.z,e,n),this.w=bn(this.w,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(bn(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Iee extends pd{constructor(e=1,n=1,r={}){super(),r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:To,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},r),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=r.depth,this.scissor=new Ar(0,0,e,n),this.scissorTest=!1,this.viewport=new Ar(0,0,e,n);const i={width:e,height:n,depth:r.depth},a=new Fa(i);this.textures=[];const s=r.count;for(let o=0;o<s;o++)this.textures[o]=a.clone(),this.textures[o].isRenderTargetTexture=!0,this.textures[o].renderTarget=this;this._setTextureOptions(r),this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=r.depthTexture,this.samples=r.samples,this.multiview=r.multiview}_setTextureOptions(e={}){const n={minFilter:To,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(n.mapping=e.mapping),e.wrapS!==void 0&&(n.wrapS=e.wrapS),e.wrapT!==void 0&&(n.wrapT=e.wrapT),e.wrapR!==void 0&&(n.wrapR=e.wrapR),e.magFilter!==void 0&&(n.magFilter=e.magFilter),e.minFilter!==void 0&&(n.minFilter=e.minFilter),e.format!==void 0&&(n.format=e.format),e.type!==void 0&&(n.type=e.type),e.anisotropy!==void 0&&(n.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(n.colorSpace=e.colorSpace),e.flipY!==void 0&&(n.flipY=e.flipY),e.generateMipmaps!==void 0&&(n.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(n.internalFormat=e.internalFormat);for(let r=0;r<this.textures.length;r++)this.textures[r].setValues(n)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,a=this.textures.length;i<a;i++)this.textures[i].image.width=e,this.textures[i].image.height=n,this.textures[i].image.depth=r,this.textures[i].isArrayTexture=this.textures[i].image.depth>1;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let n=0,r=e.textures.length;n<r;n++){this.textures[n]=e.textures[n].clone(),this.textures[n].isRenderTargetTexture=!0,this.textures[n].renderTarget=this;const i=Object.assign({},e.textures[n].image);this.textures[n].source=new s3(i)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class sf extends Iee{constructor(e=1,n=1,r={}){super(e,n,r),this.isWebGLRenderTarget=!0}}class C8 extends Fa{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=Zs,this.minFilter=Zs,this.wrapR=Du,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class Oee extends Fa{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=Zs,this.minFilter=Zs,this.wrapR=Du,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class um{constructor(e=new Xe(1/0,1/0,1/0),n=new Xe(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(Fs.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(Fs.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=Fs.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const a=r.getAttribute("position");if(n===!0&&a!==void 0&&e.isInstancedMesh!==!0)for(let s=0,o=a.count;s<o;s++)e.isMesh===!0?e.getVertexPosition(s,Fs):Fs.fromBufferAttribute(a,s),Fs.applyMatrix4(e.matrixWorld),this.expandByPoint(Fs);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),_g.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),_g.copy(r.boundingBox)),_g.applyMatrix4(e.matrixWorld),this.union(_g)}const i=e.children;for(let a=0,s=i.length;a<s;a++)this.expandByObject(i[a],n);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Fs),Fs.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(i0),bg.subVectors(this.max,i0),zf.subVectors(e.a,i0),Hf.subVectors(e.b,i0),Vf.subVectors(e.c,i0),Zl.subVectors(Hf,zf),Ql.subVectors(Vf,Hf),hu.subVectors(zf,Vf);let n=[0,-Zl.z,Zl.y,0,-Ql.z,Ql.y,0,-hu.z,hu.y,Zl.z,0,-Zl.x,Ql.z,0,-Ql.x,hu.z,0,-hu.x,-Zl.y,Zl.x,0,-Ql.y,Ql.x,0,-hu.y,hu.x,0];return!vy(n,zf,Hf,Vf,bg)||(n=[1,0,0,0,1,0,0,0,1],!vy(n,zf,Hf,Vf,bg))?!1:(wg.crossVectors(Zl,Ql),n=[wg.x,wg.y,wg.z],vy(n,zf,Hf,Vf,bg))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Fs).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Fs).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Zo[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Zo[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Zo[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Zo[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Zo[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Zo[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Zo[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Zo[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Zo),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const Zo=[new Xe,new Xe,new Xe,new Xe,new Xe,new Xe,new Xe,new Xe],Fs=new Xe,_g=new um,zf=new Xe,Hf=new Xe,Vf=new Xe,Zl=new Xe,Ql=new Xe,hu=new Xe,i0=new Xe,bg=new Xe,wg=new Xe,du=new Xe;function vy(t,e,n,r,i){for(let a=0,s=t.length-3;a<=s;a+=3){du.fromArray(t,a);const o=i.x*Math.abs(du.x)+i.y*Math.abs(du.y)+i.z*Math.abs(du.z),l=e.dot(du),c=n.dot(du),u=r.dot(du);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>o)return!1}return!0}const Uee=new um,a0=new Xe,yy=new Xe;class Tv{constructor(e=new Xe,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):Uee.setFromPoints(e).getCenter(r);let i=0;for(let a=0,s=e.length;a<s;a++)i=Math.max(i,r.distanceToSquared(e[a]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;a0.subVectors(e,this.center);const n=a0.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(a0,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(yy.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(a0.copy(e.center).add(yy)),this.expandByPoint(a0.copy(e.center).sub(yy))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}const Qo=new Xe,_y=new Xe,Sg=new Xe,ec=new Xe,by=new Xe,Eg=new Xe,wy=new Xe;class R8{constructor(e=new Xe,n=new Xe(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Qo)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=Qo.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(Qo.copy(this.origin).addScaledVector(this.direction,n),Qo.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){_y.copy(e).add(n).multiplyScalar(.5),Sg.copy(n).sub(e).normalize(),ec.copy(this.origin).sub(_y);const a=e.distanceTo(n)*.5,s=-this.direction.dot(Sg),o=ec.dot(this.direction),l=-ec.dot(Sg),c=ec.lengthSq(),u=Math.abs(1-s*s);let f,d,h,g;if(u>0)if(f=s*l-o,d=s*o-l,g=a*u,f>=0)if(d>=-g)if(d<=g){const x=1/u;f*=x,d*=x,h=f*(f+s*d+2*o)+d*(s*f+d+2*l)+c}else d=a,f=Math.max(0,-(s*d+o)),h=-f*f+d*(d+2*l)+c;else d=-a,f=Math.max(0,-(s*d+o)),h=-f*f+d*(d+2*l)+c;else d<=-g?(f=Math.max(0,-(-s*a+o)),d=f>0?-a:Math.min(Math.max(-a,-l),a),h=-f*f+d*(d+2*l)+c):d<=g?(f=0,d=Math.min(Math.max(-a,-l),a),h=d*(d+2*l)+c):(f=Math.max(0,-(s*a+o)),d=f>0?a:Math.min(Math.max(-a,-l),a),h=-f*f+d*(d+2*l)+c);else d=s>0?-a:a,f=Math.max(0,-(s*d+o)),h=-f*f+d*(d+2*l)+c;return r&&r.copy(this.origin).addScaledVector(this.direction,f),i&&i.copy(_y).addScaledVector(Sg,d),h}intersectSphere(e,n){Qo.subVectors(e.center,this.origin);const r=Qo.dot(this.direction),i=Qo.dot(Qo)-r*r,a=e.radius*e.radius;if(i>a)return null;const s=Math.sqrt(a-i),o=r-s,l=r+s;return l<0?null:o<0?this.at(l,n):this.at(o,n)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,a,s,o,l;const c=1/this.direction.x,u=1/this.direction.y,f=1/this.direction.z,d=this.origin;return c>=0?(r=(e.min.x-d.x)*c,i=(e.max.x-d.x)*c):(r=(e.max.x-d.x)*c,i=(e.min.x-d.x)*c),u>=0?(a=(e.min.y-d.y)*u,s=(e.max.y-d.y)*u):(a=(e.max.y-d.y)*u,s=(e.min.y-d.y)*u),r>s||a>i||((a>r||isNaN(r))&&(r=a),(s<i||isNaN(i))&&(i=s),f>=0?(o=(e.min.z-d.z)*f,l=(e.max.z-d.z)*f):(o=(e.max.z-d.z)*f,l=(e.min.z-d.z)*f),r>l||o>i)||((o>r||r!==r)&&(r=o),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,Qo)!==null}intersectTriangle(e,n,r,i,a){by.subVectors(n,e),Eg.subVectors(r,e),wy.crossVectors(by,Eg);let s=this.direction.dot(wy),o;if(s>0){if(i)return null;o=1}else if(s<0)o=-1,s=-s;else return null;ec.subVectors(this.origin,e);const l=o*this.direction.dot(Eg.crossVectors(ec,Eg));if(l<0)return null;const c=o*this.direction.dot(by.cross(ec));if(c<0||l+c>s)return null;const u=-o*ec.dot(wy);return u<0?null:this.at(u/s,a)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Mr{constructor(e,n,r,i,a,s,o,l,c,u,f,d,h,g,x,v){Mr.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,i,a,s,o,l,c,u,f,d,h,g,x,v)}set(e,n,r,i,a,s,o,l,c,u,f,d,h,g,x,v){const m=this.elements;return m[0]=e,m[4]=n,m[8]=r,m[12]=i,m[1]=a,m[5]=s,m[9]=o,m[13]=l,m[2]=c,m[6]=u,m[10]=f,m[14]=d,m[3]=h,m[7]=g,m[11]=x,m[15]=v,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Mr().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,i=1/Wf.setFromMatrixColumn(e,0).length(),a=1/Wf.setFromMatrixColumn(e,1).length(),s=1/Wf.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*a,n[5]=r[5]*a,n[6]=r[6]*a,n[7]=0,n[8]=r[8]*s,n[9]=r[9]*s,n[10]=r[10]*s,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,a=e.z,s=Math.cos(r),o=Math.sin(r),l=Math.cos(i),c=Math.sin(i),u=Math.cos(a),f=Math.sin(a);if(e.order==="XYZ"){const d=s*u,h=s*f,g=o*u,x=o*f;n[0]=l*u,n[4]=-l*f,n[8]=c,n[1]=h+g*c,n[5]=d-x*c,n[9]=-o*l,n[2]=x-d*c,n[6]=g+h*c,n[10]=s*l}else if(e.order==="YXZ"){const d=l*u,h=l*f,g=c*u,x=c*f;n[0]=d+x*o,n[4]=g*o-h,n[8]=s*c,n[1]=s*f,n[5]=s*u,n[9]=-o,n[2]=h*o-g,n[6]=x+d*o,n[10]=s*l}else if(e.order==="ZXY"){const d=l*u,h=l*f,g=c*u,x=c*f;n[0]=d-x*o,n[4]=-s*f,n[8]=g+h*o,n[1]=h+g*o,n[5]=s*u,n[9]=x-d*o,n[2]=-s*c,n[6]=o,n[10]=s*l}else if(e.order==="ZYX"){const d=s*u,h=s*f,g=o*u,x=o*f;n[0]=l*u,n[4]=g*c-h,n[8]=d*c+x,n[1]=l*f,n[5]=x*c+d,n[9]=h*c-g,n[2]=-c,n[6]=o*l,n[10]=s*l}else if(e.order==="YZX"){const d=s*l,h=s*c,g=o*l,x=o*c;n[0]=l*u,n[4]=x-d*f,n[8]=g*f+h,n[1]=f,n[5]=s*u,n[9]=-o*u,n[2]=-c*u,n[6]=h*f+g,n[10]=d-x*f}else if(e.order==="XZY"){const d=s*l,h=s*c,g=o*l,x=o*c;n[0]=l*u,n[4]=-f,n[8]=c*u,n[1]=d*f+x,n[5]=s*u,n[9]=h*f-g,n[2]=g*f-h,n[6]=o*u,n[10]=x*f+d}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Bee,e,jee)}lookAt(e,n,r){const i=this.elements;return Ga.subVectors(e,n),Ga.lengthSq()===0&&(Ga.z=1),Ga.normalize(),tc.crossVectors(r,Ga),tc.lengthSq()===0&&(Math.abs(r.z)===1?Ga.x+=1e-4:Ga.z+=1e-4,Ga.normalize(),tc.crossVectors(r,Ga)),tc.normalize(),Ag.crossVectors(Ga,tc),i[0]=tc.x,i[4]=Ag.x,i[8]=Ga.x,i[1]=tc.y,i[5]=Ag.y,i[9]=Ga.y,i[2]=tc.z,i[6]=Ag.z,i[10]=Ga.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,a=this.elements,s=r[0],o=r[4],l=r[8],c=r[12],u=r[1],f=r[5],d=r[9],h=r[13],g=r[2],x=r[6],v=r[10],m=r[14],b=r[3],_=r[7],S=r[11],N=r[15],P=i[0],T=i[4],L=i[8],E=i[12],R=i[1],A=i[5],F=i[9],j=i[13],V=i[2],X=i[6],ee=i[10],se=i[14],B=i[3],H=i[7],xe=i[11],Se=i[15];return a[0]=s*P+o*R+l*V+c*B,a[4]=s*T+o*A+l*X+c*H,a[8]=s*L+o*F+l*ee+c*xe,a[12]=s*E+o*j+l*se+c*Se,a[1]=u*P+f*R+d*V+h*B,a[5]=u*T+f*A+d*X+h*H,a[9]=u*L+f*F+d*ee+h*xe,a[13]=u*E+f*j+d*se+h*Se,a[2]=g*P+x*R+v*V+m*B,a[6]=g*T+x*A+v*X+m*H,a[10]=g*L+x*F+v*ee+m*xe,a[14]=g*E+x*j+v*se+m*Se,a[3]=b*P+_*R+S*V+N*B,a[7]=b*T+_*A+S*X+N*H,a[11]=b*L+_*F+S*ee+N*xe,a[15]=b*E+_*j+S*se+N*Se,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],a=e[12],s=e[1],o=e[5],l=e[9],c=e[13],u=e[2],f=e[6],d=e[10],h=e[14],g=e[3],x=e[7],v=e[11],m=e[15];return g*(+a*l*f-i*c*f-a*o*d+r*c*d+i*o*h-r*l*h)+x*(+n*l*h-n*c*d+a*s*d-i*s*h+i*c*u-a*l*u)+v*(+n*c*f-n*o*h-a*s*f+r*s*h+a*o*u-r*c*u)+m*(-i*o*u-n*l*f+n*o*d+i*s*f-r*s*d+r*l*u)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],a=e[3],s=e[4],o=e[5],l=e[6],c=e[7],u=e[8],f=e[9],d=e[10],h=e[11],g=e[12],x=e[13],v=e[14],m=e[15],b=f*v*c-x*d*c+x*l*h-o*v*h-f*l*m+o*d*m,_=g*d*c-u*v*c-g*l*h+s*v*h+u*l*m-s*d*m,S=u*x*c-g*f*c+g*o*h-s*x*h-u*o*m+s*f*m,N=g*f*l-u*x*l-g*o*d+s*x*d+u*o*v-s*f*v,P=n*b+r*_+i*S+a*N;if(P===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const T=1/P;return e[0]=b*T,e[1]=(x*d*a-f*v*a-x*i*h+r*v*h+f*i*m-r*d*m)*T,e[2]=(o*v*a-x*l*a+x*i*c-r*v*c-o*i*m+r*l*m)*T,e[3]=(f*l*a-o*d*a-f*i*c+r*d*c+o*i*h-r*l*h)*T,e[4]=_*T,e[5]=(u*v*a-g*d*a+g*i*h-n*v*h-u*i*m+n*d*m)*T,e[6]=(g*l*a-s*v*a-g*i*c+n*v*c+s*i*m-n*l*m)*T,e[7]=(s*d*a-u*l*a+u*i*c-n*d*c-s*i*h+n*l*h)*T,e[8]=S*T,e[9]=(g*f*a-u*x*a-g*r*h+n*x*h+u*r*m-n*f*m)*T,e[10]=(s*x*a-g*o*a+g*r*c-n*x*c-s*r*m+n*o*m)*T,e[11]=(u*o*a-s*f*a-u*r*c+n*f*c+s*r*h-n*o*h)*T,e[12]=N*T,e[13]=(u*x*i-g*f*i+g*r*d-n*x*d-u*r*v+n*f*v)*T,e[14]=(g*o*i-s*x*i-g*r*l+n*x*l+s*r*v-n*o*v)*T,e[15]=(s*f*i-u*o*i+u*r*l-n*f*l-s*r*d+n*o*d)*T,this}scale(e){const n=this.elements,r=e.x,i=e.y,a=e.z;return n[0]*=r,n[4]*=i,n[8]*=a,n[1]*=r,n[5]*=i,n[9]*=a,n[2]*=r,n[6]*=i,n[10]*=a,n[3]*=r,n[7]*=i,n[11]*=a,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),a=1-r,s=e.x,o=e.y,l=e.z,c=a*s,u=a*o;return this.set(c*s+r,c*o-i*l,c*l+i*o,0,c*o+i*l,u*o+r,u*l-i*s,0,c*l-i*o,u*l+i*s,a*l*l+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,a,s){return this.set(1,r,a,0,e,1,s,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,a=n._x,s=n._y,o=n._z,l=n._w,c=a+a,u=s+s,f=o+o,d=a*c,h=a*u,g=a*f,x=s*u,v=s*f,m=o*f,b=l*c,_=l*u,S=l*f,N=r.x,P=r.y,T=r.z;return i[0]=(1-(x+m))*N,i[1]=(h+S)*N,i[2]=(g-_)*N,i[3]=0,i[4]=(h-S)*P,i[5]=(1-(d+m))*P,i[6]=(v+b)*P,i[7]=0,i[8]=(g+_)*T,i[9]=(v-b)*T,i[10]=(1-(d+x))*T,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;let a=Wf.set(i[0],i[1],i[2]).length();const s=Wf.set(i[4],i[5],i[6]).length(),o=Wf.set(i[8],i[9],i[10]).length();this.determinant()<0&&(a=-a),e.x=i[12],e.y=i[13],e.z=i[14],Ds.copy(this);const c=1/a,u=1/s,f=1/o;return Ds.elements[0]*=c,Ds.elements[1]*=c,Ds.elements[2]*=c,Ds.elements[4]*=u,Ds.elements[5]*=u,Ds.elements[6]*=u,Ds.elements[8]*=f,Ds.elements[9]*=f,Ds.elements[10]*=f,n.setFromRotationMatrix(Ds),r.x=a,r.y=s,r.z=o,this}makePerspective(e,n,r,i,a,s,o=Mo,l=!1){const c=this.elements,u=2*a/(n-e),f=2*a/(r-i),d=(n+e)/(n-e),h=(r+i)/(r-i);let g,x;if(l)g=a/(s-a),x=s*a/(s-a);else if(o===Mo)g=-(s+a)/(s-a),x=-2*s*a/(s-a);else if(o===Rx)g=-s/(s-a),x=-s*a/(s-a);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+o);return c[0]=u,c[4]=0,c[8]=d,c[12]=0,c[1]=0,c[5]=f,c[9]=h,c[13]=0,c[2]=0,c[6]=0,c[10]=g,c[14]=x,c[3]=0,c[7]=0,c[11]=-1,c[15]=0,this}makeOrthographic(e,n,r,i,a,s,o=Mo,l=!1){const c=this.elements,u=2/(n-e),f=2/(r-i),d=-(n+e)/(n-e),h=-(r+i)/(r-i);let g,x;if(l)g=1/(s-a),x=s/(s-a);else if(o===Mo)g=-2/(s-a),x=-(s+a)/(s-a);else if(o===Rx)g=-1/(s-a),x=-a/(s-a);else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+o);return c[0]=u,c[4]=0,c[8]=0,c[12]=d,c[1]=0,c[5]=f,c[9]=0,c[13]=h,c[2]=0,c[6]=0,c[10]=g,c[14]=x,c[3]=0,c[7]=0,c[11]=0,c[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const Wf=new Xe,Ds=new Mr,Bee=new Xe(0,0,0),jee=new Xe(1,1,1),tc=new Xe,Ag=new Xe,Ga=new Xe,bM=new Mr,wM=new cm;class Do{constructor(e=0,n=0,r=0,i=Do.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,a=i[0],s=i[4],o=i[8],l=i[1],c=i[5],u=i[9],f=i[2],d=i[6],h=i[10];switch(n){case"XYZ":this._y=Math.asin(bn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-u,h),this._z=Math.atan2(-s,a)):(this._x=Math.atan2(d,c),this._z=0);break;case"YXZ":this._x=Math.asin(-bn(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(o,h),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-f,a),this._z=0);break;case"ZXY":this._x=Math.asin(bn(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-f,h),this._z=Math.atan2(-s,c)):(this._y=0,this._z=Math.atan2(l,a));break;case"ZYX":this._y=Math.asin(-bn(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(d,h),this._z=Math.atan2(l,a)):(this._x=0,this._z=Math.atan2(-s,c));break;case"YZX":this._z=Math.asin(bn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-f,a)):(this._x=0,this._y=Math.atan2(o,h));break;case"XZY":this._z=Math.asin(-bn(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(d,c),this._y=Math.atan2(o,a)):(this._x=Math.atan2(-u,h),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return bM.makeRotationFromQuaternion(e),this.setFromRotationMatrix(bM,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return wM.setFromEuler(this),this.setFromQuaternion(wM,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Do.DEFAULT_ORDER="XYZ";class P8{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let zee=0;const SM=new Xe,Gf=new cm,el=new Mr,Tg=new Xe,s0=new Xe,Hee=new Xe,Vee=new cm,EM=new Xe(1,0,0),AM=new Xe(0,1,0),TM=new Xe(0,0,1),MM={type:"added"},Wee={type:"removed"},qf={type:"childadded",child:null},Sy={type:"childremoved",child:null};class Ci extends pd{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:zee++}),this.uuid=lm(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Ci.DEFAULT_UP.clone();const e=new Xe,n=new Do,r=new cm,i=new Xe(1,1,1);function a(){r.setFromEuler(n,!1)}function s(){n.setFromQuaternion(r,void 0,!1)}n._onChange(a),r._onChange(s),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Mr},normalMatrix:{value:new fn}}),this.matrix=new Mr,this.matrixWorld=new Mr,this.matrixAutoUpdate=Ci.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Ci.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new P8,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return Gf.setFromAxisAngle(e,n),this.quaternion.multiply(Gf),this}rotateOnWorldAxis(e,n){return Gf.setFromAxisAngle(e,n),this.quaternion.premultiply(Gf),this}rotateX(e){return this.rotateOnAxis(EM,e)}rotateY(e){return this.rotateOnAxis(AM,e)}rotateZ(e){return this.rotateOnAxis(TM,e)}translateOnAxis(e,n){return SM.copy(e).applyQuaternion(this.quaternion),this.position.add(SM.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(EM,e)}translateY(e){return this.translateOnAxis(AM,e)}translateZ(e){return this.translateOnAxis(TM,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(el.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?Tg.copy(e):Tg.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),s0.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?el.lookAt(s0,Tg,this.up):el.lookAt(Tg,s0,this.up),this.quaternion.setFromRotationMatrix(el),i&&(el.extractRotation(i.matrixWorld),Gf.setFromRotationMatrix(el),this.quaternion.premultiply(Gf.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(MM),qf.child=e,this.dispatchEvent(qf),qf.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(Wee),Sy.child=e,this.dispatchEvent(Sy),Sy.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),el.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),el.multiply(e.parent.matrixWorld)),e.applyMatrix4(el),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(MM),qf.child=e,this.dispatchEvent(qf),qf.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const s=this.children[r].getObjectByProperty(e,n);if(s!==void 0)return s}}getObjectsByProperty(e,n,r=[]){this[e]===n&&r.push(this);const i=this.children;for(let a=0,s=i.length;a<s;a++)i[a].getObjectsByProperty(e,n,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(s0,e,Hee),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(s0,Vee,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].updateMatrixWorld(e)}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),n===!0){const i=this.children;for(let a=0,s=i.length;a<s;a++)i[a].updateWorldMatrix(!1,!0)}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.geometryInfo=this._geometryInfo.map(o=>({...o,boundingBox:o.boundingBox?o.boundingBox.toJSON():void 0,boundingSphere:o.boundingSphere?o.boundingSphere.toJSON():void 0})),i.instanceInfo=this._instanceInfo.map(o=>({...o})),i.availableInstanceIds=this._availableInstanceIds.slice(),i.availableGeometryIds=this._availableGeometryIds.slice(),i.nextIndexStart=this._nextIndexStart,i.nextVertexStart=this._nextVertexStart,i.geometryCount=this._geometryCount,i.maxInstanceCount=this._maxInstanceCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.matricesTexture=this._matricesTexture.toJSON(e),i.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(i.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(i.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(i.boundingBox=this.boundingBox.toJSON()));function a(o,l){return o[l.uuid]===void 0&&(o[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=a(e.geometries,this.geometry);const o=this.geometry.parameters;if(o!==void 0&&o.shapes!==void 0){const l=o.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const f=l[c];a(e.shapes,f)}else a(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(a(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const o=[];for(let l=0,c=this.material.length;l<c;l++)o.push(a(e.materials,this.material[l]));i.material=o}else i.material=a(e.materials,this.material);if(this.children.length>0){i.children=[];for(let o=0;o<this.children.length;o++)i.children.push(this.children[o].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let o=0;o<this.animations.length;o++){const l=this.animations[o];i.animations.push(a(e.animations,l))}}if(n){const o=s(e.geometries),l=s(e.materials),c=s(e.textures),u=s(e.images),f=s(e.shapes),d=s(e.skeletons),h=s(e.animations),g=s(e.nodes);o.length>0&&(r.geometries=o),l.length>0&&(r.materials=l),c.length>0&&(r.textures=c),u.length>0&&(r.images=u),f.length>0&&(r.shapes=f),d.length>0&&(r.skeletons=d),h.length>0&&(r.animations=h),g.length>0&&(r.nodes=g)}return r.object=i,r;function s(o){const l=[];for(const c in o){const u=o[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}Ci.DEFAULT_UP=new Xe(0,1,0);Ci.DEFAULT_MATRIX_AUTO_UPDATE=!0;Ci.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Is=new Xe,tl=new Xe,Ey=new Xe,nl=new Xe,Xf=new Xe,$f=new Xe,NM=new Xe,Ay=new Xe,Ty=new Xe,My=new Xe,Ny=new Ar,ky=new Ar,Cy=new Ar;class Vs{constructor(e=new Xe,n=new Xe,r=new Xe){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),Is.subVectors(e,n),i.cross(Is);const a=i.lengthSq();return a>0?i.multiplyScalar(1/Math.sqrt(a)):i.set(0,0,0)}static getBarycoord(e,n,r,i,a){Is.subVectors(i,n),tl.subVectors(r,n),Ey.subVectors(e,n);const s=Is.dot(Is),o=Is.dot(tl),l=Is.dot(Ey),c=tl.dot(tl),u=tl.dot(Ey),f=s*c-o*o;if(f===0)return a.set(0,0,0),null;const d=1/f,h=(c*l-o*u)*d,g=(s*u-o*l)*d;return a.set(1-h-g,g,h)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,nl)===null?!1:nl.x>=0&&nl.y>=0&&nl.x+nl.y<=1}static getInterpolation(e,n,r,i,a,s,o,l){return this.getBarycoord(e,n,r,i,nl)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(a,nl.x),l.addScaledVector(s,nl.y),l.addScaledVector(o,nl.z),l)}static getInterpolatedAttribute(e,n,r,i,a,s){return Ny.setScalar(0),ky.setScalar(0),Cy.setScalar(0),Ny.fromBufferAttribute(e,n),ky.fromBufferAttribute(e,r),Cy.fromBufferAttribute(e,i),s.setScalar(0),s.addScaledVector(Ny,a.x),s.addScaledVector(ky,a.y),s.addScaledVector(Cy,a.z),s}static isFrontFacing(e,n,r,i){return Is.subVectors(r,n),tl.subVectors(e,n),Is.cross(tl).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Is.subVectors(this.c,this.b),tl.subVectors(this.a,this.b),Is.cross(tl).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Vs.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return Vs.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,r,i,a){return Vs.getInterpolation(e,this.a,this.b,this.c,n,r,i,a)}containsPoint(e){return Vs.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Vs.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,a=this.c;let s,o;Xf.subVectors(i,r),$f.subVectors(a,r),Ay.subVectors(e,r);const l=Xf.dot(Ay),c=$f.dot(Ay);if(l<=0&&c<=0)return n.copy(r);Ty.subVectors(e,i);const u=Xf.dot(Ty),f=$f.dot(Ty);if(u>=0&&f<=u)return n.copy(i);const d=l*f-u*c;if(d<=0&&l>=0&&u<=0)return s=l/(l-u),n.copy(r).addScaledVector(Xf,s);My.subVectors(e,a);const h=Xf.dot(My),g=$f.dot(My);if(g>=0&&h<=g)return n.copy(a);const x=h*c-l*g;if(x<=0&&c>=0&&g<=0)return o=c/(c-g),n.copy(r).addScaledVector($f,o);const v=u*g-h*f;if(v<=0&&f-u>=0&&h-g>=0)return NM.subVectors(a,i),o=(f-u)/(f-u+(h-g)),n.copy(i).addScaledVector(NM,o);const m=1/(v+x+d);return s=x*m,o=d*m,n.copy(r).addScaledVector(Xf,s).addScaledVector($f,o)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const L8={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},nc={h:0,s:0,l:0},Mg={h:0,s:0,l:0};function Ry(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}class pn{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=gs){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Cn.colorSpaceToWorking(this,n),this}setRGB(e,n,r,i=Cn.workingColorSpace){return this.r=e,this.g=n,this.b=r,Cn.colorSpaceToWorking(this,i),this}setHSL(e,n,r,i=Cn.workingColorSpace){if(e=kee(e,1),n=bn(n,0,1),r=bn(r,0,1),n===0)this.r=this.g=this.b=r;else{const a=r<=.5?r*(1+n):r+n-r*n,s=2*r-a;this.r=Ry(s,a,e+1/3),this.g=Ry(s,a,e),this.b=Ry(s,a,e-1/3)}return Cn.colorSpaceToWorking(this,i),this}setStyle(e,n=gs){function r(a){a!==void 0&&parseFloat(a)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let a;const s=i[1],o=i[2];switch(s){case"rgb":case"rgba":if(a=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(a[4]),this.setRGB(Math.min(255,parseInt(a[1],10))/255,Math.min(255,parseInt(a[2],10))/255,Math.min(255,parseInt(a[3],10))/255,n);if(a=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(a[4]),this.setRGB(Math.min(100,parseInt(a[1],10))/100,Math.min(100,parseInt(a[2],10))/100,Math.min(100,parseInt(a[3],10))/100,n);break;case"hsl":case"hsla":if(a=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(a[4]),this.setHSL(parseFloat(a[1])/360,parseFloat(a[2])/100,parseFloat(a[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const a=i[1],s=a.length;if(s===3)return this.setRGB(parseInt(a.charAt(0),16)/15,parseInt(a.charAt(1),16)/15,parseInt(a.charAt(2),16)/15,n);if(s===6)return this.setHex(parseInt(a,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=gs){const r=L8[e.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Al(e.r),this.g=Al(e.g),this.b=Al(e.b),this}copyLinearToSRGB(e){return this.r=Lh(e.r),this.g=Lh(e.g),this.b=Lh(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=gs){return Cn.workingToColorSpace(Bi.copy(this),e),Math.round(bn(Bi.r*255,0,255))*65536+Math.round(bn(Bi.g*255,0,255))*256+Math.round(bn(Bi.b*255,0,255))}getHexString(e=gs){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=Cn.workingColorSpace){Cn.workingToColorSpace(Bi.copy(this),n);const r=Bi.r,i=Bi.g,a=Bi.b,s=Math.max(r,i,a),o=Math.min(r,i,a);let l,c;const u=(o+s)/2;if(o===s)l=0,c=0;else{const f=s-o;switch(c=u<=.5?f/(s+o):f/(2-s-o),s){case r:l=(i-a)/f+(i<a?6:0);break;case i:l=(a-r)/f+2;break;case a:l=(r-i)/f+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,n=Cn.workingColorSpace){return Cn.workingToColorSpace(Bi.copy(this),n),e.r=Bi.r,e.g=Bi.g,e.b=Bi.b,e}getStyle(e=gs){Cn.workingToColorSpace(Bi.copy(this),e);const n=Bi.r,r=Bi.g,i=Bi.b;return e!==gs?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,n,r){return this.getHSL(nc),this.setHSL(nc.h+e,nc.s+n,nc.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(nc),e.getHSL(Mg);const r=dy(nc.h,Mg.h,n),i=dy(nc.s,Mg.s,n),a=dy(nc.l,Mg.l,n);return this.setHSL(r,i,a),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,i=this.b,a=e.elements;return this.r=a[0]*n+a[3]*r+a[6]*i,this.g=a[1]*n+a[4]*r+a[7]*i,this.b=a[2]*n+a[5]*r+a[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Bi=new pn;pn.NAMES=L8;let Gee=0;class md extends pd{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Gee++}),this.uuid=lm(),this.name="",this.type="Material",this.blending=Rh,this.side=Hc,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=ew,this.blendDst=tw,this.blendEquation=Tu,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new pn(0,0,0),this.blendAlpha=0,this.depthFunc=Zh,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=pM,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Bf,this.stencilZFail=Bf,this.stencilZPass=Bf,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(r.dispersion=this.dispersion),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Rh&&(r.blending=this.blending),this.side!==Hc&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==ew&&(r.blendSrc=this.blendSrc),this.blendDst!==tw&&(r.blendDst=this.blendDst),this.blendEquation!==Tu&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==Zh&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==pM&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Bf&&(r.stencilFail=this.stencilFail),this.stencilZFail!==Bf&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==Bf&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(a){const s=[];for(const o in a){const l=a[o];delete l.metadata,s.push(l)}return s}if(n){const a=i(e.textures),s=i(e.images);a.length>0&&(r.textures=a),s.length>0&&(r.images=s)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let a=0;a!==i;++a)r[a]=n[a].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class F8 extends md{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new pn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Do,this.combine=QS,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const qr=new Xe,Ng=new Ln;let qee=0;class Po{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:qee++}),this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=mM,this.updateRanges=[],this.gpuType=yl,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,a=this.itemSize;i<a;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)Ng.fromBufferAttribute(this,n),Ng.applyMatrix3(e),this.setXY(n,Ng.x,Ng.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)qr.fromBufferAttribute(this,n),qr.applyMatrix3(e),this.setXYZ(n,qr.x,qr.y,qr.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)qr.fromBufferAttribute(this,n),qr.applyMatrix4(e),this.setXYZ(n,qr.x,qr.y,qr.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)qr.fromBufferAttribute(this,n),qr.applyNormalMatrix(e),this.setXYZ(n,qr.x,qr.y,qr.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)qr.fromBufferAttribute(this,n),qr.transformDirection(e),this.setXYZ(n,qr.x,qr.y,qr.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let r=this.array[e*this.itemSize+n];return this.normalized&&(r=r0(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=Sa(r,this.array)),this.array[e*this.itemSize+n]=r,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=r0(n,this.array)),n}setX(e,n){return this.normalized&&(n=Sa(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=r0(n,this.array)),n}setY(e,n){return this.normalized&&(n=Sa(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=r0(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Sa(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=r0(n,this.array)),n}setW(e,n){return this.normalized&&(n=Sa(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=Sa(n,this.array),r=Sa(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=Sa(n,this.array),r=Sa(r,this.array),i=Sa(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,a){return e*=this.itemSize,this.normalized&&(n=Sa(n,this.array),r=Sa(r,this.array),i=Sa(i,this.array),a=Sa(a,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=a,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==mM&&(e.usage=this.usage),e}}class D8 extends Po{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class I8 extends Po{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class Da extends Po{constructor(e,n,r){super(new Float32Array(e),n,r)}}let Xee=0;const ds=new Mr,Py=new Ci,Yf=new Xe,qa=new um,o0=new um,di=new Xe;class ro extends pd{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Xee++}),this.uuid=lm(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(k8(e)?I8:D8)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const a=new fn().getNormalMatrix(e);r.applyNormalMatrix(a),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return ds.makeRotationFromQuaternion(e),this.applyMatrix4(ds),this}rotateX(e){return ds.makeRotationX(e),this.applyMatrix4(ds),this}rotateY(e){return ds.makeRotationY(e),this.applyMatrix4(ds),this}rotateZ(e){return ds.makeRotationZ(e),this.applyMatrix4(ds),this}translate(e,n,r){return ds.makeTranslation(e,n,r),this.applyMatrix4(ds),this}scale(e,n,r){return ds.makeScale(e,n,r),this.applyMatrix4(ds),this}lookAt(e){return Py.lookAt(e),Py.updateMatrix(),this.applyMatrix4(Py.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Yf).negate(),this.translate(Yf.x,Yf.y,Yf.z),this}setFromPoints(e){const n=this.getAttribute("position");if(n===void 0){const r=[];for(let i=0,a=e.length;i<a;i++){const s=e[i];r.push(s.x,s.y,s.z||0)}this.setAttribute("position",new Da(r,3))}else{const r=Math.min(e.length,n.count);for(let i=0;i<r;i++){const a=e[i];n.setXYZ(i,a.x,a.y,a.z||0)}e.length>n.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),n.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new um);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new Xe(-1/0,-1/0,-1/0),new Xe(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const a=n[r];qa.setFromBufferAttribute(a),this.morphTargetsRelative?(di.addVectors(this.boundingBox.min,qa.min),this.boundingBox.expandByPoint(di),di.addVectors(this.boundingBox.max,qa.max),this.boundingBox.expandByPoint(di)):(this.boundingBox.expandByPoint(qa.min),this.boundingBox.expandByPoint(qa.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Tv);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new Xe,1/0);return}if(e){const r=this.boundingSphere.center;if(qa.setFromBufferAttribute(e),n)for(let a=0,s=n.length;a<s;a++){const o=n[a];o0.setFromBufferAttribute(o),this.morphTargetsRelative?(di.addVectors(qa.min,o0.min),qa.expandByPoint(di),di.addVectors(qa.max,o0.max),qa.expandByPoint(di)):(qa.expandByPoint(o0.min),qa.expandByPoint(o0.max))}qa.getCenter(r);let i=0;for(let a=0,s=e.count;a<s;a++)di.fromBufferAttribute(e,a),i=Math.max(i,r.distanceToSquared(di));if(n)for(let a=0,s=n.length;a<s;a++){const o=n[a],l=this.morphTargetsRelative;for(let c=0,u=o.count;c<u;c++)di.fromBufferAttribute(o,c),l&&(Yf.fromBufferAttribute(e,c),di.add(Yf)),i=Math.max(i,r.distanceToSquared(di))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=n.position,i=n.normal,a=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Po(new Float32Array(4*r.count),4));const s=this.getAttribute("tangent"),o=[],l=[];for(let L=0;L<r.count;L++)o[L]=new Xe,l[L]=new Xe;const c=new Xe,u=new Xe,f=new Xe,d=new Ln,h=new Ln,g=new Ln,x=new Xe,v=new Xe;function m(L,E,R){c.fromBufferAttribute(r,L),u.fromBufferAttribute(r,E),f.fromBufferAttribute(r,R),d.fromBufferAttribute(a,L),h.fromBufferAttribute(a,E),g.fromBufferAttribute(a,R),u.sub(c),f.sub(c),h.sub(d),g.sub(d);const A=1/(h.x*g.y-g.x*h.y);isFinite(A)&&(x.copy(u).multiplyScalar(g.y).addScaledVector(f,-h.y).multiplyScalar(A),v.copy(f).multiplyScalar(h.x).addScaledVector(u,-g.x).multiplyScalar(A),o[L].add(x),o[E].add(x),o[R].add(x),l[L].add(v),l[E].add(v),l[R].add(v))}let b=this.groups;b.length===0&&(b=[{start:0,count:e.count}]);for(let L=0,E=b.length;L<E;++L){const R=b[L],A=R.start,F=R.count;for(let j=A,V=A+F;j<V;j+=3)m(e.getX(j+0),e.getX(j+1),e.getX(j+2))}const _=new Xe,S=new Xe,N=new Xe,P=new Xe;function T(L){N.fromBufferAttribute(i,L),P.copy(N);const E=o[L];_.copy(E),_.sub(N.multiplyScalar(N.dot(E))).normalize(),S.crossVectors(P,E);const A=S.dot(l[L])<0?-1:1;s.setXYZW(L,_.x,_.y,_.z,A)}for(let L=0,E=b.length;L<E;++L){const R=b[L],A=R.start,F=R.count;for(let j=A,V=A+F;j<V;j+=3)T(e.getX(j+0)),T(e.getX(j+1)),T(e.getX(j+2))}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Po(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let d=0,h=r.count;d<h;d++)r.setXYZ(d,0,0,0);const i=new Xe,a=new Xe,s=new Xe,o=new Xe,l=new Xe,c=new Xe,u=new Xe,f=new Xe;if(e)for(let d=0,h=e.count;d<h;d+=3){const g=e.getX(d+0),x=e.getX(d+1),v=e.getX(d+2);i.fromBufferAttribute(n,g),a.fromBufferAttribute(n,x),s.fromBufferAttribute(n,v),u.subVectors(s,a),f.subVectors(i,a),u.cross(f),o.fromBufferAttribute(r,g),l.fromBufferAttribute(r,x),c.fromBufferAttribute(r,v),o.add(u),l.add(u),c.add(u),r.setXYZ(g,o.x,o.y,o.z),r.setXYZ(x,l.x,l.y,l.z),r.setXYZ(v,c.x,c.y,c.z)}else for(let d=0,h=n.count;d<h;d+=3)i.fromBufferAttribute(n,d+0),a.fromBufferAttribute(n,d+1),s.fromBufferAttribute(n,d+2),u.subVectors(s,a),f.subVectors(i,a),u.cross(f),r.setXYZ(d+0,u.x,u.y,u.z),r.setXYZ(d+1,u.x,u.y,u.z),r.setXYZ(d+2,u.x,u.y,u.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)di.fromBufferAttribute(e,n),di.normalize(),e.setXYZ(n,di.x,di.y,di.z)}toNonIndexed(){function e(o,l){const c=o.array,u=o.itemSize,f=o.normalized,d=new c.constructor(l.length*u);let h=0,g=0;for(let x=0,v=l.length;x<v;x++){o.isInterleavedBufferAttribute?h=l[x]*o.data.stride+o.offset:h=l[x]*u;for(let m=0;m<u;m++)d[g++]=c[h++]}return new Po(d,u,f)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new ro,r=this.index.array,i=this.attributes;for(const o in i){const l=i[o],c=e(l,r);n.setAttribute(o,c)}const a=this.morphAttributes;for(const o in a){const l=[],c=a[o];for(let u=0,f=c.length;u<f;u++){const d=c[u],h=e(d,r);l.push(h)}n.morphAttributes[o]=l}n.morphTargetsRelative=this.morphTargetsRelative;const s=this.groups;for(let o=0,l=s.length;o<l;o++){const c=s[o];n.addGroup(c.start,c.count,c.materialIndex)}return n}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const l in r){const c=r[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let a=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let f=0,d=c.length;f<d;f++){const h=c[f];u.push(h.toJSON(e.data))}u.length>0&&(i[l]=u,a=!0)}a&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));const o=this.boundingSphere;return o!==null&&(e.data.boundingSphere=o.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone());const i=e.attributes;for(const c in i){const u=i[c];this.setAttribute(c,u.clone(n))}const a=e.morphAttributes;for(const c in a){const u=[],f=a[c];for(let d=0,h=f.length;d<h;d++)u.push(f[d].clone(n));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const s=e.groups;for(let c=0,u=s.length;c<u;c++){const f=s[c];this.addGroup(f.start,f.count,f.materialIndex)}const o=e.boundingBox;o!==null&&(this.boundingBox=o.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const kM=new Mr,pu=new R8,kg=new Tv,CM=new Xe,Cg=new Xe,Rg=new Xe,Pg=new Xe,Ly=new Xe,Lg=new Xe,RM=new Xe,Fg=new Xe;class es extends Ci{constructor(e=new ro,n=new F8){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=i.length;a<s;a++){const o=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=a}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,a=r.morphAttributes.position,s=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const o=this.morphTargetInfluences;if(a&&o){Lg.set(0,0,0);for(let l=0,c=a.length;l<c;l++){const u=o[l],f=a[l];u!==0&&(Ly.fromBufferAttribute(f,e),s?Lg.addScaledVector(Ly,u):Lg.addScaledVector(Ly.sub(n),u))}n.add(Lg)}return n}raycast(e,n){const r=this.geometry,i=this.material,a=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),kg.copy(r.boundingSphere),kg.applyMatrix4(a),pu.copy(e.ray).recast(e.near),!(kg.containsPoint(pu.origin)===!1&&(pu.intersectSphere(kg,CM)===null||pu.origin.distanceToSquared(CM)>(e.far-e.near)**2))&&(kM.copy(a).invert(),pu.copy(e.ray).applyMatrix4(kM),!(r.boundingBox!==null&&pu.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,pu)))}_computeIntersections(e,n,r){let i;const a=this.geometry,s=this.material,o=a.index,l=a.attributes.position,c=a.attributes.uv,u=a.attributes.uv1,f=a.attributes.normal,d=a.groups,h=a.drawRange;if(o!==null)if(Array.isArray(s))for(let g=0,x=d.length;g<x;g++){const v=d[g],m=s[v.materialIndex],b=Math.max(v.start,h.start),_=Math.min(o.count,Math.min(v.start+v.count,h.start+h.count));for(let S=b,N=_;S<N;S+=3){const P=o.getX(S),T=o.getX(S+1),L=o.getX(S+2);i=Dg(this,m,e,r,c,u,f,P,T,L),i&&(i.faceIndex=Math.floor(S/3),i.face.materialIndex=v.materialIndex,n.push(i))}}else{const g=Math.max(0,h.start),x=Math.min(o.count,h.start+h.count);for(let v=g,m=x;v<m;v+=3){const b=o.getX(v),_=o.getX(v+1),S=o.getX(v+2);i=Dg(this,s,e,r,c,u,f,b,_,S),i&&(i.faceIndex=Math.floor(v/3),n.push(i))}}else if(l!==void 0)if(Array.isArray(s))for(let g=0,x=d.length;g<x;g++){const v=d[g],m=s[v.materialIndex],b=Math.max(v.start,h.start),_=Math.min(l.count,Math.min(v.start+v.count,h.start+h.count));for(let S=b,N=_;S<N;S+=3){const P=S,T=S+1,L=S+2;i=Dg(this,m,e,r,c,u,f,P,T,L),i&&(i.faceIndex=Math.floor(S/3),i.face.materialIndex=v.materialIndex,n.push(i))}}else{const g=Math.max(0,h.start),x=Math.min(l.count,h.start+h.count);for(let v=g,m=x;v<m;v+=3){const b=v,_=v+1,S=v+2;i=Dg(this,s,e,r,c,u,f,b,_,S),i&&(i.faceIndex=Math.floor(v/3),n.push(i))}}}}function $ee(t,e,n,r,i,a,s,o){let l;if(e.side===La?l=r.intersectTriangle(s,a,i,!0,o):l=r.intersectTriangle(i,a,s,e.side===Hc,o),l===null)return null;Fg.copy(o),Fg.applyMatrix4(t.matrixWorld);const c=n.ray.origin.distanceTo(Fg);return c<n.near||c>n.far?null:{distance:c,point:Fg.clone(),object:t}}function Dg(t,e,n,r,i,a,s,o,l,c){t.getVertexPosition(o,Cg),t.getVertexPosition(l,Rg),t.getVertexPosition(c,Pg);const u=$ee(t,e,n,r,Cg,Rg,Pg,RM);if(u){const f=new Xe;Vs.getBarycoord(RM,Cg,Rg,Pg,f),i&&(u.uv=Vs.getInterpolatedAttribute(i,o,l,c,f,new Ln)),a&&(u.uv1=Vs.getInterpolatedAttribute(a,o,l,c,f,new Ln)),s&&(u.normal=Vs.getInterpolatedAttribute(s,o,l,c,f,new Xe),u.normal.dot(r.direction)>0&&u.normal.multiplyScalar(-1));const d={a:o,b:l,c,normal:new Xe,materialIndex:0};Vs.getNormal(Cg,Rg,Pg,d.normal),u.face=d,u.barycoord=f}return u}class gd extends ro{constructor(e=1,n=1,r=1,i=1,a=1,s=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:a,depthSegments:s};const o=this;i=Math.floor(i),a=Math.floor(a),s=Math.floor(s);const l=[],c=[],u=[],f=[];let d=0,h=0;g("z","y","x",-1,-1,r,n,e,s,a,0),g("z","y","x",1,-1,r,n,-e,s,a,1),g("x","z","y",1,1,e,r,n,i,s,2),g("x","z","y",1,-1,e,r,-n,i,s,3),g("x","y","z",1,-1,e,n,r,i,a,4),g("x","y","z",-1,-1,e,n,-r,i,a,5),this.setIndex(l),this.setAttribute("position",new Da(c,3)),this.setAttribute("normal",new Da(u,3)),this.setAttribute("uv",new Da(f,2));function g(x,v,m,b,_,S,N,P,T,L,E){const R=S/T,A=N/L,F=S/2,j=N/2,V=P/2,X=T+1,ee=L+1;let se=0,B=0;const H=new Xe;for(let xe=0;xe<ee;xe++){const Se=xe*A-j;for(let k=0;k<X;k++){const U=k*R-F;H[x]=U*b,H[v]=Se*_,H[m]=V,c.push(H.x,H.y,H.z),H[x]=0,H[v]=0,H[m]=P>0?1:-1,u.push(H.x,H.y,H.z),f.push(k/T),f.push(1-xe/L),se+=1}}for(let xe=0;xe<L;xe++)for(let Se=0;Se<T;Se++){const k=d+Se+X*xe,U=d+Se+X*(xe+1),O=d+(Se+1)+X*(xe+1),I=d+(Se+1)+X*xe;l.push(k,U,I),l.push(U,O,I),B+=6}o.addGroup(h,B,E),h+=B,d+=se}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new gd(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function nd(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function oa(t){const e={};for(let n=0;n<t.length;n++){const r=nd(t[n]);for(const i in r)e[i]=r[i]}return e}function Yee(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function O8(t){const e=t.getRenderTarget();return e===null?t.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:Cn.workingColorSpace}const Kee={clone:nd,merge:oa};var Jee=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Zee=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Vc extends md{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Jee,this.fragmentShader=Zee,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=nd(e.uniforms),this.uniformsGroups=Yee(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const s=this.uniforms[i].value;s&&s.isTexture?n.uniforms[i]={type:"t",value:s.toJSON(e).uuid}:s&&s.isColor?n.uniforms[i]={type:"c",value:s.getHex()}:s&&s.isVector2?n.uniforms[i]={type:"v2",value:s.toArray()}:s&&s.isVector3?n.uniforms[i]={type:"v3",value:s.toArray()}:s&&s.isVector4?n.uniforms[i]={type:"v4",value:s.toArray()}:s&&s.isMatrix3?n.uniforms[i]={type:"m3",value:s.toArray()}:s&&s.isMatrix4?n.uniforms[i]={type:"m4",value:s.toArray()}:n.uniforms[i]={value:s}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class U8 extends Ci{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Mr,this.projectionMatrix=new Mr,this.projectionMatrixInverse=new Mr,this.coordinateSystem=Mo,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const rc=new Xe,PM=new Ln,LM=new Ln;class ys extends U8{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=Bw*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(hy*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Bw*2*Math.atan(Math.tan(hy*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,r){rc.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(rc.x,rc.y).multiplyScalar(-e/rc.z),rc.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(rc.x,rc.y).multiplyScalar(-e/rc.z)}getViewSize(e,n){return this.getViewBounds(e,PM,LM),n.subVectors(LM,PM)}setViewOffset(e,n,r,i,a,s){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=a,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(hy*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,a=-.5*i;const s=this.view;if(this.view!==null&&this.view.enabled){const l=s.fullWidth,c=s.fullHeight;a+=s.offsetX*i/l,n-=s.offsetY*r/c,i*=s.width/l,r*=s.height/c}const o=this.filmOffset;o!==0&&(a+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+i,n,n-r,e,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const Kf=-90,Jf=1;class Qee extends Ci{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new ys(Kf,Jf,e,n);i.layers=this.layers,this.add(i);const a=new ys(Kf,Jf,e,n);a.layers=this.layers,this.add(a);const s=new ys(Kf,Jf,e,n);s.layers=this.layers,this.add(s);const o=new ys(Kf,Jf,e,n);o.layers=this.layers,this.add(o);const l=new ys(Kf,Jf,e,n);l.layers=this.layers,this.add(l);const c=new ys(Kf,Jf,e,n);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,i,a,s,o,l]=n;for(const c of n)this.remove(c);if(e===Mo)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),a.up.set(0,0,-1),a.lookAt(0,1,0),s.up.set(0,0,1),s.lookAt(0,-1,0),o.up.set(0,1,0),o.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===Rx)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),a.up.set(0,0,1),a.lookAt(0,1,0),s.up.set(0,0,-1),s.lookAt(0,-1,0),o.up.set(0,-1,0),o.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of n)this.add(c),c.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[a,s,o,l,c,u]=this.children,f=e.getRenderTarget(),d=e.getActiveCubeFace(),h=e.getActiveMipmapLevel(),g=e.xr.enabled;e.xr.enabled=!1;const x=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(n,a),e.setRenderTarget(r,1,i),e.render(n,s),e.setRenderTarget(r,2,i),e.render(n,o),e.setRenderTarget(r,3,i),e.render(n,l),e.setRenderTarget(r,4,i),e.render(n,c),r.texture.generateMipmaps=x,e.setRenderTarget(r,5,i),e.render(n,u),e.setRenderTarget(f,d,h),e.xr.enabled=g,r.texture.needsPMREMUpdate=!0}}class B8 extends Fa{constructor(e=[],n=Qh,r,i,a,s,o,l,c,u){super(e,n,r,i,a,s,o,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class ete extends sf{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new B8(i),this._setTextureOptions(n),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new gd(5,5,5),a=new Vc({name:"CubemapFromEquirect",uniforms:nd(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:La,blending:Lc});a.uniforms.tEquirect.value=n;const s=new es(i,a),o=n.minFilter;return n.minFilter===Iu&&(n.minFilter=To),new Qee(1,10,this).update(e,s),n.minFilter=o,s.geometry.dispose(),s.material.dispose(),this}clear(e,n=!0,r=!0,i=!0){const a=e.getRenderTarget();for(let s=0;s<6;s++)e.setRenderTarget(this,s),e.clear(n,r,i);e.setRenderTarget(a)}}class Ig extends Ci{constructor(){super(),this.isGroup=!0,this.type="Group"}}const tte={type:"move"};class Fy{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Ig,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Ig,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Xe,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Xe),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Ig,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Xe,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Xe),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,a=null,s=null;const o=this._targetRay,l=this._grip,c=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(c&&e.hand){s=!0;for(const x of e.hand.values()){const v=n.getJointPose(x,r),m=this._getHandJoint(c,x);v!==null&&(m.matrix.fromArray(v.transform.matrix),m.matrix.decompose(m.position,m.rotation,m.scale),m.matrixWorldNeedsUpdate=!0,m.jointRadius=v.radius),m.visible=v!==null}const u=c.joints["index-finger-tip"],f=c.joints["thumb-tip"],d=u.position.distanceTo(f.position),h=.02,g=.005;c.inputState.pinching&&d>h+g?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&d<=h-g&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(a=n.getPose(e.gripSpace,r),a!==null&&(l.matrix.fromArray(a.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,a.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(a.linearVelocity)):l.hasLinearVelocity=!1,a.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(a.angularVelocity)):l.hasAngularVelocity=!1));o!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&a!==null&&(i=a),i!==null&&(o.matrix.fromArray(i.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,i.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(i.linearVelocity)):o.hasLinearVelocity=!1,i.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(i.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(tte)))}return o!==null&&(o.visible=i!==null),l!==null&&(l.visible=a!==null),c!==null&&(c.visible=s!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new Ig;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}class nte extends Ci{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Do,this.environmentIntensity=1,this.environmentRotation=new Do,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(n.object.environmentIntensity=this.environmentIntensity),n.object.environmentRotation=this.environmentRotation.toArray(),n}}const Dy=new Xe,rte=new Xe,ite=new fn;class wu{constructor(e=new Xe(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=Dy.subVectors(r,n).cross(rte.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(Dy),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const a=-(e.start.dot(this.normal)+this.constant)/i;return a<0||a>1?null:n.copy(e.start).addScaledVector(r,a)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||ite.getNormalMatrix(e),i=this.coplanarPoint(Dy).applyMatrix4(e),a=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(a),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const mu=new Tv,ate=new Ln(.5,.5),Og=new Xe;class o3{constructor(e=new wu,n=new wu,r=new wu,i=new wu,a=new wu,s=new wu){this.planes=[e,n,r,i,a,s]}set(e,n,r,i,a,s){const o=this.planes;return o[0].copy(e),o[1].copy(n),o[2].copy(r),o[3].copy(i),o[4].copy(a),o[5].copy(s),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=Mo,r=!1){const i=this.planes,a=e.elements,s=a[0],o=a[1],l=a[2],c=a[3],u=a[4],f=a[5],d=a[6],h=a[7],g=a[8],x=a[9],v=a[10],m=a[11],b=a[12],_=a[13],S=a[14],N=a[15];if(i[0].setComponents(c-s,h-u,m-g,N-b).normalize(),i[1].setComponents(c+s,h+u,m+g,N+b).normalize(),i[2].setComponents(c+o,h+f,m+x,N+_).normalize(),i[3].setComponents(c-o,h-f,m-x,N-_).normalize(),r)i[4].setComponents(l,d,v,S).normalize(),i[5].setComponents(c-l,h-d,m-v,N-S).normalize();else if(i[4].setComponents(c-l,h-d,m-v,N-S).normalize(),n===Mo)i[5].setComponents(c+l,h+d,m+v,N+S).normalize();else if(n===Rx)i[5].setComponents(l,d,v,S).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),mu.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),mu.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(mu)}intersectsSprite(e){mu.center.set(0,0,0);const n=ate.distanceTo(e.center);return mu.radius=.7071067811865476+n,mu.applyMatrix4(e.matrixWorld),this.intersectsSphere(mu)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let a=0;a<6;a++)if(n[a].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(Og.x=i.normal.x>0?e.max.x:e.min.x,Og.y=i.normal.y>0?e.max.y:e.min.y,Og.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(Og)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}class l3 extends md{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new pn(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const Lx=new Xe,Fx=new Xe,FM=new Mr,l0=new R8,Ug=new Tv,Iy=new Xe,DM=new Xe;class j8 extends Ci{constructor(e=new ro,n=new l3){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[0];for(let i=1,a=n.count;i<a;i++)Lx.fromBufferAttribute(n,i-1),Fx.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=Lx.distanceTo(Fx);e.setAttribute("lineDistance",new Da(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,a=e.params.Line.threshold,s=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Ug.copy(r.boundingSphere),Ug.applyMatrix4(i),Ug.radius+=a,e.ray.intersectsSphere(Ug)===!1)return;FM.copy(i).invert(),l0.copy(e.ray).applyMatrix4(FM);const o=a/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o,c=this.isLineSegments?2:1,u=r.index,d=r.attributes.position;if(u!==null){const h=Math.max(0,s.start),g=Math.min(u.count,s.start+s.count);for(let x=h,v=g-1;x<v;x+=c){const m=u.getX(x),b=u.getX(x+1),_=Bg(this,e,l0,l,m,b,x);_&&n.push(_)}if(this.isLineLoop){const x=u.getX(g-1),v=u.getX(h),m=Bg(this,e,l0,l,x,v,g-1);m&&n.push(m)}}else{const h=Math.max(0,s.start),g=Math.min(d.count,s.start+s.count);for(let x=h,v=g-1;x<v;x+=c){const m=Bg(this,e,l0,l,x,x+1,x);m&&n.push(m)}if(this.isLineLoop){const x=Bg(this,e,l0,l,g-1,h,g-1);x&&n.push(x)}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=i.length;a<s;a++){const o=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=a}}}}}function Bg(t,e,n,r,i,a,s){const o=t.geometry.attributes.position;if(Lx.fromBufferAttribute(o,i),Fx.fromBufferAttribute(o,a),n.distanceSqToSegment(Lx,Fx,Iy,DM)>r)return;Iy.applyMatrix4(t.matrixWorld);const c=e.ray.origin.distanceTo(Iy);if(!(c<e.near||c>e.far))return{distance:c,point:DM.clone().applyMatrix4(t.matrixWorld),index:s,face:null,faceIndex:null,barycoord:null,object:t}}const IM=new Xe,OM=new Xe;class ste extends j8{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[];for(let i=0,a=n.count;i<a;i+=2)IM.fromBufferAttribute(n,i),OM.fromBufferAttribute(n,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+IM.distanceTo(OM);e.setAttribute("lineDistance",new Da(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class z8 extends Fa{constructor(e,n,r=af,i,a,s,o=Zs,l=Zs,c,u=Bp,f=1){if(u!==Bp&&u!==jp)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const d={width:e,height:n,depth:f};super(d,i,a,s,o,l,u,r,c),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new s3(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}class fm extends ro{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const a=e/2,s=n/2,o=Math.floor(r),l=Math.floor(i),c=o+1,u=l+1,f=e/o,d=n/l,h=[],g=[],x=[],v=[];for(let m=0;m<u;m++){const b=m*d-s;for(let _=0;_<c;_++){const S=_*f-a;g.push(S,-b,0),x.push(0,0,1),v.push(_/o),v.push(1-m/l)}}for(let m=0;m<l;m++)for(let b=0;b<o;b++){const _=b+c*m,S=b+c*(m+1),N=b+1+c*(m+1),P=b+1+c*m;h.push(_,S,P),h.push(S,N,P)}this.setIndex(h),this.setAttribute("position",new Da(g,3)),this.setAttribute("normal",new Da(x,3)),this.setAttribute("uv",new Da(v,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new fm(e.width,e.height,e.widthSegments,e.heightSegments)}}class Dx extends ro{constructor(e=1,n=32,r=16,i=0,a=Math.PI*2,s=0,o=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:a,thetaStart:s,thetaLength:o},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const l=Math.min(s+o,Math.PI);let c=0;const u=[],f=new Xe,d=new Xe,h=[],g=[],x=[],v=[];for(let m=0;m<=r;m++){const b=[],_=m/r;let S=0;m===0&&s===0?S=.5/n:m===r&&l===Math.PI&&(S=-.5/n);for(let N=0;N<=n;N++){const P=N/n;f.x=-e*Math.cos(i+P*a)*Math.sin(s+_*o),f.y=e*Math.cos(s+_*o),f.z=e*Math.sin(i+P*a)*Math.sin(s+_*o),g.push(f.x,f.y,f.z),d.copy(f).normalize(),x.push(d.x,d.y,d.z),v.push(P+S,1-_),b.push(c++)}u.push(b)}for(let m=0;m<r;m++)for(let b=0;b<n;b++){const _=u[m][b+1],S=u[m][b],N=u[m+1][b],P=u[m+1][b+1];(m!==0||s>0)&&h.push(_,S,P),(m!==r-1||l<Math.PI)&&h.push(S,N,P)}this.setIndex(h),this.setAttribute("position",new Da(g,3)),this.setAttribute("normal",new Da(x,3)),this.setAttribute("uv",new Da(v,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Dx(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class jg extends md{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new pn(16777215),this.specular=new pn(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new pn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=M8,this.normalScale=new Ln(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Do,this.combine=QS,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class ote extends md{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=yee,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class lte extends md{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class H8 extends Ci{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new pn(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(n.object.target=this.target.uuid),n}}const Oy=new Mr,UM=new Xe,BM=new Xe;class cte{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Ln(512,512),this.mapType=Fo,this.map=null,this.mapPass=null,this.matrix=new Mr,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new o3,this._frameExtents=new Ln(1,1),this._viewportCount=1,this._viewports=[new Ar(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;UM.setFromMatrixPosition(e.matrixWorld),n.position.copy(UM),BM.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(BM),n.updateMatrixWorld(),Oy.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Oy,n.coordinateSystem,n.reversedDepth),n.reversedDepth?r.set(.5,0,0,.5,0,.5,0,.5,0,0,1,0,0,0,0,1):r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(Oy)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class V8 extends U8{constructor(e=-1,n=1,r=1,i=-1,a=.1,s=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=a,this.far=s,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,a,s){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=a,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let a=r-e,s=r+e,o=i+n,l=i-n;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a+=c*this.view.offsetX,s=a+c*this.view.width,o-=u*this.view.offsetY,l=o-u*this.view.height}this.projectionMatrix.makeOrthographic(a,s,o,l,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}class ute extends cte{constructor(){super(new V8(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class fte extends H8{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Ci.DEFAULT_UP),this.updateMatrix(),this.target=new Ci,this.shadow=new ute}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class hte extends H8{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class dte extends ys{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class pte extends ste{constructor(e=10,n=10,r=4473924,i=8947848){r=new pn(r),i=new pn(i);const a=n/2,s=e/n,o=e/2,l=[],c=[];for(let d=0,h=0,g=-o;d<=n;d++,g+=s){l.push(-o,0,g,o,0,g),l.push(g,0,-o,g,0,o);const x=d===a?r:i;x.toArray(c,h),h+=3,x.toArray(c,h),h+=3,x.toArray(c,h),h+=3,x.toArray(c,h),h+=3}const u=new ro;u.setAttribute("position",new Da(l,3)),u.setAttribute("color",new Da(c,3));const f=new l3({vertexColors:!0,toneMapped:!1});super(u,f),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}function jM(t,e,n,r){const i=mte(r);switch(n){case w8:return t*e;case E8:return t*e/i.components*i.byteLength;case r3:return t*e/i.components*i.byteLength;case A8:return t*e*2/i.components*i.byteLength;case i3:return t*e*2/i.components*i.byteLength;case S8:return t*e*3/i.components*i.byteLength;case Xs:return t*e*4/i.components*i.byteLength;case a3:return t*e*4/i.components*i.byteLength;case E1:case A1:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case T1:case M1:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case pw:case gw:return Math.max(t,16)*Math.max(e,8)/4;case dw:case mw:return Math.max(t,8)*Math.max(e,8)/2;case xw:case vw:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case yw:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case _w:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case bw:return Math.floor((t+4)/5)*Math.floor((e+3)/4)*16;case ww:return Math.floor((t+4)/5)*Math.floor((e+4)/5)*16;case Sw:return Math.floor((t+5)/6)*Math.floor((e+4)/5)*16;case Ew:return Math.floor((t+5)/6)*Math.floor((e+5)/6)*16;case Aw:return Math.floor((t+7)/8)*Math.floor((e+4)/5)*16;case Tw:return Math.floor((t+7)/8)*Math.floor((e+5)/6)*16;case Mw:return Math.floor((t+7)/8)*Math.floor((e+7)/8)*16;case Nw:return Math.floor((t+9)/10)*Math.floor((e+4)/5)*16;case kw:return Math.floor((t+9)/10)*Math.floor((e+5)/6)*16;case Cw:return Math.floor((t+9)/10)*Math.floor((e+7)/8)*16;case Rw:return Math.floor((t+9)/10)*Math.floor((e+9)/10)*16;case Pw:return Math.floor((t+11)/12)*Math.floor((e+9)/10)*16;case Lw:return Math.floor((t+11)/12)*Math.floor((e+11)/12)*16;case N1:case Fw:case Dw:return Math.ceil(t/4)*Math.ceil(e/4)*16;case T8:case Iw:return Math.ceil(t/4)*Math.ceil(e/4)*8;case Ow:case Uw:return Math.ceil(t/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${n} format.`)}function mte(t){switch(t){case Fo:case y8:return{byteLength:1,components:1};case Op:case _8:case om:return{byteLength:2,components:1};case t3:case n3:return{byteLength:2,components:4};case af:case e3:case yl:return{byteLength:4,components:1};case b8:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${t}.`)}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:ZS}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=ZS);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function W8(){let t=null,e=!1,n=null,r=null;function i(a,s){n(a,s),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(a){n=a},setContext:function(a){t=a}}}function gte(t){const e=new WeakMap;function n(o,l){const c=o.array,u=o.usage,f=c.byteLength,d=t.createBuffer();t.bindBuffer(l,d),t.bufferData(l,c,u),o.onUploadCallback();let h;if(c instanceof Float32Array)h=t.FLOAT;else if(typeof Float16Array<"u"&&c instanceof Float16Array)h=t.HALF_FLOAT;else if(c instanceof Uint16Array)o.isFloat16BufferAttribute?h=t.HALF_FLOAT:h=t.UNSIGNED_SHORT;else if(c instanceof Int16Array)h=t.SHORT;else if(c instanceof Uint32Array)h=t.UNSIGNED_INT;else if(c instanceof Int32Array)h=t.INT;else if(c instanceof Int8Array)h=t.BYTE;else if(c instanceof Uint8Array)h=t.UNSIGNED_BYTE;else if(c instanceof Uint8ClampedArray)h=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+c);return{buffer:d,type:h,bytesPerElement:c.BYTES_PER_ELEMENT,version:o.version,size:f}}function r(o,l,c){const u=l.array,f=l.updateRanges;if(t.bindBuffer(c,o),f.length===0)t.bufferSubData(c,0,u);else{f.sort((h,g)=>h.start-g.start);let d=0;for(let h=1;h<f.length;h++){const g=f[d],x=f[h];x.start<=g.start+g.count+1?g.count=Math.max(g.count,x.start+x.count-g.start):(++d,f[d]=x)}f.length=d+1;for(let h=0,g=f.length;h<g;h++){const x=f[h];t.bufferSubData(c,x.start*u.BYTES_PER_ELEMENT,u,x.start,x.count)}l.clearUpdateRanges()}l.onUploadCallback()}function i(o){return o.isInterleavedBufferAttribute&&(o=o.data),e.get(o)}function a(o){o.isInterleavedBufferAttribute&&(o=o.data);const l=e.get(o);l&&(t.deleteBuffer(l.buffer),e.delete(o))}function s(o,l){if(o.isInterleavedBufferAttribute&&(o=o.data),o.isGLBufferAttribute){const u=e.get(o);(!u||u.version<o.version)&&e.set(o,{buffer:o.buffer,type:o.type,bytesPerElement:o.elementSize,version:o.version});return}const c=e.get(o);if(c===void 0)e.set(o,n(o,l));else if(c.version<o.version){if(c.size!==o.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");r(c.buffer,o,l),c.version=o.version}}return{get:i,remove:a,update:s}}var xte=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,vte=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,yte=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,_te=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,bte=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,wte=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,Ste=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Ete=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,Ate=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,Tte=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,Mte=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,Nte=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,kte=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,Cte=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,Rte=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,Pte=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,Lte=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,Fte=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,Dte=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,Ite=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,Ote=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,Ute=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,Bte=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,jte=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,zte=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,Hte=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,Vte=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,Wte=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,Gte=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,qte=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,Xte="gl_FragColor = linearToOutputTexel( gl_FragColor );",$te=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,Yte=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Kte=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,Jte=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Zte=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,Qte=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,ene=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,tne=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,nne=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,rne=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,ine=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,ane=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,sne=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,one=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,lne=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,cne=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,une=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,fne=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,hne=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,dne=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,pne=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,mne=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,gne=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,xne=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,vne=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,yne=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,_ne=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,bne=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,wne=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,Sne=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,Ene=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,Ane=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,Tne=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Mne=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,Nne=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,kne=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,Cne=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,Rne=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,Pne=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,Lne=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,Fne=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,Dne=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,Ine=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,One=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Une=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,Bne=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,jne=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,zne=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,Hne=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,Vne=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,Wne=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,Gne=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,qne=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,Xne=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,$ne=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Yne=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,Kne=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Jne=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,Zne=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		float depth = unpackRGBAToDepth( texture2D( depths, uv ) );
		#ifdef USE_REVERSEDEPTHBUF
			return step( depth, compare );
		#else
			return step( compare, depth );
		#endif
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		#ifdef USE_REVERSEDEPTHBUF
			float hard_shadow = step( distribution.x, compare );
		#else
			float hard_shadow = step( compare , distribution.x );
		#endif
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,Qne=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,ere=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,tre=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,nre=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,rre=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,ire=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,are=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,sre=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,ore=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,lre=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,cre=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,ure=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,fre=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,hre=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,dre=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,pre=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,mre=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const gre=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,xre=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vre=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,yre=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,_re=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,bre=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,wre=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Sre=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	#ifdef USE_REVERSEDEPTHBUF
		float fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];
	#else
		float fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;
	#endif
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,Ere=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Are=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,Tre=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Mre=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Nre=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,kre=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Cre=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,Rre=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Pre=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Lre=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Fre=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,Dre=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Ire=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,Ore=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,Ure=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Bre=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,jre=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,zre=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Hre=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Vre=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Wre=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,Gre=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,qre=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Xre=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,$re=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Yre=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,hn={alphahash_fragment:xte,alphahash_pars_fragment:vte,alphamap_fragment:yte,alphamap_pars_fragment:_te,alphatest_fragment:bte,alphatest_pars_fragment:wte,aomap_fragment:Ste,aomap_pars_fragment:Ete,batching_pars_vertex:Ate,batching_vertex:Tte,begin_vertex:Mte,beginnormal_vertex:Nte,bsdfs:kte,iridescence_fragment:Cte,bumpmap_pars_fragment:Rte,clipping_planes_fragment:Pte,clipping_planes_pars_fragment:Lte,clipping_planes_pars_vertex:Fte,clipping_planes_vertex:Dte,color_fragment:Ite,color_pars_fragment:Ote,color_pars_vertex:Ute,color_vertex:Bte,common:jte,cube_uv_reflection_fragment:zte,defaultnormal_vertex:Hte,displacementmap_pars_vertex:Vte,displacementmap_vertex:Wte,emissivemap_fragment:Gte,emissivemap_pars_fragment:qte,colorspace_fragment:Xte,colorspace_pars_fragment:$te,envmap_fragment:Yte,envmap_common_pars_fragment:Kte,envmap_pars_fragment:Jte,envmap_pars_vertex:Zte,envmap_physical_pars_fragment:cne,envmap_vertex:Qte,fog_vertex:ene,fog_pars_vertex:tne,fog_fragment:nne,fog_pars_fragment:rne,gradientmap_pars_fragment:ine,lightmap_pars_fragment:ane,lights_lambert_fragment:sne,lights_lambert_pars_fragment:one,lights_pars_begin:lne,lights_toon_fragment:une,lights_toon_pars_fragment:fne,lights_phong_fragment:hne,lights_phong_pars_fragment:dne,lights_physical_fragment:pne,lights_physical_pars_fragment:mne,lights_fragment_begin:gne,lights_fragment_maps:xne,lights_fragment_end:vne,logdepthbuf_fragment:yne,logdepthbuf_pars_fragment:_ne,logdepthbuf_pars_vertex:bne,logdepthbuf_vertex:wne,map_fragment:Sne,map_pars_fragment:Ene,map_particle_fragment:Ane,map_particle_pars_fragment:Tne,metalnessmap_fragment:Mne,metalnessmap_pars_fragment:Nne,morphinstance_vertex:kne,morphcolor_vertex:Cne,morphnormal_vertex:Rne,morphtarget_pars_vertex:Pne,morphtarget_vertex:Lne,normal_fragment_begin:Fne,normal_fragment_maps:Dne,normal_pars_fragment:Ine,normal_pars_vertex:One,normal_vertex:Une,normalmap_pars_fragment:Bne,clearcoat_normal_fragment_begin:jne,clearcoat_normal_fragment_maps:zne,clearcoat_pars_fragment:Hne,iridescence_pars_fragment:Vne,opaque_fragment:Wne,packing:Gne,premultiplied_alpha_fragment:qne,project_vertex:Xne,dithering_fragment:$ne,dithering_pars_fragment:Yne,roughnessmap_fragment:Kne,roughnessmap_pars_fragment:Jne,shadowmap_pars_fragment:Zne,shadowmap_pars_vertex:Qne,shadowmap_vertex:ere,shadowmask_pars_fragment:tre,skinbase_vertex:nre,skinning_pars_vertex:rre,skinning_vertex:ire,skinnormal_vertex:are,specularmap_fragment:sre,specularmap_pars_fragment:ore,tonemapping_fragment:lre,tonemapping_pars_fragment:cre,transmission_fragment:ure,transmission_pars_fragment:fre,uv_pars_fragment:hre,uv_pars_vertex:dre,uv_vertex:pre,worldpos_vertex:mre,background_vert:gre,background_frag:xre,backgroundCube_vert:vre,backgroundCube_frag:yre,cube_vert:_re,cube_frag:bre,depth_vert:wre,depth_frag:Sre,distanceRGBA_vert:Ere,distanceRGBA_frag:Are,equirect_vert:Tre,equirect_frag:Mre,linedashed_vert:Nre,linedashed_frag:kre,meshbasic_vert:Cre,meshbasic_frag:Rre,meshlambert_vert:Pre,meshlambert_frag:Lre,meshmatcap_vert:Fre,meshmatcap_frag:Dre,meshnormal_vert:Ire,meshnormal_frag:Ore,meshphong_vert:Ure,meshphong_frag:Bre,meshphysical_vert:jre,meshphysical_frag:zre,meshtoon_vert:Hre,meshtoon_frag:Vre,points_vert:Wre,points_frag:Gre,shadow_vert:qre,shadow_frag:Xre,sprite_vert:$re,sprite_frag:Yre},kt={common:{diffuse:{value:new pn(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new fn},alphaMap:{value:null},alphaMapTransform:{value:new fn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new fn}},envmap:{envMap:{value:null},envMapRotation:{value:new fn},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new fn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new fn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new fn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new fn},normalScale:{value:new Ln(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new fn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new fn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new fn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new fn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new pn(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new pn(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new fn},alphaTest:{value:0},uvTransform:{value:new fn}},sprite:{diffuse:{value:new pn(16777215)},opacity:{value:1},center:{value:new Ln(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new fn},alphaMap:{value:null},alphaMapTransform:{value:new fn},alphaTest:{value:0}}},wo={basic:{uniforms:oa([kt.common,kt.specularmap,kt.envmap,kt.aomap,kt.lightmap,kt.fog]),vertexShader:hn.meshbasic_vert,fragmentShader:hn.meshbasic_frag},lambert:{uniforms:oa([kt.common,kt.specularmap,kt.envmap,kt.aomap,kt.lightmap,kt.emissivemap,kt.bumpmap,kt.normalmap,kt.displacementmap,kt.fog,kt.lights,{emissive:{value:new pn(0)}}]),vertexShader:hn.meshlambert_vert,fragmentShader:hn.meshlambert_frag},phong:{uniforms:oa([kt.common,kt.specularmap,kt.envmap,kt.aomap,kt.lightmap,kt.emissivemap,kt.bumpmap,kt.normalmap,kt.displacementmap,kt.fog,kt.lights,{emissive:{value:new pn(0)},specular:{value:new pn(1118481)},shininess:{value:30}}]),vertexShader:hn.meshphong_vert,fragmentShader:hn.meshphong_frag},standard:{uniforms:oa([kt.common,kt.envmap,kt.aomap,kt.lightmap,kt.emissivemap,kt.bumpmap,kt.normalmap,kt.displacementmap,kt.roughnessmap,kt.metalnessmap,kt.fog,kt.lights,{emissive:{value:new pn(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:hn.meshphysical_vert,fragmentShader:hn.meshphysical_frag},toon:{uniforms:oa([kt.common,kt.aomap,kt.lightmap,kt.emissivemap,kt.bumpmap,kt.normalmap,kt.displacementmap,kt.gradientmap,kt.fog,kt.lights,{emissive:{value:new pn(0)}}]),vertexShader:hn.meshtoon_vert,fragmentShader:hn.meshtoon_frag},matcap:{uniforms:oa([kt.common,kt.bumpmap,kt.normalmap,kt.displacementmap,kt.fog,{matcap:{value:null}}]),vertexShader:hn.meshmatcap_vert,fragmentShader:hn.meshmatcap_frag},points:{uniforms:oa([kt.points,kt.fog]),vertexShader:hn.points_vert,fragmentShader:hn.points_frag},dashed:{uniforms:oa([kt.common,kt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:hn.linedashed_vert,fragmentShader:hn.linedashed_frag},depth:{uniforms:oa([kt.common,kt.displacementmap]),vertexShader:hn.depth_vert,fragmentShader:hn.depth_frag},normal:{uniforms:oa([kt.common,kt.bumpmap,kt.normalmap,kt.displacementmap,{opacity:{value:1}}]),vertexShader:hn.meshnormal_vert,fragmentShader:hn.meshnormal_frag},sprite:{uniforms:oa([kt.sprite,kt.fog]),vertexShader:hn.sprite_vert,fragmentShader:hn.sprite_frag},background:{uniforms:{uvTransform:{value:new fn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:hn.background_vert,fragmentShader:hn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new fn}},vertexShader:hn.backgroundCube_vert,fragmentShader:hn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:hn.cube_vert,fragmentShader:hn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:hn.equirect_vert,fragmentShader:hn.equirect_frag},distanceRGBA:{uniforms:oa([kt.common,kt.displacementmap,{referencePosition:{value:new Xe},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:hn.distanceRGBA_vert,fragmentShader:hn.distanceRGBA_frag},shadow:{uniforms:oa([kt.lights,kt.fog,{color:{value:new pn(0)},opacity:{value:1}}]),vertexShader:hn.shadow_vert,fragmentShader:hn.shadow_frag}};wo.physical={uniforms:oa([wo.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new fn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new fn},clearcoatNormalScale:{value:new Ln(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new fn},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new fn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new fn},sheen:{value:0},sheenColor:{value:new pn(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new fn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new fn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new fn},transmissionSamplerSize:{value:new Ln},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new fn},attenuationDistance:{value:0},attenuationColor:{value:new pn(0)},specularColor:{value:new pn(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new fn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new fn},anisotropyVector:{value:new Ln},anisotropyMap:{value:null},anisotropyMapTransform:{value:new fn}}]),vertexShader:hn.meshphysical_vert,fragmentShader:hn.meshphysical_frag};const zg={r:0,b:0,g:0},gu=new Do,Kre=new Mr;function Jre(t,e,n,r,i,a,s){const o=new pn(0);let l=a===!0?0:1,c,u,f=null,d=0,h=null;function g(_){let S=_.isScene===!0?_.background:null;return S&&S.isTexture&&(S=(_.backgroundBlurriness>0?n:e).get(S)),S}function x(_){let S=!1;const N=g(_);N===null?m(o,l):N&&N.isColor&&(m(N,1),S=!0);const P=t.xr.getEnvironmentBlendMode();P==="additive"?r.buffers.color.setClear(0,0,0,1,s):P==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,s),(t.autoClear||S)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil))}function v(_,S){const N=g(S);N&&(N.isCubeTexture||N.mapping===Av)?(u===void 0&&(u=new es(new gd(1,1,1),new Vc({name:"BackgroundCubeMaterial",uniforms:nd(wo.backgroundCube.uniforms),vertexShader:wo.backgroundCube.vertexShader,fragmentShader:wo.backgroundCube.fragmentShader,side:La,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(P,T,L){this.matrixWorld.copyPosition(L.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(u)),gu.copy(S.backgroundRotation),gu.x*=-1,gu.y*=-1,gu.z*=-1,N.isCubeTexture&&N.isRenderTargetTexture===!1&&(gu.y*=-1,gu.z*=-1),u.material.uniforms.envMap.value=N,u.material.uniforms.flipEnvMap.value=N.isCubeTexture&&N.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=S.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=S.backgroundIntensity,u.material.uniforms.backgroundRotation.value.setFromMatrix4(Kre.makeRotationFromEuler(gu)),u.material.toneMapped=Cn.getTransfer(N.colorSpace)!==Vn,(f!==N||d!==N.version||h!==t.toneMapping)&&(u.material.needsUpdate=!0,f=N,d=N.version,h=t.toneMapping),u.layers.enableAll(),_.unshift(u,u.geometry,u.material,0,0,null)):N&&N.isTexture&&(c===void 0&&(c=new es(new fm(2,2),new Vc({name:"BackgroundMaterial",uniforms:nd(wo.background.uniforms),vertexShader:wo.background.vertexShader,fragmentShader:wo.background.fragmentShader,side:Hc,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=N,c.material.uniforms.backgroundIntensity.value=S.backgroundIntensity,c.material.toneMapped=Cn.getTransfer(N.colorSpace)!==Vn,N.matrixAutoUpdate===!0&&N.updateMatrix(),c.material.uniforms.uvTransform.value.copy(N.matrix),(f!==N||d!==N.version||h!==t.toneMapping)&&(c.material.needsUpdate=!0,f=N,d=N.version,h=t.toneMapping),c.layers.enableAll(),_.unshift(c,c.geometry,c.material,0,0,null))}function m(_,S){_.getRGB(zg,O8(t)),r.buffers.color.setClear(zg.r,zg.g,zg.b,S,s)}function b(){u!==void 0&&(u.geometry.dispose(),u.material.dispose(),u=void 0),c!==void 0&&(c.geometry.dispose(),c.material.dispose(),c=void 0)}return{getClearColor:function(){return o},setClearColor:function(_,S=1){o.set(_),l=S,m(o,l)},getClearAlpha:function(){return l},setClearAlpha:function(_){l=_,m(o,l)},render:x,addToRenderList:v,dispose:b}}function Zre(t,e){const n=t.getParameter(t.MAX_VERTEX_ATTRIBS),r={},i=d(null);let a=i,s=!1;function o(R,A,F,j,V){let X=!1;const ee=f(j,F,A);a!==ee&&(a=ee,c(a.object)),X=h(R,j,F,V),X&&g(R,j,F,V),V!==null&&e.update(V,t.ELEMENT_ARRAY_BUFFER),(X||s)&&(s=!1,S(R,A,F,j),V!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.get(V).buffer))}function l(){return t.createVertexArray()}function c(R){return t.bindVertexArray(R)}function u(R){return t.deleteVertexArray(R)}function f(R,A,F){const j=F.wireframe===!0;let V=r[R.id];V===void 0&&(V={},r[R.id]=V);let X=V[A.id];X===void 0&&(X={},V[A.id]=X);let ee=X[j];return ee===void 0&&(ee=d(l()),X[j]=ee),ee}function d(R){const A=[],F=[],j=[];for(let V=0;V<n;V++)A[V]=0,F[V]=0,j[V]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:A,enabledAttributes:F,attributeDivisors:j,object:R,attributes:{},index:null}}function h(R,A,F,j){const V=a.attributes,X=A.attributes;let ee=0;const se=F.getAttributes();for(const B in se)if(se[B].location>=0){const xe=V[B];let Se=X[B];if(Se===void 0&&(B==="instanceMatrix"&&R.instanceMatrix&&(Se=R.instanceMatrix),B==="instanceColor"&&R.instanceColor&&(Se=R.instanceColor)),xe===void 0||xe.attribute!==Se||Se&&xe.data!==Se.data)return!0;ee++}return a.attributesNum!==ee||a.index!==j}function g(R,A,F,j){const V={},X=A.attributes;let ee=0;const se=F.getAttributes();for(const B in se)if(se[B].location>=0){let xe=X[B];xe===void 0&&(B==="instanceMatrix"&&R.instanceMatrix&&(xe=R.instanceMatrix),B==="instanceColor"&&R.instanceColor&&(xe=R.instanceColor));const Se={};Se.attribute=xe,xe&&xe.data&&(Se.data=xe.data),V[B]=Se,ee++}a.attributes=V,a.attributesNum=ee,a.index=j}function x(){const R=a.newAttributes;for(let A=0,F=R.length;A<F;A++)R[A]=0}function v(R){m(R,0)}function m(R,A){const F=a.newAttributes,j=a.enabledAttributes,V=a.attributeDivisors;F[R]=1,j[R]===0&&(t.enableVertexAttribArray(R),j[R]=1),V[R]!==A&&(t.vertexAttribDivisor(R,A),V[R]=A)}function b(){const R=a.newAttributes,A=a.enabledAttributes;for(let F=0,j=A.length;F<j;F++)A[F]!==R[F]&&(t.disableVertexAttribArray(F),A[F]=0)}function _(R,A,F,j,V,X,ee){ee===!0?t.vertexAttribIPointer(R,A,F,V,X):t.vertexAttribPointer(R,A,F,j,V,X)}function S(R,A,F,j){x();const V=j.attributes,X=F.getAttributes(),ee=A.defaultAttributeValues;for(const se in X){const B=X[se];if(B.location>=0){let H=V[se];if(H===void 0&&(se==="instanceMatrix"&&R.instanceMatrix&&(H=R.instanceMatrix),se==="instanceColor"&&R.instanceColor&&(H=R.instanceColor)),H!==void 0){const xe=H.normalized,Se=H.itemSize,k=e.get(H);if(k===void 0)continue;const U=k.buffer,O=k.type,I=k.bytesPerElement,K=O===t.INT||O===t.UNSIGNED_INT||H.gpuType===e3;if(H.isInterleavedBufferAttribute){const re=H.data,_e=re.stride,ue=H.offset;if(re.isInstancedInterleavedBuffer){for(let be=0;be<B.locationSize;be++)m(B.location+be,re.meshPerAttribute);R.isInstancedMesh!==!0&&j._maxInstanceCount===void 0&&(j._maxInstanceCount=re.meshPerAttribute*re.count)}else for(let be=0;be<B.locationSize;be++)v(B.location+be);t.bindBuffer(t.ARRAY_BUFFER,U);for(let be=0;be<B.locationSize;be++)_(B.location+be,Se/B.locationSize,O,xe,_e*I,(ue+Se/B.locationSize*be)*I,K)}else{if(H.isInstancedBufferAttribute){for(let re=0;re<B.locationSize;re++)m(B.location+re,H.meshPerAttribute);R.isInstancedMesh!==!0&&j._maxInstanceCount===void 0&&(j._maxInstanceCount=H.meshPerAttribute*H.count)}else for(let re=0;re<B.locationSize;re++)v(B.location+re);t.bindBuffer(t.ARRAY_BUFFER,U);for(let re=0;re<B.locationSize;re++)_(B.location+re,Se/B.locationSize,O,xe,Se*I,Se/B.locationSize*re*I,K)}}else if(ee!==void 0){const xe=ee[se];if(xe!==void 0)switch(xe.length){case 2:t.vertexAttrib2fv(B.location,xe);break;case 3:t.vertexAttrib3fv(B.location,xe);break;case 4:t.vertexAttrib4fv(B.location,xe);break;default:t.vertexAttrib1fv(B.location,xe)}}}}b()}function N(){L();for(const R in r){const A=r[R];for(const F in A){const j=A[F];for(const V in j)u(j[V].object),delete j[V];delete A[F]}delete r[R]}}function P(R){if(r[R.id]===void 0)return;const A=r[R.id];for(const F in A){const j=A[F];for(const V in j)u(j[V].object),delete j[V];delete A[F]}delete r[R.id]}function T(R){for(const A in r){const F=r[A];if(F[R.id]===void 0)continue;const j=F[R.id];for(const V in j)u(j[V].object),delete j[V];delete F[R.id]}}function L(){E(),s=!0,a!==i&&(a=i,c(a.object))}function E(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:o,reset:L,resetDefaultState:E,dispose:N,releaseStatesOfGeometry:P,releaseStatesOfProgram:T,initAttributes:x,enableAttribute:v,disableUnusedAttributes:b}}function Qre(t,e,n){let r;function i(c){r=c}function a(c,u){t.drawArrays(r,c,u),n.update(u,r,1)}function s(c,u,f){f!==0&&(t.drawArraysInstanced(r,c,u,f),n.update(u,r,f))}function o(c,u,f){if(f===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,c,0,u,0,f);let h=0;for(let g=0;g<f;g++)h+=u[g];n.update(h,r,1)}function l(c,u,f,d){if(f===0)return;const h=e.get("WEBGL_multi_draw");if(h===null)for(let g=0;g<c.length;g++)s(c[g],u[g],d[g]);else{h.multiDrawArraysInstancedWEBGL(r,c,0,u,0,d,0,f);let g=0;for(let x=0;x<f;x++)g+=u[x]*d[x];n.update(g,r,1)}}this.setMode=i,this.render=a,this.renderInstances=s,this.renderMultiDraw=o,this.renderMultiDrawInstances=l}function eie(t,e,n,r){let i;function a(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const T=e.get("EXT_texture_filter_anisotropic");i=t.getParameter(T.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function s(T){return!(T!==Xs&&r.convert(T)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_FORMAT))}function o(T){const L=T===om&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(T!==Fo&&r.convert(T)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_TYPE)&&T!==yl&&!L)}function l(T){if(T==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";T="mediump"}return T==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let c=n.precision!==void 0?n.precision:"highp";const u=l(c);u!==c&&(console.warn("THREE.WebGLRenderer:",c,"not supported, using",u,"instead."),c=u);const f=n.logarithmicDepthBuffer===!0,d=n.reversedDepthBuffer===!0&&e.has("EXT_clip_control"),h=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),g=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),x=t.getParameter(t.MAX_TEXTURE_SIZE),v=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),m=t.getParameter(t.MAX_VERTEX_ATTRIBS),b=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),_=t.getParameter(t.MAX_VARYING_VECTORS),S=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),N=g>0,P=t.getParameter(t.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:a,getMaxPrecision:l,textureFormatReadable:s,textureTypeReadable:o,precision:c,logarithmicDepthBuffer:f,reversedDepthBuffer:d,maxTextures:h,maxVertexTextures:g,maxTextureSize:x,maxCubemapSize:v,maxAttributes:m,maxVertexUniforms:b,maxVaryings:_,maxFragmentUniforms:S,vertexTextures:N,maxSamples:P}}function tie(t){const e=this;let n=null,r=0,i=!1,a=!1;const s=new wu,o=new fn,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(f,d){const h=f.length!==0||d||r!==0||i;return i=d,r=f.length,h},this.beginShadows=function(){a=!0,u(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(f,d){n=u(f,d,0)},this.setState=function(f,d,h){const g=f.clippingPlanes,x=f.clipIntersection,v=f.clipShadows,m=t.get(f);if(!i||g===null||g.length===0||a&&!v)a?u(null):c();else{const b=a?0:r,_=b*4;let S=m.clippingState||null;l.value=S,S=u(g,d,_,h);for(let N=0;N!==_;++N)S[N]=n[N];m.clippingState=S,this.numIntersection=x?this.numPlanes:0,this.numPlanes+=b}};function c(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function u(f,d,h,g){const x=f!==null?f.length:0;let v=null;if(x!==0){if(v=l.value,g!==!0||v===null){const m=h+x*4,b=d.matrixWorldInverse;o.getNormalMatrix(b),(v===null||v.length<m)&&(v=new Float32Array(m));for(let _=0,S=h;_!==x;++_,S+=4)s.copy(f[_]).applyMatrix4(b,o),s.normal.toArray(v,S),v[S+3]=s.constant}l.value=v,l.needsUpdate=!0}return e.numPlanes=x,e.numIntersection=0,v}}function nie(t){let e=new WeakMap;function n(s,o){return o===cw?s.mapping=Qh:o===uw&&(s.mapping=ed),s}function r(s){if(s&&s.isTexture){const o=s.mapping;if(o===cw||o===uw)if(e.has(s)){const l=e.get(s).texture;return n(l,s.mapping)}else{const l=s.image;if(l&&l.height>0){const c=new ete(l.height);return c.fromEquirectangularTexture(t,s),e.set(s,c),s.addEventListener("dispose",i),n(c.texture,s.mapping)}else return null}}return s}function i(s){const o=s.target;o.removeEventListener("dispose",i);const l=e.get(o);l!==void 0&&(e.delete(o),l.dispose())}function a(){e=new WeakMap}return{get:r,dispose:a}}const yh=4,zM=[.125,.215,.35,.446,.526,.582],Mu=20,Uy=new V8,HM=new pn;let By=null,jy=0,zy=0,Hy=!1;const Su=(1+Math.sqrt(5))/2,Zf=1/Su,VM=[new Xe(-Su,Zf,0),new Xe(Su,Zf,0),new Xe(-Zf,0,Su),new Xe(Zf,0,Su),new Xe(0,Su,-Zf),new Xe(0,Su,Zf),new Xe(-1,1,-1),new Xe(1,1,-1),new Xe(-1,1,1),new Xe(1,1,1)],rie=new Xe;class WM{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,r=.1,i=100,a={}){const{size:s=256,position:o=rie}=a;By=this._renderer.getRenderTarget(),jy=this._renderer.getActiveCubeFace(),zy=this._renderer.getActiveMipmapLevel(),Hy=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(s);const l=this._allocateTargets();return l.depthBuffer=!0,this._sceneToCubeUV(e,r,i,l,o),n>0&&this._blur(l,0,0,n),this._applyPMREM(l),this._cleanup(l),l}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=XM(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=qM(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(By,jy,zy),this._renderer.xr.enabled=Hy,e.scissorTest=!1,Hg(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===Qh||e.mapping===ed?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),By=this._renderer.getRenderTarget(),jy=this._renderer.getActiveCubeFace(),zy=this._renderer.getActiveMipmapLevel(),Hy=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:To,minFilter:To,generateMipmaps:!1,type:om,format:Xs,colorSpace:td,depthBuffer:!1},i=GM(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=GM(e,n,r);const{_lodMax:a}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=iie(a)),this._blurMaterial=aie(a,e,n)}return i}_compileMaterial(e){const n=new es(this._lodPlanes[0],e);this._renderer.compile(n,Uy)}_sceneToCubeUV(e,n,r,i,a){const l=new ys(90,1,n,r),c=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],f=this._renderer,d=f.autoClear,h=f.toneMapping;f.getClearColor(HM),f.toneMapping=Fc,f.autoClear=!1,f.state.buffers.depth.getReversed()&&(f.setRenderTarget(i),f.clearDepth(),f.setRenderTarget(null));const x=new F8({name:"PMREM.Background",side:La,depthWrite:!1,depthTest:!1}),v=new es(new gd,x);let m=!1;const b=e.background;b?b.isColor&&(x.color.copy(b),e.background=null,m=!0):(x.color.copy(HM),m=!0);for(let _=0;_<6;_++){const S=_%3;S===0?(l.up.set(0,c[_],0),l.position.set(a.x,a.y,a.z),l.lookAt(a.x+u[_],a.y,a.z)):S===1?(l.up.set(0,0,c[_]),l.position.set(a.x,a.y,a.z),l.lookAt(a.x,a.y+u[_],a.z)):(l.up.set(0,c[_],0),l.position.set(a.x,a.y,a.z),l.lookAt(a.x,a.y,a.z+u[_]));const N=this._cubeSize;Hg(i,S*N,_>2?N:0,N,N),f.setRenderTarget(i),m&&f.render(v,l),f.render(e,l)}v.geometry.dispose(),v.material.dispose(),f.toneMapping=h,f.autoClear=d,e.background=b}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===Qh||e.mapping===ed;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=XM()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=qM());const a=i?this._cubemapMaterial:this._equirectMaterial,s=new es(this._lodPlanes[0],a),o=a.uniforms;o.envMap.value=e;const l=this._cubeSize;Hg(n,0,0,3*l,2*l),r.setRenderTarget(n),r.render(s,Uy)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;const i=this._lodPlanes.length;for(let a=1;a<i;a++){const s=Math.sqrt(this._sigmas[a]*this._sigmas[a]-this._sigmas[a-1]*this._sigmas[a-1]),o=VM[(i-a-1)%VM.length];this._blur(e,a-1,a,s,o)}n.autoClear=r}_blur(e,n,r,i,a){const s=this._pingPongRenderTarget;this._halfBlur(e,s,n,r,i,"latitudinal",a),this._halfBlur(s,e,r,r,i,"longitudinal",a)}_halfBlur(e,n,r,i,a,s,o){const l=this._renderer,c=this._blurMaterial;s!=="latitudinal"&&s!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,f=new es(this._lodPlanes[i],c),d=c.uniforms,h=this._sizeLods[r]-1,g=isFinite(a)?Math.PI/(2*h):2*Math.PI/(2*Mu-1),x=a/g,v=isFinite(a)?1+Math.floor(u*x):Mu;v>Mu&&console.warn(`sigmaRadians, ${a}, is too large and will clip, as it requested ${v} samples when the maximum is set to ${Mu}`);const m=[];let b=0;for(let T=0;T<Mu;++T){const L=T/x,E=Math.exp(-L*L/2);m.push(E),T===0?b+=E:T<v&&(b+=2*E)}for(let T=0;T<m.length;T++)m[T]=m[T]/b;d.envMap.value=e.texture,d.samples.value=v,d.weights.value=m,d.latitudinal.value=s==="latitudinal",o&&(d.poleAxis.value=o);const{_lodMax:_}=this;d.dTheta.value=g,d.mipInt.value=_-r;const S=this._sizeLods[i],N=3*S*(i>_-yh?i-_+yh:0),P=4*(this._cubeSize-S);Hg(n,N,P,3*S,2*S),l.setRenderTarget(n),l.render(f,Uy)}}function iie(t){const e=[],n=[],r=[];let i=t;const a=t-yh+1+zM.length;for(let s=0;s<a;s++){const o=Math.pow(2,i);n.push(o);let l=1/o;s>t-yh?l=zM[s-t+yh-1]:s===0&&(l=0),r.push(l);const c=1/(o-2),u=-c,f=1+c,d=[u,u,f,u,f,f,u,u,f,f,u,f],h=6,g=6,x=3,v=2,m=1,b=new Float32Array(x*g*h),_=new Float32Array(v*g*h),S=new Float32Array(m*g*h);for(let P=0;P<h;P++){const T=P%3*2/3-1,L=P>2?0:-1,E=[T,L,0,T+2/3,L,0,T+2/3,L+1,0,T,L,0,T+2/3,L+1,0,T,L+1,0];b.set(E,x*g*P),_.set(d,v*g*P);const R=[P,P,P,P,P,P];S.set(R,m*g*P)}const N=new ro;N.setAttribute("position",new Po(b,x)),N.setAttribute("uv",new Po(_,v)),N.setAttribute("faceIndex",new Po(S,m)),e.push(N),i>yh&&i--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function GM(t,e,n){const r=new sf(t,e,n);return r.texture.mapping=Av,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function Hg(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function aie(t,e,n){const r=new Float32Array(Mu),i=new Xe(0,1,0);return new Vc({name:"SphericalGaussianBlur",defines:{n:Mu,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:c3(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Lc,depthTest:!1,depthWrite:!1})}function qM(){return new Vc({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:c3(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Lc,depthTest:!1,depthWrite:!1})}function XM(){return new Vc({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:c3(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Lc,depthTest:!1,depthWrite:!1})}function c3(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function sie(t){let e=new WeakMap,n=null;function r(o){if(o&&o.isTexture){const l=o.mapping,c=l===cw||l===uw,u=l===Qh||l===ed;if(c||u){let f=e.get(o);const d=f!==void 0?f.texture.pmremVersion:0;if(o.isRenderTargetTexture&&o.pmremVersion!==d)return n===null&&(n=new WM(t)),f=c?n.fromEquirectangular(o,f):n.fromCubemap(o,f),f.texture.pmremVersion=o.pmremVersion,e.set(o,f),f.texture;if(f!==void 0)return f.texture;{const h=o.image;return c&&h&&h.height>0||u&&h&&i(h)?(n===null&&(n=new WM(t)),f=c?n.fromEquirectangular(o):n.fromCubemap(o),f.texture.pmremVersion=o.pmremVersion,e.set(o,f),o.addEventListener("dispose",a),f.texture):null}}}return o}function i(o){let l=0;const c=6;for(let u=0;u<c;u++)o[u]!==void 0&&l++;return l===c}function a(o){const l=o.target;l.removeEventListener("dispose",a);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function s(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:s}}function oie(t){const e={};function n(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(r)}return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(r){const i=n(r);return i===null&&Ph("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function lie(t,e,n,r){const i={},a=new WeakMap;function s(f){const d=f.target;d.index!==null&&e.remove(d.index);for(const g in d.attributes)e.remove(d.attributes[g]);d.removeEventListener("dispose",s),delete i[d.id];const h=a.get(d);h&&(e.remove(h),a.delete(d)),r.releaseStatesOfGeometry(d),d.isInstancedBufferGeometry===!0&&delete d._maxInstanceCount,n.memory.geometries--}function o(f,d){return i[d.id]===!0||(d.addEventListener("dispose",s),i[d.id]=!0,n.memory.geometries++),d}function l(f){const d=f.attributes;for(const h in d)e.update(d[h],t.ARRAY_BUFFER)}function c(f){const d=[],h=f.index,g=f.attributes.position;let x=0;if(h!==null){const b=h.array;x=h.version;for(let _=0,S=b.length;_<S;_+=3){const N=b[_+0],P=b[_+1],T=b[_+2];d.push(N,P,P,T,T,N)}}else if(g!==void 0){const b=g.array;x=g.version;for(let _=0,S=b.length/3-1;_<S;_+=3){const N=_+0,P=_+1,T=_+2;d.push(N,P,P,T,T,N)}}else return;const v=new(k8(d)?I8:D8)(d,1);v.version=x;const m=a.get(f);m&&e.remove(m),a.set(f,v)}function u(f){const d=a.get(f);if(d){const h=f.index;h!==null&&d.version<h.version&&c(f)}else c(f);return a.get(f)}return{get:o,update:l,getWireframeAttribute:u}}function cie(t,e,n){let r;function i(d){r=d}let a,s;function o(d){a=d.type,s=d.bytesPerElement}function l(d,h){t.drawElements(r,h,a,d*s),n.update(h,r,1)}function c(d,h,g){g!==0&&(t.drawElementsInstanced(r,h,a,d*s,g),n.update(h,r,g))}function u(d,h,g){if(g===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,h,0,a,d,0,g);let v=0;for(let m=0;m<g;m++)v+=h[m];n.update(v,r,1)}function f(d,h,g,x){if(g===0)return;const v=e.get("WEBGL_multi_draw");if(v===null)for(let m=0;m<d.length;m++)c(d[m]/s,h[m],x[m]);else{v.multiDrawElementsInstancedWEBGL(r,h,0,a,d,0,x,0,g);let m=0;for(let b=0;b<g;b++)m+=h[b]*x[b];n.update(m,r,1)}}this.setMode=i,this.setIndex=o,this.render=l,this.renderInstances=c,this.renderMultiDraw=u,this.renderMultiDrawInstances=f}function uie(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(a,s,o){switch(n.calls++,s){case t.TRIANGLES:n.triangles+=o*(a/3);break;case t.LINES:n.lines+=o*(a/2);break;case t.LINE_STRIP:n.lines+=o*(a-1);break;case t.LINE_LOOP:n.lines+=o*a;break;case t.POINTS:n.points+=o*a;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",s);break}}function i(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function fie(t,e,n){const r=new WeakMap,i=new Ar;function a(s,o,l){const c=s.morphTargetInfluences,u=o.morphAttributes.position||o.morphAttributes.normal||o.morphAttributes.color,f=u!==void 0?u.length:0;let d=r.get(o);if(d===void 0||d.count!==f){let E=function(){T.dispose(),r.delete(o),o.removeEventListener("dispose",E)};d!==void 0&&d.texture.dispose();const h=o.morphAttributes.position!==void 0,g=o.morphAttributes.normal!==void 0,x=o.morphAttributes.color!==void 0,v=o.morphAttributes.position||[],m=o.morphAttributes.normal||[],b=o.morphAttributes.color||[];let _=0;h===!0&&(_=1),g===!0&&(_=2),x===!0&&(_=3);let S=o.attributes.position.count*_,N=1;S>e.maxTextureSize&&(N=Math.ceil(S/e.maxTextureSize),S=e.maxTextureSize);const P=new Float32Array(S*N*4*f),T=new C8(P,S,N,f);T.type=yl,T.needsUpdate=!0;const L=_*4;for(let R=0;R<f;R++){const A=v[R],F=m[R],j=b[R],V=S*N*4*R;for(let X=0;X<A.count;X++){const ee=X*L;h===!0&&(i.fromBufferAttribute(A,X),P[V+ee+0]=i.x,P[V+ee+1]=i.y,P[V+ee+2]=i.z,P[V+ee+3]=0),g===!0&&(i.fromBufferAttribute(F,X),P[V+ee+4]=i.x,P[V+ee+5]=i.y,P[V+ee+6]=i.z,P[V+ee+7]=0),x===!0&&(i.fromBufferAttribute(j,X),P[V+ee+8]=i.x,P[V+ee+9]=i.y,P[V+ee+10]=i.z,P[V+ee+11]=j.itemSize===4?i.w:1)}}d={count:f,texture:T,size:new Ln(S,N)},r.set(o,d),o.addEventListener("dispose",E)}if(s.isInstancedMesh===!0&&s.morphTexture!==null)l.getUniforms().setValue(t,"morphTexture",s.morphTexture,n);else{let h=0;for(let x=0;x<c.length;x++)h+=c[x];const g=o.morphTargetsRelative?1:1-h;l.getUniforms().setValue(t,"morphTargetBaseInfluence",g),l.getUniforms().setValue(t,"morphTargetInfluences",c)}l.getUniforms().setValue(t,"morphTargetsTexture",d.texture,n),l.getUniforms().setValue(t,"morphTargetsTextureSize",d.size)}return{update:a}}function hie(t,e,n,r){let i=new WeakMap;function a(l){const c=r.render.frame,u=l.geometry,f=e.get(l,u);if(i.get(f)!==c&&(e.update(f),i.set(f,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",o)===!1&&l.addEventListener("dispose",o),i.get(l)!==c&&(n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER),i.set(l,c))),l.isSkinnedMesh){const d=l.skeleton;i.get(d)!==c&&(d.update(),i.set(d,c))}return f}function s(){i=new WeakMap}function o(l){const c=l.target;c.removeEventListener("dispose",o),n.remove(c.instanceMatrix),c.instanceColor!==null&&n.remove(c.instanceColor)}return{update:a,dispose:s}}const G8=new Fa,$M=new z8(1,1),q8=new C8,X8=new Oee,$8=new B8,YM=[],KM=[],JM=new Float32Array(16),ZM=new Float32Array(9),QM=new Float32Array(4);function xd(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let a=YM[i];if(a===void 0&&(a=new Float32Array(i),YM[i]=a),e!==0){r.toArray(a,0);for(let s=1,o=0;s!==e;++s)o+=n,t[s].toArray(a,o)}return a}function li(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function ci(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function Mv(t,e){let n=KM[e];n===void 0&&(n=new Int32Array(e),KM[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function die(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function pie(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(li(n,e))return;t.uniform2fv(this.addr,e),ci(n,e)}}function mie(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(li(n,e))return;t.uniform3fv(this.addr,e),ci(n,e)}}function gie(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(li(n,e))return;t.uniform4fv(this.addr,e),ci(n,e)}}function xie(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(li(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),ci(n,e)}else{if(li(n,r))return;QM.set(r),t.uniformMatrix2fv(this.addr,!1,QM),ci(n,r)}}function vie(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(li(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),ci(n,e)}else{if(li(n,r))return;ZM.set(r),t.uniformMatrix3fv(this.addr,!1,ZM),ci(n,r)}}function yie(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(li(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),ci(n,e)}else{if(li(n,r))return;JM.set(r),t.uniformMatrix4fv(this.addr,!1,JM),ci(n,r)}}function _ie(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function bie(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(li(n,e))return;t.uniform2iv(this.addr,e),ci(n,e)}}function wie(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(li(n,e))return;t.uniform3iv(this.addr,e),ci(n,e)}}function Sie(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(li(n,e))return;t.uniform4iv(this.addr,e),ci(n,e)}}function Eie(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function Aie(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(li(n,e))return;t.uniform2uiv(this.addr,e),ci(n,e)}}function Tie(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(li(n,e))return;t.uniform3uiv(this.addr,e),ci(n,e)}}function Mie(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(li(n,e))return;t.uniform4uiv(this.addr,e),ci(n,e)}}function Nie(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i);let a;this.type===t.SAMPLER_2D_SHADOW?($M.compareFunction=N8,a=$M):a=G8,n.setTexture2D(e||a,i)}function kie(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||X8,i)}function Cie(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||$8,i)}function Rie(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||q8,i)}function Pie(t){switch(t){case 5126:return die;case 35664:return pie;case 35665:return mie;case 35666:return gie;case 35674:return xie;case 35675:return vie;case 35676:return yie;case 5124:case 35670:return _ie;case 35667:case 35671:return bie;case 35668:case 35672:return wie;case 35669:case 35673:return Sie;case 5125:return Eie;case 36294:return Aie;case 36295:return Tie;case 36296:return Mie;case 35678:case 36198:case 36298:case 36306:case 35682:return Nie;case 35679:case 36299:case 36307:return kie;case 35680:case 36300:case 36308:case 36293:return Cie;case 36289:case 36303:case 36311:case 36292:return Rie}}function Lie(t,e){t.uniform1fv(this.addr,e)}function Fie(t,e){const n=xd(e,this.size,2);t.uniform2fv(this.addr,n)}function Die(t,e){const n=xd(e,this.size,3);t.uniform3fv(this.addr,n)}function Iie(t,e){const n=xd(e,this.size,4);t.uniform4fv(this.addr,n)}function Oie(t,e){const n=xd(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function Uie(t,e){const n=xd(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function Bie(t,e){const n=xd(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function jie(t,e){t.uniform1iv(this.addr,e)}function zie(t,e){t.uniform2iv(this.addr,e)}function Hie(t,e){t.uniform3iv(this.addr,e)}function Vie(t,e){t.uniform4iv(this.addr,e)}function Wie(t,e){t.uniform1uiv(this.addr,e)}function Gie(t,e){t.uniform2uiv(this.addr,e)}function qie(t,e){t.uniform3uiv(this.addr,e)}function Xie(t,e){t.uniform4uiv(this.addr,e)}function $ie(t,e,n){const r=this.cache,i=e.length,a=Mv(n,i);li(r,a)||(t.uniform1iv(this.addr,a),ci(r,a));for(let s=0;s!==i;++s)n.setTexture2D(e[s]||G8,a[s])}function Yie(t,e,n){const r=this.cache,i=e.length,a=Mv(n,i);li(r,a)||(t.uniform1iv(this.addr,a),ci(r,a));for(let s=0;s!==i;++s)n.setTexture3D(e[s]||X8,a[s])}function Kie(t,e,n){const r=this.cache,i=e.length,a=Mv(n,i);li(r,a)||(t.uniform1iv(this.addr,a),ci(r,a));for(let s=0;s!==i;++s)n.setTextureCube(e[s]||$8,a[s])}function Jie(t,e,n){const r=this.cache,i=e.length,a=Mv(n,i);li(r,a)||(t.uniform1iv(this.addr,a),ci(r,a));for(let s=0;s!==i;++s)n.setTexture2DArray(e[s]||q8,a[s])}function Zie(t){switch(t){case 5126:return Lie;case 35664:return Fie;case 35665:return Die;case 35666:return Iie;case 35674:return Oie;case 35675:return Uie;case 35676:return Bie;case 5124:case 35670:return jie;case 35667:case 35671:return zie;case 35668:case 35672:return Hie;case 35669:case 35673:return Vie;case 5125:return Wie;case 36294:return Gie;case 36295:return qie;case 36296:return Xie;case 35678:case 36198:case 36298:case 36306:case 35682:return $ie;case 35679:case 36299:case 36307:return Yie;case 35680:case 36300:case 36308:case 36293:return Kie;case 36289:case 36303:case 36311:case 36292:return Jie}}class Qie{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.setValue=Pie(n.type)}}class eae{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=Zie(n.type)}}class tae{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let a=0,s=i.length;a!==s;++a){const o=i[a];o.setValue(e,n[o.id],r)}}}const Vy=/(\w+)(\])?(\[|\.)?/g;function eN(t,e){t.seq.push(e),t.map[e.id]=e}function nae(t,e,n){const r=t.name,i=r.length;for(Vy.lastIndex=0;;){const a=Vy.exec(r),s=Vy.lastIndex;let o=a[1];const l=a[2]==="]",c=a[3];if(l&&(o=o|0),c===void 0||c==="["&&s+2===i){eN(n,c===void 0?new Qie(o,t,e):new eae(o,t,e));break}else{let f=n.map[o];f===void 0&&(f=new tae(o),eN(n,f)),n=f}}}class k1{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const a=e.getActiveUniform(n,i),s=e.getUniformLocation(n,a.name);nae(a,s,this)}}setValue(e,n,r,i){const a=this.map[n];a!==void 0&&a.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let a=0,s=n.length;a!==s;++a){const o=n[a],l=r[o.id];l.needsUpdate!==!1&&o.setValue(e,l.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,a=e.length;i!==a;++i){const s=e[i];s.id in n&&r.push(s)}return r}}function tN(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}const rae=37297;let iae=0;function aae(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),a=Math.min(e+6,n.length);for(let s=i;s<a;s++){const o=s+1;r.push(`${o===e?">":" "} ${o}: ${n[s]}`)}return r.join(`
`)}const nN=new fn;function sae(t){Cn._getMatrix(nN,Cn.workingColorSpace,t);const e=`mat3( ${nN.elements.map(n=>n.toFixed(4))} )`;switch(Cn.getTransfer(t)){case Cx:return[e,"LinearTransferOETF"];case Vn:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",t),[e,"LinearTransferOETF"]}}function rN(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),a=(t.getShaderInfoLog(e)||"").trim();if(r&&a==="")return"";const s=/ERROR: 0:(\d+)/.exec(a);if(s){const o=parseInt(s[1]);return n.toUpperCase()+`

`+a+`

`+aae(t.getShaderSource(e),o)}else return a}function oae(t,e){const n=sae(e);return[`vec4 ${t}( vec4 value ) {`,`	return ${n[1]}( vec4( value.rgb * ${n[0]}, value.a ) );`,"}"].join(`
`)}function lae(t,e){let n;switch(e){case fee:n="Linear";break;case hee:n="Reinhard";break;case dee:n="Cineon";break;case pee:n="ACESFilmic";break;case gee:n="AgX";break;case xee:n="Neutral";break;case mee:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}const Vg=new Xe;function cae(){Cn.getLuminanceCoefficients(Vg);const t=Vg.x.toFixed(4),e=Vg.y.toFixed(4),n=Vg.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${t}, ${e}, ${n} );`,"	return dot( weights, rgb );","}"].join(`
`)}function uae(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(A0).join(`
`)}function fae(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function hae(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const a=t.getActiveAttrib(e,i),s=a.name;let o=1;a.type===t.FLOAT_MAT2&&(o=2),a.type===t.FLOAT_MAT3&&(o=3),a.type===t.FLOAT_MAT4&&(o=4),n[s]={type:a.type,location:t.getAttribLocation(e,s),locationSize:o}}return n}function A0(t){return t!==""}function iN(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function aN(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const dae=/^[ \t]*#include +<([\w\d./]+)>/gm;function jw(t){return t.replace(dae,mae)}const pae=new Map;function mae(t,e){let n=hn[e];if(n===void 0){const r=pae.get(e);if(r!==void 0)n=hn[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return jw(n)}const gae=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function sN(t){return t.replace(gae,xae)}function xae(t,e,n,r){let i="";for(let a=parseInt(e);a<parseInt(n);a++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return i}function oN(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	precision ${t.precision} sampler3D;
	precision ${t.precision} sampler2DArray;
	precision ${t.precision} sampler2DShadow;
	precision ${t.precision} samplerCubeShadow;
	precision ${t.precision} sampler2DArrayShadow;
	precision ${t.precision} isampler2D;
	precision ${t.precision} isampler3D;
	precision ${t.precision} isamplerCube;
	precision ${t.precision} isampler2DArray;
	precision ${t.precision} usampler2D;
	precision ${t.precision} usampler3D;
	precision ${t.precision} usamplerCube;
	precision ${t.precision} usampler2DArray;
	`;return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function vae(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===x8?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===WQ?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===ol&&(e="SHADOWMAP_TYPE_VSM"),e}function yae(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case Qh:case ed:e="ENVMAP_TYPE_CUBE";break;case Av:e="ENVMAP_TYPE_CUBE_UV";break}return e}function _ae(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case ed:e="ENVMAP_MODE_REFRACTION";break}return e}function bae(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case QS:e="ENVMAP_BLENDING_MULTIPLY";break;case cee:e="ENVMAP_BLENDING_MIX";break;case uee:e="ENVMAP_BLENDING_ADD";break}return e}function wae(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function Sae(t,e,n,r){const i=t.getContext(),a=n.defines;let s=n.vertexShader,o=n.fragmentShader;const l=vae(n),c=yae(n),u=_ae(n),f=bae(n),d=wae(n),h=uae(n),g=fae(a),x=i.createProgram();let v,m,b=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(v=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g].filter(A0).join(`
`),v.length>0&&(v+=`
`),m=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g].filter(A0).join(`
`),m.length>0&&(m+=`
`)):(v=[oN(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reversedDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(A0).join(`
`),m=[oN(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",n.envMap?"#define "+f:"",d?"#define CUBEUV_TEXEL_WIDTH "+d.texelWidth:"",d?"#define CUBEUV_TEXEL_HEIGHT "+d.texelHeight:"",d?"#define CUBEUV_MAX_MIP "+d.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reversedDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Fc?"#define TONE_MAPPING":"",n.toneMapping!==Fc?hn.tonemapping_pars_fragment:"",n.toneMapping!==Fc?lae("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",hn.colorspace_pars_fragment,oae("linearToOutputTexel",n.outputColorSpace),cae(),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(A0).join(`
`)),s=jw(s),s=iN(s,n),s=aN(s,n),o=jw(o),o=iN(o,n),o=aN(o,n),s=sN(s),o=sN(o),n.isRawShaderMaterial!==!0&&(b=`#version 300 es
`,v=[h,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+v,m=["#define varying in",n.glslVersion===gM?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===gM?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+m);const _=b+v+s,S=b+m+o,N=tN(i,i.VERTEX_SHADER,_),P=tN(i,i.FRAGMENT_SHADER,S);i.attachShader(x,N),i.attachShader(x,P),n.index0AttributeName!==void 0?i.bindAttribLocation(x,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(x,0,"position"),i.linkProgram(x);function T(A){if(t.debug.checkShaderErrors){const F=i.getProgramInfoLog(x)||"",j=i.getShaderInfoLog(N)||"",V=i.getShaderInfoLog(P)||"",X=F.trim(),ee=j.trim(),se=V.trim();let B=!0,H=!0;if(i.getProgramParameter(x,i.LINK_STATUS)===!1)if(B=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(i,x,N,P);else{const xe=rN(i,N,"vertex"),Se=rN(i,P,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(x,i.VALIDATE_STATUS)+`

Material Name: `+A.name+`
Material Type: `+A.type+`

Program Info Log: `+X+`
`+xe+`
`+Se)}else X!==""?console.warn("THREE.WebGLProgram: Program Info Log:",X):(ee===""||se==="")&&(H=!1);H&&(A.diagnostics={runnable:B,programLog:X,vertexShader:{log:ee,prefix:v},fragmentShader:{log:se,prefix:m}})}i.deleteShader(N),i.deleteShader(P),L=new k1(i,x),E=hae(i,x)}let L;this.getUniforms=function(){return L===void 0&&T(this),L};let E;this.getAttributes=function(){return E===void 0&&T(this),E};let R=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return R===!1&&(R=i.getProgramParameter(x,rae)),R},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(x),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=iae++,this.cacheKey=e,this.usedTimes=1,this.program=x,this.vertexShader=N,this.fragmentShader=P,this}let Eae=0;class Aae{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),a=this._getShaderStage(r),s=this._getShaderCacheForMaterial(e);return s.has(i)===!1&&(s.add(i),i.usedTimes++),s.has(a)===!1&&(s.add(a),a.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new Tae(e),n.set(e,r)),r}}class Tae{constructor(e){this.id=Eae++,this.code=e,this.usedTimes=0}}function Mae(t,e,n,r,i,a,s){const o=new P8,l=new Aae,c=new Set,u=[],f=i.logarithmicDepthBuffer,d=i.vertexTextures;let h=i.precision;const g={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function x(E){return c.add(E),E===0?"uv":`uv${E}`}function v(E,R,A,F,j){const V=F.fog,X=j.geometry,ee=E.isMeshStandardMaterial?F.environment:null,se=(E.isMeshStandardMaterial?n:e).get(E.envMap||ee),B=se&&se.mapping===Av?se.image.height:null,H=g[E.type];E.precision!==null&&(h=i.getMaxPrecision(E.precision),h!==E.precision&&console.warn("THREE.WebGLProgram.getParameters:",E.precision,"not supported, using",h,"instead."));const xe=X.morphAttributes.position||X.morphAttributes.normal||X.morphAttributes.color,Se=xe!==void 0?xe.length:0;let k=0;X.morphAttributes.position!==void 0&&(k=1),X.morphAttributes.normal!==void 0&&(k=2),X.morphAttributes.color!==void 0&&(k=3);let U,O,I,K;if(H){const nn=wo[H];U=nn.vertexShader,O=nn.fragmentShader}else U=E.vertexShader,O=E.fragmentShader,l.update(E),I=l.getVertexShaderID(E),K=l.getFragmentShaderID(E);const re=t.getRenderTarget(),_e=t.state.buffers.depth.getReversed(),ue=j.isInstancedMesh===!0,be=j.isBatchedMesh===!0,ve=!!E.map,q=!!E.matcap,te=!!se,Ee=!!E.aoMap,Z=!!E.lightMap,qe=!!E.bumpMap,Ce=!!E.normalMap,rt=!!E.displacementMap,Pe=!!E.emissiveMap,nt=!!E.metalnessMap,ft=!!E.roughnessMap,Tt=E.anisotropy>0,ae=E.clearcoat>0,Y=E.dispersion>0,ke=E.iridescence>0,Oe=E.sheen>0,it=E.transmission>0,Fe=Tt&&!!E.anisotropyMap,lt=ae&&!!E.clearcoatMap,Ue=ae&&!!E.clearcoatNormalMap,tt=ae&&!!E.clearcoatRoughnessMap,yt=ke&&!!E.iridescenceMap,Ke=ke&&!!E.iridescenceThicknessMap,Ze=Oe&&!!E.sheenColorMap,bt=Oe&&!!E.sheenRoughnessMap,At=!!E.specularMap,st=!!E.specularColorMap,Mt=!!E.specularIntensityMap,Ae=it&&!!E.transmissionMap,ht=it&&!!E.thicknessMap,gt=!!E.gradientMap,wt=!!E.alphaMap,$e=E.alphaTest>0,Ye=!!E.alphaHash,Ct=!!E.extensions;let It=Fc;E.toneMapped&&(re===null||re.isXRRenderTarget===!0)&&(It=t.toneMapping);const mn={shaderID:H,shaderType:E.type,shaderName:E.name,vertexShader:U,fragmentShader:O,defines:E.defines,customVertexShaderID:I,customFragmentShaderID:K,isRawShaderMaterial:E.isRawShaderMaterial===!0,glslVersion:E.glslVersion,precision:h,batching:be,batchingColor:be&&j._colorsTexture!==null,instancing:ue,instancingColor:ue&&j.instanceColor!==null,instancingMorph:ue&&j.morphTexture!==null,supportsVertexTextures:d,outputColorSpace:re===null?t.outputColorSpace:re.isXRRenderTarget===!0?re.texture.colorSpace:td,alphaToCoverage:!!E.alphaToCoverage,map:ve,matcap:q,envMap:te,envMapMode:te&&se.mapping,envMapCubeUVHeight:B,aoMap:Ee,lightMap:Z,bumpMap:qe,normalMap:Ce,displacementMap:d&&rt,emissiveMap:Pe,normalMapObjectSpace:Ce&&E.normalMapType===bee,normalMapTangentSpace:Ce&&E.normalMapType===M8,metalnessMap:nt,roughnessMap:ft,anisotropy:Tt,anisotropyMap:Fe,clearcoat:ae,clearcoatMap:lt,clearcoatNormalMap:Ue,clearcoatRoughnessMap:tt,dispersion:Y,iridescence:ke,iridescenceMap:yt,iridescenceThicknessMap:Ke,sheen:Oe,sheenColorMap:Ze,sheenRoughnessMap:bt,specularMap:At,specularColorMap:st,specularIntensityMap:Mt,transmission:it,transmissionMap:Ae,thicknessMap:ht,gradientMap:gt,opaque:E.transparent===!1&&E.blending===Rh&&E.alphaToCoverage===!1,alphaMap:wt,alphaTest:$e,alphaHash:Ye,combine:E.combine,mapUv:ve&&x(E.map.channel),aoMapUv:Ee&&x(E.aoMap.channel),lightMapUv:Z&&x(E.lightMap.channel),bumpMapUv:qe&&x(E.bumpMap.channel),normalMapUv:Ce&&x(E.normalMap.channel),displacementMapUv:rt&&x(E.displacementMap.channel),emissiveMapUv:Pe&&x(E.emissiveMap.channel),metalnessMapUv:nt&&x(E.metalnessMap.channel),roughnessMapUv:ft&&x(E.roughnessMap.channel),anisotropyMapUv:Fe&&x(E.anisotropyMap.channel),clearcoatMapUv:lt&&x(E.clearcoatMap.channel),clearcoatNormalMapUv:Ue&&x(E.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:tt&&x(E.clearcoatRoughnessMap.channel),iridescenceMapUv:yt&&x(E.iridescenceMap.channel),iridescenceThicknessMapUv:Ke&&x(E.iridescenceThicknessMap.channel),sheenColorMapUv:Ze&&x(E.sheenColorMap.channel),sheenRoughnessMapUv:bt&&x(E.sheenRoughnessMap.channel),specularMapUv:At&&x(E.specularMap.channel),specularColorMapUv:st&&x(E.specularColorMap.channel),specularIntensityMapUv:Mt&&x(E.specularIntensityMap.channel),transmissionMapUv:Ae&&x(E.transmissionMap.channel),thicknessMapUv:ht&&x(E.thicknessMap.channel),alphaMapUv:wt&&x(E.alphaMap.channel),vertexTangents:!!X.attributes.tangent&&(Ce||Tt),vertexColors:E.vertexColors,vertexAlphas:E.vertexColors===!0&&!!X.attributes.color&&X.attributes.color.itemSize===4,pointsUvs:j.isPoints===!0&&!!X.attributes.uv&&(ve||wt),fog:!!V,useFog:E.fog===!0,fogExp2:!!V&&V.isFogExp2,flatShading:E.flatShading===!0&&E.wireframe===!1,sizeAttenuation:E.sizeAttenuation===!0,logarithmicDepthBuffer:f,reversedDepthBuffer:_e,skinning:j.isSkinnedMesh===!0,morphTargets:X.morphAttributes.position!==void 0,morphNormals:X.morphAttributes.normal!==void 0,morphColors:X.morphAttributes.color!==void 0,morphTargetsCount:Se,morphTextureStride:k,numDirLights:R.directional.length,numPointLights:R.point.length,numSpotLights:R.spot.length,numSpotLightMaps:R.spotLightMap.length,numRectAreaLights:R.rectArea.length,numHemiLights:R.hemi.length,numDirLightShadows:R.directionalShadowMap.length,numPointLightShadows:R.pointShadowMap.length,numSpotLightShadows:R.spotShadowMap.length,numSpotLightShadowsWithMaps:R.numSpotLightShadowsWithMaps,numLightProbes:R.numLightProbes,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:E.dithering,shadowMapEnabled:t.shadowMap.enabled&&A.length>0,shadowMapType:t.shadowMap.type,toneMapping:It,decodeVideoTexture:ve&&E.map.isVideoTexture===!0&&Cn.getTransfer(E.map.colorSpace)===Vn,decodeVideoTextureEmissive:Pe&&E.emissiveMap.isVideoTexture===!0&&Cn.getTransfer(E.emissiveMap.colorSpace)===Vn,premultipliedAlpha:E.premultipliedAlpha,doubleSided:E.side===Eo,flipSided:E.side===La,useDepthPacking:E.depthPacking>=0,depthPacking:E.depthPacking||0,index0AttributeName:E.index0AttributeName,extensionClipCullDistance:Ct&&E.extensions.clipCullDistance===!0&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Ct&&E.extensions.multiDraw===!0||be)&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:E.customProgramCacheKey()};return mn.vertexUv1s=c.has(1),mn.vertexUv2s=c.has(2),mn.vertexUv3s=c.has(3),c.clear(),mn}function m(E){const R=[];if(E.shaderID?R.push(E.shaderID):(R.push(E.customVertexShaderID),R.push(E.customFragmentShaderID)),E.defines!==void 0)for(const A in E.defines)R.push(A),R.push(E.defines[A]);return E.isRawShaderMaterial===!1&&(b(R,E),_(R,E),R.push(t.outputColorSpace)),R.push(E.customProgramCacheKey),R.join()}function b(E,R){E.push(R.precision),E.push(R.outputColorSpace),E.push(R.envMapMode),E.push(R.envMapCubeUVHeight),E.push(R.mapUv),E.push(R.alphaMapUv),E.push(R.lightMapUv),E.push(R.aoMapUv),E.push(R.bumpMapUv),E.push(R.normalMapUv),E.push(R.displacementMapUv),E.push(R.emissiveMapUv),E.push(R.metalnessMapUv),E.push(R.roughnessMapUv),E.push(R.anisotropyMapUv),E.push(R.clearcoatMapUv),E.push(R.clearcoatNormalMapUv),E.push(R.clearcoatRoughnessMapUv),E.push(R.iridescenceMapUv),E.push(R.iridescenceThicknessMapUv),E.push(R.sheenColorMapUv),E.push(R.sheenRoughnessMapUv),E.push(R.specularMapUv),E.push(R.specularColorMapUv),E.push(R.specularIntensityMapUv),E.push(R.transmissionMapUv),E.push(R.thicknessMapUv),E.push(R.combine),E.push(R.fogExp2),E.push(R.sizeAttenuation),E.push(R.morphTargetsCount),E.push(R.morphAttributeCount),E.push(R.numDirLights),E.push(R.numPointLights),E.push(R.numSpotLights),E.push(R.numSpotLightMaps),E.push(R.numHemiLights),E.push(R.numRectAreaLights),E.push(R.numDirLightShadows),E.push(R.numPointLightShadows),E.push(R.numSpotLightShadows),E.push(R.numSpotLightShadowsWithMaps),E.push(R.numLightProbes),E.push(R.shadowMapType),E.push(R.toneMapping),E.push(R.numClippingPlanes),E.push(R.numClipIntersection),E.push(R.depthPacking)}function _(E,R){o.disableAll(),R.supportsVertexTextures&&o.enable(0),R.instancing&&o.enable(1),R.instancingColor&&o.enable(2),R.instancingMorph&&o.enable(3),R.matcap&&o.enable(4),R.envMap&&o.enable(5),R.normalMapObjectSpace&&o.enable(6),R.normalMapTangentSpace&&o.enable(7),R.clearcoat&&o.enable(8),R.iridescence&&o.enable(9),R.alphaTest&&o.enable(10),R.vertexColors&&o.enable(11),R.vertexAlphas&&o.enable(12),R.vertexUv1s&&o.enable(13),R.vertexUv2s&&o.enable(14),R.vertexUv3s&&o.enable(15),R.vertexTangents&&o.enable(16),R.anisotropy&&o.enable(17),R.alphaHash&&o.enable(18),R.batching&&o.enable(19),R.dispersion&&o.enable(20),R.batchingColor&&o.enable(21),R.gradientMap&&o.enable(22),E.push(o.mask),o.disableAll(),R.fog&&o.enable(0),R.useFog&&o.enable(1),R.flatShading&&o.enable(2),R.logarithmicDepthBuffer&&o.enable(3),R.reversedDepthBuffer&&o.enable(4),R.skinning&&o.enable(5),R.morphTargets&&o.enable(6),R.morphNormals&&o.enable(7),R.morphColors&&o.enable(8),R.premultipliedAlpha&&o.enable(9),R.shadowMapEnabled&&o.enable(10),R.doubleSided&&o.enable(11),R.flipSided&&o.enable(12),R.useDepthPacking&&o.enable(13),R.dithering&&o.enable(14),R.transmission&&o.enable(15),R.sheen&&o.enable(16),R.opaque&&o.enable(17),R.pointsUvs&&o.enable(18),R.decodeVideoTexture&&o.enable(19),R.decodeVideoTextureEmissive&&o.enable(20),R.alphaToCoverage&&o.enable(21),E.push(o.mask)}function S(E){const R=g[E.type];let A;if(R){const F=wo[R];A=Kee.clone(F.uniforms)}else A=E.uniforms;return A}function N(E,R){let A;for(let F=0,j=u.length;F<j;F++){const V=u[F];if(V.cacheKey===R){A=V,++A.usedTimes;break}}return A===void 0&&(A=new Sae(t,R,E,a),u.push(A)),A}function P(E){if(--E.usedTimes===0){const R=u.indexOf(E);u[R]=u[u.length-1],u.pop(),E.destroy()}}function T(E){l.remove(E)}function L(){l.dispose()}return{getParameters:v,getProgramCacheKey:m,getUniforms:S,acquireProgram:N,releaseProgram:P,releaseShaderCache:T,programs:u,dispose:L}}function Nae(){let t=new WeakMap;function e(s){return t.has(s)}function n(s){let o=t.get(s);return o===void 0&&(o={},t.set(s,o)),o}function r(s){t.delete(s)}function i(s,o,l){t.get(s)[o]=l}function a(){t=new WeakMap}return{has:e,get:n,remove:r,update:i,dispose:a}}function kae(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function lN(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function cN(){const t=[];let e=0;const n=[],r=[],i=[];function a(){e=0,n.length=0,r.length=0,i.length=0}function s(f,d,h,g,x,v){let m=t[e];return m===void 0?(m={id:f.id,object:f,geometry:d,material:h,groupOrder:g,renderOrder:f.renderOrder,z:x,group:v},t[e]=m):(m.id=f.id,m.object=f,m.geometry=d,m.material=h,m.groupOrder=g,m.renderOrder=f.renderOrder,m.z=x,m.group=v),e++,m}function o(f,d,h,g,x,v){const m=s(f,d,h,g,x,v);h.transmission>0?r.push(m):h.transparent===!0?i.push(m):n.push(m)}function l(f,d,h,g,x,v){const m=s(f,d,h,g,x,v);h.transmission>0?r.unshift(m):h.transparent===!0?i.unshift(m):n.unshift(m)}function c(f,d){n.length>1&&n.sort(f||kae),r.length>1&&r.sort(d||lN),i.length>1&&i.sort(d||lN)}function u(){for(let f=e,d=t.length;f<d;f++){const h=t[f];if(h.id===null)break;h.id=null,h.object=null,h.geometry=null,h.material=null,h.group=null}}return{opaque:n,transmissive:r,transparent:i,init:a,push:o,unshift:l,finish:u,sort:c}}function Cae(){let t=new WeakMap;function e(r,i){const a=t.get(r);let s;return a===void 0?(s=new cN,t.set(r,[s])):i>=a.length?(s=new cN,a.push(s)):s=a[i],s}function n(){t=new WeakMap}return{get:e,dispose:n}}function Rae(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new Xe,color:new pn};break;case"SpotLight":n={position:new Xe,direction:new Xe,color:new pn,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new Xe,color:new pn,distance:0,decay:0};break;case"HemisphereLight":n={direction:new Xe,skyColor:new pn,groundColor:new pn};break;case"RectAreaLight":n={color:new pn,position:new Xe,halfWidth:new Xe,halfHeight:new Xe};break}return t[e.id]=n,n}}}function Pae(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ln};break;case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ln};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ln,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let Lae=0;function Fae(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function Dae(t){const e=new Rae,n=Pae(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)r.probe.push(new Xe);const i=new Xe,a=new Mr,s=new Mr;function o(c){let u=0,f=0,d=0;for(let E=0;E<9;E++)r.probe[E].set(0,0,0);let h=0,g=0,x=0,v=0,m=0,b=0,_=0,S=0,N=0,P=0,T=0;c.sort(Fae);for(let E=0,R=c.length;E<R;E++){const A=c[E],F=A.color,j=A.intensity,V=A.distance,X=A.shadow&&A.shadow.map?A.shadow.map.texture:null;if(A.isAmbientLight)u+=F.r*j,f+=F.g*j,d+=F.b*j;else if(A.isLightProbe){for(let ee=0;ee<9;ee++)r.probe[ee].addScaledVector(A.sh.coefficients[ee],j);T++}else if(A.isDirectionalLight){const ee=e.get(A);if(ee.color.copy(A.color).multiplyScalar(A.intensity),A.castShadow){const se=A.shadow,B=n.get(A);B.shadowIntensity=se.intensity,B.shadowBias=se.bias,B.shadowNormalBias=se.normalBias,B.shadowRadius=se.radius,B.shadowMapSize=se.mapSize,r.directionalShadow[h]=B,r.directionalShadowMap[h]=X,r.directionalShadowMatrix[h]=A.shadow.matrix,b++}r.directional[h]=ee,h++}else if(A.isSpotLight){const ee=e.get(A);ee.position.setFromMatrixPosition(A.matrixWorld),ee.color.copy(F).multiplyScalar(j),ee.distance=V,ee.coneCos=Math.cos(A.angle),ee.penumbraCos=Math.cos(A.angle*(1-A.penumbra)),ee.decay=A.decay,r.spot[x]=ee;const se=A.shadow;if(A.map&&(r.spotLightMap[N]=A.map,N++,se.updateMatrices(A),A.castShadow&&P++),r.spotLightMatrix[x]=se.matrix,A.castShadow){const B=n.get(A);B.shadowIntensity=se.intensity,B.shadowBias=se.bias,B.shadowNormalBias=se.normalBias,B.shadowRadius=se.radius,B.shadowMapSize=se.mapSize,r.spotShadow[x]=B,r.spotShadowMap[x]=X,S++}x++}else if(A.isRectAreaLight){const ee=e.get(A);ee.color.copy(F).multiplyScalar(j),ee.halfWidth.set(A.width*.5,0,0),ee.halfHeight.set(0,A.height*.5,0),r.rectArea[v]=ee,v++}else if(A.isPointLight){const ee=e.get(A);if(ee.color.copy(A.color).multiplyScalar(A.intensity),ee.distance=A.distance,ee.decay=A.decay,A.castShadow){const se=A.shadow,B=n.get(A);B.shadowIntensity=se.intensity,B.shadowBias=se.bias,B.shadowNormalBias=se.normalBias,B.shadowRadius=se.radius,B.shadowMapSize=se.mapSize,B.shadowCameraNear=se.camera.near,B.shadowCameraFar=se.camera.far,r.pointShadow[g]=B,r.pointShadowMap[g]=X,r.pointShadowMatrix[g]=A.shadow.matrix,_++}r.point[g]=ee,g++}else if(A.isHemisphereLight){const ee=e.get(A);ee.skyColor.copy(A.color).multiplyScalar(j),ee.groundColor.copy(A.groundColor).multiplyScalar(j),r.hemi[m]=ee,m++}}v>0&&(t.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=kt.LTC_FLOAT_1,r.rectAreaLTC2=kt.LTC_FLOAT_2):(r.rectAreaLTC1=kt.LTC_HALF_1,r.rectAreaLTC2=kt.LTC_HALF_2)),r.ambient[0]=u,r.ambient[1]=f,r.ambient[2]=d;const L=r.hash;(L.directionalLength!==h||L.pointLength!==g||L.spotLength!==x||L.rectAreaLength!==v||L.hemiLength!==m||L.numDirectionalShadows!==b||L.numPointShadows!==_||L.numSpotShadows!==S||L.numSpotMaps!==N||L.numLightProbes!==T)&&(r.directional.length=h,r.spot.length=x,r.rectArea.length=v,r.point.length=g,r.hemi.length=m,r.directionalShadow.length=b,r.directionalShadowMap.length=b,r.pointShadow.length=_,r.pointShadowMap.length=_,r.spotShadow.length=S,r.spotShadowMap.length=S,r.directionalShadowMatrix.length=b,r.pointShadowMatrix.length=_,r.spotLightMatrix.length=S+N-P,r.spotLightMap.length=N,r.numSpotLightShadowsWithMaps=P,r.numLightProbes=T,L.directionalLength=h,L.pointLength=g,L.spotLength=x,L.rectAreaLength=v,L.hemiLength=m,L.numDirectionalShadows=b,L.numPointShadows=_,L.numSpotShadows=S,L.numSpotMaps=N,L.numLightProbes=T,r.version=Lae++)}function l(c,u){let f=0,d=0,h=0,g=0,x=0;const v=u.matrixWorldInverse;for(let m=0,b=c.length;m<b;m++){const _=c[m];if(_.isDirectionalLight){const S=r.directional[f];S.direction.setFromMatrixPosition(_.matrixWorld),i.setFromMatrixPosition(_.target.matrixWorld),S.direction.sub(i),S.direction.transformDirection(v),f++}else if(_.isSpotLight){const S=r.spot[h];S.position.setFromMatrixPosition(_.matrixWorld),S.position.applyMatrix4(v),S.direction.setFromMatrixPosition(_.matrixWorld),i.setFromMatrixPosition(_.target.matrixWorld),S.direction.sub(i),S.direction.transformDirection(v),h++}else if(_.isRectAreaLight){const S=r.rectArea[g];S.position.setFromMatrixPosition(_.matrixWorld),S.position.applyMatrix4(v),s.identity(),a.copy(_.matrixWorld),a.premultiply(v),s.extractRotation(a),S.halfWidth.set(_.width*.5,0,0),S.halfHeight.set(0,_.height*.5,0),S.halfWidth.applyMatrix4(s),S.halfHeight.applyMatrix4(s),g++}else if(_.isPointLight){const S=r.point[d];S.position.setFromMatrixPosition(_.matrixWorld),S.position.applyMatrix4(v),d++}else if(_.isHemisphereLight){const S=r.hemi[x];S.direction.setFromMatrixPosition(_.matrixWorld),S.direction.transformDirection(v),x++}}}return{setup:o,setupView:l,state:r}}function uN(t){const e=new Dae(t),n=[],r=[];function i(u){c.camera=u,n.length=0,r.length=0}function a(u){n.push(u)}function s(u){r.push(u)}function o(){e.setup(n)}function l(u){e.setupView(n,u)}const c={lightsArray:n,shadowsArray:r,camera:null,lights:e,transmissionRenderTarget:{}};return{init:i,state:c,setupLights:o,setupLightsView:l,pushLight:a,pushShadow:s}}function Iae(t){let e=new WeakMap;function n(i,a=0){const s=e.get(i);let o;return s===void 0?(o=new uN(t),e.set(i,[o])):a>=s.length?(o=new uN(t),s.push(o)):o=s[a],o}function r(){e=new WeakMap}return{get:n,dispose:r}}const Oae=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,Uae=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function Bae(t,e,n){let r=new o3;const i=new Ln,a=new Ln,s=new Ar,o=new ote({depthPacking:_ee}),l=new lte,c={},u=n.maxTextureSize,f={[Hc]:La,[La]:Hc,[Eo]:Eo},d=new Vc({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Ln},radius:{value:4}},vertexShader:Oae,fragmentShader:Uae}),h=d.clone();h.defines.HORIZONTAL_PASS=1;const g=new ro;g.setAttribute("position",new Po(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const x=new es(g,d),v=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=x8;let m=this.type;this.render=function(P,T,L){if(v.enabled===!1||v.autoUpdate===!1&&v.needsUpdate===!1||P.length===0)return;const E=t.getRenderTarget(),R=t.getActiveCubeFace(),A=t.getActiveMipmapLevel(),F=t.state;F.setBlending(Lc),F.buffers.depth.getReversed()?F.buffers.color.setClear(0,0,0,0):F.buffers.color.setClear(1,1,1,1),F.buffers.depth.setTest(!0),F.setScissorTest(!1);const j=m!==ol&&this.type===ol,V=m===ol&&this.type!==ol;for(let X=0,ee=P.length;X<ee;X++){const se=P[X],B=se.shadow;if(B===void 0){console.warn("THREE.WebGLShadowMap:",se,"has no shadow.");continue}if(B.autoUpdate===!1&&B.needsUpdate===!1)continue;i.copy(B.mapSize);const H=B.getFrameExtents();if(i.multiply(H),a.copy(B.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(a.x=Math.floor(u/H.x),i.x=a.x*H.x,B.mapSize.x=a.x),i.y>u&&(a.y=Math.floor(u/H.y),i.y=a.y*H.y,B.mapSize.y=a.y)),B.map===null||j===!0||V===!0){const Se=this.type!==ol?{minFilter:Zs,magFilter:Zs}:{};B.map!==null&&B.map.dispose(),B.map=new sf(i.x,i.y,Se),B.map.texture.name=se.name+".shadowMap",B.camera.updateProjectionMatrix()}t.setRenderTarget(B.map),t.clear();const xe=B.getViewportCount();for(let Se=0;Se<xe;Se++){const k=B.getViewport(Se);s.set(a.x*k.x,a.y*k.y,a.x*k.z,a.y*k.w),F.viewport(s),B.updateMatrices(se,Se),r=B.getFrustum(),S(T,L,B.camera,se,this.type)}B.isPointLightShadow!==!0&&this.type===ol&&b(B,L),B.needsUpdate=!1}m=this.type,v.needsUpdate=!1,t.setRenderTarget(E,R,A)};function b(P,T){const L=e.update(x);d.defines.VSM_SAMPLES!==P.blurSamples&&(d.defines.VSM_SAMPLES=P.blurSamples,h.defines.VSM_SAMPLES=P.blurSamples,d.needsUpdate=!0,h.needsUpdate=!0),P.mapPass===null&&(P.mapPass=new sf(i.x,i.y)),d.uniforms.shadow_pass.value=P.map.texture,d.uniforms.resolution.value=P.mapSize,d.uniforms.radius.value=P.radius,t.setRenderTarget(P.mapPass),t.clear(),t.renderBufferDirect(T,null,L,d,x,null),h.uniforms.shadow_pass.value=P.mapPass.texture,h.uniforms.resolution.value=P.mapSize,h.uniforms.radius.value=P.radius,t.setRenderTarget(P.map),t.clear(),t.renderBufferDirect(T,null,L,h,x,null)}function _(P,T,L,E){let R=null;const A=L.isPointLight===!0?P.customDistanceMaterial:P.customDepthMaterial;if(A!==void 0)R=A;else if(R=L.isPointLight===!0?l:o,t.localClippingEnabled&&T.clipShadows===!0&&Array.isArray(T.clippingPlanes)&&T.clippingPlanes.length!==0||T.displacementMap&&T.displacementScale!==0||T.alphaMap&&T.alphaTest>0||T.map&&T.alphaTest>0||T.alphaToCoverage===!0){const F=R.uuid,j=T.uuid;let V=c[F];V===void 0&&(V={},c[F]=V);let X=V[j];X===void 0&&(X=R.clone(),V[j]=X,T.addEventListener("dispose",N)),R=X}if(R.visible=T.visible,R.wireframe=T.wireframe,E===ol?R.side=T.shadowSide!==null?T.shadowSide:T.side:R.side=T.shadowSide!==null?T.shadowSide:f[T.side],R.alphaMap=T.alphaMap,R.alphaTest=T.alphaToCoverage===!0?.5:T.alphaTest,R.map=T.map,R.clipShadows=T.clipShadows,R.clippingPlanes=T.clippingPlanes,R.clipIntersection=T.clipIntersection,R.displacementMap=T.displacementMap,R.displacementScale=T.displacementScale,R.displacementBias=T.displacementBias,R.wireframeLinewidth=T.wireframeLinewidth,R.linewidth=T.linewidth,L.isPointLight===!0&&R.isMeshDistanceMaterial===!0){const F=t.properties.get(R);F.light=L}return R}function S(P,T,L,E,R){if(P.visible===!1)return;if(P.layers.test(T.layers)&&(P.isMesh||P.isLine||P.isPoints)&&(P.castShadow||P.receiveShadow&&R===ol)&&(!P.frustumCulled||r.intersectsObject(P))){P.modelViewMatrix.multiplyMatrices(L.matrixWorldInverse,P.matrixWorld);const j=e.update(P),V=P.material;if(Array.isArray(V)){const X=j.groups;for(let ee=0,se=X.length;ee<se;ee++){const B=X[ee],H=V[B.materialIndex];if(H&&H.visible){const xe=_(P,H,E,R);P.onBeforeShadow(t,P,T,L,j,xe,B),t.renderBufferDirect(L,null,j,xe,P,B),P.onAfterShadow(t,P,T,L,j,xe,B)}}}else if(V.visible){const X=_(P,V,E,R);P.onBeforeShadow(t,P,T,L,j,X,null),t.renderBufferDirect(L,null,j,X,P,null),P.onAfterShadow(t,P,T,L,j,X,null)}}const F=P.children;for(let j=0,V=F.length;j<V;j++)S(F[j],T,L,E,R)}function N(P){P.target.removeEventListener("dispose",N);for(const L in c){const E=c[L],R=P.target.uuid;R in E&&(E[R].dispose(),delete E[R])}}}const jae={[nw]:rw,[iw]:ow,[aw]:lw,[Zh]:sw,[rw]:nw,[ow]:iw,[lw]:aw,[sw]:Zh};function zae(t,e){function n(){let Ae=!1;const ht=new Ar;let gt=null;const wt=new Ar(0,0,0,0);return{setMask:function($e){gt!==$e&&!Ae&&(t.colorMask($e,$e,$e,$e),gt=$e)},setLocked:function($e){Ae=$e},setClear:function($e,Ye,Ct,It,mn){mn===!0&&($e*=It,Ye*=It,Ct*=It),ht.set($e,Ye,Ct,It),wt.equals(ht)===!1&&(t.clearColor($e,Ye,Ct,It),wt.copy(ht))},reset:function(){Ae=!1,gt=null,wt.set(-1,0,0,0)}}}function r(){let Ae=!1,ht=!1,gt=null,wt=null,$e=null;return{setReversed:function(Ye){if(ht!==Ye){const Ct=e.get("EXT_clip_control");Ye?Ct.clipControlEXT(Ct.LOWER_LEFT_EXT,Ct.ZERO_TO_ONE_EXT):Ct.clipControlEXT(Ct.LOWER_LEFT_EXT,Ct.NEGATIVE_ONE_TO_ONE_EXT),ht=Ye;const It=$e;$e=null,this.setClear(It)}},getReversed:function(){return ht},setTest:function(Ye){Ye?re(t.DEPTH_TEST):_e(t.DEPTH_TEST)},setMask:function(Ye){gt!==Ye&&!Ae&&(t.depthMask(Ye),gt=Ye)},setFunc:function(Ye){if(ht&&(Ye=jae[Ye]),wt!==Ye){switch(Ye){case nw:t.depthFunc(t.NEVER);break;case rw:t.depthFunc(t.ALWAYS);break;case iw:t.depthFunc(t.LESS);break;case Zh:t.depthFunc(t.LEQUAL);break;case aw:t.depthFunc(t.EQUAL);break;case sw:t.depthFunc(t.GEQUAL);break;case ow:t.depthFunc(t.GREATER);break;case lw:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}wt=Ye}},setLocked:function(Ye){Ae=Ye},setClear:function(Ye){$e!==Ye&&(ht&&(Ye=1-Ye),t.clearDepth(Ye),$e=Ye)},reset:function(){Ae=!1,gt=null,wt=null,$e=null,ht=!1}}}function i(){let Ae=!1,ht=null,gt=null,wt=null,$e=null,Ye=null,Ct=null,It=null,mn=null;return{setTest:function(nn){Ae||(nn?re(t.STENCIL_TEST):_e(t.STENCIL_TEST))},setMask:function(nn){ht!==nn&&!Ae&&(t.stencilMask(nn),ht=nn)},setFunc:function(nn,Ot,yr){(gt!==nn||wt!==Ot||$e!==yr)&&(t.stencilFunc(nn,Ot,yr),gt=nn,wt=Ot,$e=yr)},setOp:function(nn,Ot,yr){(Ye!==nn||Ct!==Ot||It!==yr)&&(t.stencilOp(nn,Ot,yr),Ye=nn,Ct=Ot,It=yr)},setLocked:function(nn){Ae=nn},setClear:function(nn){mn!==nn&&(t.clearStencil(nn),mn=nn)},reset:function(){Ae=!1,ht=null,gt=null,wt=null,$e=null,Ye=null,Ct=null,It=null,mn=null}}}const a=new n,s=new r,o=new i,l=new WeakMap,c=new WeakMap;let u={},f={},d=new WeakMap,h=[],g=null,x=!1,v=null,m=null,b=null,_=null,S=null,N=null,P=null,T=new pn(0,0,0),L=0,E=!1,R=null,A=null,F=null,j=null,V=null;const X=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let ee=!1,se=0;const B=t.getParameter(t.VERSION);B.indexOf("WebGL")!==-1?(se=parseFloat(/^WebGL (\d)/.exec(B)[1]),ee=se>=1):B.indexOf("OpenGL ES")!==-1&&(se=parseFloat(/^OpenGL ES (\d)/.exec(B)[1]),ee=se>=2);let H=null,xe={};const Se=t.getParameter(t.SCISSOR_BOX),k=t.getParameter(t.VIEWPORT),U=new Ar().fromArray(Se),O=new Ar().fromArray(k);function I(Ae,ht,gt,wt){const $e=new Uint8Array(4),Ye=t.createTexture();t.bindTexture(Ae,Ye),t.texParameteri(Ae,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(Ae,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let Ct=0;Ct<gt;Ct++)Ae===t.TEXTURE_3D||Ae===t.TEXTURE_2D_ARRAY?t.texImage3D(ht,0,t.RGBA,1,1,wt,0,t.RGBA,t.UNSIGNED_BYTE,$e):t.texImage2D(ht+Ct,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,$e);return Ye}const K={};K[t.TEXTURE_2D]=I(t.TEXTURE_2D,t.TEXTURE_2D,1),K[t.TEXTURE_CUBE_MAP]=I(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),K[t.TEXTURE_2D_ARRAY]=I(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),K[t.TEXTURE_3D]=I(t.TEXTURE_3D,t.TEXTURE_3D,1,1),a.setClear(0,0,0,1),s.setClear(1),o.setClear(0),re(t.DEPTH_TEST),s.setFunc(Zh),qe(!1),Ce(uM),re(t.CULL_FACE),Ee(Lc);function re(Ae){u[Ae]!==!0&&(t.enable(Ae),u[Ae]=!0)}function _e(Ae){u[Ae]!==!1&&(t.disable(Ae),u[Ae]=!1)}function ue(Ae,ht){return f[Ae]!==ht?(t.bindFramebuffer(Ae,ht),f[Ae]=ht,Ae===t.DRAW_FRAMEBUFFER&&(f[t.FRAMEBUFFER]=ht),Ae===t.FRAMEBUFFER&&(f[t.DRAW_FRAMEBUFFER]=ht),!0):!1}function be(Ae,ht){let gt=h,wt=!1;if(Ae){gt=d.get(ht),gt===void 0&&(gt=[],d.set(ht,gt));const $e=Ae.textures;if(gt.length!==$e.length||gt[0]!==t.COLOR_ATTACHMENT0){for(let Ye=0,Ct=$e.length;Ye<Ct;Ye++)gt[Ye]=t.COLOR_ATTACHMENT0+Ye;gt.length=$e.length,wt=!0}}else gt[0]!==t.BACK&&(gt[0]=t.BACK,wt=!0);wt&&t.drawBuffers(gt)}function ve(Ae){return g!==Ae?(t.useProgram(Ae),g=Ae,!0):!1}const q={[Tu]:t.FUNC_ADD,[qQ]:t.FUNC_SUBTRACT,[XQ]:t.FUNC_REVERSE_SUBTRACT};q[$Q]=t.MIN,q[YQ]=t.MAX;const te={[KQ]:t.ZERO,[JQ]:t.ONE,[ZQ]:t.SRC_COLOR,[ew]:t.SRC_ALPHA,[iee]:t.SRC_ALPHA_SATURATE,[nee]:t.DST_COLOR,[eee]:t.DST_ALPHA,[QQ]:t.ONE_MINUS_SRC_COLOR,[tw]:t.ONE_MINUS_SRC_ALPHA,[ree]:t.ONE_MINUS_DST_COLOR,[tee]:t.ONE_MINUS_DST_ALPHA,[aee]:t.CONSTANT_COLOR,[see]:t.ONE_MINUS_CONSTANT_COLOR,[oee]:t.CONSTANT_ALPHA,[lee]:t.ONE_MINUS_CONSTANT_ALPHA};function Ee(Ae,ht,gt,wt,$e,Ye,Ct,It,mn,nn){if(Ae===Lc){x===!0&&(_e(t.BLEND),x=!1);return}if(x===!1&&(re(t.BLEND),x=!0),Ae!==GQ){if(Ae!==v||nn!==E){if((m!==Tu||S!==Tu)&&(t.blendEquation(t.FUNC_ADD),m=Tu,S=Tu),nn)switch(Ae){case Rh:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case fM:t.blendFunc(t.ONE,t.ONE);break;case hM:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case dM:t.blendFuncSeparate(t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ZERO,t.ONE);break;default:console.error("THREE.WebGLState: Invalid blending: ",Ae);break}else switch(Ae){case Rh:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case fM:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE,t.ONE,t.ONE);break;case hM:console.error("THREE.WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case dM:console.error("THREE.WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:console.error("THREE.WebGLState: Invalid blending: ",Ae);break}b=null,_=null,N=null,P=null,T.set(0,0,0),L=0,v=Ae,E=nn}return}$e=$e||ht,Ye=Ye||gt,Ct=Ct||wt,(ht!==m||$e!==S)&&(t.blendEquationSeparate(q[ht],q[$e]),m=ht,S=$e),(gt!==b||wt!==_||Ye!==N||Ct!==P)&&(t.blendFuncSeparate(te[gt],te[wt],te[Ye],te[Ct]),b=gt,_=wt,N=Ye,P=Ct),(It.equals(T)===!1||mn!==L)&&(t.blendColor(It.r,It.g,It.b,mn),T.copy(It),L=mn),v=Ae,E=!1}function Z(Ae,ht){Ae.side===Eo?_e(t.CULL_FACE):re(t.CULL_FACE);let gt=Ae.side===La;ht&&(gt=!gt),qe(gt),Ae.blending===Rh&&Ae.transparent===!1?Ee(Lc):Ee(Ae.blending,Ae.blendEquation,Ae.blendSrc,Ae.blendDst,Ae.blendEquationAlpha,Ae.blendSrcAlpha,Ae.blendDstAlpha,Ae.blendColor,Ae.blendAlpha,Ae.premultipliedAlpha),s.setFunc(Ae.depthFunc),s.setTest(Ae.depthTest),s.setMask(Ae.depthWrite),a.setMask(Ae.colorWrite);const wt=Ae.stencilWrite;o.setTest(wt),wt&&(o.setMask(Ae.stencilWriteMask),o.setFunc(Ae.stencilFunc,Ae.stencilRef,Ae.stencilFuncMask),o.setOp(Ae.stencilFail,Ae.stencilZFail,Ae.stencilZPass)),Pe(Ae.polygonOffset,Ae.polygonOffsetFactor,Ae.polygonOffsetUnits),Ae.alphaToCoverage===!0?re(t.SAMPLE_ALPHA_TO_COVERAGE):_e(t.SAMPLE_ALPHA_TO_COVERAGE)}function qe(Ae){R!==Ae&&(Ae?t.frontFace(t.CW):t.frontFace(t.CCW),R=Ae)}function Ce(Ae){Ae!==HQ?(re(t.CULL_FACE),Ae!==A&&(Ae===uM?t.cullFace(t.BACK):Ae===VQ?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):_e(t.CULL_FACE),A=Ae}function rt(Ae){Ae!==F&&(ee&&t.lineWidth(Ae),F=Ae)}function Pe(Ae,ht,gt){Ae?(re(t.POLYGON_OFFSET_FILL),(j!==ht||V!==gt)&&(t.polygonOffset(ht,gt),j=ht,V=gt)):_e(t.POLYGON_OFFSET_FILL)}function nt(Ae){Ae?re(t.SCISSOR_TEST):_e(t.SCISSOR_TEST)}function ft(Ae){Ae===void 0&&(Ae=t.TEXTURE0+X-1),H!==Ae&&(t.activeTexture(Ae),H=Ae)}function Tt(Ae,ht,gt){gt===void 0&&(H===null?gt=t.TEXTURE0+X-1:gt=H);let wt=xe[gt];wt===void 0&&(wt={type:void 0,texture:void 0},xe[gt]=wt),(wt.type!==Ae||wt.texture!==ht)&&(H!==gt&&(t.activeTexture(gt),H=gt),t.bindTexture(Ae,ht||K[Ae]),wt.type=Ae,wt.texture=ht)}function ae(){const Ae=xe[H];Ae!==void 0&&Ae.type!==void 0&&(t.bindTexture(Ae.type,null),Ae.type=void 0,Ae.texture=void 0)}function Y(){try{t.compressedTexImage2D(...arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function ke(){try{t.compressedTexImage3D(...arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function Oe(){try{t.texSubImage2D(...arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function it(){try{t.texSubImage3D(...arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function Fe(){try{t.compressedTexSubImage2D(...arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function lt(){try{t.compressedTexSubImage3D(...arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function Ue(){try{t.texStorage2D(...arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function tt(){try{t.texStorage3D(...arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function yt(){try{t.texImage2D(...arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function Ke(){try{t.texImage3D(...arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function Ze(Ae){U.equals(Ae)===!1&&(t.scissor(Ae.x,Ae.y,Ae.z,Ae.w),U.copy(Ae))}function bt(Ae){O.equals(Ae)===!1&&(t.viewport(Ae.x,Ae.y,Ae.z,Ae.w),O.copy(Ae))}function At(Ae,ht){let gt=c.get(ht);gt===void 0&&(gt=new WeakMap,c.set(ht,gt));let wt=gt.get(Ae);wt===void 0&&(wt=t.getUniformBlockIndex(ht,Ae.name),gt.set(Ae,wt))}function st(Ae,ht){const wt=c.get(ht).get(Ae);l.get(ht)!==wt&&(t.uniformBlockBinding(ht,wt,Ae.__bindingPointIndex),l.set(ht,wt))}function Mt(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),s.setReversed(!1),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),u={},H=null,xe={},f={},d=new WeakMap,h=[],g=null,x=!1,v=null,m=null,b=null,_=null,S=null,N=null,P=null,T=new pn(0,0,0),L=0,E=!1,R=null,A=null,F=null,j=null,V=null,U.set(0,0,t.canvas.width,t.canvas.height),O.set(0,0,t.canvas.width,t.canvas.height),a.reset(),s.reset(),o.reset()}return{buffers:{color:a,depth:s,stencil:o},enable:re,disable:_e,bindFramebuffer:ue,drawBuffers:be,useProgram:ve,setBlending:Ee,setMaterial:Z,setFlipSided:qe,setCullFace:Ce,setLineWidth:rt,setPolygonOffset:Pe,setScissorTest:nt,activeTexture:ft,bindTexture:Tt,unbindTexture:ae,compressedTexImage2D:Y,compressedTexImage3D:ke,texImage2D:yt,texImage3D:Ke,updateUBOMapping:At,uniformBlockBinding:st,texStorage2D:Ue,texStorage3D:tt,texSubImage2D:Oe,texSubImage3D:it,compressedTexSubImage2D:Fe,compressedTexSubImage3D:lt,scissor:Ze,viewport:bt,reset:Mt}}function Hae(t,e,n,r,i,a,s){const o=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),c=new Ln,u=new WeakMap;let f;const d=new WeakMap;let h=!1;try{h=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function g(ae,Y){return h?new OffscreenCanvas(ae,Y):Px("canvas")}function x(ae,Y,ke){let Oe=1;const it=Tt(ae);if((it.width>ke||it.height>ke)&&(Oe=ke/Math.max(it.width,it.height)),Oe<1)if(typeof HTMLImageElement<"u"&&ae instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&ae instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&ae instanceof ImageBitmap||typeof VideoFrame<"u"&&ae instanceof VideoFrame){const Fe=Math.floor(Oe*it.width),lt=Math.floor(Oe*it.height);f===void 0&&(f=g(Fe,lt));const Ue=Y?g(Fe,lt):f;return Ue.width=Fe,Ue.height=lt,Ue.getContext("2d").drawImage(ae,0,0,Fe,lt),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+it.width+"x"+it.height+") to ("+Fe+"x"+lt+")."),Ue}else return"data"in ae&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+it.width+"x"+it.height+")."),ae;return ae}function v(ae){return ae.generateMipmaps}function m(ae){t.generateMipmap(ae)}function b(ae){return ae.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:ae.isWebGL3DRenderTarget?t.TEXTURE_3D:ae.isWebGLArrayRenderTarget||ae.isCompressedArrayTexture?t.TEXTURE_2D_ARRAY:t.TEXTURE_2D}function _(ae,Y,ke,Oe,it=!1){if(ae!==null){if(t[ae]!==void 0)return t[ae];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+ae+"'")}let Fe=Y;if(Y===t.RED&&(ke===t.FLOAT&&(Fe=t.R32F),ke===t.HALF_FLOAT&&(Fe=t.R16F),ke===t.UNSIGNED_BYTE&&(Fe=t.R8)),Y===t.RED_INTEGER&&(ke===t.UNSIGNED_BYTE&&(Fe=t.R8UI),ke===t.UNSIGNED_SHORT&&(Fe=t.R16UI),ke===t.UNSIGNED_INT&&(Fe=t.R32UI),ke===t.BYTE&&(Fe=t.R8I),ke===t.SHORT&&(Fe=t.R16I),ke===t.INT&&(Fe=t.R32I)),Y===t.RG&&(ke===t.FLOAT&&(Fe=t.RG32F),ke===t.HALF_FLOAT&&(Fe=t.RG16F),ke===t.UNSIGNED_BYTE&&(Fe=t.RG8)),Y===t.RG_INTEGER&&(ke===t.UNSIGNED_BYTE&&(Fe=t.RG8UI),ke===t.UNSIGNED_SHORT&&(Fe=t.RG16UI),ke===t.UNSIGNED_INT&&(Fe=t.RG32UI),ke===t.BYTE&&(Fe=t.RG8I),ke===t.SHORT&&(Fe=t.RG16I),ke===t.INT&&(Fe=t.RG32I)),Y===t.RGB_INTEGER&&(ke===t.UNSIGNED_BYTE&&(Fe=t.RGB8UI),ke===t.UNSIGNED_SHORT&&(Fe=t.RGB16UI),ke===t.UNSIGNED_INT&&(Fe=t.RGB32UI),ke===t.BYTE&&(Fe=t.RGB8I),ke===t.SHORT&&(Fe=t.RGB16I),ke===t.INT&&(Fe=t.RGB32I)),Y===t.RGBA_INTEGER&&(ke===t.UNSIGNED_BYTE&&(Fe=t.RGBA8UI),ke===t.UNSIGNED_SHORT&&(Fe=t.RGBA16UI),ke===t.UNSIGNED_INT&&(Fe=t.RGBA32UI),ke===t.BYTE&&(Fe=t.RGBA8I),ke===t.SHORT&&(Fe=t.RGBA16I),ke===t.INT&&(Fe=t.RGBA32I)),Y===t.RGB&&ke===t.UNSIGNED_INT_5_9_9_9_REV&&(Fe=t.RGB9_E5),Y===t.RGBA){const lt=it?Cx:Cn.getTransfer(Oe);ke===t.FLOAT&&(Fe=t.RGBA32F),ke===t.HALF_FLOAT&&(Fe=t.RGBA16F),ke===t.UNSIGNED_BYTE&&(Fe=lt===Vn?t.SRGB8_ALPHA8:t.RGBA8),ke===t.UNSIGNED_SHORT_4_4_4_4&&(Fe=t.RGBA4),ke===t.UNSIGNED_SHORT_5_5_5_1&&(Fe=t.RGB5_A1)}return(Fe===t.R16F||Fe===t.R32F||Fe===t.RG16F||Fe===t.RG32F||Fe===t.RGBA16F||Fe===t.RGBA32F)&&e.get("EXT_color_buffer_float"),Fe}function S(ae,Y){let ke;return ae?Y===null||Y===af||Y===Up?ke=t.DEPTH24_STENCIL8:Y===yl?ke=t.DEPTH32F_STENCIL8:Y===Op&&(ke=t.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):Y===null||Y===af||Y===Up?ke=t.DEPTH_COMPONENT24:Y===yl?ke=t.DEPTH_COMPONENT32F:Y===Op&&(ke=t.DEPTH_COMPONENT16),ke}function N(ae,Y){return v(ae)===!0||ae.isFramebufferTexture&&ae.minFilter!==Zs&&ae.minFilter!==To?Math.log2(Math.max(Y.width,Y.height))+1:ae.mipmaps!==void 0&&ae.mipmaps.length>0?ae.mipmaps.length:ae.isCompressedTexture&&Array.isArray(ae.image)?Y.mipmaps.length:1}function P(ae){const Y=ae.target;Y.removeEventListener("dispose",P),L(Y),Y.isVideoTexture&&u.delete(Y)}function T(ae){const Y=ae.target;Y.removeEventListener("dispose",T),R(Y)}function L(ae){const Y=r.get(ae);if(Y.__webglInit===void 0)return;const ke=ae.source,Oe=d.get(ke);if(Oe){const it=Oe[Y.__cacheKey];it.usedTimes--,it.usedTimes===0&&E(ae),Object.keys(Oe).length===0&&d.delete(ke)}r.remove(ae)}function E(ae){const Y=r.get(ae);t.deleteTexture(Y.__webglTexture);const ke=ae.source,Oe=d.get(ke);delete Oe[Y.__cacheKey],s.memory.textures--}function R(ae){const Y=r.get(ae);if(ae.depthTexture&&(ae.depthTexture.dispose(),r.remove(ae.depthTexture)),ae.isWebGLCubeRenderTarget)for(let Oe=0;Oe<6;Oe++){if(Array.isArray(Y.__webglFramebuffer[Oe]))for(let it=0;it<Y.__webglFramebuffer[Oe].length;it++)t.deleteFramebuffer(Y.__webglFramebuffer[Oe][it]);else t.deleteFramebuffer(Y.__webglFramebuffer[Oe]);Y.__webglDepthbuffer&&t.deleteRenderbuffer(Y.__webglDepthbuffer[Oe])}else{if(Array.isArray(Y.__webglFramebuffer))for(let Oe=0;Oe<Y.__webglFramebuffer.length;Oe++)t.deleteFramebuffer(Y.__webglFramebuffer[Oe]);else t.deleteFramebuffer(Y.__webglFramebuffer);if(Y.__webglDepthbuffer&&t.deleteRenderbuffer(Y.__webglDepthbuffer),Y.__webglMultisampledFramebuffer&&t.deleteFramebuffer(Y.__webglMultisampledFramebuffer),Y.__webglColorRenderbuffer)for(let Oe=0;Oe<Y.__webglColorRenderbuffer.length;Oe++)Y.__webglColorRenderbuffer[Oe]&&t.deleteRenderbuffer(Y.__webglColorRenderbuffer[Oe]);Y.__webglDepthRenderbuffer&&t.deleteRenderbuffer(Y.__webglDepthRenderbuffer)}const ke=ae.textures;for(let Oe=0,it=ke.length;Oe<it;Oe++){const Fe=r.get(ke[Oe]);Fe.__webglTexture&&(t.deleteTexture(Fe.__webglTexture),s.memory.textures--),r.remove(ke[Oe])}r.remove(ae)}let A=0;function F(){A=0}function j(){const ae=A;return ae>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+ae+" texture units while this GPU supports only "+i.maxTextures),A+=1,ae}function V(ae){const Y=[];return Y.push(ae.wrapS),Y.push(ae.wrapT),Y.push(ae.wrapR||0),Y.push(ae.magFilter),Y.push(ae.minFilter),Y.push(ae.anisotropy),Y.push(ae.internalFormat),Y.push(ae.format),Y.push(ae.type),Y.push(ae.generateMipmaps),Y.push(ae.premultiplyAlpha),Y.push(ae.flipY),Y.push(ae.unpackAlignment),Y.push(ae.colorSpace),Y.join()}function X(ae,Y){const ke=r.get(ae);if(ae.isVideoTexture&&nt(ae),ae.isRenderTargetTexture===!1&&ae.isExternalTexture!==!0&&ae.version>0&&ke.__version!==ae.version){const Oe=ae.image;if(Oe===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Oe.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{K(ke,ae,Y);return}}else ae.isExternalTexture&&(ke.__webglTexture=ae.sourceTexture?ae.sourceTexture:null);n.bindTexture(t.TEXTURE_2D,ke.__webglTexture,t.TEXTURE0+Y)}function ee(ae,Y){const ke=r.get(ae);if(ae.isRenderTargetTexture===!1&&ae.version>0&&ke.__version!==ae.version){K(ke,ae,Y);return}n.bindTexture(t.TEXTURE_2D_ARRAY,ke.__webglTexture,t.TEXTURE0+Y)}function se(ae,Y){const ke=r.get(ae);if(ae.isRenderTargetTexture===!1&&ae.version>0&&ke.__version!==ae.version){K(ke,ae,Y);return}n.bindTexture(t.TEXTURE_3D,ke.__webglTexture,t.TEXTURE0+Y)}function B(ae,Y){const ke=r.get(ae);if(ae.version>0&&ke.__version!==ae.version){re(ke,ae,Y);return}n.bindTexture(t.TEXTURE_CUBE_MAP,ke.__webglTexture,t.TEXTURE0+Y)}const H={[fw]:t.REPEAT,[Du]:t.CLAMP_TO_EDGE,[hw]:t.MIRRORED_REPEAT},xe={[Zs]:t.NEAREST,[vee]:t.NEAREST_MIPMAP_NEAREST,[yg]:t.NEAREST_MIPMAP_LINEAR,[To]:t.LINEAR,[fy]:t.LINEAR_MIPMAP_NEAREST,[Iu]:t.LINEAR_MIPMAP_LINEAR},Se={[wee]:t.NEVER,[Nee]:t.ALWAYS,[See]:t.LESS,[N8]:t.LEQUAL,[Eee]:t.EQUAL,[Mee]:t.GEQUAL,[Aee]:t.GREATER,[Tee]:t.NOTEQUAL};function k(ae,Y){if(Y.type===yl&&e.has("OES_texture_float_linear")===!1&&(Y.magFilter===To||Y.magFilter===fy||Y.magFilter===yg||Y.magFilter===Iu||Y.minFilter===To||Y.minFilter===fy||Y.minFilter===yg||Y.minFilter===Iu)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),t.texParameteri(ae,t.TEXTURE_WRAP_S,H[Y.wrapS]),t.texParameteri(ae,t.TEXTURE_WRAP_T,H[Y.wrapT]),(ae===t.TEXTURE_3D||ae===t.TEXTURE_2D_ARRAY)&&t.texParameteri(ae,t.TEXTURE_WRAP_R,H[Y.wrapR]),t.texParameteri(ae,t.TEXTURE_MAG_FILTER,xe[Y.magFilter]),t.texParameteri(ae,t.TEXTURE_MIN_FILTER,xe[Y.minFilter]),Y.compareFunction&&(t.texParameteri(ae,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(ae,t.TEXTURE_COMPARE_FUNC,Se[Y.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(Y.magFilter===Zs||Y.minFilter!==yg&&Y.minFilter!==Iu||Y.type===yl&&e.has("OES_texture_float_linear")===!1)return;if(Y.anisotropy>1||r.get(Y).__currentAnisotropy){const ke=e.get("EXT_texture_filter_anisotropic");t.texParameterf(ae,ke.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(Y.anisotropy,i.getMaxAnisotropy())),r.get(Y).__currentAnisotropy=Y.anisotropy}}}function U(ae,Y){let ke=!1;ae.__webglInit===void 0&&(ae.__webglInit=!0,Y.addEventListener("dispose",P));const Oe=Y.source;let it=d.get(Oe);it===void 0&&(it={},d.set(Oe,it));const Fe=V(Y);if(Fe!==ae.__cacheKey){it[Fe]===void 0&&(it[Fe]={texture:t.createTexture(),usedTimes:0},s.memory.textures++,ke=!0),it[Fe].usedTimes++;const lt=it[ae.__cacheKey];lt!==void 0&&(it[ae.__cacheKey].usedTimes--,lt.usedTimes===0&&E(Y)),ae.__cacheKey=Fe,ae.__webglTexture=it[Fe].texture}return ke}function O(ae,Y,ke){return Math.floor(Math.floor(ae/ke)/Y)}function I(ae,Y,ke,Oe){const Fe=ae.updateRanges;if(Fe.length===0)n.texSubImage2D(t.TEXTURE_2D,0,0,0,Y.width,Y.height,ke,Oe,Y.data);else{Fe.sort((Ke,Ze)=>Ke.start-Ze.start);let lt=0;for(let Ke=1;Ke<Fe.length;Ke++){const Ze=Fe[lt],bt=Fe[Ke],At=Ze.start+Ze.count,st=O(bt.start,Y.width,4),Mt=O(Ze.start,Y.width,4);bt.start<=At+1&&st===Mt&&O(bt.start+bt.count-1,Y.width,4)===st?Ze.count=Math.max(Ze.count,bt.start+bt.count-Ze.start):(++lt,Fe[lt]=bt)}Fe.length=lt+1;const Ue=t.getParameter(t.UNPACK_ROW_LENGTH),tt=t.getParameter(t.UNPACK_SKIP_PIXELS),yt=t.getParameter(t.UNPACK_SKIP_ROWS);t.pixelStorei(t.UNPACK_ROW_LENGTH,Y.width);for(let Ke=0,Ze=Fe.length;Ke<Ze;Ke++){const bt=Fe[Ke],At=Math.floor(bt.start/4),st=Math.ceil(bt.count/4),Mt=At%Y.width,Ae=Math.floor(At/Y.width),ht=st,gt=1;t.pixelStorei(t.UNPACK_SKIP_PIXELS,Mt),t.pixelStorei(t.UNPACK_SKIP_ROWS,Ae),n.texSubImage2D(t.TEXTURE_2D,0,Mt,Ae,ht,gt,ke,Oe,Y.data)}ae.clearUpdateRanges(),t.pixelStorei(t.UNPACK_ROW_LENGTH,Ue),t.pixelStorei(t.UNPACK_SKIP_PIXELS,tt),t.pixelStorei(t.UNPACK_SKIP_ROWS,yt)}}function K(ae,Y,ke){let Oe=t.TEXTURE_2D;(Y.isDataArrayTexture||Y.isCompressedArrayTexture)&&(Oe=t.TEXTURE_2D_ARRAY),Y.isData3DTexture&&(Oe=t.TEXTURE_3D);const it=U(ae,Y),Fe=Y.source;n.bindTexture(Oe,ae.__webglTexture,t.TEXTURE0+ke);const lt=r.get(Fe);if(Fe.version!==lt.__version||it===!0){n.activeTexture(t.TEXTURE0+ke);const Ue=Cn.getPrimaries(Cn.workingColorSpace),tt=Y.colorSpace===fc?null:Cn.getPrimaries(Y.colorSpace),yt=Y.colorSpace===fc||Ue===tt?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,Y.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Y.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,Y.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,yt);let Ke=x(Y.image,!1,i.maxTextureSize);Ke=ft(Y,Ke);const Ze=a.convert(Y.format,Y.colorSpace),bt=a.convert(Y.type);let At=_(Y.internalFormat,Ze,bt,Y.colorSpace,Y.isVideoTexture);k(Oe,Y);let st;const Mt=Y.mipmaps,Ae=Y.isVideoTexture!==!0,ht=lt.__version===void 0||it===!0,gt=Fe.dataReady,wt=N(Y,Ke);if(Y.isDepthTexture)At=S(Y.format===jp,Y.type),ht&&(Ae?n.texStorage2D(t.TEXTURE_2D,1,At,Ke.width,Ke.height):n.texImage2D(t.TEXTURE_2D,0,At,Ke.width,Ke.height,0,Ze,bt,null));else if(Y.isDataTexture)if(Mt.length>0){Ae&&ht&&n.texStorage2D(t.TEXTURE_2D,wt,At,Mt[0].width,Mt[0].height);for(let $e=0,Ye=Mt.length;$e<Ye;$e++)st=Mt[$e],Ae?gt&&n.texSubImage2D(t.TEXTURE_2D,$e,0,0,st.width,st.height,Ze,bt,st.data):n.texImage2D(t.TEXTURE_2D,$e,At,st.width,st.height,0,Ze,bt,st.data);Y.generateMipmaps=!1}else Ae?(ht&&n.texStorage2D(t.TEXTURE_2D,wt,At,Ke.width,Ke.height),gt&&I(Y,Ke,Ze,bt)):n.texImage2D(t.TEXTURE_2D,0,At,Ke.width,Ke.height,0,Ze,bt,Ke.data);else if(Y.isCompressedTexture)if(Y.isCompressedArrayTexture){Ae&&ht&&n.texStorage3D(t.TEXTURE_2D_ARRAY,wt,At,Mt[0].width,Mt[0].height,Ke.depth);for(let $e=0,Ye=Mt.length;$e<Ye;$e++)if(st=Mt[$e],Y.format!==Xs)if(Ze!==null)if(Ae){if(gt)if(Y.layerUpdates.size>0){const Ct=jM(st.width,st.height,Y.format,Y.type);for(const It of Y.layerUpdates){const mn=st.data.subarray(It*Ct/st.data.BYTES_PER_ELEMENT,(It+1)*Ct/st.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,$e,0,0,It,st.width,st.height,1,Ze,mn)}Y.clearLayerUpdates()}else n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,$e,0,0,0,st.width,st.height,Ke.depth,Ze,st.data)}else n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,$e,At,st.width,st.height,Ke.depth,0,st.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Ae?gt&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,$e,0,0,0,st.width,st.height,Ke.depth,Ze,bt,st.data):n.texImage3D(t.TEXTURE_2D_ARRAY,$e,At,st.width,st.height,Ke.depth,0,Ze,bt,st.data)}else{Ae&&ht&&n.texStorage2D(t.TEXTURE_2D,wt,At,Mt[0].width,Mt[0].height);for(let $e=0,Ye=Mt.length;$e<Ye;$e++)st=Mt[$e],Y.format!==Xs?Ze!==null?Ae?gt&&n.compressedTexSubImage2D(t.TEXTURE_2D,$e,0,0,st.width,st.height,Ze,st.data):n.compressedTexImage2D(t.TEXTURE_2D,$e,At,st.width,st.height,0,st.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ae?gt&&n.texSubImage2D(t.TEXTURE_2D,$e,0,0,st.width,st.height,Ze,bt,st.data):n.texImage2D(t.TEXTURE_2D,$e,At,st.width,st.height,0,Ze,bt,st.data)}else if(Y.isDataArrayTexture)if(Ae){if(ht&&n.texStorage3D(t.TEXTURE_2D_ARRAY,wt,At,Ke.width,Ke.height,Ke.depth),gt)if(Y.layerUpdates.size>0){const $e=jM(Ke.width,Ke.height,Y.format,Y.type);for(const Ye of Y.layerUpdates){const Ct=Ke.data.subarray(Ye*$e/Ke.data.BYTES_PER_ELEMENT,(Ye+1)*$e/Ke.data.BYTES_PER_ELEMENT);n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,Ye,Ke.width,Ke.height,1,Ze,bt,Ct)}Y.clearLayerUpdates()}else n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,Ke.width,Ke.height,Ke.depth,Ze,bt,Ke.data)}else n.texImage3D(t.TEXTURE_2D_ARRAY,0,At,Ke.width,Ke.height,Ke.depth,0,Ze,bt,Ke.data);else if(Y.isData3DTexture)Ae?(ht&&n.texStorage3D(t.TEXTURE_3D,wt,At,Ke.width,Ke.height,Ke.depth),gt&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,Ke.width,Ke.height,Ke.depth,Ze,bt,Ke.data)):n.texImage3D(t.TEXTURE_3D,0,At,Ke.width,Ke.height,Ke.depth,0,Ze,bt,Ke.data);else if(Y.isFramebufferTexture){if(ht)if(Ae)n.texStorage2D(t.TEXTURE_2D,wt,At,Ke.width,Ke.height);else{let $e=Ke.width,Ye=Ke.height;for(let Ct=0;Ct<wt;Ct++)n.texImage2D(t.TEXTURE_2D,Ct,At,$e,Ye,0,Ze,bt,null),$e>>=1,Ye>>=1}}else if(Mt.length>0){if(Ae&&ht){const $e=Tt(Mt[0]);n.texStorage2D(t.TEXTURE_2D,wt,At,$e.width,$e.height)}for(let $e=0,Ye=Mt.length;$e<Ye;$e++)st=Mt[$e],Ae?gt&&n.texSubImage2D(t.TEXTURE_2D,$e,0,0,Ze,bt,st):n.texImage2D(t.TEXTURE_2D,$e,At,Ze,bt,st);Y.generateMipmaps=!1}else if(Ae){if(ht){const $e=Tt(Ke);n.texStorage2D(t.TEXTURE_2D,wt,At,$e.width,$e.height)}gt&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,Ze,bt,Ke)}else n.texImage2D(t.TEXTURE_2D,0,At,Ze,bt,Ke);v(Y)&&m(Oe),lt.__version=Fe.version,Y.onUpdate&&Y.onUpdate(Y)}ae.__version=Y.version}function re(ae,Y,ke){if(Y.image.length!==6)return;const Oe=U(ae,Y),it=Y.source;n.bindTexture(t.TEXTURE_CUBE_MAP,ae.__webglTexture,t.TEXTURE0+ke);const Fe=r.get(it);if(it.version!==Fe.__version||Oe===!0){n.activeTexture(t.TEXTURE0+ke);const lt=Cn.getPrimaries(Cn.workingColorSpace),Ue=Y.colorSpace===fc?null:Cn.getPrimaries(Y.colorSpace),tt=Y.colorSpace===fc||lt===Ue?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,Y.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Y.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,Y.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,tt);const yt=Y.isCompressedTexture||Y.image[0].isCompressedTexture,Ke=Y.image[0]&&Y.image[0].isDataTexture,Ze=[];for(let Ye=0;Ye<6;Ye++)!yt&&!Ke?Ze[Ye]=x(Y.image[Ye],!0,i.maxCubemapSize):Ze[Ye]=Ke?Y.image[Ye].image:Y.image[Ye],Ze[Ye]=ft(Y,Ze[Ye]);const bt=Ze[0],At=a.convert(Y.format,Y.colorSpace),st=a.convert(Y.type),Mt=_(Y.internalFormat,At,st,Y.colorSpace),Ae=Y.isVideoTexture!==!0,ht=Fe.__version===void 0||Oe===!0,gt=it.dataReady;let wt=N(Y,bt);k(t.TEXTURE_CUBE_MAP,Y);let $e;if(yt){Ae&&ht&&n.texStorage2D(t.TEXTURE_CUBE_MAP,wt,Mt,bt.width,bt.height);for(let Ye=0;Ye<6;Ye++){$e=Ze[Ye].mipmaps;for(let Ct=0;Ct<$e.length;Ct++){const It=$e[Ct];Y.format!==Xs?At!==null?Ae?gt&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ye,Ct,0,0,It.width,It.height,At,It.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ye,Ct,Mt,It.width,It.height,0,It.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Ae?gt&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ye,Ct,0,0,It.width,It.height,At,st,It.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ye,Ct,Mt,It.width,It.height,0,At,st,It.data)}}}else{if($e=Y.mipmaps,Ae&&ht){$e.length>0&&wt++;const Ye=Tt(Ze[0]);n.texStorage2D(t.TEXTURE_CUBE_MAP,wt,Mt,Ye.width,Ye.height)}for(let Ye=0;Ye<6;Ye++)if(Ke){Ae?gt&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ye,0,0,0,Ze[Ye].width,Ze[Ye].height,At,st,Ze[Ye].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ye,0,Mt,Ze[Ye].width,Ze[Ye].height,0,At,st,Ze[Ye].data);for(let Ct=0;Ct<$e.length;Ct++){const mn=$e[Ct].image[Ye].image;Ae?gt&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ye,Ct+1,0,0,mn.width,mn.height,At,st,mn.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ye,Ct+1,Mt,mn.width,mn.height,0,At,st,mn.data)}}else{Ae?gt&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ye,0,0,0,At,st,Ze[Ye]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ye,0,Mt,At,st,Ze[Ye]);for(let Ct=0;Ct<$e.length;Ct++){const It=$e[Ct];Ae?gt&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ye,Ct+1,0,0,At,st,It.image[Ye]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ye,Ct+1,Mt,At,st,It.image[Ye])}}}v(Y)&&m(t.TEXTURE_CUBE_MAP),Fe.__version=it.version,Y.onUpdate&&Y.onUpdate(Y)}ae.__version=Y.version}function _e(ae,Y,ke,Oe,it,Fe){const lt=a.convert(ke.format,ke.colorSpace),Ue=a.convert(ke.type),tt=_(ke.internalFormat,lt,Ue,ke.colorSpace),yt=r.get(Y),Ke=r.get(ke);if(Ke.__renderTarget=Y,!yt.__hasExternalTextures){const Ze=Math.max(1,Y.width>>Fe),bt=Math.max(1,Y.height>>Fe);it===t.TEXTURE_3D||it===t.TEXTURE_2D_ARRAY?n.texImage3D(it,Fe,tt,Ze,bt,Y.depth,0,lt,Ue,null):n.texImage2D(it,Fe,tt,Ze,bt,0,lt,Ue,null)}n.bindFramebuffer(t.FRAMEBUFFER,ae),Pe(Y)?o.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,Oe,it,Ke.__webglTexture,0,rt(Y)):(it===t.TEXTURE_2D||it>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&it<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,Oe,it,Ke.__webglTexture,Fe),n.bindFramebuffer(t.FRAMEBUFFER,null)}function ue(ae,Y,ke){if(t.bindRenderbuffer(t.RENDERBUFFER,ae),Y.depthBuffer){const Oe=Y.depthTexture,it=Oe&&Oe.isDepthTexture?Oe.type:null,Fe=S(Y.stencilBuffer,it),lt=Y.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Ue=rt(Y);Pe(Y)?o.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Ue,Fe,Y.width,Y.height):ke?t.renderbufferStorageMultisample(t.RENDERBUFFER,Ue,Fe,Y.width,Y.height):t.renderbufferStorage(t.RENDERBUFFER,Fe,Y.width,Y.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,lt,t.RENDERBUFFER,ae)}else{const Oe=Y.textures;for(let it=0;it<Oe.length;it++){const Fe=Oe[it],lt=a.convert(Fe.format,Fe.colorSpace),Ue=a.convert(Fe.type),tt=_(Fe.internalFormat,lt,Ue,Fe.colorSpace),yt=rt(Y);ke&&Pe(Y)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,yt,tt,Y.width,Y.height):Pe(Y)?o.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,yt,tt,Y.width,Y.height):t.renderbufferStorage(t.RENDERBUFFER,tt,Y.width,Y.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function be(ae,Y){if(Y&&Y.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,ae),!(Y.depthTexture&&Y.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Oe=r.get(Y.depthTexture);Oe.__renderTarget=Y,(!Oe.__webglTexture||Y.depthTexture.image.width!==Y.width||Y.depthTexture.image.height!==Y.height)&&(Y.depthTexture.image.width=Y.width,Y.depthTexture.image.height=Y.height,Y.depthTexture.needsUpdate=!0),X(Y.depthTexture,0);const it=Oe.__webglTexture,Fe=rt(Y);if(Y.depthTexture.format===Bp)Pe(Y)?o.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,it,0,Fe):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,it,0);else if(Y.depthTexture.format===jp)Pe(Y)?o.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,it,0,Fe):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,it,0);else throw new Error("Unknown depthTexture format")}function ve(ae){const Y=r.get(ae),ke=ae.isWebGLCubeRenderTarget===!0;if(Y.__boundDepthTexture!==ae.depthTexture){const Oe=ae.depthTexture;if(Y.__depthDisposeCallback&&Y.__depthDisposeCallback(),Oe){const it=()=>{delete Y.__boundDepthTexture,delete Y.__depthDisposeCallback,Oe.removeEventListener("dispose",it)};Oe.addEventListener("dispose",it),Y.__depthDisposeCallback=it}Y.__boundDepthTexture=Oe}if(ae.depthTexture&&!Y.__autoAllocateDepthBuffer){if(ke)throw new Error("target.depthTexture not supported in Cube render targets");const Oe=ae.texture.mipmaps;Oe&&Oe.length>0?be(Y.__webglFramebuffer[0],ae):be(Y.__webglFramebuffer,ae)}else if(ke){Y.__webglDepthbuffer=[];for(let Oe=0;Oe<6;Oe++)if(n.bindFramebuffer(t.FRAMEBUFFER,Y.__webglFramebuffer[Oe]),Y.__webglDepthbuffer[Oe]===void 0)Y.__webglDepthbuffer[Oe]=t.createRenderbuffer(),ue(Y.__webglDepthbuffer[Oe],ae,!1);else{const it=ae.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Fe=Y.__webglDepthbuffer[Oe];t.bindRenderbuffer(t.RENDERBUFFER,Fe),t.framebufferRenderbuffer(t.FRAMEBUFFER,it,t.RENDERBUFFER,Fe)}}else{const Oe=ae.texture.mipmaps;if(Oe&&Oe.length>0?n.bindFramebuffer(t.FRAMEBUFFER,Y.__webglFramebuffer[0]):n.bindFramebuffer(t.FRAMEBUFFER,Y.__webglFramebuffer),Y.__webglDepthbuffer===void 0)Y.__webglDepthbuffer=t.createRenderbuffer(),ue(Y.__webglDepthbuffer,ae,!1);else{const it=ae.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Fe=Y.__webglDepthbuffer;t.bindRenderbuffer(t.RENDERBUFFER,Fe),t.framebufferRenderbuffer(t.FRAMEBUFFER,it,t.RENDERBUFFER,Fe)}}n.bindFramebuffer(t.FRAMEBUFFER,null)}function q(ae,Y,ke){const Oe=r.get(ae);Y!==void 0&&_e(Oe.__webglFramebuffer,ae,ae.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),ke!==void 0&&ve(ae)}function te(ae){const Y=ae.texture,ke=r.get(ae),Oe=r.get(Y);ae.addEventListener("dispose",T);const it=ae.textures,Fe=ae.isWebGLCubeRenderTarget===!0,lt=it.length>1;if(lt||(Oe.__webglTexture===void 0&&(Oe.__webglTexture=t.createTexture()),Oe.__version=Y.version,s.memory.textures++),Fe){ke.__webglFramebuffer=[];for(let Ue=0;Ue<6;Ue++)if(Y.mipmaps&&Y.mipmaps.length>0){ke.__webglFramebuffer[Ue]=[];for(let tt=0;tt<Y.mipmaps.length;tt++)ke.__webglFramebuffer[Ue][tt]=t.createFramebuffer()}else ke.__webglFramebuffer[Ue]=t.createFramebuffer()}else{if(Y.mipmaps&&Y.mipmaps.length>0){ke.__webglFramebuffer=[];for(let Ue=0;Ue<Y.mipmaps.length;Ue++)ke.__webglFramebuffer[Ue]=t.createFramebuffer()}else ke.__webglFramebuffer=t.createFramebuffer();if(lt)for(let Ue=0,tt=it.length;Ue<tt;Ue++){const yt=r.get(it[Ue]);yt.__webglTexture===void 0&&(yt.__webglTexture=t.createTexture(),s.memory.textures++)}if(ae.samples>0&&Pe(ae)===!1){ke.__webglMultisampledFramebuffer=t.createFramebuffer(),ke.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,ke.__webglMultisampledFramebuffer);for(let Ue=0;Ue<it.length;Ue++){const tt=it[Ue];ke.__webglColorRenderbuffer[Ue]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,ke.__webglColorRenderbuffer[Ue]);const yt=a.convert(tt.format,tt.colorSpace),Ke=a.convert(tt.type),Ze=_(tt.internalFormat,yt,Ke,tt.colorSpace,ae.isXRRenderTarget===!0),bt=rt(ae);t.renderbufferStorageMultisample(t.RENDERBUFFER,bt,Ze,ae.width,ae.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Ue,t.RENDERBUFFER,ke.__webglColorRenderbuffer[Ue])}t.bindRenderbuffer(t.RENDERBUFFER,null),ae.depthBuffer&&(ke.__webglDepthRenderbuffer=t.createRenderbuffer(),ue(ke.__webglDepthRenderbuffer,ae,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(Fe){n.bindTexture(t.TEXTURE_CUBE_MAP,Oe.__webglTexture),k(t.TEXTURE_CUBE_MAP,Y);for(let Ue=0;Ue<6;Ue++)if(Y.mipmaps&&Y.mipmaps.length>0)for(let tt=0;tt<Y.mipmaps.length;tt++)_e(ke.__webglFramebuffer[Ue][tt],ae,Y,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Ue,tt);else _e(ke.__webglFramebuffer[Ue],ae,Y,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Ue,0);v(Y)&&m(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(lt){for(let Ue=0,tt=it.length;Ue<tt;Ue++){const yt=it[Ue],Ke=r.get(yt);let Ze=t.TEXTURE_2D;(ae.isWebGL3DRenderTarget||ae.isWebGLArrayRenderTarget)&&(Ze=ae.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(Ze,Ke.__webglTexture),k(Ze,yt),_e(ke.__webglFramebuffer,ae,yt,t.COLOR_ATTACHMENT0+Ue,Ze,0),v(yt)&&m(Ze)}n.unbindTexture()}else{let Ue=t.TEXTURE_2D;if((ae.isWebGL3DRenderTarget||ae.isWebGLArrayRenderTarget)&&(Ue=ae.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(Ue,Oe.__webglTexture),k(Ue,Y),Y.mipmaps&&Y.mipmaps.length>0)for(let tt=0;tt<Y.mipmaps.length;tt++)_e(ke.__webglFramebuffer[tt],ae,Y,t.COLOR_ATTACHMENT0,Ue,tt);else _e(ke.__webglFramebuffer,ae,Y,t.COLOR_ATTACHMENT0,Ue,0);v(Y)&&m(Ue),n.unbindTexture()}ae.depthBuffer&&ve(ae)}function Ee(ae){const Y=ae.textures;for(let ke=0,Oe=Y.length;ke<Oe;ke++){const it=Y[ke];if(v(it)){const Fe=b(ae),lt=r.get(it).__webglTexture;n.bindTexture(Fe,lt),m(Fe),n.unbindTexture()}}}const Z=[],qe=[];function Ce(ae){if(ae.samples>0){if(Pe(ae)===!1){const Y=ae.textures,ke=ae.width,Oe=ae.height;let it=t.COLOR_BUFFER_BIT;const Fe=ae.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,lt=r.get(ae),Ue=Y.length>1;if(Ue)for(let yt=0;yt<Y.length;yt++)n.bindFramebuffer(t.FRAMEBUFFER,lt.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+yt,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,lt.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+yt,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,lt.__webglMultisampledFramebuffer);const tt=ae.texture.mipmaps;tt&&tt.length>0?n.bindFramebuffer(t.DRAW_FRAMEBUFFER,lt.__webglFramebuffer[0]):n.bindFramebuffer(t.DRAW_FRAMEBUFFER,lt.__webglFramebuffer);for(let yt=0;yt<Y.length;yt++){if(ae.resolveDepthBuffer&&(ae.depthBuffer&&(it|=t.DEPTH_BUFFER_BIT),ae.stencilBuffer&&ae.resolveStencilBuffer&&(it|=t.STENCIL_BUFFER_BIT)),Ue){t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,lt.__webglColorRenderbuffer[yt]);const Ke=r.get(Y[yt]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,Ke,0)}t.blitFramebuffer(0,0,ke,Oe,0,0,ke,Oe,it,t.NEAREST),l===!0&&(Z.length=0,qe.length=0,Z.push(t.COLOR_ATTACHMENT0+yt),ae.depthBuffer&&ae.resolveDepthBuffer===!1&&(Z.push(Fe),qe.push(Fe),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,qe)),t.invalidateFramebuffer(t.READ_FRAMEBUFFER,Z))}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),Ue)for(let yt=0;yt<Y.length;yt++){n.bindFramebuffer(t.FRAMEBUFFER,lt.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+yt,t.RENDERBUFFER,lt.__webglColorRenderbuffer[yt]);const Ke=r.get(Y[yt]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,lt.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+yt,t.TEXTURE_2D,Ke,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,lt.__webglMultisampledFramebuffer)}else if(ae.depthBuffer&&ae.resolveDepthBuffer===!1&&l){const Y=ae.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[Y])}}}function rt(ae){return Math.min(i.maxSamples,ae.samples)}function Pe(ae){const Y=r.get(ae);return ae.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&Y.__useRenderToTexture!==!1}function nt(ae){const Y=s.render.frame;u.get(ae)!==Y&&(u.set(ae,Y),ae.update())}function ft(ae,Y){const ke=ae.colorSpace,Oe=ae.format,it=ae.type;return ae.isCompressedTexture===!0||ae.isVideoTexture===!0||ke!==td&&ke!==fc&&(Cn.getTransfer(ke)===Vn?(Oe!==Xs||it!==Fo)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",ke)),Y}function Tt(ae){return typeof HTMLImageElement<"u"&&ae instanceof HTMLImageElement?(c.width=ae.naturalWidth||ae.width,c.height=ae.naturalHeight||ae.height):typeof VideoFrame<"u"&&ae instanceof VideoFrame?(c.width=ae.displayWidth,c.height=ae.displayHeight):(c.width=ae.width,c.height=ae.height),c}this.allocateTextureUnit=j,this.resetTextureUnits=F,this.setTexture2D=X,this.setTexture2DArray=ee,this.setTexture3D=se,this.setTextureCube=B,this.rebindTextures=q,this.setupRenderTarget=te,this.updateRenderTargetMipmap=Ee,this.updateMultisampleRenderTarget=Ce,this.setupDepthRenderbuffer=ve,this.setupFrameBufferTexture=_e,this.useMultisampledRTT=Pe}function Vae(t,e){function n(r,i=fc){let a;const s=Cn.getTransfer(i);if(r===Fo)return t.UNSIGNED_BYTE;if(r===t3)return t.UNSIGNED_SHORT_4_4_4_4;if(r===n3)return t.UNSIGNED_SHORT_5_5_5_1;if(r===b8)return t.UNSIGNED_INT_5_9_9_9_REV;if(r===y8)return t.BYTE;if(r===_8)return t.SHORT;if(r===Op)return t.UNSIGNED_SHORT;if(r===e3)return t.INT;if(r===af)return t.UNSIGNED_INT;if(r===yl)return t.FLOAT;if(r===om)return t.HALF_FLOAT;if(r===w8)return t.ALPHA;if(r===S8)return t.RGB;if(r===Xs)return t.RGBA;if(r===Bp)return t.DEPTH_COMPONENT;if(r===jp)return t.DEPTH_STENCIL;if(r===E8)return t.RED;if(r===r3)return t.RED_INTEGER;if(r===A8)return t.RG;if(r===i3)return t.RG_INTEGER;if(r===a3)return t.RGBA_INTEGER;if(r===E1||r===A1||r===T1||r===M1)if(s===Vn)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(r===E1)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===A1)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===T1)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===M1)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(r===E1)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===A1)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===T1)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===M1)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===dw||r===pw||r===mw||r===gw)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(r===dw)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===pw)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===mw)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===gw)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===xw||r===vw||r===yw)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(r===xw||r===vw)return s===Vn?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(r===yw)return s===Vn?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(r===_w||r===bw||r===ww||r===Sw||r===Ew||r===Aw||r===Tw||r===Mw||r===Nw||r===kw||r===Cw||r===Rw||r===Pw||r===Lw)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(r===_w)return s===Vn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===bw)return s===Vn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===ww)return s===Vn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===Sw)return s===Vn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===Ew)return s===Vn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===Aw)return s===Vn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===Tw)return s===Vn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===Mw)return s===Vn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===Nw)return s===Vn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===kw)return s===Vn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===Cw)return s===Vn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===Rw)return s===Vn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===Pw)return s===Vn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===Lw)return s===Vn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(r===N1||r===Fw||r===Dw)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(r===N1)return s===Vn?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(r===Fw)return a.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(r===Dw)return a.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(r===T8||r===Iw||r===Ow||r===Uw)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(r===N1)return a.COMPRESSED_RED_RGTC1_EXT;if(r===Iw)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===Ow)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===Uw)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return r===Up?t.UNSIGNED_INT_24_8:t[r]!==void 0?t[r]:null}return{convert:n}}class Y8 extends Fa{constructor(e=null){super(),this.sourceTexture=e,this.isExternalTexture=!0}}const Wae=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,Gae=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class qae{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n){if(this.texture===null){const r=new Y8(e.texture);(e.depthNear!==n.depthNear||e.depthFar!==n.depthFar)&&(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=r}}getMesh(e){if(this.texture!==null&&this.mesh===null){const n=e.cameras[0].viewport,r=new Vc({vertexShader:Wae,fragmentShader:Gae,uniforms:{depthColor:{value:this.texture},depthWidth:{value:n.z},depthHeight:{value:n.w}}});this.mesh=new es(new fm(20,20),r)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class Xae extends pd{constructor(e,n){super();const r=this;let i=null,a=1,s=null,o="local-floor",l=1,c=null,u=null,f=null,d=null,h=null,g=null;const x=new qae,v={},m=n.getContextAttributes();let b=null,_=null;const S=[],N=[],P=new Ln;let T=null;const L=new ys;L.viewport=new Ar;const E=new ys;E.viewport=new Ar;const R=[L,E],A=new dte;let F=null,j=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(I){let K=S[I];return K===void 0&&(K=new Fy,S[I]=K),K.getTargetRaySpace()},this.getControllerGrip=function(I){let K=S[I];return K===void 0&&(K=new Fy,S[I]=K),K.getGripSpace()},this.getHand=function(I){let K=S[I];return K===void 0&&(K=new Fy,S[I]=K),K.getHandSpace()};function V(I){const K=N.indexOf(I.inputSource);if(K===-1)return;const re=S[K];re!==void 0&&(re.update(I.inputSource,I.frame,c||s),re.dispatchEvent({type:I.type,data:I.inputSource}))}function X(){i.removeEventListener("select",V),i.removeEventListener("selectstart",V),i.removeEventListener("selectend",V),i.removeEventListener("squeeze",V),i.removeEventListener("squeezestart",V),i.removeEventListener("squeezeend",V),i.removeEventListener("end",X),i.removeEventListener("inputsourceschange",ee);for(let I=0;I<S.length;I++){const K=N[I];K!==null&&(N[I]=null,S[I].disconnect(K))}F=null,j=null,x.reset();for(const I in v)delete v[I];e.setRenderTarget(b),h=null,d=null,f=null,i=null,_=null,O.stop(),r.isPresenting=!1,e.setPixelRatio(T),e.setSize(P.width,P.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(I){a=I,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(I){o=I,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||s},this.setReferenceSpace=function(I){c=I},this.getBaseLayer=function(){return d!==null?d:h},this.getBinding=function(){return f},this.getFrame=function(){return g},this.getSession=function(){return i},this.setSession=async function(I){if(i=I,i!==null){if(b=e.getRenderTarget(),i.addEventListener("select",V),i.addEventListener("selectstart",V),i.addEventListener("selectend",V),i.addEventListener("squeeze",V),i.addEventListener("squeezestart",V),i.addEventListener("squeezeend",V),i.addEventListener("end",X),i.addEventListener("inputsourceschange",ee),m.xrCompatible!==!0&&await n.makeXRCompatible(),T=e.getPixelRatio(),e.getSize(P),typeof XRWebGLBinding<"u"&&(f=new XRWebGLBinding(i,n)),f!==null&&"createProjectionLayer"in XRWebGLBinding.prototype){let re=null,_e=null,ue=null;m.depth&&(ue=m.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,re=m.stencil?jp:Bp,_e=m.stencil?Up:af);const be={colorFormat:n.RGBA8,depthFormat:ue,scaleFactor:a};d=f.createProjectionLayer(be),i.updateRenderState({layers:[d]}),e.setPixelRatio(1),e.setSize(d.textureWidth,d.textureHeight,!1),_=new sf(d.textureWidth,d.textureHeight,{format:Xs,type:Fo,depthTexture:new z8(d.textureWidth,d.textureHeight,_e,void 0,void 0,void 0,void 0,void 0,void 0,re),stencilBuffer:m.stencil,colorSpace:e.outputColorSpace,samples:m.antialias?4:0,resolveDepthBuffer:d.ignoreDepthValues===!1,resolveStencilBuffer:d.ignoreDepthValues===!1})}else{const re={antialias:m.antialias,alpha:!0,depth:m.depth,stencil:m.stencil,framebufferScaleFactor:a};h=new XRWebGLLayer(i,n,re),i.updateRenderState({baseLayer:h}),e.setPixelRatio(1),e.setSize(h.framebufferWidth,h.framebufferHeight,!1),_=new sf(h.framebufferWidth,h.framebufferHeight,{format:Xs,type:Fo,colorSpace:e.outputColorSpace,stencilBuffer:m.stencil,resolveDepthBuffer:h.ignoreDepthValues===!1,resolveStencilBuffer:h.ignoreDepthValues===!1})}_.isXRRenderTarget=!0,this.setFoveation(l),c=null,s=await i.requestReferenceSpace(o),O.setContext(i),O.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode},this.getDepthTexture=function(){return x.getDepthTexture()};function ee(I){for(let K=0;K<I.removed.length;K++){const re=I.removed[K],_e=N.indexOf(re);_e>=0&&(N[_e]=null,S[_e].disconnect(re))}for(let K=0;K<I.added.length;K++){const re=I.added[K];let _e=N.indexOf(re);if(_e===-1){for(let be=0;be<S.length;be++)if(be>=N.length){N.push(re),_e=be;break}else if(N[be]===null){N[be]=re,_e=be;break}if(_e===-1)break}const ue=S[_e];ue&&ue.connect(re)}}const se=new Xe,B=new Xe;function H(I,K,re){se.setFromMatrixPosition(K.matrixWorld),B.setFromMatrixPosition(re.matrixWorld);const _e=se.distanceTo(B),ue=K.projectionMatrix.elements,be=re.projectionMatrix.elements,ve=ue[14]/(ue[10]-1),q=ue[14]/(ue[10]+1),te=(ue[9]+1)/ue[5],Ee=(ue[9]-1)/ue[5],Z=(ue[8]-1)/ue[0],qe=(be[8]+1)/be[0],Ce=ve*Z,rt=ve*qe,Pe=_e/(-Z+qe),nt=Pe*-Z;if(K.matrixWorld.decompose(I.position,I.quaternion,I.scale),I.translateX(nt),I.translateZ(Pe),I.matrixWorld.compose(I.position,I.quaternion,I.scale),I.matrixWorldInverse.copy(I.matrixWorld).invert(),ue[10]===-1)I.projectionMatrix.copy(K.projectionMatrix),I.projectionMatrixInverse.copy(K.projectionMatrixInverse);else{const ft=ve+Pe,Tt=q+Pe,ae=Ce-nt,Y=rt+(_e-nt),ke=te*q/Tt*ft,Oe=Ee*q/Tt*ft;I.projectionMatrix.makePerspective(ae,Y,ke,Oe,ft,Tt),I.projectionMatrixInverse.copy(I.projectionMatrix).invert()}}function xe(I,K){K===null?I.matrixWorld.copy(I.matrix):I.matrixWorld.multiplyMatrices(K.matrixWorld,I.matrix),I.matrixWorldInverse.copy(I.matrixWorld).invert()}this.updateCamera=function(I){if(i===null)return;let K=I.near,re=I.far;x.texture!==null&&(x.depthNear>0&&(K=x.depthNear),x.depthFar>0&&(re=x.depthFar)),A.near=E.near=L.near=K,A.far=E.far=L.far=re,(F!==A.near||j!==A.far)&&(i.updateRenderState({depthNear:A.near,depthFar:A.far}),F=A.near,j=A.far),A.layers.mask=I.layers.mask|6,L.layers.mask=A.layers.mask&3,E.layers.mask=A.layers.mask&5;const _e=I.parent,ue=A.cameras;xe(A,_e);for(let be=0;be<ue.length;be++)xe(ue[be],_e);ue.length===2?H(A,L,E):A.projectionMatrix.copy(L.projectionMatrix),Se(I,A,_e)};function Se(I,K,re){re===null?I.matrix.copy(K.matrixWorld):(I.matrix.copy(re.matrixWorld),I.matrix.invert(),I.matrix.multiply(K.matrixWorld)),I.matrix.decompose(I.position,I.quaternion,I.scale),I.updateMatrixWorld(!0),I.projectionMatrix.copy(K.projectionMatrix),I.projectionMatrixInverse.copy(K.projectionMatrixInverse),I.isPerspectiveCamera&&(I.fov=Bw*2*Math.atan(1/I.projectionMatrix.elements[5]),I.zoom=1)}this.getCamera=function(){return A},this.getFoveation=function(){if(!(d===null&&h===null))return l},this.setFoveation=function(I){l=I,d!==null&&(d.fixedFoveation=I),h!==null&&h.fixedFoveation!==void 0&&(h.fixedFoveation=I)},this.hasDepthSensing=function(){return x.texture!==null},this.getDepthSensingMesh=function(){return x.getMesh(A)},this.getCameraTexture=function(I){return v[I]};let k=null;function U(I,K){if(u=K.getViewerPose(c||s),g=K,u!==null){const re=u.views;h!==null&&(e.setRenderTargetFramebuffer(_,h.framebuffer),e.setRenderTarget(_));let _e=!1;re.length!==A.cameras.length&&(A.cameras.length=0,_e=!0);for(let q=0;q<re.length;q++){const te=re[q];let Ee=null;if(h!==null)Ee=h.getViewport(te);else{const qe=f.getViewSubImage(d,te);Ee=qe.viewport,q===0&&(e.setRenderTargetTextures(_,qe.colorTexture,qe.depthStencilTexture),e.setRenderTarget(_))}let Z=R[q];Z===void 0&&(Z=new ys,Z.layers.enable(q),Z.viewport=new Ar,R[q]=Z),Z.matrix.fromArray(te.transform.matrix),Z.matrix.decompose(Z.position,Z.quaternion,Z.scale),Z.projectionMatrix.fromArray(te.projectionMatrix),Z.projectionMatrixInverse.copy(Z.projectionMatrix).invert(),Z.viewport.set(Ee.x,Ee.y,Ee.width,Ee.height),q===0&&(A.matrix.copy(Z.matrix),A.matrix.decompose(A.position,A.quaternion,A.scale)),_e===!0&&A.cameras.push(Z)}const ue=i.enabledFeatures;if(ue&&ue.includes("depth-sensing")&&i.depthUsage=="gpu-optimized"&&f){const q=f.getDepthInformation(re[0]);q&&q.isValid&&q.texture&&x.init(q,i.renderState)}if(ue&&ue.includes("camera-access")&&(e.state.unbindTexture(),f))for(let q=0;q<re.length;q++){const te=re[q].camera;if(te){let Ee=v[te];Ee||(Ee=new Y8,v[te]=Ee);const Z=f.getCameraImage(te);Ee.sourceTexture=Z}}}for(let re=0;re<S.length;re++){const _e=N[re],ue=S[re];_e!==null&&ue!==void 0&&ue.update(_e,K,c||s)}k&&k(I,K),K.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:K}),g=null}const O=new W8;O.setAnimationLoop(U),this.setAnimationLoop=function(I){k=I},this.dispose=function(){}}}const xu=new Do,$ae=new Mr;function Yae(t,e){function n(v,m){v.matrixAutoUpdate===!0&&v.updateMatrix(),m.value.copy(v.matrix)}function r(v,m){m.color.getRGB(v.fogColor.value,O8(t)),m.isFog?(v.fogNear.value=m.near,v.fogFar.value=m.far):m.isFogExp2&&(v.fogDensity.value=m.density)}function i(v,m,b,_,S){m.isMeshBasicMaterial||m.isMeshLambertMaterial?a(v,m):m.isMeshToonMaterial?(a(v,m),f(v,m)):m.isMeshPhongMaterial?(a(v,m),u(v,m)):m.isMeshStandardMaterial?(a(v,m),d(v,m),m.isMeshPhysicalMaterial&&h(v,m,S)):m.isMeshMatcapMaterial?(a(v,m),g(v,m)):m.isMeshDepthMaterial?a(v,m):m.isMeshDistanceMaterial?(a(v,m),x(v,m)):m.isMeshNormalMaterial?a(v,m):m.isLineBasicMaterial?(s(v,m),m.isLineDashedMaterial&&o(v,m)):m.isPointsMaterial?l(v,m,b,_):m.isSpriteMaterial?c(v,m):m.isShadowMaterial?(v.color.value.copy(m.color),v.opacity.value=m.opacity):m.isShaderMaterial&&(m.uniformsNeedUpdate=!1)}function a(v,m){v.opacity.value=m.opacity,m.color&&v.diffuse.value.copy(m.color),m.emissive&&v.emissive.value.copy(m.emissive).multiplyScalar(m.emissiveIntensity),m.map&&(v.map.value=m.map,n(m.map,v.mapTransform)),m.alphaMap&&(v.alphaMap.value=m.alphaMap,n(m.alphaMap,v.alphaMapTransform)),m.bumpMap&&(v.bumpMap.value=m.bumpMap,n(m.bumpMap,v.bumpMapTransform),v.bumpScale.value=m.bumpScale,m.side===La&&(v.bumpScale.value*=-1)),m.normalMap&&(v.normalMap.value=m.normalMap,n(m.normalMap,v.normalMapTransform),v.normalScale.value.copy(m.normalScale),m.side===La&&v.normalScale.value.negate()),m.displacementMap&&(v.displacementMap.value=m.displacementMap,n(m.displacementMap,v.displacementMapTransform),v.displacementScale.value=m.displacementScale,v.displacementBias.value=m.displacementBias),m.emissiveMap&&(v.emissiveMap.value=m.emissiveMap,n(m.emissiveMap,v.emissiveMapTransform)),m.specularMap&&(v.specularMap.value=m.specularMap,n(m.specularMap,v.specularMapTransform)),m.alphaTest>0&&(v.alphaTest.value=m.alphaTest);const b=e.get(m),_=b.envMap,S=b.envMapRotation;_&&(v.envMap.value=_,xu.copy(S),xu.x*=-1,xu.y*=-1,xu.z*=-1,_.isCubeTexture&&_.isRenderTargetTexture===!1&&(xu.y*=-1,xu.z*=-1),v.envMapRotation.value.setFromMatrix4($ae.makeRotationFromEuler(xu)),v.flipEnvMap.value=_.isCubeTexture&&_.isRenderTargetTexture===!1?-1:1,v.reflectivity.value=m.reflectivity,v.ior.value=m.ior,v.refractionRatio.value=m.refractionRatio),m.lightMap&&(v.lightMap.value=m.lightMap,v.lightMapIntensity.value=m.lightMapIntensity,n(m.lightMap,v.lightMapTransform)),m.aoMap&&(v.aoMap.value=m.aoMap,v.aoMapIntensity.value=m.aoMapIntensity,n(m.aoMap,v.aoMapTransform))}function s(v,m){v.diffuse.value.copy(m.color),v.opacity.value=m.opacity,m.map&&(v.map.value=m.map,n(m.map,v.mapTransform))}function o(v,m){v.dashSize.value=m.dashSize,v.totalSize.value=m.dashSize+m.gapSize,v.scale.value=m.scale}function l(v,m,b,_){v.diffuse.value.copy(m.color),v.opacity.value=m.opacity,v.size.value=m.size*b,v.scale.value=_*.5,m.map&&(v.map.value=m.map,n(m.map,v.uvTransform)),m.alphaMap&&(v.alphaMap.value=m.alphaMap,n(m.alphaMap,v.alphaMapTransform)),m.alphaTest>0&&(v.alphaTest.value=m.alphaTest)}function c(v,m){v.diffuse.value.copy(m.color),v.opacity.value=m.opacity,v.rotation.value=m.rotation,m.map&&(v.map.value=m.map,n(m.map,v.mapTransform)),m.alphaMap&&(v.alphaMap.value=m.alphaMap,n(m.alphaMap,v.alphaMapTransform)),m.alphaTest>0&&(v.alphaTest.value=m.alphaTest)}function u(v,m){v.specular.value.copy(m.specular),v.shininess.value=Math.max(m.shininess,1e-4)}function f(v,m){m.gradientMap&&(v.gradientMap.value=m.gradientMap)}function d(v,m){v.metalness.value=m.metalness,m.metalnessMap&&(v.metalnessMap.value=m.metalnessMap,n(m.metalnessMap,v.metalnessMapTransform)),v.roughness.value=m.roughness,m.roughnessMap&&(v.roughnessMap.value=m.roughnessMap,n(m.roughnessMap,v.roughnessMapTransform)),m.envMap&&(v.envMapIntensity.value=m.envMapIntensity)}function h(v,m,b){v.ior.value=m.ior,m.sheen>0&&(v.sheenColor.value.copy(m.sheenColor).multiplyScalar(m.sheen),v.sheenRoughness.value=m.sheenRoughness,m.sheenColorMap&&(v.sheenColorMap.value=m.sheenColorMap,n(m.sheenColorMap,v.sheenColorMapTransform)),m.sheenRoughnessMap&&(v.sheenRoughnessMap.value=m.sheenRoughnessMap,n(m.sheenRoughnessMap,v.sheenRoughnessMapTransform))),m.clearcoat>0&&(v.clearcoat.value=m.clearcoat,v.clearcoatRoughness.value=m.clearcoatRoughness,m.clearcoatMap&&(v.clearcoatMap.value=m.clearcoatMap,n(m.clearcoatMap,v.clearcoatMapTransform)),m.clearcoatRoughnessMap&&(v.clearcoatRoughnessMap.value=m.clearcoatRoughnessMap,n(m.clearcoatRoughnessMap,v.clearcoatRoughnessMapTransform)),m.clearcoatNormalMap&&(v.clearcoatNormalMap.value=m.clearcoatNormalMap,n(m.clearcoatNormalMap,v.clearcoatNormalMapTransform),v.clearcoatNormalScale.value.copy(m.clearcoatNormalScale),m.side===La&&v.clearcoatNormalScale.value.negate())),m.dispersion>0&&(v.dispersion.value=m.dispersion),m.iridescence>0&&(v.iridescence.value=m.iridescence,v.iridescenceIOR.value=m.iridescenceIOR,v.iridescenceThicknessMinimum.value=m.iridescenceThicknessRange[0],v.iridescenceThicknessMaximum.value=m.iridescenceThicknessRange[1],m.iridescenceMap&&(v.iridescenceMap.value=m.iridescenceMap,n(m.iridescenceMap,v.iridescenceMapTransform)),m.iridescenceThicknessMap&&(v.iridescenceThicknessMap.value=m.iridescenceThicknessMap,n(m.iridescenceThicknessMap,v.iridescenceThicknessMapTransform))),m.transmission>0&&(v.transmission.value=m.transmission,v.transmissionSamplerMap.value=b.texture,v.transmissionSamplerSize.value.set(b.width,b.height),m.transmissionMap&&(v.transmissionMap.value=m.transmissionMap,n(m.transmissionMap,v.transmissionMapTransform)),v.thickness.value=m.thickness,m.thicknessMap&&(v.thicknessMap.value=m.thicknessMap,n(m.thicknessMap,v.thicknessMapTransform)),v.attenuationDistance.value=m.attenuationDistance,v.attenuationColor.value.copy(m.attenuationColor)),m.anisotropy>0&&(v.anisotropyVector.value.set(m.anisotropy*Math.cos(m.anisotropyRotation),m.anisotropy*Math.sin(m.anisotropyRotation)),m.anisotropyMap&&(v.anisotropyMap.value=m.anisotropyMap,n(m.anisotropyMap,v.anisotropyMapTransform))),v.specularIntensity.value=m.specularIntensity,v.specularColor.value.copy(m.specularColor),m.specularColorMap&&(v.specularColorMap.value=m.specularColorMap,n(m.specularColorMap,v.specularColorMapTransform)),m.specularIntensityMap&&(v.specularIntensityMap.value=m.specularIntensityMap,n(m.specularIntensityMap,v.specularIntensityMapTransform))}function g(v,m){m.matcap&&(v.matcap.value=m.matcap)}function x(v,m){const b=e.get(m).light;v.referencePosition.value.setFromMatrixPosition(b.matrixWorld),v.nearDistance.value=b.shadow.camera.near,v.farDistance.value=b.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function Kae(t,e,n,r){let i={},a={},s=[];const o=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS);function l(b,_){const S=_.program;r.uniformBlockBinding(b,S)}function c(b,_){let S=i[b.id];S===void 0&&(g(b),S=u(b),i[b.id]=S,b.addEventListener("dispose",v));const N=_.program;r.updateUBOMapping(b,N);const P=e.render.frame;a[b.id]!==P&&(d(b),a[b.id]=P)}function u(b){const _=f();b.__bindingPointIndex=_;const S=t.createBuffer(),N=b.__size,P=b.usage;return t.bindBuffer(t.UNIFORM_BUFFER,S),t.bufferData(t.UNIFORM_BUFFER,N,P),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,_,S),S}function f(){for(let b=0;b<o;b++)if(s.indexOf(b)===-1)return s.push(b),b;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function d(b){const _=i[b.id],S=b.uniforms,N=b.__cache;t.bindBuffer(t.UNIFORM_BUFFER,_);for(let P=0,T=S.length;P<T;P++){const L=Array.isArray(S[P])?S[P]:[S[P]];for(let E=0,R=L.length;E<R;E++){const A=L[E];if(h(A,P,E,N)===!0){const F=A.__offset,j=Array.isArray(A.value)?A.value:[A.value];let V=0;for(let X=0;X<j.length;X++){const ee=j[X],se=x(ee);typeof ee=="number"||typeof ee=="boolean"?(A.__data[0]=ee,t.bufferSubData(t.UNIFORM_BUFFER,F+V,A.__data)):ee.isMatrix3?(A.__data[0]=ee.elements[0],A.__data[1]=ee.elements[1],A.__data[2]=ee.elements[2],A.__data[3]=0,A.__data[4]=ee.elements[3],A.__data[5]=ee.elements[4],A.__data[6]=ee.elements[5],A.__data[7]=0,A.__data[8]=ee.elements[6],A.__data[9]=ee.elements[7],A.__data[10]=ee.elements[8],A.__data[11]=0):(ee.toArray(A.__data,V),V+=se.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,F,A.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function h(b,_,S,N){const P=b.value,T=_+"_"+S;if(N[T]===void 0)return typeof P=="number"||typeof P=="boolean"?N[T]=P:N[T]=P.clone(),!0;{const L=N[T];if(typeof P=="number"||typeof P=="boolean"){if(L!==P)return N[T]=P,!0}else if(L.equals(P)===!1)return L.copy(P),!0}return!1}function g(b){const _=b.uniforms;let S=0;const N=16;for(let T=0,L=_.length;T<L;T++){const E=Array.isArray(_[T])?_[T]:[_[T]];for(let R=0,A=E.length;R<A;R++){const F=E[R],j=Array.isArray(F.value)?F.value:[F.value];for(let V=0,X=j.length;V<X;V++){const ee=j[V],se=x(ee),B=S%N,H=B%se.boundary,xe=B+H;S+=H,xe!==0&&N-xe<se.storage&&(S+=N-xe),F.__data=new Float32Array(se.storage/Float32Array.BYTES_PER_ELEMENT),F.__offset=S,S+=se.storage}}}const P=S%N;return P>0&&(S+=N-P),b.__size=S,b.__cache={},this}function x(b){const _={boundary:0,storage:0};return typeof b=="number"||typeof b=="boolean"?(_.boundary=4,_.storage=4):b.isVector2?(_.boundary=8,_.storage=8):b.isVector3||b.isColor?(_.boundary=16,_.storage=12):b.isVector4?(_.boundary=16,_.storage=16):b.isMatrix3?(_.boundary=48,_.storage=48):b.isMatrix4?(_.boundary=64,_.storage=64):b.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",b),_}function v(b){const _=b.target;_.removeEventListener("dispose",v);const S=s.indexOf(_.__bindingPointIndex);s.splice(S,1),t.deleteBuffer(i[_.id]),delete i[_.id],delete a[_.id]}function m(){for(const b in i)t.deleteBuffer(i[b]);s=[],i={},a={}}return{bind:l,update:c,dispose:m}}class Jae{constructor(e={}){const{canvas:n=Cee(),context:r=null,depth:i=!0,stencil:a=!1,alpha:s=!1,antialias:o=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:f=!1,reversedDepthBuffer:d=!1}=e;this.isWebGLRenderer=!0;let h;if(r!==null){if(typeof WebGLRenderingContext<"u"&&r instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");h=r.getContextAttributes().alpha}else h=s;const g=new Uint32Array(4),x=new Int32Array(4);let v=null,m=null;const b=[],_=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=Fc,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const S=this;let N=!1;this._outputColorSpace=gs;let P=0,T=0,L=null,E=-1,R=null;const A=new Ar,F=new Ar;let j=null;const V=new pn(0);let X=0,ee=n.width,se=n.height,B=1,H=null,xe=null;const Se=new Ar(0,0,ee,se),k=new Ar(0,0,ee,se);let U=!1;const O=new o3;let I=!1,K=!1;const re=new Mr,_e=new Xe,ue=new Ar,be={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let ve=!1;function q(){return L===null?B:1}let te=r;function Ee(z,ye){return n.getContext(z,ye)}try{const z={alpha:!0,depth:i,stencil:a,antialias:o,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:f};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${ZS}`),n.addEventListener("webglcontextlost",gt,!1),n.addEventListener("webglcontextrestored",wt,!1),n.addEventListener("webglcontextcreationerror",$e,!1),te===null){const ye="webgl2";if(te=Ee(ye,z),te===null)throw Ee(ye)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(z){throw console.error("THREE.WebGLRenderer: "+z.message),z}let Z,qe,Ce,rt,Pe,nt,ft,Tt,ae,Y,ke,Oe,it,Fe,lt,Ue,tt,yt,Ke,Ze,bt,At,st,Mt;function Ae(){Z=new oie(te),Z.init(),At=new Vae(te,Z),qe=new eie(te,Z,e,At),Ce=new zae(te,Z),qe.reversedDepthBuffer&&d&&Ce.buffers.depth.setReversed(!0),rt=new uie(te),Pe=new Nae,nt=new Hae(te,Z,Ce,Pe,qe,At,rt),ft=new nie(S),Tt=new sie(S),ae=new gte(te),st=new Zre(te,ae),Y=new lie(te,ae,rt,st),ke=new hie(te,Y,ae,rt),Ke=new fie(te,qe,nt),Ue=new tie(Pe),Oe=new Mae(S,ft,Tt,Z,qe,st,Ue),it=new Yae(S,Pe),Fe=new Cae,lt=new Iae(Z),yt=new Jre(S,ft,Tt,Ce,ke,h,l),tt=new Bae(S,ke,qe),Mt=new Kae(te,rt,qe,Ce),Ze=new Qre(te,Z,rt),bt=new cie(te,Z,rt),rt.programs=Oe.programs,S.capabilities=qe,S.extensions=Z,S.properties=Pe,S.renderLists=Fe,S.shadowMap=tt,S.state=Ce,S.info=rt}Ae();const ht=new Xae(S,te);this.xr=ht,this.getContext=function(){return te},this.getContextAttributes=function(){return te.getContextAttributes()},this.forceContextLoss=function(){const z=Z.get("WEBGL_lose_context");z&&z.loseContext()},this.forceContextRestore=function(){const z=Z.get("WEBGL_lose_context");z&&z.restoreContext()},this.getPixelRatio=function(){return B},this.setPixelRatio=function(z){z!==void 0&&(B=z,this.setSize(ee,se,!1))},this.getSize=function(z){return z.set(ee,se)},this.setSize=function(z,ye,Me=!0){if(ht.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}ee=z,se=ye,n.width=Math.floor(z*B),n.height=Math.floor(ye*B),Me===!0&&(n.style.width=z+"px",n.style.height=ye+"px"),this.setViewport(0,0,z,ye)},this.getDrawingBufferSize=function(z){return z.set(ee*B,se*B).floor()},this.setDrawingBufferSize=function(z,ye,Me){ee=z,se=ye,B=Me,n.width=Math.floor(z*Me),n.height=Math.floor(ye*Me),this.setViewport(0,0,z,ye)},this.getCurrentViewport=function(z){return z.copy(A)},this.getViewport=function(z){return z.copy(Se)},this.setViewport=function(z,ye,Me,Te){z.isVector4?Se.set(z.x,z.y,z.z,z.w):Se.set(z,ye,Me,Te),Ce.viewport(A.copy(Se).multiplyScalar(B).round())},this.getScissor=function(z){return z.copy(k)},this.setScissor=function(z,ye,Me,Te){z.isVector4?k.set(z.x,z.y,z.z,z.w):k.set(z,ye,Me,Te),Ce.scissor(F.copy(k).multiplyScalar(B).round())},this.getScissorTest=function(){return U},this.setScissorTest=function(z){Ce.setScissorTest(U=z)},this.setOpaqueSort=function(z){H=z},this.setTransparentSort=function(z){xe=z},this.getClearColor=function(z){return z.copy(yt.getClearColor())},this.setClearColor=function(){yt.setClearColor(...arguments)},this.getClearAlpha=function(){return yt.getClearAlpha()},this.setClearAlpha=function(){yt.setClearAlpha(...arguments)},this.clear=function(z=!0,ye=!0,Me=!0){let Te=0;if(z){let we=!1;if(L!==null){const Je=L.texture.format;we=Je===a3||Je===i3||Je===r3}if(we){const Je=L.texture.type,xt=Je===Fo||Je===af||Je===Op||Je===Up||Je===t3||Je===n3,vt=yt.getClearColor(),Et=yt.getClearAlpha(),jt=vt.r,zt=vt.g,Lt=vt.b;xt?(g[0]=jt,g[1]=zt,g[2]=Lt,g[3]=Et,te.clearBufferuiv(te.COLOR,0,g)):(x[0]=jt,x[1]=zt,x[2]=Lt,x[3]=Et,te.clearBufferiv(te.COLOR,0,x))}else Te|=te.COLOR_BUFFER_BIT}ye&&(Te|=te.DEPTH_BUFFER_BIT),Me&&(Te|=te.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),te.clear(Te)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",gt,!1),n.removeEventListener("webglcontextrestored",wt,!1),n.removeEventListener("webglcontextcreationerror",$e,!1),yt.dispose(),Fe.dispose(),lt.dispose(),Pe.dispose(),ft.dispose(),Tt.dispose(),ke.dispose(),st.dispose(),Mt.dispose(),Oe.dispose(),ht.dispose(),ht.removeEventListener("sessionstart",yr),ht.removeEventListener("sessionend",xa),sr.stop()};function gt(z){z.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),N=!0}function wt(){console.log("THREE.WebGLRenderer: Context Restored."),N=!1;const z=rt.autoReset,ye=tt.enabled,Me=tt.autoUpdate,Te=tt.needsUpdate,we=tt.type;Ae(),rt.autoReset=z,tt.enabled=ye,tt.autoUpdate=Me,tt.needsUpdate=Te,tt.type=we}function $e(z){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",z.statusMessage)}function Ye(z){const ye=z.target;ye.removeEventListener("dispose",Ye),Ct(ye)}function Ct(z){It(z),Pe.remove(z)}function It(z){const ye=Pe.get(z).programs;ye!==void 0&&(ye.forEach(function(Me){Oe.releaseProgram(Me)}),z.isShaderMaterial&&Oe.releaseShaderCache(z))}this.renderBufferDirect=function(z,ye,Me,Te,we,Je){ye===null&&(ye=be);const xt=we.isMesh&&we.matrixWorld.determinant()<0,vt=ge(z,ye,Me,Te,we);Ce.setMaterial(Te,xt);let Et=Me.index,jt=1;if(Te.wireframe===!0){if(Et=Y.getWireframeAttribute(Me),Et===void 0)return;jt=2}const zt=Me.drawRange,Lt=Me.attributes.position;let qt=zt.start*jt,gn=(zt.start+zt.count)*jt;Je!==null&&(qt=Math.max(qt,Je.start*jt),gn=Math.min(gn,(Je.start+Je.count)*jt)),Et!==null?(qt=Math.max(qt,0),gn=Math.min(gn,Et.count)):Lt!=null&&(qt=Math.max(qt,0),gn=Math.min(gn,Lt.count));const dn=gn-qt;if(dn<0||dn===1/0)return;st.setup(we,Te,vt,Me,Et);let Fn,Xt=Ze;if(Et!==null&&(Fn=ae.get(Et),Xt=bt,Xt.setIndex(Fn)),we.isMesh)Te.wireframe===!0?(Ce.setLineWidth(Te.wireframeLinewidth*q()),Xt.setMode(te.LINES)):Xt.setMode(te.TRIANGLES);else if(we.isLine){let Gt=Te.linewidth;Gt===void 0&&(Gt=1),Ce.setLineWidth(Gt*q()),we.isLineSegments?Xt.setMode(te.LINES):we.isLineLoop?Xt.setMode(te.LINE_LOOP):Xt.setMode(te.LINE_STRIP)}else we.isPoints?Xt.setMode(te.POINTS):we.isSprite&&Xt.setMode(te.TRIANGLES);if(we.isBatchedMesh)if(we._multiDrawInstances!==null)Ph("THREE.WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),Xt.renderMultiDrawInstances(we._multiDrawStarts,we._multiDrawCounts,we._multiDrawCount,we._multiDrawInstances);else if(Z.get("WEBGL_multi_draw"))Xt.renderMultiDraw(we._multiDrawStarts,we._multiDrawCounts,we._multiDrawCount);else{const Gt=we._multiDrawStarts,zn=we._multiDrawCounts,an=we._multiDrawCount,kr=Et?ae.get(Et).bytesPerElement:1,fi=Pe.get(Te).currentProgram.getUniforms();for(let Cr=0;Cr<an;Cr++)fi.setValue(te,"_gl_DrawID",Cr),Xt.render(Gt[Cr]/kr,zn[Cr])}else if(we.isInstancedMesh)Xt.renderInstances(qt,dn,we.count);else if(Me.isInstancedBufferGeometry){const Gt=Me._maxInstanceCount!==void 0?Me._maxInstanceCount:1/0,zn=Math.min(Me.instanceCount,Gt);Xt.renderInstances(qt,dn,zn)}else Xt.render(qt,dn)};function mn(z,ye,Me){z.transparent===!0&&z.side===Eo&&z.forceSinglePass===!1?(z.side=La,z.needsUpdate=!0,oe(z,ye,Me),z.side=Hc,z.needsUpdate=!0,oe(z,ye,Me),z.side=Eo):oe(z,ye,Me)}this.compile=function(z,ye,Me=null){Me===null&&(Me=z),m=lt.get(Me),m.init(ye),_.push(m),Me.traverseVisible(function(we){we.isLight&&we.layers.test(ye.layers)&&(m.pushLight(we),we.castShadow&&m.pushShadow(we))}),z!==Me&&z.traverseVisible(function(we){we.isLight&&we.layers.test(ye.layers)&&(m.pushLight(we),we.castShadow&&m.pushShadow(we))}),m.setupLights();const Te=new Set;return z.traverse(function(we){if(!(we.isMesh||we.isPoints||we.isLine||we.isSprite))return;const Je=we.material;if(Je)if(Array.isArray(Je))for(let xt=0;xt<Je.length;xt++){const vt=Je[xt];mn(vt,Me,we),Te.add(vt)}else mn(Je,Me,we),Te.add(Je)}),m=_.pop(),Te},this.compileAsync=function(z,ye,Me=null){const Te=this.compile(z,ye,Me);return new Promise(we=>{function Je(){if(Te.forEach(function(xt){Pe.get(xt).currentProgram.isReady()&&Te.delete(xt)}),Te.size===0){we(z);return}setTimeout(Je,10)}Z.get("KHR_parallel_shader_compile")!==null?Je():setTimeout(Je,10)})};let nn=null;function Ot(z){nn&&nn(z)}function yr(){sr.stop()}function xa(){sr.start()}const sr=new W8;sr.setAnimationLoop(Ot),typeof self<"u"&&sr.setContext(self),this.setAnimationLoop=function(z){nn=z,ht.setAnimationLoop(z),z===null?sr.stop():sr.start()},ht.addEventListener("sessionstart",yr),ht.addEventListener("sessionend",xa),this.render=function(z,ye){if(ye!==void 0&&ye.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(N===!0)return;if(z.matrixWorldAutoUpdate===!0&&z.updateMatrixWorld(),ye.parent===null&&ye.matrixWorldAutoUpdate===!0&&ye.updateMatrixWorld(),ht.enabled===!0&&ht.isPresenting===!0&&(ht.cameraAutoUpdate===!0&&ht.updateCamera(ye),ye=ht.getCamera()),z.isScene===!0&&z.onBeforeRender(S,z,ye,L),m=lt.get(z,_.length),m.init(ye),_.push(m),re.multiplyMatrices(ye.projectionMatrix,ye.matrixWorldInverse),O.setFromProjectionMatrix(re,Mo,ye.reversedDepth),K=this.localClippingEnabled,I=Ue.init(this.clippingPlanes,K),v=Fe.get(z,b.length),v.init(),b.push(v),ht.enabled===!0&&ht.isPresenting===!0){const Je=S.xr.getDepthSensingMesh();Je!==null&&ui(Je,ye,-1/0,S.sortObjects)}ui(z,ye,0,S.sortObjects),v.finish(),S.sortObjects===!0&&v.sort(H,xe),ve=ht.enabled===!1||ht.isPresenting===!1||ht.hasDepthSensing()===!1,ve&&yt.addToRenderList(v,z),this.info.render.frame++,I===!0&&Ue.beginShadows();const Me=m.state.shadowsArray;tt.render(Me,z,ye),I===!0&&Ue.endShadows(),this.info.autoReset===!0&&this.info.reset();const Te=v.opaque,we=v.transmissive;if(m.setupLights(),ye.isArrayCamera){const Je=ye.cameras;if(we.length>0)for(let xt=0,vt=Je.length;xt<vt;xt++){const Et=Je[xt];hr(Te,we,z,Et)}ve&&yt.render(z);for(let xt=0,vt=Je.length;xt<vt;xt++){const Et=Je[xt];Wn(v,z,Et,Et.viewport)}}else we.length>0&&hr(Te,we,z,ye),ve&&yt.render(z),Wn(v,z,ye);L!==null&&T===0&&(nt.updateMultisampleRenderTarget(L),nt.updateRenderTargetMipmap(L)),z.isScene===!0&&z.onAfterRender(S,z,ye),st.resetDefaultState(),E=-1,R=null,_.pop(),_.length>0?(m=_[_.length-1],I===!0&&Ue.setGlobalState(S.clippingPlanes,m.state.camera)):m=null,b.pop(),b.length>0?v=b[b.length-1]:v=null};function ui(z,ye,Me,Te){if(z.visible===!1)return;if(z.layers.test(ye.layers)){if(z.isGroup)Me=z.renderOrder;else if(z.isLOD)z.autoUpdate===!0&&z.update(ye);else if(z.isLight)m.pushLight(z),z.castShadow&&m.pushShadow(z);else if(z.isSprite){if(!z.frustumCulled||O.intersectsSprite(z)){Te&&ue.setFromMatrixPosition(z.matrixWorld).applyMatrix4(re);const xt=ke.update(z),vt=z.material;vt.visible&&v.push(z,xt,vt,Me,ue.z,null)}}else if((z.isMesh||z.isLine||z.isPoints)&&(!z.frustumCulled||O.intersectsObject(z))){const xt=ke.update(z),vt=z.material;if(Te&&(z.boundingSphere!==void 0?(z.boundingSphere===null&&z.computeBoundingSphere(),ue.copy(z.boundingSphere.center)):(xt.boundingSphere===null&&xt.computeBoundingSphere(),ue.copy(xt.boundingSphere.center)),ue.applyMatrix4(z.matrixWorld).applyMatrix4(re)),Array.isArray(vt)){const Et=xt.groups;for(let jt=0,zt=Et.length;jt<zt;jt++){const Lt=Et[jt],qt=vt[Lt.materialIndex];qt&&qt.visible&&v.push(z,xt,qt,Me,ue.z,Lt)}}else vt.visible&&v.push(z,xt,vt,Me,ue.z,null)}}const Je=z.children;for(let xt=0,vt=Je.length;xt<vt;xt++)ui(Je[xt],ye,Me,Te)}function Wn(z,ye,Me,Te){const we=z.opaque,Je=z.transmissive,xt=z.transparent;m.setupLightsView(Me),I===!0&&Ue.setGlobalState(S.clippingPlanes,Me),Te&&Ce.viewport(A.copy(Te)),we.length>0&&J(we,ye,Me),Je.length>0&&J(Je,ye,Me),xt.length>0&&J(xt,ye,Me),Ce.buffers.depth.setTest(!0),Ce.buffers.depth.setMask(!0),Ce.buffers.color.setMask(!0),Ce.setPolygonOffset(!1)}function hr(z,ye,Me,Te){if((Me.isScene===!0?Me.overrideMaterial:null)!==null)return;m.state.transmissionRenderTarget[Te.id]===void 0&&(m.state.transmissionRenderTarget[Te.id]=new sf(1,1,{generateMipmaps:!0,type:Z.has("EXT_color_buffer_half_float")||Z.has("EXT_color_buffer_float")?om:Fo,minFilter:Iu,samples:4,stencilBuffer:a,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Cn.workingColorSpace}));const Je=m.state.transmissionRenderTarget[Te.id],xt=Te.viewport||A;Je.setSize(xt.z*S.transmissionResolutionScale,xt.w*S.transmissionResolutionScale);const vt=S.getRenderTarget(),Et=S.getActiveCubeFace(),jt=S.getActiveMipmapLevel();S.setRenderTarget(Je),S.getClearColor(V),X=S.getClearAlpha(),X<1&&S.setClearColor(16777215,.5),S.clear(),ve&&yt.render(Me);const zt=S.toneMapping;S.toneMapping=Fc;const Lt=Te.viewport;if(Te.viewport!==void 0&&(Te.viewport=void 0),m.setupLightsView(Te),I===!0&&Ue.setGlobalState(S.clippingPlanes,Te),J(z,Me,Te),nt.updateMultisampleRenderTarget(Je),nt.updateRenderTargetMipmap(Je),Z.has("WEBGL_multisampled_render_to_texture")===!1){let qt=!1;for(let gn=0,dn=ye.length;gn<dn;gn++){const Fn=ye[gn],Xt=Fn.object,Gt=Fn.geometry,zn=Fn.material,an=Fn.group;if(zn.side===Eo&&Xt.layers.test(Te.layers)){const kr=zn.side;zn.side=La,zn.needsUpdate=!0,fe(Xt,Me,Te,Gt,zn,an),zn.side=kr,zn.needsUpdate=!0,qt=!0}}qt===!0&&(nt.updateMultisampleRenderTarget(Je),nt.updateRenderTargetMipmap(Je))}S.setRenderTarget(vt,Et,jt),S.setClearColor(V,X),Lt!==void 0&&(Te.viewport=Lt),S.toneMapping=zt}function J(z,ye,Me){const Te=ye.isScene===!0?ye.overrideMaterial:null;for(let we=0,Je=z.length;we<Je;we++){const xt=z[we],vt=xt.object,Et=xt.geometry,jt=xt.group;let zt=xt.material;zt.allowOverride===!0&&Te!==null&&(zt=Te),vt.layers.test(Me.layers)&&fe(vt,ye,Me,Et,zt,jt)}}function fe(z,ye,Me,Te,we,Je){z.onBeforeRender(S,ye,Me,Te,we,Je),z.modelViewMatrix.multiplyMatrices(Me.matrixWorldInverse,z.matrixWorld),z.normalMatrix.getNormalMatrix(z.modelViewMatrix),we.onBeforeRender(S,ye,Me,Te,z,Je),we.transparent===!0&&we.side===Eo&&we.forceSinglePass===!1?(we.side=La,we.needsUpdate=!0,S.renderBufferDirect(Me,ye,Te,we,z,Je),we.side=Hc,we.needsUpdate=!0,S.renderBufferDirect(Me,ye,Te,we,z,Je),we.side=Eo):S.renderBufferDirect(Me,ye,Te,we,z,Je),z.onAfterRender(S,ye,Me,Te,we,Je)}function oe(z,ye,Me){ye.isScene!==!0&&(ye=be);const Te=Pe.get(z),we=m.state.lights,Je=m.state.shadowsArray,xt=we.state.version,vt=Oe.getParameters(z,we.state,Je,ye,Me),Et=Oe.getProgramCacheKey(vt);let jt=Te.programs;Te.environment=z.isMeshStandardMaterial?ye.environment:null,Te.fog=ye.fog,Te.envMap=(z.isMeshStandardMaterial?Tt:ft).get(z.envMap||Te.environment),Te.envMapRotation=Te.environment!==null&&z.envMap===null?ye.environmentRotation:z.envMapRotation,jt===void 0&&(z.addEventListener("dispose",Ye),jt=new Map,Te.programs=jt);let zt=jt.get(Et);if(zt!==void 0){if(Te.currentProgram===zt&&Te.lightsStateVersion===xt)return he(z,vt),zt}else vt.uniforms=Oe.getUniforms(z),z.onBeforeCompile(vt,S),zt=Oe.acquireProgram(vt,Et),jt.set(Et,zt),Te.uniforms=vt.uniforms;const Lt=Te.uniforms;return(!z.isShaderMaterial&&!z.isRawShaderMaterial||z.clipping===!0)&&(Lt.clippingPlanes=Ue.uniform),he(z,vt),Te.needsLights=Qe(z),Te.lightsStateVersion=xt,Te.needsLights&&(Lt.ambientLightColor.value=we.state.ambient,Lt.lightProbe.value=we.state.probe,Lt.directionalLights.value=we.state.directional,Lt.directionalLightShadows.value=we.state.directionalShadow,Lt.spotLights.value=we.state.spot,Lt.spotLightShadows.value=we.state.spotShadow,Lt.rectAreaLights.value=we.state.rectArea,Lt.ltc_1.value=we.state.rectAreaLTC1,Lt.ltc_2.value=we.state.rectAreaLTC2,Lt.pointLights.value=we.state.point,Lt.pointLightShadows.value=we.state.pointShadow,Lt.hemisphereLights.value=we.state.hemi,Lt.directionalShadowMap.value=we.state.directionalShadowMap,Lt.directionalShadowMatrix.value=we.state.directionalShadowMatrix,Lt.spotShadowMap.value=we.state.spotShadowMap,Lt.spotLightMatrix.value=we.state.spotLightMatrix,Lt.spotLightMap.value=we.state.spotLightMap,Lt.pointShadowMap.value=we.state.pointShadowMap,Lt.pointShadowMatrix.value=we.state.pointShadowMatrix),Te.currentProgram=zt,Te.uniformsList=null,zt}function ce(z){if(z.uniformsList===null){const ye=z.currentProgram.getUniforms();z.uniformsList=k1.seqWithValue(ye.seq,z.uniforms)}return z.uniformsList}function he(z,ye){const Me=Pe.get(z);Me.outputColorSpace=ye.outputColorSpace,Me.batching=ye.batching,Me.batchingColor=ye.batchingColor,Me.instancing=ye.instancing,Me.instancingColor=ye.instancingColor,Me.instancingMorph=ye.instancingMorph,Me.skinning=ye.skinning,Me.morphTargets=ye.morphTargets,Me.morphNormals=ye.morphNormals,Me.morphColors=ye.morphColors,Me.morphTargetsCount=ye.morphTargetsCount,Me.numClippingPlanes=ye.numClippingPlanes,Me.numIntersection=ye.numClipIntersection,Me.vertexAlphas=ye.vertexAlphas,Me.vertexTangents=ye.vertexTangents,Me.toneMapping=ye.toneMapping}function ge(z,ye,Me,Te,we){ye.isScene!==!0&&(ye=be),nt.resetTextureUnits();const Je=ye.fog,xt=Te.isMeshStandardMaterial?ye.environment:null,vt=L===null?S.outputColorSpace:L.isXRRenderTarget===!0?L.texture.colorSpace:td,Et=(Te.isMeshStandardMaterial?Tt:ft).get(Te.envMap||xt),jt=Te.vertexColors===!0&&!!Me.attributes.color&&Me.attributes.color.itemSize===4,zt=!!Me.attributes.tangent&&(!!Te.normalMap||Te.anisotropy>0),Lt=!!Me.morphAttributes.position,qt=!!Me.morphAttributes.normal,gn=!!Me.morphAttributes.color;let dn=Fc;Te.toneMapped&&(L===null||L.isXRRenderTarget===!0)&&(dn=S.toneMapping);const Fn=Me.morphAttributes.position||Me.morphAttributes.normal||Me.morphAttributes.color,Xt=Fn!==void 0?Fn.length:0,Gt=Pe.get(Te),zn=m.state.lights;if(I===!0&&(K===!0||z!==R)){const Kr=z===R&&Te.id===E;Ue.setState(Te,z,Kr)}let an=!1;Te.version===Gt.__version?(Gt.needsLights&&Gt.lightsStateVersion!==zn.state.version||Gt.outputColorSpace!==vt||we.isBatchedMesh&&Gt.batching===!1||!we.isBatchedMesh&&Gt.batching===!0||we.isBatchedMesh&&Gt.batchingColor===!0&&we.colorTexture===null||we.isBatchedMesh&&Gt.batchingColor===!1&&we.colorTexture!==null||we.isInstancedMesh&&Gt.instancing===!1||!we.isInstancedMesh&&Gt.instancing===!0||we.isSkinnedMesh&&Gt.skinning===!1||!we.isSkinnedMesh&&Gt.skinning===!0||we.isInstancedMesh&&Gt.instancingColor===!0&&we.instanceColor===null||we.isInstancedMesh&&Gt.instancingColor===!1&&we.instanceColor!==null||we.isInstancedMesh&&Gt.instancingMorph===!0&&we.morphTexture===null||we.isInstancedMesh&&Gt.instancingMorph===!1&&we.morphTexture!==null||Gt.envMap!==Et||Te.fog===!0&&Gt.fog!==Je||Gt.numClippingPlanes!==void 0&&(Gt.numClippingPlanes!==Ue.numPlanes||Gt.numIntersection!==Ue.numIntersection)||Gt.vertexAlphas!==jt||Gt.vertexTangents!==zt||Gt.morphTargets!==Lt||Gt.morphNormals!==qt||Gt.morphColors!==gn||Gt.toneMapping!==dn||Gt.morphTargetsCount!==Xt)&&(an=!0):(an=!0,Gt.__version=Te.version);let kr=Gt.currentProgram;an===!0&&(kr=oe(Te,ye,we));let fi=!1,Cr=!1,Gn=!1;const Dn=kr.getUniforms(),Pi=Gt.uniforms;if(Ce.useProgram(kr.program)&&(fi=!0,Cr=!0,Gn=!0),Te.id!==E&&(E=Te.id,Cr=!0),fi||R!==z){Ce.buffers.depth.getReversed()&&z.reversedDepth!==!0&&(z._reversedDepth=!0,z.updateProjectionMatrix()),Dn.setValue(te,"projectionMatrix",z.projectionMatrix),Dn.setValue(te,"viewMatrix",z.matrixWorldInverse);const er=Dn.map.cameraPosition;er!==void 0&&er.setValue(te,_e.setFromMatrixPosition(z.matrixWorld)),qe.logarithmicDepthBuffer&&Dn.setValue(te,"logDepthBufFC",2/(Math.log(z.far+1)/Math.LN2)),(Te.isMeshPhongMaterial||Te.isMeshToonMaterial||Te.isMeshLambertMaterial||Te.isMeshBasicMaterial||Te.isMeshStandardMaterial||Te.isShaderMaterial)&&Dn.setValue(te,"isOrthographic",z.isOrthographicCamera===!0),R!==z&&(R=z,Cr=!0,Gn=!0)}if(we.isSkinnedMesh){Dn.setOptional(te,we,"bindMatrix"),Dn.setOptional(te,we,"bindMatrixInverse");const Kr=we.skeleton;Kr&&(Kr.boneTexture===null&&Kr.computeBoneTexture(),Dn.setValue(te,"boneTexture",Kr.boneTexture,nt))}we.isBatchedMesh&&(Dn.setOptional(te,we,"batchingTexture"),Dn.setValue(te,"batchingTexture",we._matricesTexture,nt),Dn.setOptional(te,we,"batchingIdTexture"),Dn.setValue(te,"batchingIdTexture",we._indirectTexture,nt),Dn.setOptional(te,we,"batchingColorTexture"),we._colorsTexture!==null&&Dn.setValue(te,"batchingColorTexture",we._colorsTexture,nt));const Li=Me.morphAttributes;if((Li.position!==void 0||Li.normal!==void 0||Li.color!==void 0)&&Ke.update(we,Me,kr),(Cr||Gt.receiveShadow!==we.receiveShadow)&&(Gt.receiveShadow=we.receiveShadow,Dn.setValue(te,"receiveShadow",we.receiveShadow)),Te.isMeshGouraudMaterial&&Te.envMap!==null&&(Pi.envMap.value=Et,Pi.flipEnvMap.value=Et.isCubeTexture&&Et.isRenderTargetTexture===!1?-1:1),Te.isMeshStandardMaterial&&Te.envMap===null&&ye.environment!==null&&(Pi.envMapIntensity.value=ye.environmentIntensity),Cr&&(Dn.setValue(te,"toneMappingExposure",S.toneMappingExposure),Gt.needsLights&&je(Pi,Gn),Je&&Te.fog===!0&&it.refreshFogUniforms(Pi,Je),it.refreshMaterialUniforms(Pi,Te,B,se,m.state.transmissionRenderTarget[z.id]),k1.upload(te,ce(Gt),Pi,nt)),Te.isShaderMaterial&&Te.uniformsNeedUpdate===!0&&(k1.upload(te,ce(Gt),Pi,nt),Te.uniformsNeedUpdate=!1),Te.isSpriteMaterial&&Dn.setValue(te,"center",we.center),Dn.setValue(te,"modelViewMatrix",we.modelViewMatrix),Dn.setValue(te,"normalMatrix",we.normalMatrix),Dn.setValue(te,"modelMatrix",we.matrixWorld),Te.isShaderMaterial||Te.isRawShaderMaterial){const Kr=Te.uniformsGroups;for(let er=0,Il=Kr.length;er<Il;er++){const os=Kr[er];Mt.update(os,kr),Mt.bind(os,kr)}}return kr}function je(z,ye){z.ambientLightColor.needsUpdate=ye,z.lightProbe.needsUpdate=ye,z.directionalLights.needsUpdate=ye,z.directionalLightShadows.needsUpdate=ye,z.pointLights.needsUpdate=ye,z.pointLightShadows.needsUpdate=ye,z.spotLights.needsUpdate=ye,z.spotLightShadows.needsUpdate=ye,z.rectAreaLights.needsUpdate=ye,z.hemisphereLights.needsUpdate=ye}function Qe(z){return z.isMeshLambertMaterial||z.isMeshToonMaterial||z.isMeshPhongMaterial||z.isMeshStandardMaterial||z.isShadowMaterial||z.isShaderMaterial&&z.lights===!0}this.getActiveCubeFace=function(){return P},this.getActiveMipmapLevel=function(){return T},this.getRenderTarget=function(){return L},this.setRenderTargetTextures=function(z,ye,Me){const Te=Pe.get(z);Te.__autoAllocateDepthBuffer=z.resolveDepthBuffer===!1,Te.__autoAllocateDepthBuffer===!1&&(Te.__useRenderToTexture=!1),Pe.get(z.texture).__webglTexture=ye,Pe.get(z.depthTexture).__webglTexture=Te.__autoAllocateDepthBuffer?void 0:Me,Te.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(z,ye){const Me=Pe.get(z);Me.__webglFramebuffer=ye,Me.__useDefaultFramebuffer=ye===void 0};const ze=te.createFramebuffer();this.setRenderTarget=function(z,ye=0,Me=0){L=z,P=ye,T=Me;let Te=!0,we=null,Je=!1,xt=!1;if(z){const Et=Pe.get(z);if(Et.__useDefaultFramebuffer!==void 0)Ce.bindFramebuffer(te.FRAMEBUFFER,null),Te=!1;else if(Et.__webglFramebuffer===void 0)nt.setupRenderTarget(z);else if(Et.__hasExternalTextures)nt.rebindTextures(z,Pe.get(z.texture).__webglTexture,Pe.get(z.depthTexture).__webglTexture);else if(z.depthBuffer){const Lt=z.depthTexture;if(Et.__boundDepthTexture!==Lt){if(Lt!==null&&Pe.has(Lt)&&(z.width!==Lt.image.width||z.height!==Lt.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");nt.setupDepthRenderbuffer(z)}}const jt=z.texture;(jt.isData3DTexture||jt.isDataArrayTexture||jt.isCompressedArrayTexture)&&(xt=!0);const zt=Pe.get(z).__webglFramebuffer;z.isWebGLCubeRenderTarget?(Array.isArray(zt[ye])?we=zt[ye][Me]:we=zt[ye],Je=!0):z.samples>0&&nt.useMultisampledRTT(z)===!1?we=Pe.get(z).__webglMultisampledFramebuffer:Array.isArray(zt)?we=zt[Me]:we=zt,A.copy(z.viewport),F.copy(z.scissor),j=z.scissorTest}else A.copy(Se).multiplyScalar(B).floor(),F.copy(k).multiplyScalar(B).floor(),j=U;if(Me!==0&&(we=ze),Ce.bindFramebuffer(te.FRAMEBUFFER,we)&&Te&&Ce.drawBuffers(z,we),Ce.viewport(A),Ce.scissor(F),Ce.setScissorTest(j),Je){const Et=Pe.get(z.texture);te.framebufferTexture2D(te.FRAMEBUFFER,te.COLOR_ATTACHMENT0,te.TEXTURE_CUBE_MAP_POSITIVE_X+ye,Et.__webglTexture,Me)}else if(xt){const Et=ye;for(let jt=0;jt<z.textures.length;jt++){const zt=Pe.get(z.textures[jt]);te.framebufferTextureLayer(te.FRAMEBUFFER,te.COLOR_ATTACHMENT0+jt,zt.__webglTexture,Me,Et)}}else if(z!==null&&Me!==0){const Et=Pe.get(z.texture);te.framebufferTexture2D(te.FRAMEBUFFER,te.COLOR_ATTACHMENT0,te.TEXTURE_2D,Et.__webglTexture,Me)}E=-1},this.readRenderTargetPixels=function(z,ye,Me,Te,we,Je,xt,vt=0){if(!(z&&z.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Et=Pe.get(z).__webglFramebuffer;if(z.isWebGLCubeRenderTarget&&xt!==void 0&&(Et=Et[xt]),Et){Ce.bindFramebuffer(te.FRAMEBUFFER,Et);try{const jt=z.textures[vt],zt=jt.format,Lt=jt.type;if(!qe.textureFormatReadable(zt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!qe.textureTypeReadable(Lt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ye>=0&&ye<=z.width-Te&&Me>=0&&Me<=z.height-we&&(z.textures.length>1&&te.readBuffer(te.COLOR_ATTACHMENT0+vt),te.readPixels(ye,Me,Te,we,At.convert(zt),At.convert(Lt),Je))}finally{const jt=L!==null?Pe.get(L).__webglFramebuffer:null;Ce.bindFramebuffer(te.FRAMEBUFFER,jt)}}},this.readRenderTargetPixelsAsync=async function(z,ye,Me,Te,we,Je,xt,vt=0){if(!(z&&z.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Et=Pe.get(z).__webglFramebuffer;if(z.isWebGLCubeRenderTarget&&xt!==void 0&&(Et=Et[xt]),Et)if(ye>=0&&ye<=z.width-Te&&Me>=0&&Me<=z.height-we){Ce.bindFramebuffer(te.FRAMEBUFFER,Et);const jt=z.textures[vt],zt=jt.format,Lt=jt.type;if(!qe.textureFormatReadable(zt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!qe.textureTypeReadable(Lt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const qt=te.createBuffer();te.bindBuffer(te.PIXEL_PACK_BUFFER,qt),te.bufferData(te.PIXEL_PACK_BUFFER,Je.byteLength,te.STREAM_READ),z.textures.length>1&&te.readBuffer(te.COLOR_ATTACHMENT0+vt),te.readPixels(ye,Me,Te,we,At.convert(zt),At.convert(Lt),0);const gn=L!==null?Pe.get(L).__webglFramebuffer:null;Ce.bindFramebuffer(te.FRAMEBUFFER,gn);const dn=te.fenceSync(te.SYNC_GPU_COMMANDS_COMPLETE,0);return te.flush(),await Ree(te,dn,4),te.bindBuffer(te.PIXEL_PACK_BUFFER,qt),te.getBufferSubData(te.PIXEL_PACK_BUFFER,0,Je),te.deleteBuffer(qt),te.deleteSync(dn),Je}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(z,ye=null,Me=0){const Te=Math.pow(2,-Me),we=Math.floor(z.image.width*Te),Je=Math.floor(z.image.height*Te),xt=ye!==null?ye.x:0,vt=ye!==null?ye.y:0;nt.setTexture2D(z,0),te.copyTexSubImage2D(te.TEXTURE_2D,Me,0,0,xt,vt,we,Je),Ce.unbindTexture()};const He=te.createFramebuffer(),Ge=te.createFramebuffer();this.copyTextureToTexture=function(z,ye,Me=null,Te=null,we=0,Je=null){Je===null&&(we!==0?(Ph("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),Je=we,we=0):Je=0);let xt,vt,Et,jt,zt,Lt,qt,gn,dn;const Fn=z.isCompressedTexture?z.mipmaps[Je]:z.image;if(Me!==null)xt=Me.max.x-Me.min.x,vt=Me.max.y-Me.min.y,Et=Me.isBox3?Me.max.z-Me.min.z:1,jt=Me.min.x,zt=Me.min.y,Lt=Me.isBox3?Me.min.z:0;else{const Li=Math.pow(2,-we);xt=Math.floor(Fn.width*Li),vt=Math.floor(Fn.height*Li),z.isDataArrayTexture?Et=Fn.depth:z.isData3DTexture?Et=Math.floor(Fn.depth*Li):Et=1,jt=0,zt=0,Lt=0}Te!==null?(qt=Te.x,gn=Te.y,dn=Te.z):(qt=0,gn=0,dn=0);const Xt=At.convert(ye.format),Gt=At.convert(ye.type);let zn;ye.isData3DTexture?(nt.setTexture3D(ye,0),zn=te.TEXTURE_3D):ye.isDataArrayTexture||ye.isCompressedArrayTexture?(nt.setTexture2DArray(ye,0),zn=te.TEXTURE_2D_ARRAY):(nt.setTexture2D(ye,0),zn=te.TEXTURE_2D),te.pixelStorei(te.UNPACK_FLIP_Y_WEBGL,ye.flipY),te.pixelStorei(te.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ye.premultiplyAlpha),te.pixelStorei(te.UNPACK_ALIGNMENT,ye.unpackAlignment);const an=te.getParameter(te.UNPACK_ROW_LENGTH),kr=te.getParameter(te.UNPACK_IMAGE_HEIGHT),fi=te.getParameter(te.UNPACK_SKIP_PIXELS),Cr=te.getParameter(te.UNPACK_SKIP_ROWS),Gn=te.getParameter(te.UNPACK_SKIP_IMAGES);te.pixelStorei(te.UNPACK_ROW_LENGTH,Fn.width),te.pixelStorei(te.UNPACK_IMAGE_HEIGHT,Fn.height),te.pixelStorei(te.UNPACK_SKIP_PIXELS,jt),te.pixelStorei(te.UNPACK_SKIP_ROWS,zt),te.pixelStorei(te.UNPACK_SKIP_IMAGES,Lt);const Dn=z.isDataArrayTexture||z.isData3DTexture,Pi=ye.isDataArrayTexture||ye.isData3DTexture;if(z.isDepthTexture){const Li=Pe.get(z),Kr=Pe.get(ye),er=Pe.get(Li.__renderTarget),Il=Pe.get(Kr.__renderTarget);Ce.bindFramebuffer(te.READ_FRAMEBUFFER,er.__webglFramebuffer),Ce.bindFramebuffer(te.DRAW_FRAMEBUFFER,Il.__webglFramebuffer);for(let os=0;os<Et;os++)Dn&&(te.framebufferTextureLayer(te.READ_FRAMEBUFFER,te.COLOR_ATTACHMENT0,Pe.get(z).__webglTexture,we,Lt+os),te.framebufferTextureLayer(te.DRAW_FRAMEBUFFER,te.COLOR_ATTACHMENT0,Pe.get(ye).__webglTexture,Je,dn+os)),te.blitFramebuffer(jt,zt,xt,vt,qt,gn,xt,vt,te.DEPTH_BUFFER_BIT,te.NEAREST);Ce.bindFramebuffer(te.READ_FRAMEBUFFER,null),Ce.bindFramebuffer(te.DRAW_FRAMEBUFFER,null)}else if(we!==0||z.isRenderTargetTexture||Pe.has(z)){const Li=Pe.get(z),Kr=Pe.get(ye);Ce.bindFramebuffer(te.READ_FRAMEBUFFER,He),Ce.bindFramebuffer(te.DRAW_FRAMEBUFFER,Ge);for(let er=0;er<Et;er++)Dn?te.framebufferTextureLayer(te.READ_FRAMEBUFFER,te.COLOR_ATTACHMENT0,Li.__webglTexture,we,Lt+er):te.framebufferTexture2D(te.READ_FRAMEBUFFER,te.COLOR_ATTACHMENT0,te.TEXTURE_2D,Li.__webglTexture,we),Pi?te.framebufferTextureLayer(te.DRAW_FRAMEBUFFER,te.COLOR_ATTACHMENT0,Kr.__webglTexture,Je,dn+er):te.framebufferTexture2D(te.DRAW_FRAMEBUFFER,te.COLOR_ATTACHMENT0,te.TEXTURE_2D,Kr.__webglTexture,Je),we!==0?te.blitFramebuffer(jt,zt,xt,vt,qt,gn,xt,vt,te.COLOR_BUFFER_BIT,te.NEAREST):Pi?te.copyTexSubImage3D(zn,Je,qt,gn,dn+er,jt,zt,xt,vt):te.copyTexSubImage2D(zn,Je,qt,gn,jt,zt,xt,vt);Ce.bindFramebuffer(te.READ_FRAMEBUFFER,null),Ce.bindFramebuffer(te.DRAW_FRAMEBUFFER,null)}else Pi?z.isDataTexture||z.isData3DTexture?te.texSubImage3D(zn,Je,qt,gn,dn,xt,vt,Et,Xt,Gt,Fn.data):ye.isCompressedArrayTexture?te.compressedTexSubImage3D(zn,Je,qt,gn,dn,xt,vt,Et,Xt,Fn.data):te.texSubImage3D(zn,Je,qt,gn,dn,xt,vt,Et,Xt,Gt,Fn):z.isDataTexture?te.texSubImage2D(te.TEXTURE_2D,Je,qt,gn,xt,vt,Xt,Gt,Fn.data):z.isCompressedTexture?te.compressedTexSubImage2D(te.TEXTURE_2D,Je,qt,gn,Fn.width,Fn.height,Xt,Fn.data):te.texSubImage2D(te.TEXTURE_2D,Je,qt,gn,xt,vt,Xt,Gt,Fn);te.pixelStorei(te.UNPACK_ROW_LENGTH,an),te.pixelStorei(te.UNPACK_IMAGE_HEIGHT,kr),te.pixelStorei(te.UNPACK_SKIP_PIXELS,fi),te.pixelStorei(te.UNPACK_SKIP_ROWS,Cr),te.pixelStorei(te.UNPACK_SKIP_IMAGES,Gn),Je===0&&ye.generateMipmaps&&te.generateMipmap(zn),Ce.unbindTexture()},this.copyTextureToTexture3D=function(z,ye,Me=null,Te=null,we=0){return Ph('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(z,ye,Me,Te,we)},this.initRenderTarget=function(z){Pe.get(z).__webglFramebuffer===void 0&&nt.setupRenderTarget(z)},this.initTexture=function(z){z.isCubeTexture?nt.setTextureCube(z,0):z.isData3DTexture?nt.setTexture3D(z,0):z.isDataArrayTexture||z.isCompressedArrayTexture?nt.setTexture2DArray(z,0):nt.setTexture2D(z,0),Ce.unbindTexture()},this.resetState=function(){P=0,T=0,L=null,Ce.reset(),st.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Mo}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=Cn._getDrawingBufferColorSpace(e),n.unpackColorSpace=Cn._getUnpackColorSpace()}}const Zae="modulepreload",Qae=function(t){return"/Excel-Analytics/"+t},fN={},Wy=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=Qae(l),l in fN)return;fN[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":Zae,c||(f.as="script"),f.crossOrigin="",f.href=l,o&&f.setAttribute("nonce",o),document.head.appendChild(f),c)return new Promise((d,h)=>{f.addEventListener("load",d),f.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return i.then(s=>{for(const o of s||[])o.status==="rejected"&&a(o.reason);return e().catch(a)})};function Bn(t){"@babel/helpers - typeof";return Bn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bn(t)}var to=Uint8Array,ts=Uint16Array,u3=Int32Array,f3=new to([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),h3=new to([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),hN=new to([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),K8=function(t,e){for(var n=new ts(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new u3(n[30]),r=1;r<30;++r)for(var a=n[r];a<n[r+1];++a)i[a]=a-n[r]<<5|r;return{b:n,r:i}},J8=K8(f3,2),ese=J8.b,zw=J8.r;ese[28]=258,zw[258]=28;var tse=K8(h3,0),dN=tse.r,Hw=new ts(32768);for(var rr=0;rr<32768;++rr){var ic=(rr&43690)>>1|(rr&21845)<<1;ic=(ic&52428)>>2|(ic&13107)<<2,ic=(ic&61680)>>4|(ic&3855)<<4,Hw[rr]=((ic&65280)>>8|(ic&255)<<8)>>1}var Y0=function(t,e,n){for(var r=t.length,i=0,a=new ts(e);i<r;++i)t[i]&&++a[t[i]-1];var s=new ts(e);for(i=1;i<e;++i)s[i]=s[i-1]+a[i-1]<<1;var o;if(n){o=new ts(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var c=i<<4|t[i],u=e-t[i],f=s[t[i]-1]++<<u,d=f|(1<<u)-1;f<=d;++f)o[Hw[f]>>l]=c}else for(o=new ts(r),i=0;i<r;++i)t[i]&&(o[i]=Hw[s[t[i]-1]++]>>15-t[i]);return o},of=new to(288);for(var rr=0;rr<144;++rr)of[rr]=8;for(var rr=144;rr<256;++rr)of[rr]=9;for(var rr=256;rr<280;++rr)of[rr]=7;for(var rr=280;rr<288;++rr)of[rr]=8;var Ix=new to(32);for(var rr=0;rr<32;++rr)Ix[rr]=5;var nse=Y0(of,9,0),rse=Y0(Ix,5,0),Z8=function(t){return(t+7)/8|0},ise=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new to(t.subarray(e,n))},rl=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},c0=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},Gy=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,a=n.slice();if(!i)return{t:eF,l:0};if(i==1){var s=new to(n[0].s+1);return s[n[0].s]=1,{t:s,l:1}}n.sort(function(N,P){return N.f-P.f}),n.push({s:-1,f:25001});var o=n[0],l=n[1],c=0,u=1,f=2;for(n[0]={s:-1,f:o.f+l.f,l:o,r:l};u!=i-1;)o=n[n[c].f<n[f].f?c++:f++],l=n[c!=u&&n[c].f<n[f].f?c++:f++],n[u++]={s:-1,f:o.f+l.f,l:o,r:l};for(var d=a[0].s,r=1;r<i;++r)a[r].s>d&&(d=a[r].s);var h=new ts(d+1),g=Vw(n[u-1],h,0);if(g>e){var r=0,x=0,v=g-e,m=1<<v;for(a.sort(function(P,T){return h[T.s]-h[P.s]||P.f-T.f});r<i;++r){var b=a[r].s;if(h[b]>e)x+=m-(1<<g-h[b]),h[b]=e;else break}for(x>>=v;x>0;){var _=a[r].s;h[_]<e?x-=1<<e-h[_]++-1:++r}for(;r>=0&&x;--r){var S=a[r].s;h[S]==e&&(--h[S],++x)}g=e}return{t:new to(h),l:g}},Vw=function(t,e,n){return t.s==-1?Math.max(Vw(t.l,e,n+1),Vw(t.r,e,n+1)):e[t.s]=n},pN=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new ts(++e),r=0,i=t[0],a=1,s=function(l){n[r++]=l},o=1;o<=e;++o)if(t[o]==i&&o!=e)++a;else{if(!i&&a>2){for(;a>138;a-=138)s(32754);a>2&&(s(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(s(i),--a;a>6;a-=6)s(8304);a>2&&(s(a-3<<5|8208),a=0)}for(;a--;)s(i);a=1,i=t[o]}return{c:n.subarray(0,r),n:e}},u0=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},Q8=function(t,e,n){var r=n.length,i=Z8(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var a=0;a<r;++a)t[i+a+4]=n[a];return(i+4+r)*8},mN=function(t,e,n,r,i,a,s,o,l,c,u){rl(e,u++,n),++i[256];for(var f=Gy(i,15),d=f.t,h=f.l,g=Gy(a,15),x=g.t,v=g.l,m=pN(d),b=m.c,_=m.n,S=pN(x),N=S.c,P=S.n,T=new ts(19),L=0;L<b.length;++L)++T[b[L]&31];for(var L=0;L<N.length;++L)++T[N[L]&31];for(var E=Gy(T,7),R=E.t,A=E.l,F=19;F>4&&!R[hN[F-1]];--F);var j=c+5<<3,V=u0(i,of)+u0(a,Ix)+s,X=u0(i,d)+u0(a,x)+s+14+3*F+u0(T,R)+2*T[16]+3*T[17]+7*T[18];if(l>=0&&j<=V&&j<=X)return Q8(e,u,t.subarray(l,l+c));var ee,se,B,H;if(rl(e,u,1+(X<V)),u+=2,X<V){ee=Y0(d,h,0),se=d,B=Y0(x,v,0),H=x;var xe=Y0(R,A,0);rl(e,u,_-257),rl(e,u+5,P-1),rl(e,u+10,F-4),u+=14;for(var L=0;L<F;++L)rl(e,u+3*L,R[hN[L]]);u+=3*F;for(var Se=[b,N],k=0;k<2;++k)for(var U=Se[k],L=0;L<U.length;++L){var O=U[L]&31;rl(e,u,xe[O]),u+=R[O],O>15&&(rl(e,u,U[L]>>5&127),u+=U[L]>>12)}}else ee=nse,se=of,B=rse,H=Ix;for(var L=0;L<o;++L){var I=r[L];if(I>255){var O=I>>18&31;c0(e,u,ee[O+257]),u+=se[O+257],O>7&&(rl(e,u,I>>23&31),u+=f3[O]);var K=I&31;c0(e,u,B[K]),u+=H[K],K>3&&(c0(e,u,I>>5&8191),u+=h3[K])}else c0(e,u,ee[I]),u+=se[I]}return c0(e,u,ee[256]),u+se[256]},ase=new u3([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),eF=new to(0),sse=function(t,e,n,r,i,a){var s=a.z||t.length,o=new to(r+s+5*(1+Math.ceil(s/7e3))+i),l=o.subarray(r,o.length-i),c=a.l,u=(a.r||0)&7;if(e){u&&(l[0]=a.r>>3);for(var f=ase[e-1],d=f>>13,h=f&8191,g=(1<<n)-1,x=a.p||new ts(32768),v=a.h||new ts(g+1),m=Math.ceil(n/3),b=2*m,_=function(Ee){return(t[Ee]^t[Ee+1]<<m^t[Ee+2]<<b)&g},S=new u3(25e3),N=new ts(288),P=new ts(32),T=0,L=0,E=a.i||0,R=0,A=a.w||0,F=0;E+2<s;++E){var j=_(E),V=E&32767,X=v[j];if(x[V]=X,v[j]=V,A<=E){var ee=s-E;if((T>7e3||R>24576)&&(ee>423||!c)){u=mN(t,l,0,S,N,P,L,R,F,E-F,u),R=T=L=0,F=E;for(var se=0;se<286;++se)N[se]=0;for(var se=0;se<30;++se)P[se]=0}var B=2,H=0,xe=h,Se=V-X&32767;if(ee>2&&j==_(E-Se))for(var k=Math.min(d,ee)-1,U=Math.min(32767,E),O=Math.min(258,ee);Se<=U&&--xe&&V!=X;){if(t[E+B]==t[E+B-Se]){for(var I=0;I<O&&t[E+I]==t[E+I-Se];++I);if(I>B){if(B=I,H=Se,I>k)break;for(var K=Math.min(Se,I-2),re=0,se=0;se<K;++se){var _e=E-Se+se&32767,ue=x[_e],be=_e-ue&32767;be>re&&(re=be,X=_e)}}}V=X,X=x[V],Se+=V-X&32767}if(H){S[R++]=268435456|zw[B]<<18|dN[H];var ve=zw[B]&31,q=dN[H]&31;L+=f3[ve]+h3[q],++N[257+ve],++P[q],A=E+B,++T}else S[R++]=t[E],++N[t[E]]}}for(E=Math.max(E,A);E<s;++E)S[R++]=t[E],++N[t[E]];u=mN(t,l,c,S,N,P,L,R,F,E-F,u),c||(a.r=u&7|l[u/8|0]<<3,u-=7,a.h=v,a.p=x,a.i=E,a.w=A)}else{for(var E=a.w||0;E<s+c;E+=65535){var te=E+65535;te>=s&&(l[u/8|0]=c,te=s),u=Q8(l,u+1,t.subarray(E,te))}a.i=s}return ise(o,0,r+Z8(u)+i)},tF=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,a=n.length|0,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=r+=n[s];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},ose=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),s=new to(a.length+t.length);s.set(a),s.set(t,a.length),t=s,i.w=a.length}return sse(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},nF=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},lse=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=tF();i.p(e.dictionary),nF(t,2,i.d())}};function Ww(t,e){e||(e={});var n=tF();n.p(t);var r=ose(t,e,e.dictionary?6:2,4);return lse(r,e),nF(r,r.length-4,n.d()),r}var cse=typeof TextDecoder<"u"&&new TextDecoder,use=0;try{cse.decode(eF,{stream:!0}),use=1}catch{}function fse(t){if(Array.isArray(t))return t}function hse(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function gN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function dse(t,e){if(t){if(typeof t=="string")return gN(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gN(t,e):void 0}}function pse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xN(t,e){return fse(t)||hse(t,e)||dse(t,e)||pse()}function vN(t,e="utf8"){return new TextDecoder(e).decode(t)}const mse=new TextEncoder;function gse(t){return mse.encode(t)}const xse=1024*8,vse=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),qy={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class d3{constructor(e=xse,n={}){dt(this,"buffer");dt(this,"byteLength");dt(this,"byteOffset");dt(this,"length");dt(this,"offset");dt(this,"lastWrittenByte");dt(this,"littleEndian");dt(this,"_data");dt(this,"_mark");dt(this,"_marks");let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const i=n.offset?n.offset>>>0:0,a=e.byteLength-i;let s=i;(ArrayBuffer.isView(e)||e instanceof d3)&&(e.byteLength!==e.buffer.byteLength&&(s=e.byteOffset+i),e=e.buffer),r?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=e,this.length=a,this.byteLength=a,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,a),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,n){const r=qy[n].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,a=this.buffer.slice(i,i+r);if(this.littleEndian===vse&&n!=="uint8"&&n!=="int8"){const o=new Uint8Array(this.buffer.slice(i,i+r));o.reverse();const l=new qy[n](o.buffer);return this.offset+=r,l.reverse(),l}const s=new qy[n](a);return this.offset+=r,s}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let n="";for(let r=0;r<e;r++)n+=this.readChar();return n}readUtf8(e=1){return vN(this.readBytes(e))}decodeText(e=1,n="utf8"){return vN(this.readBytes(e),n)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let n=0;n<e.length;n++)this._data.setUint8(this.offset++,e[n]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let n=0;n<e.length;n++)this.writeUint8(e.charCodeAt(n));return this}writeUtf8(e){return this.writeBytes(gse(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function vd(t){let e=t.length;for(;--e>=0;)t[e]=0}const yse=3,_se=258,rF=29,bse=256,wse=bse+1+rF,iF=30,Sse=512,Ese=new Array((wse+2)*2);vd(Ese);const Ase=new Array(iF*2);vd(Ase);const Tse=new Array(Sse);vd(Tse);const Mse=new Array(_se-yse+1);vd(Mse);const Nse=new Array(rF);vd(Nse);const kse=new Array(iF);vd(kse);const Cse=(t,e,n,r)=>{let i=t&65535|0,a=t>>>16&65535|0,s=0;for(;n!==0;){s=n>2e3?2e3:n,n-=s;do i=i+e[r++]|0,a=a+i|0;while(--s);i%=65521,a%=65521}return i|a<<16|0};var Gw=Cse;const Rse=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},Pse=new Uint32Array(Rse()),Lse=(t,e,n,r)=>{const i=Pse,a=r+n;t^=-1;for(let s=r;s<a;s++)t=t>>>8^i[(t^e[s])&255];return t^-1};var go=Lse,qw={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},aF={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const Fse=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var Dse=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)Fse(n,r)&&(t[r]=n[r])}}return t},Ise=t=>{let e=0;for(let r=0,i=t.length;r<i;r++)e+=t[r].length;const n=new Uint8Array(e);for(let r=0,i=0,a=t.length;r<a;r++){let s=t[r];n.set(s,i),i+=s.length}return n},sF={assign:Dse,flattenChunks:Ise};let oF=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{oF=!1}const zp=new Uint8Array(256);for(let t=0;t<256;t++)zp[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;zp[254]=zp[254]=1;var Ose=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,r,i,a,s=t.length,o=0;for(i=0;i<s;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<s&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),o+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(o),a=0,i=0;a<o;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<s&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?e[a++]=n:n<2048?(e[a++]=192|n>>>6,e[a++]=128|n&63):n<65536?(e[a++]=224|n>>>12,e[a++]=128|n>>>6&63,e[a++]=128|n&63):(e[a++]=240|n>>>18,e[a++]=128|n>>>12&63,e[a++]=128|n>>>6&63,e[a++]=128|n&63);return e};const Use=(t,e)=>{if(e<65534&&t.subarray&&oF)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n};var Bse=(t,e)=>{const n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let r,i;const a=new Array(n*2);for(i=0,r=0;r<n;){let s=t[r++];if(s<128){a[i++]=s;continue}let o=zp[s];if(o>4){a[i++]=65533,r+=o-1;continue}for(s&=o===2?31:o===3?15:7;o>1&&r<n;)s=s<<6|t[r++]&63,o--;if(o>1){a[i++]=65533;continue}s<65536?a[i++]=s:(s-=65536,a[i++]=55296|s>>10&1023,a[i++]=56320|s&1023)}return Use(a,i)},jse=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+zp[t[n]]>e?n:e},Xw={string2buf:Ose,buf2string:Bse,utf8border:jse};function zse(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Hse=zse;const Wg=16209,Vse=16191;var Wse=function(e,n){let r,i,a,s,o,l,c,u,f,d,h,g,x,v,m,b,_,S,N,P,T,L,E,R;const A=e.state;r=e.next_in,E=e.input,i=r+(e.avail_in-5),a=e.next_out,R=e.output,s=a-(n-e.avail_out),o=a+(e.avail_out-257),l=A.dmax,c=A.wsize,u=A.whave,f=A.wnext,d=A.window,h=A.hold,g=A.bits,x=A.lencode,v=A.distcode,m=(1<<A.lenbits)-1,b=(1<<A.distbits)-1;e:do{g<15&&(h+=E[r++]<<g,g+=8,h+=E[r++]<<g,g+=8),_=x[h&m];t:for(;;){if(S=_>>>24,h>>>=S,g-=S,S=_>>>16&255,S===0)R[a++]=_&65535;else if(S&16){N=_&65535,S&=15,S&&(g<S&&(h+=E[r++]<<g,g+=8),N+=h&(1<<S)-1,h>>>=S,g-=S),g<15&&(h+=E[r++]<<g,g+=8,h+=E[r++]<<g,g+=8),_=v[h&b];n:for(;;){if(S=_>>>24,h>>>=S,g-=S,S=_>>>16&255,S&16){if(P=_&65535,S&=15,g<S&&(h+=E[r++]<<g,g+=8,g<S&&(h+=E[r++]<<g,g+=8)),P+=h&(1<<S)-1,P>l){e.msg="invalid distance too far back",A.mode=Wg;break e}if(h>>>=S,g-=S,S=a-s,P>S){if(S=P-S,S>u&&A.sane){e.msg="invalid distance too far back",A.mode=Wg;break e}if(T=0,L=d,f===0){if(T+=c-S,S<N){N-=S;do R[a++]=d[T++];while(--S);T=a-P,L=R}}else if(f<S){if(T+=c+f-S,S-=f,S<N){N-=S;do R[a++]=d[T++];while(--S);if(T=0,f<N){S=f,N-=S;do R[a++]=d[T++];while(--S);T=a-P,L=R}}}else if(T+=f-S,S<N){N-=S;do R[a++]=d[T++];while(--S);T=a-P,L=R}for(;N>2;)R[a++]=L[T++],R[a++]=L[T++],R[a++]=L[T++],N-=3;N&&(R[a++]=L[T++],N>1&&(R[a++]=L[T++]))}else{T=a-P;do R[a++]=R[T++],R[a++]=R[T++],R[a++]=R[T++],N-=3;while(N>2);N&&(R[a++]=R[T++],N>1&&(R[a++]=R[T++]))}}else if(S&64){e.msg="invalid distance code",A.mode=Wg;break e}else{_=v[(_&65535)+(h&(1<<S)-1)];continue n}break}}else if(S&64)if(S&32){A.mode=Vse;break e}else{e.msg="invalid literal/length code",A.mode=Wg;break e}else{_=x[(_&65535)+(h&(1<<S)-1)];continue t}break}}while(r<i&&a<o);N=g>>3,r-=N,g-=N<<3,h&=(1<<g)-1,e.next_in=r,e.next_out=a,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=a<o?257+(o-a):257-(a-o),A.hold=h,A.bits=g};const Qf=15,yN=852,_N=592,bN=0,Xy=1,wN=2,Gse=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),qse=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Xse=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),$se=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Yse=(t,e,n,r,i,a,s,o)=>{const l=o.bits;let c=0,u=0,f=0,d=0,h=0,g=0,x=0,v=0,m=0,b=0,_,S,N,P,T,L=null,E;const R=new Uint16Array(Qf+1),A=new Uint16Array(Qf+1);let F=null,j,V,X;for(c=0;c<=Qf;c++)R[c]=0;for(u=0;u<r;u++)R[e[n+u]]++;for(h=l,d=Qf;d>=1&&R[d]===0;d--);if(h>d&&(h=d),d===0)return i[a++]=1<<24|64<<16|0,i[a++]=1<<24|64<<16|0,o.bits=1,0;for(f=1;f<d&&R[f]===0;f++);for(h<f&&(h=f),v=1,c=1;c<=Qf;c++)if(v<<=1,v-=R[c],v<0)return-1;if(v>0&&(t===bN||d!==1))return-1;for(A[1]=0,c=1;c<Qf;c++)A[c+1]=A[c]+R[c];for(u=0;u<r;u++)e[n+u]!==0&&(s[A[e[n+u]]++]=u);if(t===bN?(L=F=s,E=20):t===Xy?(L=Gse,F=qse,E=257):(L=Xse,F=$se,E=0),b=0,u=0,c=f,T=a,g=h,x=0,N=-1,m=1<<h,P=m-1,t===Xy&&m>yN||t===wN&&m>_N)return 1;for(;;){j=c-x,s[u]+1<E?(V=0,X=s[u]):s[u]>=E?(V=F[s[u]-E],X=L[s[u]-E]):(V=96,X=0),_=1<<c-x,S=1<<g,f=S;do S-=_,i[T+(b>>x)+S]=j<<24|V<<16|X|0;while(S!==0);for(_=1<<c-1;b&_;)_>>=1;if(_!==0?(b&=_-1,b+=_):b=0,u++,--R[c]===0){if(c===d)break;c=e[n+s[u]]}if(c>h&&(b&P)!==N){for(x===0&&(x=h),T+=f,g=c-x,v=1<<g;g+x<d&&(v-=R[g+x],!(v<=0));)g++,v<<=1;if(m+=1<<g,t===Xy&&m>yN||t===wN&&m>_N)return 1;N=b&P,i[N]=h<<24|g<<16|T-a|0}}return b!==0&&(i[T+b]=c-x<<24|64<<16|0),o.bits=h,0};var K0=Yse;const Kse=0,lF=1,cF=2,{Z_FINISH:SN,Z_BLOCK:Jse,Z_TREES:Gg,Z_OK:lf,Z_STREAM_END:Zse,Z_NEED_DICT:Qse,Z_STREAM_ERROR:As,Z_DATA_ERROR:uF,Z_MEM_ERROR:fF,Z_BUF_ERROR:eoe,Z_DEFLATED:EN}=aF,Nv=16180,AN=16181,TN=16182,MN=16183,NN=16184,kN=16185,CN=16186,RN=16187,PN=16188,LN=16189,Ox=16190,il=16191,$y=16192,FN=16193,Yy=16194,DN=16195,IN=16196,ON=16197,UN=16198,qg=16199,Xg=16200,BN=16201,jN=16202,zN=16203,HN=16204,VN=16205,Ky=16206,WN=16207,GN=16208,or=16209,hF=16210,dF=16211,toe=852,noe=592,roe=15,ioe=roe,qN=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function aoe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const vf=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<Nv||e.mode>dF?1:0},pF=t=>{if(vf(t))return As;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=Nv,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(toe),e.distcode=e.distdyn=new Int32Array(noe),e.sane=1,e.back=-1,lf},mF=t=>{if(vf(t))return As;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,pF(t)},gF=(t,e)=>{let n;if(vf(t))return As;const r=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?As:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,mF(t))},xF=(t,e)=>{if(!t)return As;const n=new aoe;t.state=n,n.strm=t,n.window=null,n.mode=Nv;const r=gF(t,e);return r!==lf&&(t.state=null),r},soe=t=>xF(t,ioe);let XN=!0,Jy,Zy;const ooe=t=>{if(XN){Jy=new Int32Array(512),Zy=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(K0(lF,t.lens,0,288,Jy,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;K0(cF,t.lens,0,32,Zy,0,t.work,{bits:5}),XN=!1}t.lencode=Jy,t.lenbits=9,t.distcode=Zy,t.distbits=5},vF=(t,e,n,r)=>{let i;const a=t.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),r>=a.wsize?(a.window.set(e.subarray(n-a.wsize,n),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>r&&(i=r),a.window.set(e.subarray(n-r,n-r+i),a.wnext),r-=i,r?(a.window.set(e.subarray(n-r,n),0),a.wnext=r,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},loe=(t,e)=>{let n,r,i,a,s,o,l,c,u,f,d,h,g,x,v=0,m,b,_,S,N,P,T,L;const E=new Uint8Array(4);let R,A;const F=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(vf(t)||!t.output||!t.input&&t.avail_in!==0)return As;n=t.state,n.mode===il&&(n.mode=$y),s=t.next_out,i=t.output,l=t.avail_out,a=t.next_in,r=t.input,o=t.avail_in,c=n.hold,u=n.bits,f=o,d=l,L=lf;e:for(;;)switch(n.mode){case Nv:if(n.wrap===0){n.mode=$y;break}for(;u<16;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}if(n.wrap&2&&c===35615){n.wbits===0&&(n.wbits=15),n.check=0,E[0]=c&255,E[1]=c>>>8&255,n.check=go(n.check,E,2,0),c=0,u=0,n.mode=AN;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((c&255)<<8)+(c>>8))%31){t.msg="incorrect header check",n.mode=or;break}if((c&15)!==EN){t.msg="unknown compression method",n.mode=or;break}if(c>>>=4,u-=4,T=(c&15)+8,n.wbits===0&&(n.wbits=T),T>15||T>n.wbits){t.msg="invalid window size",n.mode=or;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=c&512?LN:il,c=0,u=0;break;case AN:for(;u<16;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}if(n.flags=c,(n.flags&255)!==EN){t.msg="unknown compression method",n.mode=or;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=or;break}n.head&&(n.head.text=c>>8&1),n.flags&512&&n.wrap&4&&(E[0]=c&255,E[1]=c>>>8&255,n.check=go(n.check,E,2,0)),c=0,u=0,n.mode=TN;case TN:for(;u<32;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}n.head&&(n.head.time=c),n.flags&512&&n.wrap&4&&(E[0]=c&255,E[1]=c>>>8&255,E[2]=c>>>16&255,E[3]=c>>>24&255,n.check=go(n.check,E,4,0)),c=0,u=0,n.mode=MN;case MN:for(;u<16;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}n.head&&(n.head.xflags=c&255,n.head.os=c>>8),n.flags&512&&n.wrap&4&&(E[0]=c&255,E[1]=c>>>8&255,n.check=go(n.check,E,2,0)),c=0,u=0,n.mode=NN;case NN:if(n.flags&1024){for(;u<16;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}n.length=c,n.head&&(n.head.extra_len=c),n.flags&512&&n.wrap&4&&(E[0]=c&255,E[1]=c>>>8&255,n.check=go(n.check,E,2,0)),c=0,u=0}else n.head&&(n.head.extra=null);n.mode=kN;case kN:if(n.flags&1024&&(h=n.length,h>o&&(h=o),h&&(n.head&&(T=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(a,a+h),T)),n.flags&512&&n.wrap&4&&(n.check=go(n.check,r,h,a)),o-=h,a+=h,n.length-=h),n.length))break e;n.length=0,n.mode=CN;case CN:if(n.flags&2048){if(o===0)break e;h=0;do T=r[a+h++],n.head&&T&&n.length<65536&&(n.head.name+=String.fromCharCode(T));while(T&&h<o);if(n.flags&512&&n.wrap&4&&(n.check=go(n.check,r,h,a)),o-=h,a+=h,T)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=RN;case RN:if(n.flags&4096){if(o===0)break e;h=0;do T=r[a+h++],n.head&&T&&n.length<65536&&(n.head.comment+=String.fromCharCode(T));while(T&&h<o);if(n.flags&512&&n.wrap&4&&(n.check=go(n.check,r,h,a)),o-=h,a+=h,T)break e}else n.head&&(n.head.comment=null);n.mode=PN;case PN:if(n.flags&512){for(;u<16;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}if(n.wrap&4&&c!==(n.check&65535)){t.msg="header crc mismatch",n.mode=or;break}c=0,u=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=il;break;case LN:for(;u<32;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}t.adler=n.check=qN(c),c=0,u=0,n.mode=Ox;case Ox:if(n.havedict===0)return t.next_out=s,t.avail_out=l,t.next_in=a,t.avail_in=o,n.hold=c,n.bits=u,Qse;t.adler=n.check=1,n.mode=il;case il:if(e===Jse||e===Gg)break e;case $y:if(n.last){c>>>=u&7,u-=u&7,n.mode=Ky;break}for(;u<3;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}switch(n.last=c&1,c>>>=1,u-=1,c&3){case 0:n.mode=FN;break;case 1:if(ooe(n),n.mode=qg,e===Gg){c>>>=2,u-=2;break e}break;case 2:n.mode=IN;break;case 3:t.msg="invalid block type",n.mode=or}c>>>=2,u-=2;break;case FN:for(c>>>=u&7,u-=u&7;u<32;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}if((c&65535)!==(c>>>16^65535)){t.msg="invalid stored block lengths",n.mode=or;break}if(n.length=c&65535,c=0,u=0,n.mode=Yy,e===Gg)break e;case Yy:n.mode=DN;case DN:if(h=n.length,h){if(h>o&&(h=o),h>l&&(h=l),h===0)break e;i.set(r.subarray(a,a+h),s),o-=h,a+=h,l-=h,s+=h,n.length-=h;break}n.mode=il;break;case IN:for(;u<14;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}if(n.nlen=(c&31)+257,c>>>=5,u-=5,n.ndist=(c&31)+1,c>>>=5,u-=5,n.ncode=(c&15)+4,c>>>=4,u-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=or;break}n.have=0,n.mode=ON;case ON:for(;n.have<n.ncode;){for(;u<3;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}n.lens[F[n.have++]]=c&7,c>>>=3,u-=3}for(;n.have<19;)n.lens[F[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,R={bits:n.lenbits},L=K0(Kse,n.lens,0,19,n.lencode,0,n.work,R),n.lenbits=R.bits,L){t.msg="invalid code lengths set",n.mode=or;break}n.have=0,n.mode=UN;case UN:for(;n.have<n.nlen+n.ndist;){for(;v=n.lencode[c&(1<<n.lenbits)-1],m=v>>>24,b=v>>>16&255,_=v&65535,!(m<=u);){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}if(_<16)c>>>=m,u-=m,n.lens[n.have++]=_;else{if(_===16){for(A=m+2;u<A;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}if(c>>>=m,u-=m,n.have===0){t.msg="invalid bit length repeat",n.mode=or;break}T=n.lens[n.have-1],h=3+(c&3),c>>>=2,u-=2}else if(_===17){for(A=m+3;u<A;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}c>>>=m,u-=m,T=0,h=3+(c&7),c>>>=3,u-=3}else{for(A=m+7;u<A;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}c>>>=m,u-=m,T=0,h=11+(c&127),c>>>=7,u-=7}if(n.have+h>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=or;break}for(;h--;)n.lens[n.have++]=T}}if(n.mode===or)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=or;break}if(n.lenbits=9,R={bits:n.lenbits},L=K0(lF,n.lens,0,n.nlen,n.lencode,0,n.work,R),n.lenbits=R.bits,L){t.msg="invalid literal/lengths set",n.mode=or;break}if(n.distbits=6,n.distcode=n.distdyn,R={bits:n.distbits},L=K0(cF,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,R),n.distbits=R.bits,L){t.msg="invalid distances set",n.mode=or;break}if(n.mode=qg,e===Gg)break e;case qg:n.mode=Xg;case Xg:if(o>=6&&l>=258){t.next_out=s,t.avail_out=l,t.next_in=a,t.avail_in=o,n.hold=c,n.bits=u,Wse(t,d),s=t.next_out,i=t.output,l=t.avail_out,a=t.next_in,r=t.input,o=t.avail_in,c=n.hold,u=n.bits,n.mode===il&&(n.back=-1);break}for(n.back=0;v=n.lencode[c&(1<<n.lenbits)-1],m=v>>>24,b=v>>>16&255,_=v&65535,!(m<=u);){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}if(b&&!(b&240)){for(S=m,N=b,P=_;v=n.lencode[P+((c&(1<<S+N)-1)>>S)],m=v>>>24,b=v>>>16&255,_=v&65535,!(S+m<=u);){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}c>>>=S,u-=S,n.back+=S}if(c>>>=m,u-=m,n.back+=m,n.length=_,b===0){n.mode=VN;break}if(b&32){n.back=-1,n.mode=il;break}if(b&64){t.msg="invalid literal/length code",n.mode=or;break}n.extra=b&15,n.mode=BN;case BN:if(n.extra){for(A=n.extra;u<A;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=jN;case jN:for(;v=n.distcode[c&(1<<n.distbits)-1],m=v>>>24,b=v>>>16&255,_=v&65535,!(m<=u);){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}if(!(b&240)){for(S=m,N=b,P=_;v=n.distcode[P+((c&(1<<S+N)-1)>>S)],m=v>>>24,b=v>>>16&255,_=v&65535,!(S+m<=u);){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}c>>>=S,u-=S,n.back+=S}if(c>>>=m,u-=m,n.back+=m,b&64){t.msg="invalid distance code",n.mode=or;break}n.offset=_,n.extra=b&15,n.mode=zN;case zN:if(n.extra){for(A=n.extra;u<A;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=or;break}n.mode=HN;case HN:if(l===0)break e;if(h=d-l,n.offset>h){if(h=n.offset-h,h>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=or;break}h>n.wnext?(h-=n.wnext,g=n.wsize-h):g=n.wnext-h,h>n.length&&(h=n.length),x=n.window}else x=i,g=s-n.offset,h=n.length;h>l&&(h=l),l-=h,n.length-=h;do i[s++]=x[g++];while(--h);n.length===0&&(n.mode=Xg);break;case VN:if(l===0)break e;i[s++]=n.length,l--,n.mode=Xg;break;case Ky:if(n.wrap){for(;u<32;){if(o===0)break e;o--,c|=r[a++]<<u,u+=8}if(d-=l,t.total_out+=d,n.total+=d,n.wrap&4&&d&&(t.adler=n.check=n.flags?go(n.check,i,d,s-d):Gw(n.check,i,d,s-d)),d=l,n.wrap&4&&(n.flags?c:qN(c))!==n.check){t.msg="incorrect data check",n.mode=or;break}c=0,u=0}n.mode=WN;case WN:if(n.wrap&&n.flags){for(;u<32;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}if(n.wrap&4&&c!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=or;break}c=0,u=0}n.mode=GN;case GN:L=Zse;break e;case or:L=uF;break e;case hF:return fF;case dF:default:return As}return t.next_out=s,t.avail_out=l,t.next_in=a,t.avail_in=o,n.hold=c,n.bits=u,(n.wsize||d!==t.avail_out&&n.mode<or&&(n.mode<Ky||e!==SN))&&vF(t,t.output,t.next_out,d-t.avail_out),f-=t.avail_in,d-=t.avail_out,t.total_in+=f,t.total_out+=d,n.total+=d,n.wrap&4&&d&&(t.adler=n.check=n.flags?go(n.check,i,d,t.next_out-d):Gw(n.check,i,d,t.next_out-d)),t.data_type=n.bits+(n.last?64:0)+(n.mode===il?128:0)+(n.mode===qg||n.mode===Yy?256:0),(f===0&&d===0||e===SN)&&L===lf&&(L=eoe),L},coe=t=>{if(vf(t))return As;let e=t.state;return e.window&&(e.window=null),t.state=null,lf},uoe=(t,e)=>{if(vf(t))return As;const n=t.state;return n.wrap&2?(n.head=e,e.done=!1,lf):As},foe=(t,e)=>{const n=e.length;let r,i,a;return vf(t)||(r=t.state,r.wrap!==0&&r.mode!==Ox)?As:r.mode===Ox&&(i=1,i=Gw(i,e,n,0),i!==r.check)?uF:(a=vF(t,e,n,n),a?(r.mode=hF,fF):(r.havedict=1,lf))};var hoe=mF,doe=gF,poe=pF,moe=soe,goe=xF,xoe=loe,voe=coe,yoe=uoe,_oe=foe,boe="pako inflate (from Nodeca project)",fl={inflateReset:hoe,inflateReset2:doe,inflateResetKeep:poe,inflateInit:moe,inflateInit2:goe,inflate:xoe,inflateEnd:voe,inflateGetHeader:yoe,inflateSetDictionary:_oe,inflateInfo:boe};function woe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Soe=woe;const yF=Object.prototype.toString,{Z_NO_FLUSH:Eoe,Z_FINISH:Aoe,Z_OK:Hp,Z_STREAM_END:Qy,Z_NEED_DICT:e_,Z_STREAM_ERROR:Toe,Z_DATA_ERROR:$N,Z_MEM_ERROR:Moe}=aF;function hm(t){this.options=sF.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Hse,this.strm.avail_out=0;let n=fl.inflateInit2(this.strm,e.windowBits);if(n!==Hp)throw new Error(qw[n]);if(this.header=new Soe,fl.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=Xw.string2buf(e.dictionary):yF.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=fl.inflateSetDictionary(this.strm,e.dictionary),n!==Hp)))throw new Error(qw[n])}hm.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let a,s,o;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?Aoe:Eoe,yF.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),a=fl.inflate(n,s),a===e_&&i&&(a=fl.inflateSetDictionary(n,i),a===Hp?a=fl.inflate(n,s):a===$N&&(a=e_));n.avail_in>0&&a===Qy&&n.state.wrap>0&&t[n.next_in]!==0;)fl.inflateReset(n),a=fl.inflate(n,s);switch(a){case Toe:case $N:case e_:case Moe:return this.onEnd(a),this.ended=!0,!1}if(o=n.avail_out,n.next_out&&(n.avail_out===0||a===Qy))if(this.options.to==="string"){let l=Xw.utf8border(n.output,n.next_out),c=n.next_out-l,u=Xw.buf2string(n.output,l);n.next_out=c,n.avail_out=r-c,c&&n.output.set(n.output.subarray(l,l+c),0),this.onData(u)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(a===Hp&&o===0)){if(a===Qy)return a=fl.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};hm.prototype.onData=function(t){this.chunks.push(t)};hm.prototype.onEnd=function(t){t===Hp&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=sF.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function Noe(t,e){const n=new hm(e);if(n.push(t),n.err)throw n.msg||qw[n.err];return n.result}var koe=hm,Coe=Noe,Roe={Inflate:koe,inflate:Coe};const{Inflate:Poe,inflate:Loe}=Roe;var YN=Poe,Foe=Loe;const _F=[];for(let t=0;t<256;t++){let e=t;for(let n=0;n<8;n++)e&1?e=3988292384^e>>>1:e=e>>>1;_F[t]=e}const KN=4294967295;function Doe(t,e,n){let r=t;for(let i=0;i<n;i++)r=_F[(r^e[i])&255]^r>>>8;return r}function Ioe(t,e){return(Doe(KN,t,e)^KN)>>>0}function JN(t,e,n){const r=t.readUint32(),i=Ioe(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${i}`)}function bF(t,e,n){for(let r=0;r<n;r++)e[r]=t[r]}function wF(t,e,n,r){let i=0;for(;i<r;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+e[i-r]&255}function SF(t,e,n,r){let i=0;if(n.length===0)for(;i<r;i++)e[i]=t[i];else for(;i<r;i++)e[i]=t[i]+n[i]&255}function EF(t,e,n,r,i){let a=0;if(n.length===0){for(;a<i;a++)e[a]=t[a];for(;a<r;a++)e[a]=t[a]+(e[a-i]>>1)&255}else{for(;a<i;a++)e[a]=t[a]+(n[a]>>1)&255;for(;a<r;a++)e[a]=t[a]+(e[a-i]+n[a]>>1)&255}}function AF(t,e,n,r,i){let a=0;if(n.length===0){for(;a<i;a++)e[a]=t[a];for(;a<r;a++)e[a]=t[a]+e[a-i]&255}else{for(;a<i;a++)e[a]=t[a]+n[a]&255;for(;a<r;a++)e[a]=t[a]+Ooe(e[a-i],n[a],n[a-i])&255}}function Ooe(t,e,n){const r=t+e-n,i=Math.abs(r-t),a=Math.abs(r-e),s=Math.abs(r-n);return i<=a&&i<=s?t:a<=s?e:n}function Uoe(t,e,n,r,i,a){switch(t){case 0:bF(e,n,i);break;case 1:wF(e,n,i,a);break;case 2:SF(e,n,r,i);break;case 3:EF(e,n,r,i,a);break;case 4:AF(e,n,r,i,a);break;default:throw new Error(`Unsupported filter: ${t}`)}}const Boe=new Uint16Array([255]),joe=new Uint8Array(Boe.buffer),zoe=joe[0]===255;function Hoe(t){const{data:e,width:n,height:r,channels:i,depth:a}=t,s=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(a/8)*i,l=new Uint8Array(r*n*o);let c=0;for(let u=0;u<7;u++){const f=s[u],d=Math.ceil((n-f.x)/f.xStep),h=Math.ceil((r-f.y)/f.yStep);if(d<=0||h<=0)continue;const g=d*o,x=new Uint8Array(g);for(let v=0;v<h;v++){const m=e[c++],b=e.subarray(c,c+g);c+=g;const _=new Uint8Array(g);Uoe(m,b,_,x,g,o),x.set(_);for(let S=0;S<d;S++){const N=f.x+S*f.xStep,P=f.y+v*f.yStep;if(!(N>=n||P>=r))for(let T=0;T<o;T++)l[(P*n+N)*o+T]=_[S*o+T]}}}if(a===16){const u=new Uint16Array(l.buffer);if(zoe)for(let f=0;f<u.length;f++)u[f]=Voe(u[f]);return u}else return l}function Voe(t){return(t&255)<<8|t>>8&255}const Woe=new Uint16Array([255]),Goe=new Uint8Array(Woe.buffer),qoe=Goe[0]===255,Xoe=new Uint8Array(0);function ZN(t){const{data:e,width:n,height:r,channels:i,depth:a}=t,s=Math.ceil(a/8)*i,o=Math.ceil(a/8*i*n),l=new Uint8Array(r*o);let c=Xoe,u=0,f,d;for(let h=0;h<r;h++){switch(f=e.subarray(u+1,u+1+o),d=l.subarray(h*o,(h+1)*o),e[u]){case 0:bF(f,d,o);break;case 1:wF(f,d,o,s);break;case 2:SF(f,d,c,o);break;case 3:EF(f,d,c,o,s);break;case 4:AF(f,d,c,o,s);break;default:throw new Error(`Unsupported filter: ${e[u]}`)}c=d,u+=o+1}if(a===16){const h=new Uint16Array(l.buffer);if(qoe)for(let g=0;g<h.length;g++)h[g]=$oe(h[g]);return h}else return l}function $oe(t){return(t&255)<<8|t>>8&255}const C1=Uint8Array.of(137,80,78,71,13,10,26,10);function QN(t){if(!Yoe(t.readBytes(C1.length)))throw new Error("wrong PNG signature")}function Yoe(t){if(t.length<C1.length)return!1;for(let e=0;e<C1.length;e++)if(t[e]!==C1[e])return!1;return!0}const Koe="tEXt",Joe=0,TF=new TextDecoder("latin1");function Zoe(t){if(ele(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const Qoe=/^[\u0000-\u00FF]*$/;function ele(t){if(!Qoe.test(t))throw new Error("invalid latin1 text")}function tle(t,e,n){const r=MF(e);t[r]=nle(e,n-r.length-1)}function MF(t){for(t.mark();t.readByte()!==Joe;);const e=t.offset;t.reset();const n=TF.decode(t.readBytes(e-t.offset-1));return t.skip(1),Zoe(n),n}function nle(t,e){return TF.decode(t.readBytes(e))}const Xa={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},t_={UNKNOWN:-1,DEFLATE:0},ek={UNKNOWN:-1,ADAPTIVE:0},n_={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},$g={NONE:0,BACKGROUND:1,PREVIOUS:2},r_={SOURCE:0,OVER:1};class rle extends d3{constructor(n,r={}){super(n);dt(this,"_checkCrc");dt(this,"_inflator");dt(this,"_png");dt(this,"_apng");dt(this,"_end");dt(this,"_hasPalette");dt(this,"_palette");dt(this,"_hasTransparency");dt(this,"_transparency");dt(this,"_compressionMethod");dt(this,"_filterMethod");dt(this,"_interlaceMethod");dt(this,"_colorType");dt(this,"_isAnimated");dt(this,"_numberOfFrames");dt(this,"_numberOfPlays");dt(this,"_frames");dt(this,"_writingDataChunks");const{checkCrc:i=!1}=r;this._checkCrc=i,this._inflator=new YN,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=t_.UNKNOWN,this._filterMethod=ek.UNKNOWN,this._interlaceMethod=n_.UNKNOWN,this._colorType=Xa.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(QN(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeChunk(n,r)}return this.decodeImage(),this._png}decodeApng(){for(QN(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(n,r)}return this.decodeApngImage(),this._apng}decodeChunk(n,r){const i=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(n);break;case"IDAT":this.decodeIDAT(n);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(n);break;case"iCCP":this.decodeiCCP(n);break;case Koe:tle(this._png.text,this,n);break;case"pHYs":this.decodepHYs();break;default:this.skip(n);break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?JN(this,n+4,r):this.skip(4)}decodeApngChunk(n,r){const i=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(n);break;default:this.decodeChunk(n,r),this.offset=i+n;break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?JN(this,n+4,r):this.skip(4)}decodeIHDR(){const n=this._png;n.width=this.readUint32(),n.height=this.readUint32(),n.depth=ile(this.readUint8());const r=this.readUint8();this._colorType=r;let i;switch(r){case Xa.GREYSCALE:i=1;break;case Xa.TRUECOLOUR:i=3;break;case Xa.INDEXED_COLOUR:i=1;break;case Xa.GREYSCALE_ALPHA:i=2;break;case Xa.TRUECOLOUR_ALPHA:i=4;break;case Xa.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==t_.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const n={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(n)}decodePLTE(n){if(n%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${n}`);const r=n/3;this._hasPalette=!0;const i=[];this._palette=i;for(let a=0;a<r;a++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(n){this._writingDataChunks=!0;const r=n,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodeFDAT(n){this._writingDataChunks=!0;let r=n,i=this.offset+this.byteOffset;if(i+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodetRNS(n){switch(this._colorType){case Xa.GREYSCALE:case Xa.TRUECOLOUR:{if(n%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${n}`);if(n/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${n/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(n/2);for(let r=0;r<n/2;r++)this._transparency[r]=this.readUint16();break}case Xa.INDEXED_COLOUR:{if(n>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${n} vs ${this._palette.length})`);let r=0;for(;r<n;r++){const i=this.readByte();this._palette[r].push(i)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case Xa.UNKNOWN:case Xa.GREYSCALE_ALPHA:case Xa.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(n){const r=MF(this),i=this.readUint8();if(i!==t_.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const a=this.readBytes(n-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:Foe(a)}}decodepHYs(){const n=this.readUint32(),r=this.readUint32(),i=this.readByte();this._png.resolution={x:n,y:r,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let n=0;n<this._numberOfFrames;n++){const r={sequenceNumber:this._frames[n].sequenceNumber,delayNumber:this._frames[n].delayNumber,delayDenominator:this._frames[n].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(n);if(i){if(i.data=ZN({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),n===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)r.data=i.data;else{const a=this._apng.frames.at(n-1);this.disposeFrame(i,a,r),this.addFrameDataToCanvas(r,i)}this._apng.frames.push(r)}}return this._apng}disposeFrame(n,r,i){switch(n.disposeOp){case $g.NONE:break;case $g.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let s=0;s<this._png.width;s++){const o=(a*n.width+s)*this._png.channels;for(let l=0;l<this._png.channels;l++)i.data[o+l]=0}break;case $g.PREVIOUS:i.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(n,r){const i=1<<this._png.depth,a=(s,o)=>{const l=((s+r.yOffset)*this._png.width+r.xOffset+o)*this._png.channels,c=(s*r.width+o)*this._png.channels;return{index:l,frameIndex:c}};switch(r.blendOp){case r_.SOURCE:for(let s=0;s<r.height;s++)for(let o=0;o<r.width;o++){const{index:l,frameIndex:c}=a(s,o);for(let u=0;u<this._png.channels;u++)n.data[l+u]=r.data[c+u]}break;case r_.OVER:for(let s=0;s<r.height;s++)for(let o=0;o<r.width;o++){const{index:l,frameIndex:c}=a(s,o);for(let u=0;u<this._png.channels;u++){const f=r.data[c+this._png.channels-1]/i,d=u%(this._png.channels-1)===0?1:r.data[c+u],h=Math.floor(f*d+(1-f)*n.data[l+u]);n.data[l+u]+=h}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var r;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const n=this._isAnimated?((r=this._frames)==null?void 0:r.at(0)).data:this._inflator.result;if(this._filterMethod!==ek.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===n_.NO_INTERLACE)this._png.data=ZN({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===n_.ADAM7)this._png.data=Hoe({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const n=this._inflator.result,r=this._frames.at(-1);r?r.data=n:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:$g.NONE,blendOp:r_.SOURCE,data:n}),this._inflator=new YN,this._writingDataChunks=!1}}function ile(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var tk;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(tk||(tk={}));function ale(t,e){return new rle(t,e).decode()}var Jt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function i_(){Jt.console&&typeof Jt.console.log=="function"&&Jt.console.log.apply(Jt.console,arguments)}var Xn={log:i_,warn:function(t){Jt.console&&(typeof Jt.console.warn=="function"?Jt.console.warn.apply(Jt.console,arguments):i_.call(null,arguments))},error:function(t){Jt.console&&(typeof Jt.console.error=="function"?Jt.console.error.apply(Jt.console,arguments):i_(t))}};function a_(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){Eu(r.response,e,n)},r.onerror=function(){Xn.error("could not download file")},r.send()}function nk(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Yg(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Eu=Jt.saveAs||((typeof window>"u"?"undefined":Bn(window))!=="object"||window!==Jt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=Jt.URL||Jt.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?nk(i.href)?a_(t,e,n):Yg(i,i.target="_blank"):Yg(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Yg(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(nk(t))a_(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){Yg(r)})}else navigator.msSaveOrOpenBlob(function(i,a){return a===void 0?a={autoBom:!1}:Bn(a)!=="object"&&(Xn.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return a_(t,e,n);var i=t.type==="application/octet-stream",a=/constructor/i.test(Jt.HTMLElement)||Jt.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&a)&&(typeof FileReader>"u"?"undefined":Bn(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var u=o.result;u=s?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=u:location=u,r=null},o.readAsDataURL(t)}else{var l=Jt.URL||Jt.webkitURL,c=l.createObjectURL(t);r?r.location=c:location.href=c,r=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function NF(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,a=n[r].process,s=i.exec(t);s&&(e=a(s),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+o+l+c}}var R1=Jt.atob.bind(Jt),rk=Jt.btoa.bind(Jt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function s_(t,e){var n=t[0],r=t[1],i=t[2],a=t[3];n=ji(n,r,i,a,e[0],7,-680876936),a=ji(a,n,r,i,e[1],12,-389564586),i=ji(i,a,n,r,e[2],17,606105819),r=ji(r,i,a,n,e[3],22,-1044525330),n=ji(n,r,i,a,e[4],7,-176418897),a=ji(a,n,r,i,e[5],12,1200080426),i=ji(i,a,n,r,e[6],17,-1473231341),r=ji(r,i,a,n,e[7],22,-45705983),n=ji(n,r,i,a,e[8],7,1770035416),a=ji(a,n,r,i,e[9],12,-1958414417),i=ji(i,a,n,r,e[10],17,-42063),r=ji(r,i,a,n,e[11],22,-1990404162),n=ji(n,r,i,a,e[12],7,1804603682),a=ji(a,n,r,i,e[13],12,-40341101),i=ji(i,a,n,r,e[14],17,-1502002290),n=zi(n,r=ji(r,i,a,n,e[15],22,1236535329),i,a,e[1],5,-165796510),a=zi(a,n,r,i,e[6],9,-1069501632),i=zi(i,a,n,r,e[11],14,643717713),r=zi(r,i,a,n,e[0],20,-373897302),n=zi(n,r,i,a,e[5],5,-701558691),a=zi(a,n,r,i,e[10],9,38016083),i=zi(i,a,n,r,e[15],14,-660478335),r=zi(r,i,a,n,e[4],20,-405537848),n=zi(n,r,i,a,e[9],5,568446438),a=zi(a,n,r,i,e[14],9,-1019803690),i=zi(i,a,n,r,e[3],14,-187363961),r=zi(r,i,a,n,e[8],20,1163531501),n=zi(n,r,i,a,e[13],5,-1444681467),a=zi(a,n,r,i,e[2],9,-51403784),i=zi(i,a,n,r,e[7],14,1735328473),n=Hi(n,r=zi(r,i,a,n,e[12],20,-1926607734),i,a,e[5],4,-378558),a=Hi(a,n,r,i,e[8],11,-2022574463),i=Hi(i,a,n,r,e[11],16,1839030562),r=Hi(r,i,a,n,e[14],23,-35309556),n=Hi(n,r,i,a,e[1],4,-1530992060),a=Hi(a,n,r,i,e[4],11,1272893353),i=Hi(i,a,n,r,e[7],16,-155497632),r=Hi(r,i,a,n,e[10],23,-1094730640),n=Hi(n,r,i,a,e[13],4,681279174),a=Hi(a,n,r,i,e[0],11,-358537222),i=Hi(i,a,n,r,e[3],16,-722521979),r=Hi(r,i,a,n,e[6],23,76029189),n=Hi(n,r,i,a,e[9],4,-640364487),a=Hi(a,n,r,i,e[12],11,-421815835),i=Hi(i,a,n,r,e[15],16,530742520),n=Vi(n,r=Hi(r,i,a,n,e[2],23,-995338651),i,a,e[0],6,-198630844),a=Vi(a,n,r,i,e[7],10,1126891415),i=Vi(i,a,n,r,e[14],15,-1416354905),r=Vi(r,i,a,n,e[5],21,-57434055),n=Vi(n,r,i,a,e[12],6,1700485571),a=Vi(a,n,r,i,e[3],10,-1894986606),i=Vi(i,a,n,r,e[10],15,-1051523),r=Vi(r,i,a,n,e[1],21,-2054922799),n=Vi(n,r,i,a,e[8],6,1873313359),a=Vi(a,n,r,i,e[15],10,-30611744),i=Vi(i,a,n,r,e[6],15,-1560198380),r=Vi(r,i,a,n,e[13],21,1309151649),n=Vi(n,r,i,a,e[4],6,-145523070),a=Vi(a,n,r,i,e[11],10,-1120210379),i=Vi(i,a,n,r,e[2],15,718787259),r=Vi(r,i,a,n,e[9],21,-343485551),t[0]=bc(n,t[0]),t[1]=bc(r,t[1]),t[2]=bc(i,t[2]),t[3]=bc(a,t[3])}function kv(t,e,n,r,i,a){return e=bc(bc(e,t),bc(r,a)),bc(e<<i|e>>>32-i,n)}function ji(t,e,n,r,i,a,s){return kv(e&n|~e&r,t,e,i,a,s)}function zi(t,e,n,r,i,a,s){return kv(e&r|n&~r,t,e,i,a,s)}function Hi(t,e,n,r,i,a,s){return kv(e^n^r,t,e,i,a,s)}function Vi(t,e,n,r,i,a,s){return kv(n^(e|~r),t,e,i,a,s)}function kF(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)s_(r,sle(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(s_(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,s_(r,i),r}function sle(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}var ik="0123456789abcdef".split("");function ole(t){for(var e="",n=0;n<4;n++)e+=ik[t>>8*n+4&15]+ik[t>>8*n&15];return e}function lle(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function $w(t){return kF(t).map(lle).join("")}var cle=function(t){for(var e=0;e<t.length;e++)t[e]=ole(t[e]);return t.join("")}(kF("hello"))!="5d41402abc4b2a76b9719d911017c592";function bc(t,e){if(cle){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Yw(t,e){var n,r,i,a;if(t!==n){for(var s=(i=t,a=1+(256/t.length|0),new Array(a+1).join(i)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var u=o[l];c=(c+u+s.charCodeAt(l))%256,o[l]=o[c],o[c]=u}n=t,r=o}else o=r;var f=e.length,d=0,h=0,g="";for(l=0;l<f;l++)h=(h+(u=o[d=(d+1)%256]))%256,o[d]=o[h],o[h]=u,s=o[(o[d]+o[h])%256],g+=String.fromCharCode(e.charCodeAt(l)^s);return g}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var ak={print:4,modify:8,copy:16,"annot-forms":32};function rh(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(o){if(ak.perm!==void 0)throw new Error("Invalid permission: "+o);i+=ak[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(e+this.padding).substr(0,32),s=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,s),this.P=-(1+(255^i)),this.encryptionKey=$w(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=Yw(this.encryptionKey,this.padding)}function ih(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[r]}return e}function sk(t){if(Bn(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var a=Math.random().toString(35);return e[n][a]=[r,!!i],a},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var a in e[n]){var s=e[n][a];try{s[0].apply(t,r)}catch(o){Jt.console&&Xn.error("jsPDF PubSub Error",o.message,o)}s[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Ux(t){if(!(this instanceof Ux))return new Ux(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function CF(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Nu(t,e,n,r,i){if(!(this instanceof Nu))return new Nu(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,CF.call(this,r,i)}function _h(t,e,n,r,i){if(!(this instanceof _h))return new _h(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,CF.call(this,r,i)}function Wt(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],a=arguments[3],s=[],o=1,l=16,c="S",u=null;Bn(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,a=t.compress||t.compressPdf||a,(u=t.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),c=t.defaultPathOperation||"S"),s=t.filters||(a===!0?["FlateEncode"]:s),r=r||"mm",n=(""+(n||"P")).toLowerCase();var f=t.putOnlyUsedFonts||!1,d={},h={internal:{},__private__:{}};h.__private__.PubSub=sk;var g="1.3",x=h.__private__.getPdfVersion=function(){return g};h.__private__.setPdfVersion=function(M){g=M};var v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return v};var m=h.__private__.getPageFormat=function(M){return v[M]};i=i||"a4";var b="compat",_="advanced",S=b;function N(){this.saveGraphicsState(),Z(new Ot(Ue,0,0,-Ue,0,Oa()*Ue).toString()+" cm"),this.setFontSize(this.getFontSize()/Ue),c="n",S=_}function P(){this.restoreGraphicsState(),c="S",S=b}var T=h.__private__.combineFontStyleAndFontWeight=function(M,G){if(M=="bold"&&G=="normal"||M=="bold"&&G==400||M=="normal"&&G=="italic"||M=="bold"&&G=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return G&&(M=G==400||G==="normal"?M==="italic"?"italic":"normal":G!=700&&G!=="bold"||M!=="normal"?(G==700?"bold":G)+""+M:"bold"),M};h.advancedAPI=function(M){var G=S===b;return G&&N.call(this),typeof M!="function"||(M(this),G&&P.call(this)),this},h.compatAPI=function(M){var G=S===_;return G&&P.call(this),typeof M!="function"||(M(this),G&&N.call(this)),this},h.isAdvancedAPI=function(){return S===_};var L,E=function(M){if(S!==_)throw new Error(M+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},R=h.roundToPrecision=h.__private__.roundToPrecision=function(M,G){var me=e||G;if(isNaN(M)||isNaN(me))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return M.toFixed(me).replace(/0+$/,"")};L=h.hpf=h.__private__.hpf=typeof l=="number"?function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.hpf");return R(M,l)}:l==="smart"?function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.hpf");return R(M,M>-1&&M<1?16:5)}:function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.hpf");return R(M,16)};var A=h.f2=h.__private__.f2=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.f2");return R(M,2)},F=h.__private__.f3=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.f3");return R(M,3)},j=h.scale=h.__private__.scale=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.scale");return S===b?M*Ue:S===_?M:void 0},V=function(M){return j(function(G){return S===b?Oa()-G:S===_?G:void 0}(M))};h.__private__.setPrecision=h.setPrecision=function(M){typeof parseInt(M,10)=="number"&&(e=parseInt(M,10))};var X,ee="00000000000000000000000000000000",se=h.__private__.getFileId=function(){return ee},B=h.__private__.setFileId=function(M){return ee=M!==void 0&&/^[a-fA-F0-9]{32}$/.test(M)?M.toUpperCase():ee.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(Gn=new rh(u.userPermissions,u.userPassword,u.ownerPassword,ee)),ee};h.setFileId=function(M){return B(M),this},h.getFileId=function(){return se()};var H=h.__private__.convertDateToPDFDate=function(M){var G=M.getTimezoneOffset(),me=G<0?"+":"-",Ne=Math.floor(Math.abs(G/60)),Ie=Math.abs(G%60),ct=[me,O(Ne),"'",O(Ie),"'"].join("");return["D:",M.getFullYear(),O(M.getMonth()+1),O(M.getDate()),O(M.getHours()),O(M.getMinutes()),O(M.getSeconds()),ct].join("")},xe=h.__private__.convertPDFDateToDate=function(M){var G=parseInt(M.substr(2,4),10),me=parseInt(M.substr(6,2),10)-1,Ne=parseInt(M.substr(8,2),10),Ie=parseInt(M.substr(10,2),10),ct=parseInt(M.substr(12,2),10),mt=parseInt(M.substr(14,2),10);return new Date(G,me,Ne,Ie,ct,mt,0)},Se=h.__private__.setCreationDate=function(M){var G;if(M===void 0&&(M=new Date),M instanceof Date)G=H(M);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(M))throw new Error("Invalid argument passed to jsPDF.setCreationDate");G=M}return X=G},k=h.__private__.getCreationDate=function(M){var G=X;return M==="jsDate"&&(G=xe(X)),G};h.setCreationDate=function(M){return Se(M),this},h.getCreationDate=function(M){return k(M)};var U,O=h.__private__.padd2=function(M){return("0"+parseInt(M)).slice(-2)},I=h.__private__.padd2Hex=function(M){return("00"+(M=M.toString())).substr(M.length)},K=0,re=[],_e=[],ue=0,be=[],ve=[],q=!1,te=_e;h.__private__.setCustomOutputDestination=function(M){q=!0,te=M};var Ee=function(M){q||(te=M)};h.__private__.resetCustomOutputDestination=function(){q=!1,te=_e};var Z=h.__private__.out=function(M){return M=M.toString(),ue+=M.length+1,te.push(M),te},qe=h.__private__.write=function(M){return Z(arguments.length===1?M.toString():Array.prototype.join.call(arguments," "))},Ce=h.__private__.getArrayBuffer=function(M){for(var G=M.length,me=new ArrayBuffer(G),Ne=new Uint8Array(me);G--;)Ne[G]=M.charCodeAt(G);return me},rt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return rt};var Pe=t.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(M){return Pe=S===_?M/Ue:M,this};var nt,ft=h.__private__.getFontSize=h.getFontSize=function(){return S===b?Pe:Pe*Ue},Tt=t.R2L||!1;h.__private__.setR2L=h.setR2L=function(M){return Tt=M,this},h.__private__.getR2L=h.getR2L=function(){return Tt};var ae,Y=h.__private__.setZoomMode=function(M){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(M))nt=M;else if(isNaN(M)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(M)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+M+'" is not recognized.');nt=M}else nt=parseInt(M,10)};h.__private__.getZoomMode=function(){return nt};var ke,Oe=h.__private__.setPageMode=function(M){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(M)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+M+'" is not recognized.');ae=M};h.__private__.getPageMode=function(){return ae};var it=h.__private__.setLayoutMode=function(M){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(M)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+M+'" is not recognized.');ke=M};h.__private__.getLayoutMode=function(){return ke},h.__private__.setDisplayMode=h.setDisplayMode=function(M,G,me){return Y(M),it(G),Oe(me),this};var Fe={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(M){if(Object.keys(Fe).indexOf(M)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Fe[M]},h.__private__.getDocumentProperties=function(){return Fe},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(M){for(var G in Fe)Fe.hasOwnProperty(G)&&M[G]&&(Fe[G]=M[G]);return this},h.__private__.setDocumentProperty=function(M,G){if(Object.keys(Fe).indexOf(M)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Fe[M]=G};var lt,Ue,tt,yt,Ke,Ze={},bt={},At=[],st={},Mt={},Ae={},ht={},gt=null,wt=0,$e=[],Ye=new sk(h),Ct=t.hotfixes||[],It={},mn={},nn=[],Ot=function M(G,me,Ne,Ie,ct,mt){if(!(this instanceof M))return new M(G,me,Ne,Ie,ct,mt);isNaN(G)&&(G=1),isNaN(me)&&(me=0),isNaN(Ne)&&(Ne=0),isNaN(Ie)&&(Ie=1),isNaN(ct)&&(ct=0),isNaN(mt)&&(mt=0),this._matrix=[G,me,Ne,Ie,ct,mt]};Object.defineProperty(Ot.prototype,"sx",{get:function(){return this._matrix[0]},set:function(M){this._matrix[0]=M}}),Object.defineProperty(Ot.prototype,"shy",{get:function(){return this._matrix[1]},set:function(M){this._matrix[1]=M}}),Object.defineProperty(Ot.prototype,"shx",{get:function(){return this._matrix[2]},set:function(M){this._matrix[2]=M}}),Object.defineProperty(Ot.prototype,"sy",{get:function(){return this._matrix[3]},set:function(M){this._matrix[3]=M}}),Object.defineProperty(Ot.prototype,"tx",{get:function(){return this._matrix[4]},set:function(M){this._matrix[4]=M}}),Object.defineProperty(Ot.prototype,"ty",{get:function(){return this._matrix[5]},set:function(M){this._matrix[5]=M}}),Object.defineProperty(Ot.prototype,"a",{get:function(){return this._matrix[0]},set:function(M){this._matrix[0]=M}}),Object.defineProperty(Ot.prototype,"b",{get:function(){return this._matrix[1]},set:function(M){this._matrix[1]=M}}),Object.defineProperty(Ot.prototype,"c",{get:function(){return this._matrix[2]},set:function(M){this._matrix[2]=M}}),Object.defineProperty(Ot.prototype,"d",{get:function(){return this._matrix[3]},set:function(M){this._matrix[3]=M}}),Object.defineProperty(Ot.prototype,"e",{get:function(){return this._matrix[4]},set:function(M){this._matrix[4]=M}}),Object.defineProperty(Ot.prototype,"f",{get:function(){return this._matrix[5]},set:function(M){this._matrix[5]=M}}),Object.defineProperty(Ot.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ot.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ot.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ot.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ot.prototype.join=function(M){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(L).join(M)},Ot.prototype.multiply=function(M){var G=M.sx*this.sx+M.shy*this.shx,me=M.sx*this.shy+M.shy*this.sy,Ne=M.shx*this.sx+M.sy*this.shx,Ie=M.shx*this.shy+M.sy*this.sy,ct=M.tx*this.sx+M.ty*this.shx+this.tx,mt=M.tx*this.shy+M.ty*this.sy+this.ty;return new Ot(G,me,Ne,Ie,ct,mt)},Ot.prototype.decompose=function(){var M=this.sx,G=this.shy,me=this.shx,Ne=this.sy,Ie=this.tx,ct=this.ty,mt=Math.sqrt(M*M+G*G),Dt=(M/=mt)*me+(G/=mt)*Ne;me-=M*Dt,Ne-=G*Dt;var Ht=Math.sqrt(me*me+Ne*Ne);return Dt/=Ht,M*(Ne/=Ht)<G*(me/=Ht)&&(M=-M,G=-G,Dt=-Dt,mt=-mt),{scale:new Ot(mt,0,0,Ht,0,0),translate:new Ot(1,0,0,1,Ie,ct),rotate:new Ot(M,G,-G,M,0,0),skew:new Ot(1,0,Dt,1,0,0)}},Ot.prototype.toString=function(M){return this.join(" ")},Ot.prototype.inversed=function(){var M=this.sx,G=this.shy,me=this.shx,Ne=this.sy,Ie=this.tx,ct=this.ty,mt=1/(M*Ne-G*me),Dt=Ne*mt,Ht=-G*mt,Kt=-me*mt,sn=M*mt;return new Ot(Dt,Ht,Kt,sn,-Dt*Ie-Kt*ct,-Ht*Ie-sn*ct)},Ot.prototype.applyToPoint=function(M){var G=M.x*this.sx+M.y*this.shx+this.tx,me=M.x*this.shy+M.y*this.sy+this.ty;return new tu(G,me)},Ot.prototype.applyToRectangle=function(M){var G=this.applyToPoint(M),me=this.applyToPoint(new tu(M.x+M.w,M.y+M.h));return new Ad(G.x,G.y,me.x-G.x,me.y-G.y)},Ot.prototype.clone=function(){var M=this.sx,G=this.shy,me=this.shx,Ne=this.sy,Ie=this.tx,ct=this.ty;return new Ot(M,G,me,Ne,Ie,ct)},h.Matrix=Ot;var yr=h.matrixMult=function(M,G){return G.multiply(M)},xa=new Ot(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=xa;var sr=function(M,G){if(!Mt[M]){var me=(G instanceof Nu?"Sh":"P")+(Object.keys(st).length+1).toString(10);G.id=me,Mt[M]=me,st[me]=G,Ye.publish("addPattern",G)}};h.ShadingPattern=Nu,h.TilingPattern=_h,h.addShadingPattern=function(M,G){return E("addShadingPattern()"),sr(M,G),this},h.beginTilingPattern=function(M){E("beginTilingPattern()"),Td(M.boundingBox[0],M.boundingBox[1],M.boundingBox[2]-M.boundingBox[0],M.boundingBox[3]-M.boundingBox[1],M.matrix)},h.endTilingPattern=function(M,G){E("endTilingPattern()"),G.stream=ve[U].join(`
`),sr(M,G),Ye.publish("endTilingPattern",G),nn.pop().restore()};var ui,Wn=h.__private__.newObject=function(){var M=hr();return J(M,!0),M},hr=h.__private__.newObjectDeferred=function(){return K++,re[K]=function(){return ue},K},J=function(M,G){return G=typeof G=="boolean"&&G,re[M]=ue,G&&Z(M+" 0 obj"),M},fe=h.__private__.newAdditionalObject=function(){var M={objId:hr(),content:""};return be.push(M),M},oe=hr(),ce=hr(),he=h.__private__.decodeColorString=function(M){var G=M.split(" ");if(G.length!==2||G[1]!=="g"&&G[1]!=="G")G.length!==5||G[4]!=="k"&&G[4]!=="K"||(G=[(1-G[0])*(1-G[3]),(1-G[1])*(1-G[3]),(1-G[2])*(1-G[3]),"r"]);else{var me=parseFloat(G[0]);G=[me,me,me,"r"]}for(var Ne="#",Ie=0;Ie<3;Ie++)Ne+=("0"+Math.floor(255*parseFloat(G[Ie])).toString(16)).slice(-2);return Ne},ge=h.__private__.encodeColorString=function(M){var G;typeof M=="string"&&(M={ch1:M});var me=M.ch1,Ne=M.ch2,Ie=M.ch3,ct=M.ch4,mt=M.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof me=="string"&&me.charAt(0)!=="#"){var Dt=new NF(me);if(Dt.ok)me=Dt.toHex();else if(!/^\d*\.?\d*$/.test(me))throw new Error('Invalid color "'+me+'" passed to jsPDF.encodeColorString.')}if(typeof me=="string"&&/^#[0-9A-Fa-f]{3}$/.test(me)&&(me="#"+me[1]+me[1]+me[2]+me[2]+me[3]+me[3]),typeof me=="string"&&/^#[0-9A-Fa-f]{6}$/.test(me)){var Ht=parseInt(me.substr(1),16);me=Ht>>16&255,Ne=Ht>>8&255,Ie=255&Ht}if(Ne===void 0||ct===void 0&&me===Ne&&Ne===Ie)G=typeof me=="string"?me+" "+mt[0]:M.precision===2?A(me/255)+" "+mt[0]:F(me/255)+" "+mt[0];else if(ct===void 0||Bn(ct)==="object"){if(ct&&!isNaN(ct.a)&&ct.a===0)return["1.","1.","1.",mt[1]].join(" ");G=typeof me=="string"?[me,Ne,Ie,mt[1]].join(" "):M.precision===2?[A(me/255),A(Ne/255),A(Ie/255),mt[1]].join(" "):[F(me/255),F(Ne/255),F(Ie/255),mt[1]].join(" ")}else G=typeof me=="string"?[me,Ne,Ie,ct,mt[2]].join(" "):M.precision===2?[A(me),A(Ne),A(Ie),A(ct),mt[2]].join(" "):[F(me),F(Ne),F(Ie),F(ct),mt[2]].join(" ");return G},je=h.__private__.getFilters=function(){return s},Qe=h.__private__.putStream=function(M){var G=(M=M||{}).data||"",me=M.filters||je(),Ne=M.alreadyAppliedFilters||[],Ie=M.addLength1||!1,ct=G.length,mt=M.objectId,Dt=function(Jr){return Jr};if(u!==null&&mt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(Dt=Gn.encryptor(mt,0));var Ht={};me===!0&&(me=["FlateEncode"]);var Kt=M.additionalKeyValues||[],sn=(Ht=Wt.API.processDataByFilters!==void 0?Wt.API.processDataByFilters(G,me):{data:G,reverseChain:[]}).reverseChain+(Array.isArray(Ne)?Ne.join(" "):Ne.toString());if(Ht.data.length!==0&&(Kt.push({key:"Length",value:Ht.data.length}),Ie===!0&&Kt.push({key:"Length1",value:ct})),sn.length!=0)if(sn.split("/").length-1==1)Kt.push({key:"Filter",value:sn});else{Kt.push({key:"Filter",value:"["+sn+"]"});for(var Pn=0;Pn<Kt.length;Pn+=1)if(Kt[Pn].key==="DecodeParms"){for(var dr=[],Vr=0;Vr<Ht.reverseChain.split("/").length-1;Vr+=1)dr.push("null");dr.push(Kt[Pn].value),Kt[Pn].value="["+dr.join(" ")+"]"}}Z("<<");for(var Hn=0;Hn<Kt.length;Hn++)Z("/"+Kt[Hn].key+" "+Kt[Hn].value);Z(">>"),Ht.data.length!==0&&(Z("stream"),Z(Dt(Ht.data)),Z("endstream"))},ze=h.__private__.putPage=function(M){var G=M.number,me=M.data,Ne=M.objId,Ie=M.contentsObjId;J(Ne,!0),Z("<</Type /Page"),Z("/Parent "+M.rootDictionaryObjId+" 0 R"),Z("/Resources "+M.resourceDictionaryObjId+" 0 R"),Z("/MediaBox ["+parseFloat(L(M.mediaBox.bottomLeftX))+" "+parseFloat(L(M.mediaBox.bottomLeftY))+" "+L(M.mediaBox.topRightX)+" "+L(M.mediaBox.topRightY)+"]"),M.cropBox!==null&&Z("/CropBox ["+L(M.cropBox.bottomLeftX)+" "+L(M.cropBox.bottomLeftY)+" "+L(M.cropBox.topRightX)+" "+L(M.cropBox.topRightY)+"]"),M.bleedBox!==null&&Z("/BleedBox ["+L(M.bleedBox.bottomLeftX)+" "+L(M.bleedBox.bottomLeftY)+" "+L(M.bleedBox.topRightX)+" "+L(M.bleedBox.topRightY)+"]"),M.trimBox!==null&&Z("/TrimBox ["+L(M.trimBox.bottomLeftX)+" "+L(M.trimBox.bottomLeftY)+" "+L(M.trimBox.topRightX)+" "+L(M.trimBox.topRightY)+"]"),M.artBox!==null&&Z("/ArtBox ["+L(M.artBox.bottomLeftX)+" "+L(M.artBox.bottomLeftY)+" "+L(M.artBox.topRightX)+" "+L(M.artBox.topRightY)+"]"),typeof M.userUnit=="number"&&M.userUnit!==1&&Z("/UserUnit "+M.userUnit),Ye.publish("putPage",{objId:Ne,pageContext:$e[G],pageNumber:G,page:me}),Z("/Contents "+Ie+" 0 R"),Z(">>"),Z("endobj");var ct=me.join(`
`);return S===_&&(ct+=`
Q`),J(Ie,!0),Qe({data:ct,filters:je(),objectId:Ie}),Z("endobj"),Ne},He=h.__private__.putPages=function(){var M,G,me=[];for(M=1;M<=wt;M++)$e[M].objId=hr(),$e[M].contentsObjId=hr();for(M=1;M<=wt;M++)me.push(ze({number:M,data:ve[M],objId:$e[M].objId,contentsObjId:$e[M].contentsObjId,mediaBox:$e[M].mediaBox,cropBox:$e[M].cropBox,bleedBox:$e[M].bleedBox,trimBox:$e[M].trimBox,artBox:$e[M].artBox,userUnit:$e[M].userUnit,rootDictionaryObjId:oe,resourceDictionaryObjId:ce}));J(oe,!0),Z("<</Type /Pages");var Ne="/Kids [";for(G=0;G<wt;G++)Ne+=me[G]+" 0 R ";Z(Ne+"]"),Z("/Count "+wt),Z(">>"),Z("endobj"),Ye.publish("postPutPages")},Ge=function(M){Ye.publish("putFont",{font:M,out:Z,newObject:Wn,putStream:Qe}),M.isAlreadyPutted!==!0&&(M.objectNumber=Wn(),Z("<<"),Z("/Type /Font"),Z("/BaseFont /"+ih(M.postScriptName)),Z("/Subtype /Type1"),typeof M.encoding=="string"&&Z("/Encoding /"+M.encoding),Z("/FirstChar 32"),Z("/LastChar 255"),Z(">>"),Z("endobj"))},z=function(M){M.objectNumber=Wn();var G=[];G.push({key:"Type",value:"/XObject"}),G.push({key:"Subtype",value:"/Form"}),G.push({key:"BBox",value:"["+[L(M.x),L(M.y),L(M.x+M.width),L(M.y+M.height)].join(" ")+"]"}),G.push({key:"Matrix",value:"["+M.matrix.toString()+"]"});var me=M.pages[1].join(`
`);Qe({data:me,additionalKeyValues:G,objectId:M.objectNumber}),Z("endobj")},ye=function(M,G){G||(G=21);var me=Wn(),Ne=function(mt,Dt){var Ht,Kt=[],sn=1/(Dt-1);for(Ht=0;Ht<1;Ht+=sn)Kt.push(Ht);if(Kt.push(1),mt[0].offset!=0){var Pn={offset:0,color:mt[0].color};mt.unshift(Pn)}if(mt[mt.length-1].offset!=1){var dr={offset:1,color:mt[mt.length-1].color};mt.push(dr)}for(var Vr="",Hn=0,Jr=0;Jr<Kt.length;Jr++){for(Ht=Kt[Jr];Ht>mt[Hn+1].offset;)Hn++;var Wr=mt[Hn].offset,_i=(Ht-Wr)/(mt[Hn+1].offset-Wr),Vo=mt[Hn].color,Bl=mt[Hn+1].color;Vr+=I(Math.round((1-_i)*Vo[0]+_i*Bl[0]).toString(16))+I(Math.round((1-_i)*Vo[1]+_i*Bl[1]).toString(16))+I(Math.round((1-_i)*Vo[2]+_i*Bl[2]).toString(16))}return Vr.trim()}(M.colors,G),Ie=[];Ie.push({key:"FunctionType",value:"0"}),Ie.push({key:"Domain",value:"[0.0 1.0]"}),Ie.push({key:"Size",value:"["+G+"]"}),Ie.push({key:"BitsPerSample",value:"8"}),Ie.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ie.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Qe({data:Ne,additionalKeyValues:Ie,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:me}),Z("endobj"),M.objectNumber=Wn(),Z("<< /ShadingType "+M.type),Z("/ColorSpace /DeviceRGB");var ct="/Coords ["+L(parseFloat(M.coords[0]))+" "+L(parseFloat(M.coords[1]))+" ";M.type===2?ct+=L(parseFloat(M.coords[2]))+" "+L(parseFloat(M.coords[3])):ct+=L(parseFloat(M.coords[2]))+" "+L(parseFloat(M.coords[3]))+" "+L(parseFloat(M.coords[4]))+" "+L(parseFloat(M.coords[5])),Z(ct+="]"),M.matrix&&Z("/Matrix ["+M.matrix.toString()+"]"),Z("/Function "+me+" 0 R"),Z("/Extend [true true]"),Z(">>"),Z("endobj")},Me=function(M,G){var me=hr(),Ne=Wn();G.push({resourcesOid:me,objectOid:Ne}),M.objectNumber=Ne;var Ie=[];Ie.push({key:"Type",value:"/Pattern"}),Ie.push({key:"PatternType",value:"1"}),Ie.push({key:"PaintType",value:"1"}),Ie.push({key:"TilingType",value:"1"}),Ie.push({key:"BBox",value:"["+M.boundingBox.map(L).join(" ")+"]"}),Ie.push({key:"XStep",value:L(M.xStep)}),Ie.push({key:"YStep",value:L(M.yStep)}),Ie.push({key:"Resources",value:me+" 0 R"}),M.matrix&&Ie.push({key:"Matrix",value:"["+M.matrix.toString()+"]"}),Qe({data:M.stream,additionalKeyValues:Ie,objectId:M.objectNumber}),Z("endobj")},Te=function(M){for(var G in M.objectNumber=Wn(),Z("<<"),M)switch(G){case"opacity":Z("/ca "+A(M[G]));break;case"stroke-opacity":Z("/CA "+A(M[G]))}Z(">>"),Z("endobj")},we=function(M){J(M.resourcesOid,!0),Z("<<"),Z("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var G in Z("/Font <<"),Ze)Ze.hasOwnProperty(G)&&(f===!1||f===!0&&d.hasOwnProperty(G))&&Z("/"+G+" "+Ze[G].objectNumber+" 0 R");Z(">>")}(),function(){if(Object.keys(st).length>0){for(var G in Z("/Shading <<"),st)st.hasOwnProperty(G)&&st[G]instanceof Nu&&st[G].objectNumber>=0&&Z("/"+G+" "+st[G].objectNumber+" 0 R");Ye.publish("putShadingPatternDict"),Z(">>")}}(),function(G){if(Object.keys(st).length>0){for(var me in Z("/Pattern <<"),st)st.hasOwnProperty(me)&&st[me]instanceof h.TilingPattern&&st[me].objectNumber>=0&&st[me].objectNumber<G&&Z("/"+me+" "+st[me].objectNumber+" 0 R");Ye.publish("putTilingPatternDict"),Z(">>")}}(M.objectOid),function(){if(Object.keys(Ae).length>0){var G;for(G in Z("/ExtGState <<"),Ae)Ae.hasOwnProperty(G)&&Ae[G].objectNumber>=0&&Z("/"+G+" "+Ae[G].objectNumber+" 0 R");Ye.publish("putGStateDict"),Z(">>")}}(),function(){for(var G in Z("/XObject <<"),It)It.hasOwnProperty(G)&&It[G].objectNumber>=0&&Z("/"+G+" "+It[G].objectNumber+" 0 R");Ye.publish("putXobjectDict"),Z(">>")}(),Z(">>"),Z("endobj")},Je=function(M){bt[M.fontName]=bt[M.fontName]||{},bt[M.fontName][M.fontStyle]=M.id},xt=function(M,G,me,Ne,Ie){var ct={id:"F"+(Object.keys(Ze).length+1).toString(10),postScriptName:M,fontName:G,fontStyle:me,encoding:Ne,isStandardFont:Ie||!1,metadata:{}};return Ye.publish("addFont",{font:ct,instance:this}),Ze[ct.id]=ct,Je(ct),ct.id},vt=h.__private__.pdfEscape=h.pdfEscape=function(M,G){return function(me,Ne){var Ie,ct,mt,Dt,Ht,Kt,sn,Pn,dr;if(mt=(Ne=Ne||{}).sourceEncoding||"Unicode",Ht=Ne.outputEncoding,(Ne.autoencode||Ht)&&Ze[lt].metadata&&Ze[lt].metadata[mt]&&Ze[lt].metadata[mt].encoding&&(Dt=Ze[lt].metadata[mt].encoding,!Ht&&Ze[lt].encoding&&(Ht=Ze[lt].encoding),!Ht&&Dt.codePages&&(Ht=Dt.codePages[0]),typeof Ht=="string"&&(Ht=Dt[Ht]),Ht)){for(sn=!1,Kt=[],Ie=0,ct=me.length;Ie<ct;Ie++)(Pn=Ht[me.charCodeAt(Ie)])?Kt.push(String.fromCharCode(Pn)):Kt.push(me[Ie]),Kt[Ie].charCodeAt(0)>>8&&(sn=!0);me=Kt.join("")}for(Ie=me.length;sn===void 0&&Ie!==0;)me.charCodeAt(Ie-1)>>8&&(sn=!0),Ie--;if(!sn)return me;for(Kt=Ne.noBOM?[]:[254,255],Ie=0,ct=me.length;Ie<ct;Ie++){if((dr=(Pn=me.charCodeAt(Ie))>>8)>>8)throw new Error("Character at position "+Ie+" of string '"+me+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Kt.push(dr),Kt.push(Pn-(dr<<8))}return String.fromCharCode.apply(void 0,Kt)}(M,G).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Et=h.__private__.beginPage=function(M){ve[++wt]=[],$e[wt]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(M[0]),topRightY:Number(M[1])}},Lt(wt),Ee(ve[U])},jt=function(M,G){var me,Ne,Ie;switch(n=G||n,typeof M=="string"&&(me=m(M.toLowerCase()),Array.isArray(me)&&(Ne=me[0],Ie=me[1])),Array.isArray(M)&&(Ne=M[0]*Ue,Ie=M[1]*Ue),isNaN(Ne)&&(Ne=i[0],Ie=i[1]),(Ne>14400||Ie>14400)&&(Xn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ne=Math.min(14400,Ne),Ie=Math.min(14400,Ie)),i=[Ne,Ie],n.substr(0,1)){case"l":Ie>Ne&&(i=[Ie,Ne]);break;case"p":Ne>Ie&&(i=[Ie,Ne])}Et(i),Dv(bd),Z(_f),Sd!==0&&Z(Sd+" J"),Ed!==0&&Z(Ed+" j"),Ye.publish("addPage",{pageNumber:wt})},zt=function(M){M>0&&M<=wt&&(ve.splice(M,1),$e.splice(M,1),wt--,U>wt&&(U=wt),this.setPage(U))},Lt=function(M){M>0&&M<=wt&&(U=M)},qt=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return ve.length-1},gn=function(M,G,me){var Ne,Ie=void 0;return me=me||{},M=M!==void 0?M:Ze[lt].fontName,G=G!==void 0?G:Ze[lt].fontStyle,Ne=M.toLowerCase(),bt[Ne]!==void 0&&bt[Ne][G]!==void 0?Ie=bt[Ne][G]:bt[M]!==void 0&&bt[M][G]!==void 0?Ie=bt[M][G]:me.disableWarning===!1&&Xn.warn("Unable to look up font label for font '"+M+"', '"+G+"'. Refer to getFontList() for available fonts."),Ie||me.noFallback||(Ie=bt.times[G])==null&&(Ie=bt.times.normal),Ie},dn=h.__private__.putInfo=function(){var M=Wn(),G=function(Ne){return Ne};for(var me in u!==null&&(G=Gn.encryptor(M,0)),Z("<<"),Z("/Producer ("+vt(G("jsPDF "+Wt.version))+")"),Fe)Fe.hasOwnProperty(me)&&Fe[me]&&Z("/"+me.substr(0,1).toUpperCase()+me.substr(1)+" ("+vt(G(Fe[me]))+")");Z("/CreationDate ("+vt(G(X))+")"),Z(">>"),Z("endobj")},Fn=h.__private__.putCatalog=function(M){var G=(M=M||{}).rootDictionaryObjId||oe;switch(Wn(),Z("<<"),Z("/Type /Catalog"),Z("/Pages "+G+" 0 R"),nt||(nt="fullwidth"),nt){case"fullwidth":Z("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Z("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Z("/OpenAction [3 0 R /Fit]");break;case"original":Z("/OpenAction [3 0 R /XYZ null null 1]");break;default:var me=""+nt;me.substr(me.length-1)==="%"&&(nt=parseInt(nt)/100),typeof nt=="number"&&Z("/OpenAction [3 0 R /XYZ null null "+A(nt)+"]")}switch(ke||(ke="continuous"),ke){case"continuous":Z("/PageLayout /OneColumn");break;case"single":Z("/PageLayout /SinglePage");break;case"two":case"twoleft":Z("/PageLayout /TwoColumnLeft");break;case"tworight":Z("/PageLayout /TwoColumnRight")}ae&&Z("/PageMode /"+ae),Ye.publish("putCatalog"),Z(">>"),Z("endobj")},Xt=h.__private__.putTrailer=function(){Z("trailer"),Z("<<"),Z("/Size "+(K+1)),Z("/Root "+K+" 0 R"),Z("/Info "+(K-1)+" 0 R"),u!==null&&Z("/Encrypt "+Gn.oid+" 0 R"),Z("/ID [ <"+ee+"> <"+ee+"> ]"),Z(">>")},Gt=h.__private__.putHeader=function(){Z("%PDF-"+g),Z("%")},zn=h.__private__.putXRef=function(){var M="0000000000";Z("xref"),Z("0 "+(K+1)),Z("0000000000 65535 f ");for(var G=1;G<=K;G++)typeof re[G]=="function"?Z((M+re[G]()).slice(-10)+" 00000 n "):re[G]!==void 0?Z((M+re[G]).slice(-10)+" 00000 n "):Z("0000000000 00000 n ")},an=h.__private__.buildDocument=function(){var M;K=0,ue=0,_e=[],re=[],be=[],oe=hr(),ce=hr(),Ee(_e),Ye.publish("buildDocument"),Gt(),He(),function(){Ye.publish("putAdditionalObjects");for(var me=0;me<be.length;me++){var Ne=be[me];J(Ne.objId,!0),Z(Ne.content),Z("endobj")}Ye.publish("postPutAdditionalObjects")}(),M=[],function(){for(var me in Ze)Ze.hasOwnProperty(me)&&(f===!1||f===!0&&d.hasOwnProperty(me))&&Ge(Ze[me])}(),function(){var me;for(me in Ae)Ae.hasOwnProperty(me)&&Te(Ae[me])}(),function(){for(var me in It)It.hasOwnProperty(me)&&z(It[me])}(),function(me){var Ne;for(Ne in st)st.hasOwnProperty(Ne)&&(st[Ne]instanceof Nu?ye(st[Ne]):st[Ne]instanceof _h&&Me(st[Ne],me))}(M),Ye.publish("putResources"),M.forEach(we),we({resourcesOid:ce,objectOid:Number.MAX_SAFE_INTEGER}),Ye.publish("postPutResources"),u!==null&&(Gn.oid=Wn(),Z("<<"),Z("/Filter /Standard"),Z("/V "+Gn.v),Z("/R "+Gn.r),Z("/U <"+Gn.toHexString(Gn.U)+">"),Z("/O <"+Gn.toHexString(Gn.O)+">"),Z("/P "+Gn.P),Z(">>"),Z("endobj")),dn(),Fn();var G=ue;return zn(),Xt(),Z("startxref"),Z(""+G),Z("%%EOF"),Ee(ve[U]),_e.join(`
`)},kr=h.__private__.getBlob=function(M){return new Blob([Ce(M)],{type:"application/pdf"})},fi=h.output=h.__private__.output=(ui=function(M,G){switch(typeof(G=G||{})=="string"?G={filename:G}:G.filename=G.filename||"generated.pdf",M){case void 0:return an();case"save":h.save(G.filename);break;case"arraybuffer":return Ce(an());case"blob":return kr(an());case"bloburi":case"bloburl":if(Jt.URL!==void 0&&typeof Jt.URL.createObjectURL=="function")return Jt.URL&&Jt.URL.createObjectURL(kr(an()))||void 0;Xn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var me="",Ne=an();try{me=rk(Ne)}catch{me=rk(unescape(encodeURIComponent(Ne)))}return"data:application/pdf;filename="+G.filename+";base64,"+me;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Jt)==="[object Window]"){var Ie="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ct=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';G.pdfObjectUrl&&(Ie=G.pdfObjectUrl,ct="");var mt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ie+'"'+ct+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(G)+");<\/script></body></html>",Dt=Jt.open();return Dt!==null&&Dt.document.write(mt),Dt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Jt)==="[object Window]"){var Ht='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(G.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+G.filename+'" width="500px" height="400px" /></body></html>',Kt=Jt.open();if(Kt!==null){Kt.document.write(Ht);var sn=this;Kt.document.documentElement.querySelector("#pdfViewer").onload=function(){Kt.document.title=G.filename,Kt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(sn.output("bloburl"))}}return Kt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Jt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Pn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",G)+'"></iframe></body></html>',dr=Jt.open();if(dr!==null&&(dr.document.write(Pn),dr.document.title=G.filename),dr||typeof safari>"u")return dr;break;case"datauri":case"dataurl":return Jt.document.location.href=this.output("datauristring",G);default:return null}},ui.foo=function(){try{return ui.apply(this,arguments)}catch(me){var M=me.stack||"";~M.indexOf(" at ")&&(M=M.split(" at ")[1]);var G="Error in function "+M.split(`
`)[0].split("<")[0]+": "+me.message;if(!Jt.console)throw new Error(G);Jt.console.error(G,me),Jt.alert&&alert(G)}},ui.foo.bar=ui,ui.foo),Cr=function(M){return Array.isArray(Ct)===!0&&Ct.indexOf(M)>-1};switch(r){case"pt":Ue=1;break;case"mm":Ue=72/25.4;break;case"cm":Ue=72/2.54;break;case"in":Ue=72;break;case"px":Ue=Cr("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ue=12;break;case"ex":Ue=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Ue=r}var Gn=null;Se(),B();var Dn=h.__private__.getPageInfo=h.getPageInfo=function(M){if(isNaN(M)||M%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:$e[M].objId,pageNumber:M,pageContext:$e[M]}},Pi=h.__private__.getPageInfoByObjId=function(M){if(isNaN(M)||M%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var G in $e)if($e[G].objId===M)break;return Dn(G)},Li=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:$e[U].objId,pageNumber:U,pageContext:$e[U]}};h.addPage=function(){return jt.apply(this,arguments),this},h.setPage=function(){return Lt.apply(this,arguments),Ee.call(this,ve[U]),this},h.insertPage=function(M){return this.addPage(),this.movePage(U,M),this},h.movePage=function(M,G){var me,Ne;if(M>G){me=ve[M],Ne=$e[M];for(var Ie=M;Ie>G;Ie--)ve[Ie]=ve[Ie-1],$e[Ie]=$e[Ie-1];ve[G]=me,$e[G]=Ne,this.setPage(G)}else if(M<G){me=ve[M],Ne=$e[M];for(var ct=M;ct<G;ct++)ve[ct]=ve[ct+1],$e[ct]=$e[ct+1];ve[G]=me,$e[G]=Ne,this.setPage(G)}return this},h.deletePage=function(){return zt.apply(this,arguments),this},h.__private__.text=h.text=function(M,G,me,Ne,Ie){var ct,mt,Dt,Ht,Kt,sn,Pn,dr,Vr,Hn=(Ne=Ne||{}).scope||this;if(typeof M=="number"&&typeof G=="number"&&(typeof me=="string"||Array.isArray(me))){var Jr=me;me=G,G=M,M=Jr}if(arguments[3]instanceof Ot==0?(Dt=arguments[4],Ht=arguments[5],Bn(Pn=arguments[3])==="object"&&Pn!==null||(typeof Dt=="string"&&(Ht=Dt,Dt=null),typeof Pn=="string"&&(Ht=Pn,Pn=null),typeof Pn=="number"&&(Dt=Pn,Pn=null),Ne={flags:Pn,angle:Dt,align:Ht})):(E("The transform parameter of text() with a Matrix value"),Vr=Ie),isNaN(G)||isNaN(me)||M==null)throw new Error("Invalid arguments passed to jsPDF.text");if(M.length===0)return Hn;var Wr,_i="",Vo=typeof Ne.lineHeightFactor=="number"?Ne.lineHeightFactor:Zc,Bl=Hn.internal.scaleFactor;function Hv($n){return $n=$n.split("	").join(Array(Ne.TabLen||9).join(" ")),vt($n,Pn)}function dm($n){for(var Yn,Pr=$n.concat(),Lr=[],Xo=Pr.length;Xo--;)typeof(Yn=Pr.shift())=="string"?Lr.push(Yn):Array.isArray($n)&&(Yn.length===1||Yn[1]===void 0&&Yn[2]===void 0)?Lr.push(Yn[0]):Lr.push([Yn[0],Yn[1],Yn[2]]);return Lr}function ru($n,Yn){var Pr;if(typeof $n=="string")Pr=Yn($n)[0];else if(Array.isArray($n)){for(var Lr,Xo,Rf=$n.concat(),fo=[],Id=Rf.length;Id--;)typeof(Lr=Rf.shift())=="string"?fo.push(Yn(Lr)[0]):Array.isArray(Lr)&&typeof Lr[0]=="string"&&(Xo=Yn(Lr[0],Lr[1],Lr[2]),fo.push([Xo[0],Xo[1],Xo[2]]));Pr=fo}return Pr}var Ms=!1,kd=!0;if(typeof M=="string")Ms=!0;else if(Array.isArray(M)){var Ef=M.concat();mt=[];for(var jl,hi=Ef.length;hi--;)(typeof(jl=Ef.shift())!="string"||Array.isArray(jl)&&typeof jl[0]!="string")&&(kd=!1);Ms=kd}if(Ms===!1)throw new Error('Type of text must be string or Array. "'+M+'" is not recognized.');typeof M=="string"&&(M=M.match(/[\r?\n]/)?M.split(/\r\n|\r|\n/g):[M]);var Wo=Pe/Hn.internal.scaleFactor,Go=Wo*(Vo-1);switch(Ne.baseline){case"bottom":me-=Go;break;case"top":me+=Wo-Go;break;case"hanging":me+=Wo-2*Go;break;case"middle":me+=Wo/2-Go}if((sn=Ne.maxWidth||0)>0&&(typeof M=="string"?M=Hn.splitTextToSize(M,sn):Object.prototype.toString.call(M)==="[object Array]"&&(M=M.reduce(function($n,Yn){return $n.concat(Hn.splitTextToSize(Yn,sn))},[]))),ct={text:M,x:G,y:me,options:Ne,mutex:{pdfEscape:vt,activeFontKey:lt,fonts:Ze,activeFontSize:Pe}},Ye.publish("preProcessText",ct),M=ct.text,Dt=(Ne=ct.options).angle,Vr instanceof Ot==0&&Dt&&typeof Dt=="number"){Dt*=Math.PI/180,Ne.rotationDirection===0&&(Dt=-Dt),S===_&&(Dt=-Dt);var Af=Math.cos(Dt),Cd=Math.sin(Dt);Vr=new Ot(Af,Cd,-Cd,Af,0,0)}else Dt&&Dt instanceof Ot&&(Vr=Dt);S!==_||Vr||(Vr=xa),(Kt=Ne.charSpace||wf)!==void 0&&(_i+=L(j(Kt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(dr=Ne.horizontalScale)!==void 0&&(_i+=L(100*dr)+` Tz
`),Ne.lang;var ra=-1,pm=Ne.renderingMode!==void 0?Ne.renderingMode:Ne.stroke,Tf=Hn.internal.getCurrentPageInfo().pageContext;switch(pm){case 0:case!1:case"fill":ra=0;break;case 1:case!0:case"stroke":ra=1;break;case 2:case"fillThenStroke":ra=2;break;case 3:case"invisible":ra=3;break;case 4:case"fillAndAddForClipping":ra=4;break;case 5:case"strokeAndAddPathForClipping":ra=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ra=6;break;case 7:case"addToPathForClipping":ra=7}var mm=Tf.usedRenderingMode!==void 0?Tf.usedRenderingMode:-1;ra!==-1?_i+=ra+` Tr
`:mm!==-1&&(_i+=`0 Tr
`),ra!==-1&&(Tf.usedRenderingMode=ra),Ht=Ne.align||"left";var Zr,ls=Pe*Vo,Rd=Hn.internal.pageSize.getWidth(),Pd=Ze[lt];Kt=Ne.charSpace||wf,sn=Ne.maxWidth||0,Pn=Object.assign({autoencode:!0,noBOM:!0},Ne.flags);var zl=[],Mf=function($n){return Hn.getStringUnitWidth($n,{font:Pd,charSpace:Kt,fontSize:Pe,doKerning:!1})*Pe/Bl};if(Object.prototype.toString.call(M)==="[object Array]"){var va;mt=dm(M),Ht!=="left"&&(Zr=mt.map(Mf));var ya,iu=0;if(Ht==="right"){G-=Zr[0],M=[],hi=mt.length;for(var oo=0;oo<hi;oo++)oo===0?(ya=zo(G),va=Ho(me)):(ya=j(iu-Zr[oo]),va=-ls),M.push([mt[oo],ya,va]),iu=Zr[oo]}else if(Ht==="center"){G-=Zr[0]/2,M=[],hi=mt.length;for(var Hl=0;Hl<hi;Hl++)Hl===0?(ya=zo(G),va=Ho(me)):(ya=j((iu-Zr[Hl])/2),va=-ls),M.push([mt[Hl],ya,va]),iu=Zr[Hl]}else if(Ht==="left"){M=[],hi=mt.length;for(var Ld=0;Ld<hi;Ld++)M.push(mt[Ld])}else if(Ht==="justify"&&Pd.encoding==="Identity-H"){M=[],hi=mt.length,sn=sn!==0?sn:Rd;for(var Vl=0,Rr=0;Rr<hi;Rr++)if(va=Rr===0?Ho(me):-ls,ya=Rr===0?zo(G):Vl,Rr<hi-1){var Vv=j((sn-Zr[Rr])/(mt[Rr].split(" ").length-1)),lo=mt[Rr].split(" ");M.push([lo[0]+" ",ya,va]),Vl=0;for(var co=1;co<lo.length;co++){var Nf=(Mf(lo[co-1]+" "+lo[co])-Mf(lo[co]))*Bl+Vv;co==lo.length-1?M.push([lo[co],Nf,0]):M.push([lo[co]+" ",Nf,0]),Vl-=Nf}}else M.push([mt[Rr],ya,va]);M.push(["",Vl,0])}else{if(Ht!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(M=[],hi=mt.length,sn=sn!==0?sn:Rd,Rr=0;Rr<hi;Rr++)va=Rr===0?Ho(me):-ls,ya=Rr===0?zo(G):0,Rr<hi-1?zl.push(L(j((sn-Zr[Rr])/(mt[Rr].split(" ").length-1)))):zl.push(0),M.push([mt[Rr],ya,va])}}(typeof Ne.R2L=="boolean"?Ne.R2L:Tt)===!0&&(M=ru(M,function($n,Yn,Pr){return[$n.split("").reverse().join(""),Yn,Pr]})),ct={text:M,x:G,y:me,options:Ne,mutex:{pdfEscape:vt,activeFontKey:lt,fonts:Ze,activeFontSize:Pe}},Ye.publish("postProcessText",ct),M=ct.text,Wr=ct.mutex.isHex||!1;var Fd=Ze[lt].encoding;Fd!=="WinAnsiEncoding"&&Fd!=="StandardEncoding"||(M=ru(M,function($n,Yn,Pr){return[Hv($n),Yn,Pr]})),mt=dm(M),M=[];for(var kf,Cf,au,su=Array.isArray(mt[0])?1:0,qo="",Dd=function($n,Yn,Pr){var Lr="";return Pr instanceof Ot?(Pr=typeof Ne.angle=="number"?yr(Pr,new Ot(1,0,0,1,$n,Yn)):yr(new Ot(1,0,0,1,$n,Yn),Pr),S===_&&(Pr=yr(new Ot(1,0,0,-1,0,0),Pr)),Lr=Pr.join(" ")+` Tm
`):Lr=L($n)+" "+L(Yn)+` Td
`,Lr},Ua=0;Ua<mt.length;Ua++){switch(qo="",su){case 1:au=(Wr?"<":"(")+mt[Ua][0]+(Wr?">":")"),kf=parseFloat(mt[Ua][1]),Cf=parseFloat(mt[Ua][2]);break;case 0:au=(Wr?"<":"(")+mt[Ua]+(Wr?">":")"),kf=zo(G),Cf=Ho(me)}zl!==void 0&&zl[Ua]!==void 0&&(qo=zl[Ua]+` Tw
`),Ua===0?M.push(qo+Dd(kf,Cf,Vr)+au):su===0?M.push(qo+au):su===1&&M.push(qo+Dd(kf,Cf,Vr)+au)}M=su===0?M.join(` Tj
T* `):M.join(` Tj
`),M+=` Tj
`;var uo=`BT
/`;return uo+=lt+" "+Pe+` Tf
`,uo+=L(Pe*Vo)+` TL
`,uo+=Qc+`
`,uo+=_i,uo+=M,Z(uo+="ET"),d[lt]=!0,Hn};var Kr=h.__private__.clip=h.clip=function(M){return Z(M==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return Kr("evenodd")},h.__private__.discardPath=h.discardPath=function(){return Z("n"),this};var er=h.__private__.isValidStyle=function(M){var G=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(M)!==-1&&(G=!0),G};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(M){return er(M)&&(c=M),this};var Il=h.__private__.getStyle=h.getStyle=function(M){var G=c;switch(M){case"D":case"S":G="S";break;case"F":G="f";break;case"FD":case"DF":G="B";break;case"f":case"f*":case"B":case"B*":G=M}return G},os=h.close=function(){return Z("h"),this};h.stroke=function(){return Z("S"),this},h.fill=function(M){return Ol("f",M),this},h.fillEvenOdd=function(M){return Ol("f*",M),this},h.fillStroke=function(M){return Ol("B",M),this},h.fillStrokeEvenOdd=function(M){return Ol("B*",M),this};var Ol=function(M,G){Bn(G)==="object"?Pv(G,M):Z(M)},yd=function(M){M===null||S===_&&M===void 0||(M=Il(M),Z(M))};function Rv(M,G,me,Ne,Ie){var ct=new _h(G||this.boundingBox,me||this.xStep,Ne||this.yStep,this.gState,Ie||this.matrix);ct.stream=this.stream;var mt=M+"$$"+this.cloneIndex+++"$$";return sr(mt,ct),ct}var Pv=function(M,G){var me=Mt[M.key],Ne=st[me];if(Ne instanceof Nu)Z("q"),Z(Lv(G)),Ne.gState&&h.setGState(Ne.gState),Z(M.matrix.toString()+" cm"),Z("/"+me+" sh"),Z("Q");else if(Ne instanceof _h){var Ie=new Ot(1,0,0,-1,0,Oa());M.matrix&&(Ie=Ie.multiply(M.matrix||xa),me=Rv.call(Ne,M.key,M.boundingBox,M.xStep,M.yStep,Ie).id),Z("q"),Z("/Pattern cs"),Z("/"+me+" scn"),Ne.gState&&h.setGState(Ne.gState),Z(G),Z("Q")}},Lv=function(M){switch(M){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},_d=h.moveTo=function(M,G){return Z(L(j(M))+" "+L(V(G))+" m"),this},Jc=h.lineTo=function(M,G){return Z(L(j(M))+" "+L(V(G))+" l"),this},Ul=h.curveTo=function(M,G,me,Ne,Ie,ct){return Z([L(j(M)),L(V(G)),L(j(me)),L(V(Ne)),L(j(Ie)),L(V(ct)),"c"].join(" ")),this};h.__private__.line=h.line=function(M,G,me,Ne,Ie){if(isNaN(M)||isNaN(G)||isNaN(me)||isNaN(Ne)||!er(Ie))throw new Error("Invalid arguments passed to jsPDF.line");return S===b?this.lines([[me-M,Ne-G]],M,G,[1,1],Ie||"S"):this.lines([[me-M,Ne-G]],M,G,[1,1]).stroke()},h.__private__.lines=h.lines=function(M,G,me,Ne,Ie,ct){var mt,Dt,Ht,Kt,sn,Pn,dr,Vr,Hn,Jr,Wr,_i;if(typeof M=="number"&&(_i=me,me=G,G=M,M=_i),Ne=Ne||[1,1],ct=ct||!1,isNaN(G)||isNaN(me)||!Array.isArray(M)||!Array.isArray(Ne)||!er(Ie)||typeof ct!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(_d(G,me),mt=Ne[0],Dt=Ne[1],Kt=M.length,Jr=G,Wr=me,Ht=0;Ht<Kt;Ht++)(sn=M[Ht]).length===2?(Jr=sn[0]*mt+Jr,Wr=sn[1]*Dt+Wr,Jc(Jr,Wr)):(Pn=sn[0]*mt+Jr,dr=sn[1]*Dt+Wr,Vr=sn[2]*mt+Jr,Hn=sn[3]*Dt+Wr,Jr=sn[4]*mt+Jr,Wr=sn[5]*Dt+Wr,Ul(Pn,dr,Vr,Hn,Jr,Wr));return ct&&os(),yd(Ie),this},h.path=function(M){for(var G=0;G<M.length;G++){var me=M[G],Ne=me.c;switch(me.op){case"m":_d(Ne[0],Ne[1]);break;case"l":Jc(Ne[0],Ne[1]);break;case"c":Ul.apply(this,Ne);break;case"h":os()}}return this},h.__private__.rect=h.rect=function(M,G,me,Ne,Ie){if(isNaN(M)||isNaN(G)||isNaN(me)||isNaN(Ne)||!er(Ie))throw new Error("Invalid arguments passed to jsPDF.rect");return S===b&&(Ne=-Ne),Z([L(j(M)),L(V(G)),L(j(me)),L(j(Ne)),"re"].join(" ")),yd(Ie),this},h.__private__.triangle=h.triangle=function(M,G,me,Ne,Ie,ct,mt){if(isNaN(M)||isNaN(G)||isNaN(me)||isNaN(Ne)||isNaN(Ie)||isNaN(ct)||!er(mt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[me-M,Ne-G],[Ie-me,ct-Ne],[M-Ie,G-ct]],M,G,[1,1],mt,!0),this},h.__private__.roundedRect=h.roundedRect=function(M,G,me,Ne,Ie,ct,mt){if(isNaN(M)||isNaN(G)||isNaN(me)||isNaN(Ne)||isNaN(Ie)||isNaN(ct)||!er(mt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Dt=4/3*(Math.SQRT2-1);return Ie=Math.min(Ie,.5*me),ct=Math.min(ct,.5*Ne),this.lines([[me-2*Ie,0],[Ie*Dt,0,Ie,ct-ct*Dt,Ie,ct],[0,Ne-2*ct],[0,ct*Dt,-Ie*Dt,ct,-Ie,ct],[2*Ie-me,0],[-Ie*Dt,0,-Ie,-ct*Dt,-Ie,-ct],[0,2*ct-Ne],[0,-ct*Dt,Ie*Dt,-ct,Ie,-ct]],M+Ie,G,[1,1],mt,!0),this},h.__private__.ellipse=h.ellipse=function(M,G,me,Ne,Ie){if(isNaN(M)||isNaN(G)||isNaN(me)||isNaN(Ne)||!er(Ie))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ct=4/3*(Math.SQRT2-1)*me,mt=4/3*(Math.SQRT2-1)*Ne;return _d(M+me,G),Ul(M+me,G-mt,M+ct,G-Ne,M,G-Ne),Ul(M-ct,G-Ne,M-me,G-mt,M-me,G),Ul(M-me,G+mt,M-ct,G+Ne,M,G+Ne),Ul(M+ct,G+Ne,M+me,G+mt,M+me,G),yd(Ie),this},h.__private__.circle=h.circle=function(M,G,me,Ne){if(isNaN(M)||isNaN(G)||isNaN(me)||!er(Ne))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(M,G,me,me,Ne)},h.setFont=function(M,G,me){return me&&(G=T(G,me)),lt=gn(M,G,{disableWarning:!1}),this};var Fv=h.__private__.getFont=h.getFont=function(){return Ze[gn.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var M,G,me={};for(M in bt)if(bt.hasOwnProperty(M))for(G in me[M]=[],bt[M])bt[M].hasOwnProperty(G)&&me[M].push(G);return me},h.addFont=function(M,G,me,Ne,Ie){var ct=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ct.indexOf(arguments[3])!==-1?Ie=arguments[3]:arguments[3]&&ct.indexOf(arguments[3])==-1&&(me=T(me,Ne)),xt.call(this,M,G,me,Ie=Ie||"Identity-H")};var Zc,bd=t.lineWidth||.200025,Zt=h.__private__.getLineWidth=h.getLineWidth=function(){return bd},Dv=h.__private__.setLineWidth=h.setLineWidth=function(M){return bd=M,Z(L(j(M))+" w"),this};h.__private__.setLineDash=Wt.API.setLineDash=Wt.API.setLineDashPattern=function(M,G){if(M=M||[],G=G||0,isNaN(G)||!Array.isArray(M))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return M=M.map(function(me){return L(j(me))}).join(" "),G=L(j(G)),Z("["+M+"] "+G+" d"),this};var Iv=h.__private__.getLineHeight=h.getLineHeight=function(){return Pe*Zc};h.__private__.getLineHeight=h.getLineHeight=function(){return Pe*Zc};var Ov=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(M){return typeof(M=M||1.15)=="number"&&(Zc=M),this},Uv=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return Zc};Ov(t.lineHeight);var zo=h.__private__.getHorizontalCoordinate=function(M){return j(M)},Ho=h.__private__.getVerticalCoordinate=function(M){return S===_?M:$e[U].mediaBox.topRightY-$e[U].mediaBox.bottomLeftY-j(M)},Bv=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(M){return L(zo(M))},jv=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(M){return L(Ho(M))},_f=t.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return he(_f)},h.__private__.setStrokeColor=h.setDrawColor=function(M,G,me,Ne){return _f=ge({ch1:M,ch2:G,ch3:me,ch4:Ne,pdfColorType:"draw",precision:2}),Z(_f),this};var wd=t.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return he(wd)},h.__private__.setFillColor=h.setFillColor=function(M,G,me,Ne){return wd=ge({ch1:M,ch2:G,ch3:me,ch4:Ne,pdfColorType:"fill",precision:2}),Z(wd),this};var Qc=t.textColor||"0 g",bf=h.__private__.getTextColor=h.getTextColor=function(){return he(Qc)};h.__private__.setTextColor=h.setTextColor=function(M,G,me,Ne){return Qc=ge({ch1:M,ch2:G,ch3:me,ch4:Ne,pdfColorType:"text",precision:3}),this};var wf=t.charSpace,zv=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(wf||0)};h.__private__.setCharSpace=h.setCharSpace=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return wf=M,this};var Sd=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(M){var G=h.CapJoinStyles[M];if(G===void 0)throw new Error("Line cap style of '"+M+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Sd=G,Z(G+" J"),this};var Ed=0;h.__private__.setLineJoin=h.setLineJoin=function(M){var G=h.CapJoinStyles[M];if(G===void 0)throw new Error("Line join style of '"+M+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ed=G,Z(G+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(M){if(M=M||0,isNaN(M))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Z(L(j(M))+" M"),this},h.GState=Ux,h.setGState=function(M){(M=typeof M=="string"?Ae[ht[M]]:eu(null,M)).equals(gt)||(Z("/"+M.id+" gs"),gt=M)};var eu=function(M,G){if(!M||!ht[M]){var me=!1;for(var Ne in Ae)if(Ae.hasOwnProperty(Ne)&&Ae[Ne].equals(G)){me=!0;break}if(me)G=Ae[Ne];else{var Ie="GS"+(Object.keys(Ae).length+1).toString(10);Ae[Ie]=G,G.id=Ie}return M&&(ht[M]=G.id),Ye.publish("addGState",G),G}};h.addGState=function(M,G){return eu(M,G),this},h.saveGraphicsState=function(){return Z("q"),At.push({key:lt,size:Pe,color:Qc}),this},h.restoreGraphicsState=function(){Z("Q");var M=At.pop();return lt=M.key,Pe=M.size,Qc=M.color,gt=null,this},h.setCurrentTransformationMatrix=function(M){return Z(M.toString()+" cm"),this},h.comment=function(M){return Z("#"+M),this};var tu=function(M,G){var me=M||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return me},set:function(ct){isNaN(ct)||(me=parseFloat(ct))}});var Ne=G||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ne},set:function(ct){isNaN(ct)||(Ne=parseFloat(ct))}});var Ie="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ie},set:function(ct){Ie=ct.toString()}}),this},Ad=function(M,G,me,Ne){tu.call(this,M,G),this.type="rect";var Ie=me||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ie},set:function(mt){isNaN(mt)||(Ie=parseFloat(mt))}});var ct=Ne||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ct},set:function(mt){isNaN(mt)||(ct=parseFloat(mt))}}),this},Sf=function(){this.page=wt,this.currentPage=U,this.pages=ve.slice(0),this.pagesContext=$e.slice(0),this.x=tt,this.y=yt,this.matrix=Ke,this.width=Md(U),this.height=Oa(U),this.outputDestination=te,this.id="",this.objectNumber=-1};Sf.prototype.restore=function(){wt=this.page,U=this.currentPage,$e=this.pagesContext,ve=this.pages,tt=this.x,yt=this.y,Ke=this.matrix,Nd(U,this.width),so(U,this.height),te=this.outputDestination};var Td=function(M,G,me,Ne,Ie){nn.push(new Sf),wt=U=0,ve=[],tt=M,yt=G,Ke=Ie,Et([me,Ne])};for(var nu in h.beginFormObject=function(M,G,me,Ne,Ie){return Td(M,G,me,Ne,Ie),this},h.endFormObject=function(M){return function(G){if(mn[G])nn.pop().restore();else{var me=new Sf,Ne="Xo"+(Object.keys(It).length+1).toString(10);me.id=Ne,mn[G]=Ne,It[Ne]=me,Ye.publish("addFormObject",me),nn.pop().restore()}}(M),this},h.doFormObject=function(M,G){var me=It[mn[M]];return Z("q"),Z(G.toString()+" cm"),Z("/"+me.id+" Do"),Z("Q"),this},h.getFormObject=function(M){var G=It[mn[M]];return{x:G.x,y:G.y,width:G.width,height:G.height,matrix:G.matrix}},h.save=function(M,G){return M=M||"generated.pdf",(G=G||{}).returnPromise=G.returnPromise||!1,G.returnPromise===!1?(Eu(kr(an()),M),typeof Eu.unload=="function"&&Jt.setTimeout&&setTimeout(Eu.unload,911),this):new Promise(function(me,Ne){try{var Ie=Eu(kr(an()),M);typeof Eu.unload=="function"&&Jt.setTimeout&&setTimeout(Eu.unload,911),me(Ie)}catch(ct){Ne(ct.message)}})},Wt.API)Wt.API.hasOwnProperty(nu)&&(nu==="events"&&Wt.API.events.length?function(M,G){var me,Ne,Ie;for(Ie=G.length-1;Ie!==-1;Ie--)me=G[Ie][0],Ne=G[Ie][1],M.subscribe.apply(M,[me].concat(typeof Ne=="function"?[Ne]:Ne))}(Ye,Wt.API.events):h[nu]=Wt.API[nu]);var Md=h.getPageWidth=function(M){return($e[M=M||U].mediaBox.topRightX-$e[M].mediaBox.bottomLeftX)/Ue},Nd=h.setPageWidth=function(M,G){$e[M].mediaBox.topRightX=G*Ue+$e[M].mediaBox.bottomLeftX},Oa=h.getPageHeight=function(M){return($e[M=M||U].mediaBox.topRightY-$e[M].mediaBox.bottomLeftY)/Ue},so=h.setPageHeight=function(M,G){$e[M].mediaBox.topRightY=G*Ue+$e[M].mediaBox.bottomLeftY};return h.internal={pdfEscape:vt,getStyle:Il,getFont:Fv,getFontSize:ft,getCharSpace:zv,getTextColor:bf,getLineHeight:Iv,getLineHeightFactor:Uv,getLineWidth:Zt,write:qe,getHorizontalCoordinate:zo,getVerticalCoordinate:Ho,getCoordinateString:Bv,getVerticalCoordinateString:jv,collections:{},newObject:Wn,newAdditionalObject:fe,newObjectDeferred:hr,newObjectDeferredBegin:J,getFilters:je,putStream:Qe,events:Ye,scaleFactor:Ue,pageSize:{getWidth:function(){return Md(U)},setWidth:function(M){Nd(U,M)},getHeight:function(){return Oa(U)},setHeight:function(M){so(U,M)}},encryptionOptions:u,encryption:Gn,getEncryptor:function(M){return u!==null?Gn.encryptor(M,0):function(G){return G}},output:fi,getNumberOfPages:qt,pages:ve,out:Z,f2:A,f3:F,getPageInfo:Dn,getPageInfoByObjId:Pi,getCurrentPageInfo:Li,getPDFVersion:x,Point:tu,Rectangle:Ad,Matrix:Ot,hasHotfix:Cr},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return Md(U)},set:function(M){Nd(U,M)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return Oa(U)},set:function(M){so(U,M)},enumerable:!0,configurable:!0}),(function(M){for(var G=0,me=rt.length;G<me;G++){var Ne=xt.call(this,M[G][0],M[G][1],M[G][2],rt[G][3],!0);f===!1&&(d[Ne]=!0);var Ie=M[G][0].split("-");Je({id:Ne,fontName:Ie[0],fontStyle:Ie[1]||""})}Ye.publish("addFonts",{fonts:Ze,dictionary:bt})}).call(h,rt),lt="F1",jt(i,n),Ye.publish("initialized"),h}rh.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},rh.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},rh.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},rh.prototype.processOwnerPassword=function(t,e){return Yw($w(e).substr(0,5),t)},rh.prototype.encryptor=function(t,e){var n=$w(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return Yw(n,r)}},Ux.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||Bn(t)!==Bn(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},Wt.API={events:[]},Wt.version="3.0.2";var wr=Wt.API,p3=1,yf=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},eh=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Qt=function(t){return t.toFixed(2)},ac=function(t){return t.toFixed(5)};wr.__acroform__={};var Ia=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},ok=function(t){return t*p3},yo=function(t){var e=new PF,n=Ft.internal.getHeight(t)||0,r=Ft.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Qt(r)),Number(Qt(n))],e},ule=wr.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},fle=wr.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},hle=wr.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Br=wr.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return hle(t,e-1)},jr=wr.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return ule(t,e-1)},zr=wr.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return fle(t,e-1)},dle=wr.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],a=t[1],s=t[2],o=t[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(a+o)||0,l.upperRight_X=n(i+s)||0,l.upperRight_Y=r(a)||0,[Number(Qt(l.lowerLeft_X)),Number(Qt(l.lowerLeft_Y)),Number(Qt(l.upperRight_X)),Number(Qt(l.upperRight_Y))]},ple=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=Kw(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+Qt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var a=yo(t);return a.scope=t.scope,a.stream=e.join(`
`),a}},Kw=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(A){return A.split(`
`)}):i.map(function(A){return[A]});var a=n,s=Ft.internal.getHeight(t)||0;s=s<0?-s:s;var o=Ft.internal.getWidth(t)||0;o=o<0?-o:o;var l=function(A,F,j){if(A+1<i.length){var V=F+" "+i[A+1][0];return Kg(V,t,j).width<=o-4}return!1};a++;e:for(;a>0;){e="",a--;var c,u,f=Kg("3",t,a).height,d=t.multiline?s-a:(s-f)/2,h=d+=2,g=0,x=0,v=0;if(a<=0){e=`(...) Tj
`,e+="% Width of Text: "+Kg(e,t,a=12).width+", FieldWidth:"+o+`
`;break}for(var m="",b=0,_=0;_<i.length;_++)if(i.hasOwnProperty(_)){var S=!1;if(i[_].length!==1&&v!==i[_].length-1){if((f+2)*(b+2)+2>s)continue e;m+=i[_][v],S=!0,x=_,_--}else{m=(m+=i[_][v]+" ").substr(m.length-1)==" "?m.substr(0,m.length-1):m;var N=parseInt(_),P=l(N,m,a),T=_>=i.length-1;if(P&&!T){m+=" ",v=0;continue}if(P||T){if(T)x=N;else if(t.multiline&&(f+2)*(b+2)+2>s)continue e}else{if(!t.multiline||(f+2)*(b+2)+2>s)continue e;x=N}}for(var L="",E=g;E<=x;E++){var R=i[E];if(t.multiline){if(E===x){L+=R[v]+" ",v=(v+1)%R.length;continue}if(E===g){L+=R[R.length-1]+" ";continue}}L+=R[0]+" "}switch(L=L.substr(L.length-1)==" "?L.substr(0,L.length-1):L,u=Kg(L,t,a).width,t.textAlign){case"right":c=o-u-2;break;case"center":c=(o-u)/2;break;default:c=2}e+=Qt(c)+" "+Qt(h)+` Td
`,e+="("+yf(L)+`) Tj
`,e+=-Qt(c)+` 0 Td
`,h=-(a+2),u=0,g=S?x:x+1,b++,m=""}break}return r.text=e,r.fontSize=a,r},Kg=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},mle={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},gle=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},xle=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(io.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(mle)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");p3=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new LF,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var a=r[i];a.objId=void 0,a.hasAnnotation&&gle(a,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var a=!r;for(var s in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(s)){var o=r[s],l=[],c=o.Rect;if(o.Rect&&(o.Rect=dle(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Ft.createDefaultAppearanceStream(o),Bn(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=c,o.hasAppearanceStream&&!o.appearanceStreamContent){var u=ple(o);l.push({key:"AP",value:"<</N "+u+">>"}),i.internal.acroformPlugin.xForms.push(u)}if(o.appearanceStreamContent){var f="";for(var d in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(d)){var h=o.appearanceStreamContent[d];if(f+="/"+d+" ",f+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var s in h)if(h.hasOwnProperty(s)){var g=h[s];typeof g=="function"&&(g=g.call(i,o)),f+="/"+s+" "+g+" ",i.internal.acroformPlugin.xForms.indexOf(g)>=0||i.internal.acroformPlugin.xForms.push(g)}}else typeof(g=h)=="function"&&(g=g.call(i,o)),f+="/"+s+" "+g,i.internal.acroformPlugin.xForms.indexOf(g)>=0||i.internal.acroformPlugin.xForms.push(g);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:o.objId}),i.internal.out("endobj")}a&&function(x,v){for(var m in x)if(x.hasOwnProperty(m)){var b=m,_=x[m];v.internal.newObjectDeferredBegin(_.objId,!0),Bn(_)==="object"&&typeof _.putStream=="function"&&_.putStream(),delete x[b]}}(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},RF=wr.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(s){return s};if(Array.isArray(t)){for(var i="[",a=0;a<t.length;a++)switch(a!==0&&(i+=" "),Bn(t[a])){case"boolean":case"number":case"object":i+=t[a].toString();break;case"string":t[a].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+yf(r(t[a].toString()))+")"):i+=t[a].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},o_=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),"("+yf(r(t))+")"},No=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};No.prototype.toString=function(){return this.objId+" 0 R"},No.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},No.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:RF(i,this.objId,this.scope)}):i instanceof No?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var PF=function(){No.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};Ia(PF,No);var LF=function(){No.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+yf(n(t))+")"}},set:function(n){t=n}})};Ia(LF,No);var io=function t(){No.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(m){if(isNaN(m))throw new Error('Invalid value "'+m+'" for attribute F supplied.');e=m}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Br(e,3)},set:function(m){m?this.F=jr(e,3):this.F=zr(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(m){if(isNaN(m))throw new Error('Invalid value "'+m+'" for attribute Ff supplied.');n=m}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(m){r=m!==void 0?m:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(m){r[0]=m}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(m){r[1]=m}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(m){r[2]=m}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(m){r[3]=m}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(m){switch(m){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=m;break;default:throw new Error('Invalid value "'+m+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof Bx)return;a="FieldObject"+t.FieldNum++}var m=function(b){return b};return this.scope&&(m=this.scope.internal.getEncryptor(this.objId)),"("+yf(m(a))+")"},set:function(m){a=m.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(m){a=m}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(m){s=m}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(m){o=m}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(m){l=m}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/p3:c},set:function(m){c=m}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(m){u=m}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof Bx||this instanceof qu))return o_(f,this.objId,this.scope)},set:function(m){m=m.toString(),f=m}});var d=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof gi==0?o_(d,this.objId,this.scope):d},set:function(m){m=m.toString(),d=this instanceof gi==0?m.substr(0,1)==="("?eh(m.substr(1,m.length-2)):eh(m):m}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof gi==1?eh(d.substr(1,d.length-1)):d},set:function(m){m=m.toString(),d=this instanceof gi==1?"/"+m:m}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(m){this.V=m}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof gi==0?o_(h,this.objId,this.scope):h},set:function(m){m=m.toString(),h=this instanceof gi==0?m.substr(0,1)==="("?eh(m.substr(1,m.length-2)):eh(m):m}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof gi==1?eh(h.substr(1,h.length-1)):h},set:function(m){m=m.toString(),h=this instanceof gi==1?"/"+m:m}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var g,x=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return x},set:function(m){m=!!m,x=m}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(g)return g},set:function(m){g=m}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Br(this.Ff,1)},set:function(m){m?this.Ff=jr(this.Ff,1):this.Ff=zr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Br(this.Ff,2)},set:function(m){m?this.Ff=jr(this.Ff,2):this.Ff=zr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Br(this.Ff,3)},set:function(m){m?this.Ff=jr(this.Ff,3):this.Ff=zr(this.Ff,3)}});var v=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(v!==null)return v},set:function(m){if([0,1,2].indexOf(m)===-1)throw new Error('Invalid value "'+m+'" for attribute Q supplied.');v=m}}),Object.defineProperty(this,"textAlign",{get:function(){var m;switch(v){case 0:default:m="left";break;case 1:m="center";break;case 2:m="right"}return m},configurable:!0,enumerable:!0,set:function(m){switch(m){case"right":case 2:v=2;break;case"center":case 1:v=1;break;default:v=0}}})};Ia(io,No);var Fh=function(){io.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return RF(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(a,s,o){o||(o=1);for(var l,c=[];l=s.exec(a);)c.push(l[o]);return c}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Br(this.Ff,18)},set:function(n){n?this.Ff=jr(this.Ff,18):this.Ff=zr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Br(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=jr(this.Ff,19):this.Ff=zr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Br(this.Ff,20)},set:function(n){n?(this.Ff=jr(this.Ff,20),e.sort()):this.Ff=zr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Br(this.Ff,22)},set:function(n){n?this.Ff=jr(this.Ff,22):this.Ff=zr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Br(this.Ff,23)},set:function(n){n?this.Ff=jr(this.Ff,23):this.Ff=zr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Br(this.Ff,27)},set:function(n){n?this.Ff=jr(this.Ff,27):this.Ff=zr(this.Ff,27)}}),this.hasAppearanceStream=!1};Ia(Fh,io);var Dh=function(){Fh.call(this),this.fontName="helvetica",this.combo=!1};Ia(Dh,Fh);var Ih=function(){Dh.call(this),this.combo=!0};Ia(Ih,Dh);var P1=function(){Ih.call(this),this.edit=!0};Ia(P1,Ih);var gi=function(){io.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Br(this.Ff,15)},set:function(n){n?this.Ff=jr(this.Ff,15):this.Ff=zr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Br(this.Ff,16)},set:function(n){n?this.Ff=jr(this.Ff,16):this.Ff=zr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Br(this.Ff,17)},set:function(n){n?this.Ff=jr(this.Ff,17):this.Ff=zr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Br(this.Ff,26)},set:function(n){n?this.Ff=jr(this.Ff,26):this.Ff=zr(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(a){return a};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+yf(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){Bn(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};Ia(gi,io);var L1=function(){gi.call(this),this.pushButton=!0};Ia(L1,gi);var Oh=function(){gi.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Ia(Oh,gi);var Bx=function(){var t,e;io.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,s=[];for(a in s.push("<<"),r)s.push("/"+a+" ("+yf(i(r[a]))+")");return s.push(">>"),s.join(`
`)},set:function(i){Bn(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ft.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ia(Bx,io),Oh.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},Oh.prototype.createOption=function(t){var e=new Bx;return e.Parent=this,e.optionName=t,this.Kids.push(e),vle.call(this.scope,e),e};var F1=function(){gi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ft.CheckBox.createAppearanceStream()};Ia(F1,gi);var qu=function(){io.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Br(this.Ff,13)},set:function(e){e?this.Ff=jr(this.Ff,13):this.Ff=zr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Br(this.Ff,21)},set:function(e){e?this.Ff=jr(this.Ff,21):this.Ff=zr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Br(this.Ff,23)},set:function(e){e?this.Ff=jr(this.Ff,23):this.Ff=zr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Br(this.Ff,24)},set:function(e){e?this.Ff=jr(this.Ff,24):this.Ff=zr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Br(this.Ff,25)},set:function(e){e?this.Ff=jr(this.Ff,25):this.Ff=zr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Br(this.Ff,26)},set:function(e){e?this.Ff=jr(this.Ff,26):this.Ff=zr(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ia(qu,io);var D1=function(){qu.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Br(this.Ff,14)},set:function(t){t?this.Ff=jr(this.Ff,14):this.Ff=zr(this.Ff,14)}}),this.password=!0};Ia(D1,qu);var Ft={CheckBox:{createAppearanceStream:function(){return{N:{On:Ft.CheckBox.YesNormal},D:{On:Ft.CheckBox.YesPushDown,Off:Ft.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=yo(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),a=Kw(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+Qt(Ft.internal.getWidth(t))+" "+Qt(Ft.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+Qt(a.fontSize)+" Tf "+i),n.push("BT"),n.push(a.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=yo(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],a=Ft.internal.getHeight(t),s=Ft.internal.getWidth(t),o=Kw(t,t.caption);return i.push("1 g"),i.push("0 0 "+Qt(s)+" "+Qt(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Qt(s-1)+" "+Qt(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+Qt(o.fontSize)+" Tf "+r),i.push(o.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=yo(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Qt(Ft.internal.getWidth(t))+" "+Qt(Ft.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Ft.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Ft.RadioButton.Circle.YesNormal,e.D[t]=Ft.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=yo(t);e.scope=t.scope;var n=[],r=Ft.internal.getWidth(t)<=Ft.internal.getHeight(t)?Ft.internal.getWidth(t)/4:Ft.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Ft.internal.Bezier_C,a=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+ac(Ft.internal.getWidth(t)/2)+" "+ac(Ft.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=yo(t);e.scope=t.scope;var n=[],r=Ft.internal.getWidth(t)<=Ft.internal.getHeight(t)?Ft.internal.getWidth(t)/4:Ft.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*Ft.internal.Bezier_C).toFixed(5)),s=Number((r*Ft.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+ac(Ft.internal.getWidth(t)/2)+" "+ac(Ft.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+ac(Ft.internal.getWidth(t)/2)+" "+ac(Ft.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=yo(t);e.scope=t.scope;var n=[],r=Ft.internal.getWidth(t)<=Ft.internal.getHeight(t)?Ft.internal.getWidth(t)/4:Ft.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*Ft.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+ac(Ft.internal.getWidth(t)/2)+" "+ac(Ft.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Ft.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Ft.RadioButton.Cross.YesNormal,e.D[t]=Ft.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=yo(t);e.scope=t.scope;var n=[],r=Ft.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+Qt(Ft.internal.getWidth(t)-2)+" "+Qt(Ft.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Qt(r.x1.x)+" "+Qt(r.x1.y)+" m"),n.push(Qt(r.x2.x)+" "+Qt(r.x2.y)+" l"),n.push(Qt(r.x4.x)+" "+Qt(r.x4.y)+" m"),n.push(Qt(r.x3.x)+" "+Qt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=yo(t);e.scope=t.scope;var n=Ft.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+Qt(Ft.internal.getWidth(t))+" "+Qt(Ft.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Qt(Ft.internal.getWidth(t)-2)+" "+Qt(Ft.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Qt(n.x1.x)+" "+Qt(n.x1.y)+" m"),r.push(Qt(n.x2.x)+" "+Qt(n.x2.y)+" l"),r.push(Qt(n.x4.x)+" "+Qt(n.x4.y)+" m"),r.push(Qt(n.x3.x)+" "+Qt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=yo(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Qt(Ft.internal.getWidth(t))+" "+Qt(Ft.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};Ft.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Ft.internal.getWidth(t),n=Ft.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},Ft.internal.getWidth=function(t){var e=0;return Bn(t)==="object"&&(e=ok(t.Rect[2])),e},Ft.internal.getHeight=function(t){var e=0;return Bn(t)==="object"&&(e=ok(t.Rect[3])),e};var vle=wr.addField=function(t){if(xle(this,t),!(t instanceof io))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};wr.AcroFormChoiceField=Fh,wr.AcroFormListBox=Dh,wr.AcroFormComboBox=Ih,wr.AcroFormEditBox=P1,wr.AcroFormButton=gi,wr.AcroFormPushButton=L1,wr.AcroFormRadioButton=Oh,wr.AcroFormCheckBox=F1,wr.AcroFormTextField=qu,wr.AcroFormPasswordField=D1,wr.AcroFormAppearance=Ft,wr.AcroForm={ChoiceField:Fh,ListBox:Dh,ComboBox:Ih,EditBox:P1,Button:gi,PushButton:L1,RadioButton:Oh,CheckBox:F1,TextField:qu,PasswordField:D1,Appearance:Ft},Wt.AcroForm={ChoiceField:Fh,ListBox:Dh,ComboBox:Ih,EditBox:P1,Button:gi,PushButton:L1,RadioButton:Oh,CheckBox:F1,TextField:qu,PasswordField:D1,Appearance:Ft};Wt.AcroForm;function FF(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){var e="addImage_";t.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(A,F){var j,V,X,ee,se,B=n;if((F=F||n)==="RGBA"||A.data!==void 0&&A.data instanceof Uint8ClampedArray&&"height"in A&&"width"in A)return"RGBA";if(P(A))for(se in r)for(X=r[se],j=0;j<X.length;j+=1){for(ee=!0,V=0;V<X[j].length;V+=1)if(X[j][V]!==void 0&&X[j][V]!==A[V]){ee=!1;break}if(ee===!0){B=se;break}}else for(se in r)for(X=r[se],j=0;j<X.length;j+=1){for(ee=!0,V=0;V<X[j].length;V+=1)if(X[j][V]!==void 0&&X[j][V]!==A.charCodeAt(V)){ee=!1;break}if(ee===!0){B=se;break}}return B===n&&F!==n&&(B=F),B},a=function A(F){for(var j=this.internal.write,V=this.internal.putStream,X=(0,this.internal.getFilters)();X.indexOf("FlateEncode")!==-1;)X.splice(X.indexOf("FlateEncode"),1);F.objectId=this.internal.newObject();var ee=[];if(ee.push({key:"Type",value:"/XObject"}),ee.push({key:"Subtype",value:"/Image"}),ee.push({key:"Width",value:F.width}),ee.push({key:"Height",value:F.height}),F.colorSpace===m.INDEXED?ee.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(F.palette.length/3-1)+" "+("sMask"in F&&F.sMask!==void 0?F.objectId+2:F.objectId+1)+" 0 R]"}):(ee.push({key:"ColorSpace",value:"/"+F.colorSpace}),F.colorSpace===m.DEVICE_CMYK&&ee.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ee.push({key:"BitsPerComponent",value:F.bitsPerComponent}),"decodeParameters"in F&&F.decodeParameters!==void 0&&ee.push({key:"DecodeParms",value:"<<"+F.decodeParameters+">>"}),"transparency"in F&&Array.isArray(F.transparency)){for(var se="",B=0,H=F.transparency.length;B<H;B++)se+=F.transparency[B]+" "+F.transparency[B]+" ";ee.push({key:"Mask",value:"["+se+"]"})}F.sMask!==void 0&&ee.push({key:"SMask",value:F.objectId+1+" 0 R"});var xe=F.filter!==void 0?["/"+F.filter]:void 0;if(V({data:F.data,additionalKeyValues:ee,alreadyAppliedFilters:xe,objectId:F.objectId}),j("endobj"),"sMask"in F&&F.sMask!==void 0){var Se=(F.predictor!=null?"/Predictor "+F.predictor:"")+" /Colors 1 /BitsPerComponent 8 /Columns "+F.width,k={width:F.width,height:F.height,colorSpace:"DeviceGray",bitsPerComponent:F.bitsPerComponent,decodeParameters:Se,data:F.sMask};"filter"in F&&(k.filter=F.filter),A.call(this,k)}if(F.colorSpace===m.INDEXED){var U=this.internal.newObject();V({data:L(new Uint8Array(F.palette)),objectId:U}),j("endobj")}},s=function(){var A=this.internal.collections[e+"images"];for(var F in A)a.call(this,A[F])},o=function(){var A,F=this.internal.collections[e+"images"],j=this.internal.write;for(var V in F)j("/I"+(A=F[V]).index,A.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var A=this.internal.collections[e+"images"];return l.call(this),A},u=function(){return Object.keys(this.internal.collections[e+"images"]).length},f=function(A){return typeof t["process"+A.toUpperCase()]=="function"},d=function(A){return Bn(A)==="object"&&A.nodeType===1},h=function(A,F){if(A.nodeName==="IMG"&&A.hasAttribute("src")){var j=""+A.getAttribute("src");if(j.indexOf("data:image/")===0)return R1(unescape(j).split("base64,").pop());var V=t.loadFile(j,!0);if(V!==void 0)return V}if(A.nodeName==="CANVAS"){if(A.width===0||A.height===0)throw new Error("Given canvas must have data. Canvas width: "+A.width+", height: "+A.height);var X;switch(F){case"PNG":X="image/png";break;case"WEBP":X="image/webp";break;default:X="image/jpeg"}return R1(A.toDataURL(X,1).split("base64,").pop())}},g=function(A){var F=this.internal.collections[e+"images"];if(F){for(var j in F)if(A===F[j].alias)return F[j]}},x=function(A,F,j){return A||F||(A=-96,F=-96),A<0&&(A=-1*j.width*72/A/this.internal.scaleFactor),F<0&&(F=-1*j.height*72/F/this.internal.scaleFactor),A===0&&(A=F*j.width/j.height),F===0&&(F=A*j.height/j.width),[A,F]},v=function(A,F,j,V,X,ee){var se=x.call(this,j,V,X),B=this.internal.getCoordinateString,H=this.internal.getVerticalCoordinateString,xe=c.call(this);if(j=se[0],V=se[1],xe[X.index]=X,ee){ee*=Math.PI/180;var Se=Math.cos(ee),k=Math.sin(ee),U=function(I){return I.toFixed(4)},O=[U(Se),U(k),U(-1*k),U(Se),0,0,"cm"]}this.internal.write("q"),ee?(this.internal.write([1,"0","0",1,B(A),H(F+V),"cm"].join(" ")),this.internal.write(O.join(" ")),this.internal.write([B(j),"0","0",B(V),"0","0","cm"].join(" "))):this.internal.write([B(j),"0","0",B(V),B(A),H(F+V),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+X.index+" Do"),this.internal.write("Q")},m=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var b=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},_=t.__addimage__.sHashCode=function(A){var F,j,V=0;if(typeof A=="string")for(j=A.length,F=0;F<j;F++)V=(V<<5)-V+A.charCodeAt(F),V|=0;else if(P(A))for(j=A.byteLength/2,F=0;F<j;F++)V=(V<<5)-V+A[F],V|=0;return V},S=t.__addimage__.validateStringAsBase64=function(A){(A=A||"").toString().trim();var F=!0;return A.length===0&&(F=!1),A.length%4!=0&&(F=!1),/^[A-Za-z0-9+/]+$/.test(A.substr(0,A.length-2))===!1&&(F=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(A.substr(-2))===!1&&(F=!1),F},N=t.__addimage__.extractImageFromDataUrl=function(A){if(A==null||!(A=A.trim()).startsWith("data:"))return null;var F=A.indexOf(",");return F<0?null:A.substring(0,F).trim().endsWith("base64")?A.substring(F+1):null};t.__addimage__.isArrayBuffer=function(A){return A instanceof ArrayBuffer};var P=t.__addimage__.isArrayBufferView=function(A){return A instanceof Int8Array||A instanceof Uint8Array||A instanceof Uint8ClampedArray||A instanceof Int16Array||A instanceof Uint16Array||A instanceof Int32Array||A instanceof Uint32Array||A instanceof Float32Array||A instanceof Float64Array},T=t.__addimage__.binaryStringToUint8Array=function(A){for(var F=A.length,j=new Uint8Array(F),V=0;V<F;V++)j[V]=A.charCodeAt(V);return j},L=t.__addimage__.arrayBufferToBinaryString=function(A){for(var F="",j=P(A)?A:new Uint8Array(A),V=0;V<j.length;V+=8192)F+=String.fromCharCode.apply(null,j.subarray(V,V+8192));return F};t.addImage=function(){var A,F,j,V,X,ee,se,B,H;if(typeof arguments[1]=="number"?(F=n,j=arguments[1],V=arguments[2],X=arguments[3],ee=arguments[4],se=arguments[5],B=arguments[6],H=arguments[7]):(F=arguments[1],j=arguments[2],V=arguments[3],X=arguments[4],ee=arguments[5],se=arguments[6],B=arguments[7],H=arguments[8]),Bn(A=arguments[0])==="object"&&!d(A)&&"imageData"in A){var xe=A;A=xe.imageData,F=xe.format||F||n,j=xe.x||j||0,V=xe.y||V||0,X=xe.w||xe.width||X,ee=xe.h||xe.height||ee,se=xe.alias||se,B=xe.compression||B,H=xe.rotation||xe.angle||H}var Se=this.internal.getFilters();if(B===void 0&&Se.indexOf("FlateEncode")!==-1&&(B="SLOW"),isNaN(j)||isNaN(V))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var k=E.call(this,A,F,se,B);return v.call(this,j,V,X,ee,k,H),this};var E=function(A,F,j,V){var X,ee,se;if(typeof A=="string"&&i(A)===n){A=unescape(A);var B=R(A,!1);(B!==""||(B=t.loadFile(A,!0))!==void 0)&&(A=B)}if(d(A)&&(A=h(A,F)),F=i(A,F),!f(F))throw new Error("addImage does not support files of type '"+F+"', please ensure that a plugin for '"+F+"' support is added.");if(((se=j)==null||se.length===0)&&(j=function(H){return typeof H=="string"||P(H)?_(H):P(H.data)?_(H.data):null}(A)),(X=g.call(this,j))||(A instanceof Uint8Array||F==="RGBA"||(ee=A,A=T(A)),X=this["process"+F.toUpperCase()](A,u.call(this),j,function(H){return H&&typeof H=="string"&&(H=H.toUpperCase()),H in t.image_compression?H:b.NONE}(V),ee)),!X)throw new Error("An unknown error occurred whilst processing the image.");return X},R=t.__addimage__.convertBase64ToBinaryString=function(A,F){F=typeof F!="boolean"||F;var j,V="";if(typeof A=="string"){var X;j=(X=N(A))!==null&&X!==void 0?X:A;try{V=R1(j)}catch(ee){if(F)throw S(j)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ee.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return V};t.getImageProperties=function(A){var F,j,V="";if(d(A)&&(A=h(A)),typeof A=="string"&&i(A)===n&&((V=R(A,!1))===""&&(V=t.loadFile(A)||""),A=V),j=i(A),!f(j))throw new Error("addImage does not support files of type '"+j+"', please ensure that a plugin for '"+j+"' support is added.");if(A instanceof Uint8Array||(A=T(A)),!(F=this["process"+j.toUpperCase()](A)))throw new Error("An unknown error occurred whilst processing the image");return F.fileType=j,F}})(Wt.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};Wt.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,a,s=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),c=n.pageContext.annotations,u=!1,f=0;f<c.length&&!u;f++)switch((r=c[f]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var d=0;d<c.length;d++){r=c[d];var h=this.internal.pdfEscape,g=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var x=this.internal.newAdditionalObject(),v=this.internal.newAdditionalObject(),m=this.internal.getEncryptor(x.objId),b=r.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+s(r.bounds.x)+" "+o(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y)+"] ")+"/Contents ("+h(m(r.contents))+")",a+=" /Popup "+v.objId+" 0 R",a+=" /P "+l.objId+" 0 R",a+=" /T ("+h(m(b))+") >>",x.content=a;var _=x.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+s(r.bounds.x+30)+" "+o(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w+30)+" "+o(r.bounds.y)+"] ")+" /Parent "+_,r.open&&(a+=" /Open true"),a+=" >>",v.content=a,this.internal.write(x.objId,"0 R",v.objId,"0 R");break;case"freetext":i="/Rect ["+s(r.bounds.x)+" "+o(r.bounds.y)+" "+s(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y+r.bounds.h)+"] ";var S=r.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+h(g(r.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+S+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(r.options.name){var N=this.annotations._nameMap[r.options.name];r.options.pageNumber=N.page,r.options.top=N.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",a="",r.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+h(g(r.options.url))+") >>";else if(r.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,a+=" /FitV "+r.options.left+"]";break;default:var P=o(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),a+=" /XYZ "+r.options.left+" "+P+" "+r.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,a,s){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(n),y:c(r),w:l(n+i),h:c(r+a)},options:s,type:"link"})},t.textWithLink=function(n,r,i,a){var s,o,l=this.getTextWidth(n),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){o=a.maxWidth;var u=this.splitTextToSize(n,o).length;s=Math.ceil(c*u)}else o=l,s=c;return this.text(n,r,i,a),i+=.2*c,a.align==="center"&&(r-=l/2),a.align==="right"&&(r-=l),this.link(r,i-c,o,s,a),l},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(Wt.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var a=t.__arabicParser__.isInArabicSubstitutionA=function(x){return e[x.charCodeAt(0)]!==void 0},s=t.__arabicParser__.isArabicLetter=function(x){return typeof x=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(x)},o=t.__arabicParser__.isArabicEndLetter=function(x){return s(x)&&a(x)&&e[x.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(x){return s(x)&&i.indexOf(x.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(x){return s(x)&&a(x)&&e[x.charCodeAt(0)].length>=1};var c=t.__arabicParser__.arabicLetterHasFinalForm=function(x){return s(x)&&a(x)&&e[x.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(x){return s(x)&&a(x)&&e[x.charCodeAt(0)].length>=3};var u=t.__arabicParser__.arabicLetterHasMedialForm=function(x){return s(x)&&a(x)&&e[x.charCodeAt(0)].length==4},f=t.__arabicParser__.resolveLigatures=function(x){var v=0,m=n,b="",_=0;for(v=0;v<x.length;v+=1)m[x.charCodeAt(v)]!==void 0?(_++,typeof(m=m[x.charCodeAt(v)])=="number"&&(b+=String.fromCharCode(m),m=n,_=0),v===x.length-1&&(m=n,b+=x.charAt(v-(_-1)),v-=_-1,_=0)):(m=n,b+=x.charAt(v-_),v-=_,_=0);return b};t.__arabicParser__.isArabicDiacritic=function(x){return x!==void 0&&r[x.charCodeAt(0)]!==void 0};var d=t.__arabicParser__.getCorrectForm=function(x,v,m){return s(x)?a(x)===!1?-1:!c(x)||!s(v)&&!s(m)||!s(m)&&o(v)||o(x)&&!s(v)||o(x)&&l(v)||o(x)&&o(v)?0:u(x)&&s(v)&&!o(v)&&s(m)&&c(m)?3:o(x)||!s(m)?1:2:-1},h=function(x){var v=0,m=0,b=0,_="",S="",N="",P=(x=x||"").split("\\s+"),T=[];for(v=0;v<P.length;v+=1){for(T.push(""),m=0;m<P[v].length;m+=1)_=P[v][m],S=P[v][m-1],N=P[v][m+1],s(_)?(b=d(_,S,N),T[v]+=b!==-1?String.fromCharCode(e[_.charCodeAt(0)][b]):_):T[v]+=_;T[v]=f(T[v])}return T.join(" ")},g=t.__arabicParser__.processArabic=t.processArabic=function(){var x,v=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,m=[];if(Array.isArray(v)){var b=0;for(m=[],b=0;b<v.length;b+=1)Array.isArray(v[b])?m.push([h(v[b][0]),v[b][1],v[b][2]]):m.push([h(v[b])]);x=m}else x=h(v);return typeof arguments[0]=="string"?x:(arguments[0].text=x,arguments[0])};t.events.push(["preProcessText",g])}(Wt.API),Wt.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(o){n=o}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(o){r=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(o){a=o}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(o){s=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Wt.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(x){l=x}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(x){c=x}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(x){u=x}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(x){f=x}});var d=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return d},set:function(x){d=x}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(x){h=x}});var g=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return g},set:function(x){g=x}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,c){r.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),f=c.font||this.getFont(),d=c.scaleFactor||this.internal.scaleFactor,h=0,g=0,x=0,v=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var m=c.maxWidth;m>0?typeof l=="string"?l=this.splitTextToSize(l,m):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(_,S){return _.concat(v.splitTextToSize(S,m))},[])):l=Array.isArray(l)?l:[l];for(var b=0;b<l.length;b++)h<(x=this.getStringUnitWidth(l[b],{font:f})*u)&&(h=x);return h!==0&&(g=l.length),{w:h/=d,h:Math.max((g*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/d,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new a(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=t.cell=function(){var l;l=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,f=this.internal.__cell__.margins||e,d=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,h&&d&&(this.printHeaderRow(l.lineNumber,!0),l.y+=d[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};t.table=function(l,c,u,f,d){if(r.call(this),!u)throw new Error("No data for PDF table.");var h,g,x,v,m=[],b=[],_=[],S={},N={},P=[],T=[],L=(d=d||{}).autoSize||!1,E=d.printHeaders!==!1,R=d.css&&d.css["font-size"]!==void 0?16*d.css["font-size"]:d.fontSize||12,A=d.margins||Object.assign({width:this.getPageWidth()},e),F=typeof d.padding=="number"?d.padding:3,j=d.headerBackgroundColor||"#c8c8c8",V=d.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=E,this.internal.__cell__.margins=A,this.internal.__cell__.table_font_size=R,this.internal.__cell__.padding=F,this.internal.__cell__.headerBackgroundColor=j,this.internal.__cell__.headerTextColor=V,this.setFontSize(R),f==null)b=m=Object.keys(u[0]),_=m.map(function(){return"left"});else if(Array.isArray(f)&&Bn(f[0])==="object")for(m=f.map(function(xe){return xe.name}),b=f.map(function(xe){return xe.prompt||xe.name||""}),_=f.map(function(xe){return xe.align||"left"}),h=0;h<f.length;h+=1)N[f[h].name]=.7499990551181103*f[h].width;else Array.isArray(f)&&typeof f[0]=="string"&&(b=m=f,_=m.map(function(){return"left"}));if(L||Array.isArray(f)&&typeof f[0]=="string")for(h=0;h<m.length;h+=1){for(S[v=m[h]]=u.map(function(xe){return xe[v]}),this.setFont(void 0,"bold"),P.push(this.getTextDimensions(b[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),g=S[v],this.setFont(void 0,"normal"),x=0;x<g.length;x+=1)P.push(this.getTextDimensions(g[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);N[v]=Math.max.apply(null,P)+F+F,P=[]}if(E){var X={};for(h=0;h<m.length;h+=1)X[m[h]]={},X[m[h]].text=b[h],X[m[h]].align=_[h];var ee=o.call(this,X,N);T=m.map(function(xe){return new a(l,c,N[xe],ee,X[xe].text,void 0,X[xe].align)}),this.setTableHeaderRow(T),this.printHeaderRow(1,!1)}var se=f.reduce(function(xe,Se){return xe[Se.name]=Se.align,xe},{});for(h=0;h<u.length;h+=1){"rowStart"in d&&d.rowStart instanceof Function&&d.rowStart({row:h,data:u[h]},this);var B=o.call(this,u[h],N);for(x=0;x<m.length;x+=1){var H=u[h][m[x]];"cellStart"in d&&d.cellStart instanceof Function&&d.cellStart({row:h,col:x,data:H},this),s.call(this,new a(l,c,N[m[x]],B,H,h+2,se[m[x]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var o=function(l,c){var u=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,d=this.internal.scaleFactor;return Object.keys(l).map(function(h){var g=l[h];return this.splitTextToSize(g.hasOwnProperty("text")?g.text:g,c[h]-u-u)},this).map(function(h){return this.getLineHeightFactor()*h.length*f/d+u+u},this).reduce(function(h,g){return Math.max(h,g)},0)};t.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,c){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var d=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){u=this.internal.__cell__.tableHeaderRow[h].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,d.push(u)),u.lineNumber=l;var g=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,u),this.setTextColor(g)}d.length>0&&this.setTableHeaderRow(d),this.setFont(void 0,"normal"),n=!1}}(Wt.API);var DF={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},IF=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Jw=FF(IF),OF=[100,200,300,400,500,600,700,800,900],yle=FF(OF);function l_(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(a){return DF[a=a||"normal"]?a:"normal"}(t.style),r=function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400}(t.weight),i=function(a){return typeof Jw[a=a||"normal"]=="number"?a:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function lk(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var _le={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},ck={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function uk(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function fk(t){return t.trimLeft()}function ble(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function wle(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Jg,hk,dk,th,Zg,pk,mk,gk,c_=["times"];function xk(t,e,n,r){var i=4,a=yk;switch(r){case Wt.API.image_compression.FAST:i=1,a=vk;break;case Wt.API.image_compression.MEDIUM:i=6,a=_k;break;case Wt.API.image_compression.SLOW:i=9,a=bk}t=function(o,l,c,u){for(var f,d=o.length/l,h=new Uint8Array(o.length+d),g=[Sle,vk,yk,_k,bk],x=0;x<d;x+=1){var v=x*l,m=o.subarray(v,v+l);if(u)h.set(u(m,c,f),v+x);else{for(var b=g.length,_=[],S=0;S<b;S+=1)_[S]=g[S](m,c,f);var N=Ale(_.concat());h.set(_[N],v+x)}f=m}return h}(t,e,n,a);var s=Ww(t,{level:i});return Wt.API.__addimage__.arrayBufferToBinaryString(s)}function Sle(t){var e=Array.apply([],t);return e.unshift(0),e}function vk(t,e){var n=t.length,r=[];r[0]=1;for(var i=0;i<n;i+=1){var a=t[i-e]||0;r[i+1]=t[i]-a+256&255}return r}function yk(t,e,n){var r=t.length,i=[];i[0]=2;for(var a=0;a<r;a+=1){var s=n&&n[a]||0;i[a+1]=t[a]-s+256&255}return i}function _k(t,e,n){var r=t.length,i=[];i[0]=3;for(var a=0;a<r;a+=1){var s=t[a-e]||0,o=n&&n[a]||0;i[a+1]=t[a]+256-(s+o>>>1)&255}return i}function bk(t,e,n){var r=t.length,i=[];i[0]=4;for(var a=0;a<r;a+=1){var s=Ele(t[a-e]||0,n&&n[a]||0,n&&n[a-e]||0);i[a+1]=t[a]-s+256&255}return i}function Ele(t,e,n){if(t===e&&e===n)return t;var r=Math.abs(e-n),i=Math.abs(t-n),a=Math.abs(t+e-n-n);return r<=i&&r<=a?t:i<=a?e:n}function Ale(t){var e=t.map(function(n){return n.reduce(function(r,i){return r+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function u_(t,e,n){var r=e*n,i=Math.floor(r/8),a=16-(r-8*i+n),s=(1<<n)-1;return UF(t,i)>>a&s}function wk(t,e,n,r){var i=n*r,a=Math.floor(i/8),s=16-(i-8*a+r),o=(1<<r)-1,l=(e&o)<<s;(function(c,u,f){if(u+1<c.byteLength)c.setUint16(u,f,!1);else{var d=f>>8&255;c.setUint8(u,d)}})(t,a,UF(t,a)&~(o<<s)&65535|l)}function UF(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function Tle(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],a=i>>7,s=1<<1+(7&i);t[e++],t[e++];var o=null,l=null;a&&(o=e,l=s,e+=3*s);var c=!0,u=[],f=0,d=null,h=0,g=null;for(this.width=n,this.height=r;c&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,g=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((A=t[e++])>=0))throw Error("Invalid block size");if(A===0)break;e+=A}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var x=t[e++];f=t[e++]|t[e++]<<8,d=t[e++],1&x||(d=null),h=x>>2&7,e++;break;case 254:for(;;){if(!((A=t[e++])>=0))throw Error("Invalid block size");if(A===0)break;e+=A}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var v=t[e++]|t[e++]<<8,m=t[e++]|t[e++]<<8,b=t[e++]|t[e++]<<8,_=t[e++]|t[e++]<<8,S=t[e++],N=S>>6&1,P=1<<1+(7&S),T=o,L=l,E=!1;S>>7&&(E=!0,T=e,L=P,e+=3*P);var R=e;for(e++;;){var A;if(!((A=t[e++])>=0))throw Error("Invalid block size");if(A===0)break;e+=A}u.push({x:v,y:m,width:b,height:_,has_local_palette:E,palette_offset:T,palette_size:L,data_offset:R,data_length:e-R,transparent_index:d,interlaced:!!N,delay:f,disposal:h});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return g},this.frameInfo=function(F){if(F<0||F>=u.length)throw new Error("Frame index out of range.");return u[F]},this.decodeAndBlitFrameBGRA=function(F,j){var V=this.frameInfo(F),X=V.width*V.height,ee=new Uint8Array(X);Sk(t,V.data_offset,ee,X);var se=V.palette_offset,B=V.transparent_index;B===null&&(B=256);var H=V.width,xe=n-H,Se=H,k=4*(V.y*n+V.x),U=4*((V.y+V.height)*n+V.x),O=k,I=4*xe;V.interlaced===!0&&(I+=4*n*7);for(var K=8,re=0,_e=ee.length;re<_e;++re){var ue=ee[re];if(Se===0&&(Se=H,(O+=I)>=U&&(I=4*xe+4*n*(K-1),O=k+(H+xe)*(K<<1),K>>=1)),ue===B)O+=4;else{var be=t[se+3*ue],ve=t[se+3*ue+1],q=t[se+3*ue+2];j[O++]=q,j[O++]=ve,j[O++]=be,j[O++]=255}--Se}},this.decodeAndBlitFrameRGBA=function(F,j){var V=this.frameInfo(F),X=V.width*V.height,ee=new Uint8Array(X);Sk(t,V.data_offset,ee,X);var se=V.palette_offset,B=V.transparent_index;B===null&&(B=256);var H=V.width,xe=n-H,Se=H,k=4*(V.y*n+V.x),U=4*((V.y+V.height)*n+V.x),O=k,I=4*xe;V.interlaced===!0&&(I+=4*n*7);for(var K=8,re=0,_e=ee.length;re<_e;++re){var ue=ee[re];if(Se===0&&(Se=H,(O+=I)>=U&&(I=4*xe+4*n*(K-1),O=k+(H+xe)*(K<<1),K>>=1)),ue===B)O+=4;else{var be=t[se+3*ue],ve=t[se+3*ue+1],q=t[se+3*ue+2];j[O++]=be,j[O++]=ve,j[O++]=q,j[O++]=255}--Se}}}function Sk(t,e,n,r){for(var i=t[e++],a=1<<i,s=a+1,o=s+1,l=i+1,c=(1<<l)-1,u=0,f=0,d=0,h=t[e++],g=new Int32Array(4096),x=null;;){for(;u<16&&h!==0;)f|=t[e++]<<u,u+=8,h===1?h=t[e++]:--h;if(u<l)break;var v=f&c;if(f>>=l,u-=l,v!==a){if(v===s)break;for(var m=v<o?v:x,b=0,_=m;_>a;)_=g[_]>>8,++b;var S=_;if(d+b+(m!==v?1:0)>r)return void Xn.log("Warning, gif stream longer than expected.");n[d++]=S;var N=d+=b;for(m!==v&&(n[d++]=S),_=m;b--;)_=g[_],n[--N]=255&_,_>>=8;x!==null&&o<4096&&(g[o++]=x<<8|S,o>=c+1&&l<12&&(++l,c=c<<1|1)),x=v}else o=s+1,c=(1<<(l=i+1))-1,x=null}return d!==r&&Xn.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function f_(t){var e,n,r,i,a,s=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),f=new Array(65535),d=new Array(65535),h=new Array(64),g=new Array(64),x=[],v=0,m=7,b=new Array(64),_=new Array(64),S=new Array(64),N=new Array(256),P=new Array(2048),T=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],L=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],E=[0,1,2,3,4,5,6,7,8,9,10,11],R=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],A=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],F=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],j=[0,1,2,3,4,5,6,7,8,9,10,11],V=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],X=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ee(k,U){for(var O=0,I=0,K=new Array,re=1;re<=16;re++){for(var _e=1;_e<=k[re];_e++)K[U[I]]=[],K[U[I]][0]=O,K[U[I]][1]=re,I++,O++;O*=2}return K}function se(k){for(var U=k[0],O=k[1]-1;O>=0;)U&1<<O&&(v|=1<<m),O--,--m<0&&(v==255?(B(255),B(0)):B(v),m=7,v=0)}function B(k){x.push(k)}function H(k){B(k>>8&255),B(255&k)}function xe(k,U,O,I,K){for(var re,_e=K[0],ue=K[240],be=function(Pe,nt){var ft,Tt,ae,Y,ke,Oe,it,Fe,lt,Ue,tt=0;for(lt=0;lt<8;++lt){ft=Pe[tt],Tt=Pe[tt+1],ae=Pe[tt+2],Y=Pe[tt+3],ke=Pe[tt+4],Oe=Pe[tt+5],it=Pe[tt+6];var yt=ft+(Fe=Pe[tt+7]),Ke=ft-Fe,Ze=Tt+it,bt=Tt-it,At=ae+Oe,st=ae-Oe,Mt=Y+ke,Ae=Y-ke,ht=yt+Mt,gt=yt-Mt,wt=Ze+At,$e=Ze-At;Pe[tt]=ht+wt,Pe[tt+4]=ht-wt;var Ye=.707106781*($e+gt);Pe[tt+2]=gt+Ye,Pe[tt+6]=gt-Ye;var Ct=.382683433*((ht=Ae+st)-($e=bt+Ke)),It=.5411961*ht+Ct,mn=1.306562965*$e+Ct,nn=.707106781*(wt=st+bt),Ot=Ke+nn,yr=Ke-nn;Pe[tt+5]=yr+It,Pe[tt+3]=yr-It,Pe[tt+1]=Ot+mn,Pe[tt+7]=Ot-mn,tt+=8}for(tt=0,lt=0;lt<8;++lt){ft=Pe[tt],Tt=Pe[tt+8],ae=Pe[tt+16],Y=Pe[tt+24],ke=Pe[tt+32],Oe=Pe[tt+40],it=Pe[tt+48];var xa=ft+(Fe=Pe[tt+56]),sr=ft-Fe,ui=Tt+it,Wn=Tt-it,hr=ae+Oe,J=ae-Oe,fe=Y+ke,oe=Y-ke,ce=xa+fe,he=xa-fe,ge=ui+hr,je=ui-hr;Pe[tt]=ce+ge,Pe[tt+32]=ce-ge;var Qe=.707106781*(je+he);Pe[tt+16]=he+Qe,Pe[tt+48]=he-Qe;var ze=.382683433*((ce=oe+J)-(je=Wn+sr)),He=.5411961*ce+ze,Ge=1.306562965*je+ze,z=.707106781*(ge=J+Wn),ye=sr+z,Me=sr-z;Pe[tt+40]=Me+He,Pe[tt+24]=Me-He,Pe[tt+8]=ye+Ge,Pe[tt+56]=ye-Ge,tt++}for(lt=0;lt<64;++lt)Ue=Pe[lt]*nt[lt],h[lt]=Ue>0?Ue+.5|0:Ue-.5|0;return h}(k,U),ve=0;ve<64;++ve)g[T[ve]]=be[ve];var q=g[0]-O;O=g[0],q==0?se(I[0]):(se(I[d[re=32767+q]]),se(f[re]));for(var te=63;te>0&&g[te]==0;)te--;if(te==0)return se(_e),O;for(var Ee,Z=1;Z<=te;){for(var qe=Z;g[Z]==0&&Z<=te;)++Z;var Ce=Z-qe;if(Ce>=16){Ee=Ce>>4;for(var rt=1;rt<=Ee;++rt)se(ue);Ce&=15}re=32767+g[Z],se(K[(Ce<<4)+d[re]]),se(f[re]),Z++}return te!=63&&se(_e),O}function Se(k){k=Math.min(Math.max(k,1),100),a!=k&&(function(U){for(var O=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],I=0;I<64;I++){var K=s((O[I]*U+50)/100);K=Math.min(Math.max(K,1),255),o[T[I]]=K}for(var re=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],_e=0;_e<64;_e++){var ue=s((re[_e]*U+50)/100);ue=Math.min(Math.max(ue,1),255),l[T[_e]]=ue}for(var be=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ve=0,q=0;q<8;q++)for(var te=0;te<8;te++)c[ve]=1/(o[T[ve]]*be[q]*be[te]*8),u[ve]=1/(l[T[ve]]*be[q]*be[te]*8),ve++}(k<50?Math.floor(5e3/k):Math.floor(200-2*k)),a=k)}this.encode=function(k,U){U&&Se(U),x=new Array,v=0,m=7,H(65496),H(65504),H(16),B(74),B(70),B(73),B(70),B(0),B(1),B(1),B(0),H(1),H(1),B(0),B(0),function(){H(65499),H(132),B(0);for(var Tt=0;Tt<64;Tt++)B(o[Tt]);B(1);for(var ae=0;ae<64;ae++)B(l[ae])}(),function(Tt,ae){H(65472),H(17),B(8),H(ae),H(Tt),B(3),B(1),B(17),B(0),B(2),B(17),B(1),B(3),B(17),B(1)}(k.width,k.height),function(){H(65476),H(418),B(0);for(var Tt=0;Tt<16;Tt++)B(L[Tt+1]);for(var ae=0;ae<=11;ae++)B(E[ae]);B(16);for(var Y=0;Y<16;Y++)B(R[Y+1]);for(var ke=0;ke<=161;ke++)B(A[ke]);B(1);for(var Oe=0;Oe<16;Oe++)B(F[Oe+1]);for(var it=0;it<=11;it++)B(j[it]);B(17);for(var Fe=0;Fe<16;Fe++)B(V[Fe+1]);for(var lt=0;lt<=161;lt++)B(X[lt])}(),H(65498),H(12),B(3),B(1),B(0),B(2),B(17),B(3),B(17),B(0),B(63),B(0);var O=0,I=0,K=0;v=0,m=7,this.encode.displayName="_encode_";for(var re,_e,ue,be,ve,q,te,Ee,Z,qe=k.data,Ce=k.width,rt=k.height,Pe=4*Ce,nt=0;nt<rt;){for(re=0;re<Pe;){for(ve=Pe*nt+re,te=-1,Ee=0,Z=0;Z<64;Z++)q=ve+(Ee=Z>>3)*Pe+(te=4*(7&Z)),nt+Ee>=rt&&(q-=Pe*(nt+1+Ee-rt)),re+te>=Pe&&(q-=re+te-Pe+4),_e=qe[q++],ue=qe[q++],be=qe[q++],b[Z]=(P[_e]+P[ue+256|0]+P[be+512|0]>>16)-128,_[Z]=(P[_e+768|0]+P[ue+1024|0]+P[be+1280|0]>>16)-128,S[Z]=(P[_e+1280|0]+P[ue+1536|0]+P[be+1792|0]>>16)-128;O=xe(b,c,O,e,r),I=xe(_,u,I,n,i),K=xe(S,u,K,n,i),re+=32}nt+=8}if(m>=0){var ft=[];ft[1]=m+1,ft[0]=(1<<m+1)-1,se(ft)}return H(65497),new Uint8Array(x)},t=t||50,function(){for(var k=String.fromCharCode,U=0;U<256;U++)N[U]=k(U)}(),e=ee(L,E),n=ee(F,j),r=ee(R,A),i=ee(V,X),function(){for(var k=1,U=2,O=1;O<=15;O++){for(var I=k;I<U;I++)d[32767+I]=O,f[32767+I]=[],f[32767+I][1]=O,f[32767+I][0]=I;for(var K=-(U-1);K<=-k;K++)d[32767+K]=O,f[32767+K]=[],f[32767+K][1]=O,f[32767+K][0]=U-1+K;k<<=1,U<<=1}}(),function(){for(var k=0;k<256;k++)P[k]=19595*k,P[k+256|0]=38470*k,P[k+512|0]=7471*k+32768,P[k+768|0]=-11059*k,P[k+1024|0]=-21709*k,P[k+1280|0]=32768*k+8421375,P[k+1536|0]=-27439*k,P[k+1792|0]=-5329*k}(),Se(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Os(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Ek(t){function e(E){if(!E)throw Error("assert :P")}function n(E,R,A){for(var F=0;4>F;F++)if(E[R+F]!=A.charCodeAt(F))return!0;return!1}function r(E,R,A,F,j){for(var V=0;V<j;V++)E[R+V]=A[F+V]}function i(E,R,A,F){for(var j=0;j<F;j++)E[R+j]=A}function a(E){return new Int32Array(E)}function s(E,R){for(var A=[],F=0;F<E;F++)A.push(new R);return A}function o(E,R){var A=[];return function F(j,V,X){for(var ee=X[V],se=0;se<ee&&(j.push(X.length>V+1?[]:new R),!(X.length<V+1));se++)F(j[se],V+1,X)}(A,0,E),A}var l=function(){var E=this;function R(y,w){for(var C=1<<w-1>>>0;y&C;)C>>>=1;return C?(y&C-1)+C:y}function A(y,w,C,D,W){e(!(D%C));do y[w+(D-=C)]=W;while(0<D)}function F(y,w,C,D,W){if(e(2328>=W),512>=W)var Q=a(512);else if((Q=a(W))==null)return 0;return function(ne,ie,le,de,Re,We){var pe,Le,Be=ie,at=1<<le,Ve=a(16),ot=a(16);for(e(Re!=0),e(de!=null),e(ne!=null),e(0<le),Le=0;Le<Re;++Le){if(15<de[Le])return 0;++Ve[de[Le]]}if(Ve[0]==Re)return 0;for(ot[1]=0,pe=1;15>pe;++pe){if(Ve[pe]>1<<pe)return 0;ot[pe+1]=ot[pe]+Ve[pe]}for(Le=0;Le<Re;++Le)pe=de[Le],0<de[Le]&&(We[ot[pe]++]=Le);if(ot[15]==1)return(de=new j).g=0,de.value=We[0],A(ne,Be,1,at,de),at;var ut,_t=-1,pt=at-1,Vt=0,Pt=1,cn=1,Ut=1<<le;for(Le=0,pe=1,Re=2;pe<=le;++pe,Re<<=1){if(Pt+=cn<<=1,0>(cn-=Ve[pe]))return 0;for(;0<Ve[pe];--Ve[pe])(de=new j).g=pe,de.value=We[Le++],A(ne,Be+Vt,Re,Ut,de),Vt=R(Vt,pe)}for(pe=le+1,Re=2;15>=pe;++pe,Re<<=1){if(Pt+=cn<<=1,0>(cn-=Ve[pe]))return 0;for(;0<Ve[pe];--Ve[pe]){if(de=new j,(Vt&pt)!=_t){for(Be+=Ut,ut=1<<(_t=pe)-le;15>_t&&!(0>=(ut-=Ve[_t]));)++_t,ut<<=1;at+=Ut=1<<(ut=_t-le),ne[ie+(_t=Vt&pt)].g=ut+le,ne[ie+_t].value=Be-ie-_t}de.g=pe-le,de.value=We[Le++],A(ne,Be+(Vt>>le),Re,Ut,de),Vt=R(Vt,pe)}}return Pt!=2*ot[15]-1?0:at}(y,w,C,D,W,Q)}function j(){this.value=this.g=0}function V(){this.value=this.g=0}function X(){this.G=s(5,j),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(oo,V)}function ee(y,w,C,D){e(y!=null),e(w!=null),e(2147483648>D),y.Ca=254,y.I=0,y.b=-8,y.Ka=0,y.oa=w,y.pa=C,y.Jd=w,y.Yc=C+D,y.Zc=4<=D?C+D-4+1:C,_e(y)}function se(y,w){for(var C=0;0<w--;)C|=be(y,128)<<w;return C}function B(y,w){var C=se(y,w);return ue(y)?-C:C}function H(y,w,C,D){var W,Q=0;for(e(y!=null),e(w!=null),e(4294967288>D),y.Sb=D,y.Ra=0,y.u=0,y.h=0,4<D&&(D=4),W=0;W<D;++W)Q+=w[C+W]<<8*W;y.Ra=Q,y.bb=D,y.oa=w,y.pa=C}function xe(y){for(;8<=y.u&&y.bb<y.Sb;)y.Ra>>>=8,y.Ra+=y.oa[y.pa+y.bb]<<Vl-8>>>0,++y.bb,y.u-=8;I(y)&&(y.h=1,y.u=0)}function Se(y,w){if(e(0<=w),!y.h&&w<=Ld){var C=O(y)&Hl[w];return y.u+=w,xe(y),C}return y.h=1,y.u=0}function k(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function U(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function O(y){return y.Ra>>>(y.u&Vl-1)>>>0}function I(y){return e(y.bb<=y.Sb),y.h||y.bb==y.Sb&&y.u>Vl}function K(y,w){y.u=w,y.h=I(y)}function re(y){y.u>=Rr&&(e(y.u>=Rr),xe(y))}function _e(y){e(y!=null&&y.oa!=null),y.pa<y.Zc?(y.I=(y.oa[y.pa++]|y.I<<8)>>>0,y.b+=8):(e(y!=null&&y.oa!=null),y.pa<y.Yc?(y.b+=8,y.I=y.oa[y.pa++]|y.I<<8):y.Ka?y.b=0:(y.I<<=8,y.b+=8,y.Ka=1))}function ue(y){return se(y,1)}function be(y,w){var C=y.Ca;0>y.b&&_e(y);var D=y.b,W=C*w>>>8,Q=(y.I>>>D>W)+0;for(Q?(C-=W,y.I-=W+1<<D>>>0):C=W+1,D=C,W=0;256<=D;)W+=8,D>>=8;return D=7^W+Vv[D],y.b-=D,y.Ca=(C<<D)-1,Q}function ve(y,w,C){y[w+0]=C>>24&255,y[w+1]=C>>16&255,y[w+2]=C>>8&255,y[w+3]=255&C}function q(y,w){return y[w+0]|y[w+1]<<8}function te(y,w){return q(y,w)|y[w+2]<<16}function Ee(y,w){return q(y,w)|q(y,w+2)<<16}function Z(y,w){var C=1<<w;return e(y!=null),e(0<w),y.X=a(C),y.X==null?0:(y.Mb=32-w,y.Xa=w,1)}function qe(y,w){e(y!=null),e(w!=null),e(y.Xa==w.Xa),r(w.X,0,y.X,0,1<<w.Xa)}function Ce(){this.X=[],this.Xa=this.Mb=0}function rt(y,w,C,D){e(C!=null),e(D!=null);var W=C[0],Q=D[0];return W==0&&(W=(y*Q+w/2)/w),Q==0&&(Q=(w*W+y/2)/y),0>=W||0>=Q?0:(C[0]=W,D[0]=Q,1)}function Pe(y,w){return y+(1<<w)-1>>>w}function nt(y,w){return((4278255360&y)+(4278255360&w)>>>0&4278255360)+((16711935&y)+(16711935&w)>>>0&16711935)>>>0}function ft(y,w){E[w]=function(C,D,W,Q,ne,ie,le){var de;for(de=0;de<ne;++de){var Re=E[y](ie[le+de-1],W,Q+de);ie[le+de]=nt(C[D+de],Re)}}}function Tt(){this.ud=this.hd=this.jd=0}function ae(y,w){return((4278124286&(y^w))>>>1)+(y&w)>>>0}function Y(y){return 0<=y&&256>y?y:0>y?0:255<y?255:void 0}function ke(y,w){return Y(y+(y-w+.5>>1))}function Oe(y,w,C){return Math.abs(w-C)-Math.abs(y-C)}function it(y,w,C,D,W,Q,ne){for(D=Q[ne-1],C=0;C<W;++C)Q[ne+C]=D=nt(y[w+C],D)}function Fe(y,w,C,D,W){var Q;for(Q=0;Q<C;++Q){var ne=y[w+Q],ie=ne>>8&255,le=16711935&(le=(le=16711935&ne)+((ie<<16)+ie));D[W+Q]=(4278255360&ne)+le>>>0}}function lt(y,w){w.jd=255&y,w.hd=y>>8&255,w.ud=y>>16&255}function Ue(y,w,C,D,W,Q){var ne;for(ne=0;ne<D;++ne){var ie=w[C+ne],le=ie>>>8,de=ie,Re=255&(Re=(Re=ie>>>16)+((y.jd<<24>>24)*(le<<24>>24)>>>5));de=255&(de=(de+=(y.hd<<24>>24)*(le<<24>>24)>>>5)+((y.ud<<24>>24)*(Re<<24>>24)>>>5)),W[Q+ne]=(4278255360&ie)+(Re<<16)+de}}function tt(y,w,C,D,W){E[w]=function(Q,ne,ie,le,de,Re,We,pe,Le){for(le=We;le<pe;++le)for(We=0;We<Le;++We)de[Re++]=W(ie[D(Q[ne++])])},E[y]=function(Q,ne,ie,le,de,Re,We){var pe=8>>Q.b,Le=Q.Ea,Be=Q.K[0],at=Q.w;if(8>pe)for(Q=(1<<Q.b)-1,at=(1<<pe)-1;ne<ie;++ne){var Ve,ot=0;for(Ve=0;Ve<Le;++Ve)Ve&Q||(ot=D(le[de++])),Re[We++]=W(Be[ot&at]),ot>>=pe}else E["VP8LMapColor"+C](le,de,Be,at,Re,We,ne,ie,Le)}}function yt(y,w,C,D,W){for(C=w+C;w<C;){var Q=y[w++];D[W++]=Q>>16&255,D[W++]=Q>>8&255,D[W++]=255&Q}}function Ke(y,w,C,D,W){for(C=w+C;w<C;){var Q=y[w++];D[W++]=Q>>16&255,D[W++]=Q>>8&255,D[W++]=255&Q,D[W++]=Q>>24&255}}function Ze(y,w,C,D,W){for(C=w+C;w<C;){var Q=(ne=y[w++])>>16&240|ne>>12&15,ne=240&ne|ne>>28&15;D[W++]=Q,D[W++]=ne}}function bt(y,w,C,D,W){for(C=w+C;w<C;){var Q=(ne=y[w++])>>16&248|ne>>13&7,ne=ne>>5&224|ne>>3&31;D[W++]=Q,D[W++]=ne}}function At(y,w,C,D,W){for(C=w+C;w<C;){var Q=y[w++];D[W++]=255&Q,D[W++]=Q>>8&255,D[W++]=Q>>16&255}}function st(y,w,C,D,W,Q){if(Q==0)for(C=w+C;w<C;)ve(D,((Q=y[w++])[0]>>24|Q[1]>>8&65280|Q[2]<<8&16711680|Q[3]<<24)>>>0),W+=32;else r(D,W,y,w,C)}function Mt(y,w){E[w][0]=E[y+"0"],E[w][1]=E[y+"1"],E[w][2]=E[y+"2"],E[w][3]=E[y+"3"],E[w][4]=E[y+"4"],E[w][5]=E[y+"5"],E[w][6]=E[y+"6"],E[w][7]=E[y+"7"],E[w][8]=E[y+"8"],E[w][9]=E[y+"9"],E[w][10]=E[y+"10"],E[w][11]=E[y+"11"],E[w][12]=E[y+"12"],E[w][13]=E[y+"13"],E[w][14]=E[y+"0"],E[w][15]=E[y+"0"]}function Ae(y){return y==qv||y==Xv||y==bm||y==$v}function ht(){this.eb=[],this.size=this.A=this.fb=0}function gt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function wt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ht,this.f.kb=new gt,this.sd=null}function $e(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Ye(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ct(y){return alert("todo:WebPSamplerProcessPlane"),y.T}function It(y,w){var C=y.T,D=w.ba.f.RGBA,W=D.eb,Q=D.fb+y.ka*D.A,ne=us[w.ba.S],ie=y.y,le=y.O,de=y.f,Re=y.N,We=y.ea,pe=y.W,Le=w.cc,Be=w.dc,at=w.Mc,Ve=w.Nc,ot=y.ka,ut=y.ka+y.T,_t=y.U,pt=_t+1>>1;for(ot==0?ne(ie,le,null,null,de,Re,We,pe,de,Re,We,pe,W,Q,null,null,_t):(ne(w.ec,w.fc,ie,le,Le,Be,at,Ve,de,Re,We,pe,W,Q-D.A,W,Q,_t),++C);ot+2<ut;ot+=2)Le=de,Be=Re,at=We,Ve=pe,Re+=y.Rc,pe+=y.Rc,Q+=2*D.A,ne(ie,(le+=2*y.fa)-y.fa,ie,le,Le,Be,at,Ve,de,Re,We,pe,W,Q-D.A,W,Q,_t);return le+=y.fa,y.j+ut<y.o?(r(w.ec,w.fc,ie,le,_t),r(w.cc,w.dc,de,Re,pt),r(w.Mc,w.Nc,We,pe,pt),C--):1&ut||ne(ie,le,null,null,de,Re,We,pe,de,Re,We,pe,W,Q+D.A,null,null,_t),C}function mn(y,w,C){var D=y.F,W=[y.J];if(D!=null){var Q=y.U,ne=w.ba.S,ie=ne==_m||ne==bm;w=w.ba.f.RGBA;var le=[0],de=y.ka;le[0]=y.T,y.Kb&&(de==0?--le[0]:(--de,W[0]-=y.width),y.j+y.ka+y.T==y.o&&(le[0]=y.o-y.j-de));var Re=w.eb;de=w.fb+de*w.A,y=N3(D,W[0],y.width,Q,le,Re,de+(ie?0:3),w.A),e(C==le),y&&Ae(ne)&&Od(Re,de,ie,Q,le,w.A)}return 0}function nn(y){var w=y.ma,C=w.ba.S,D=11>C,W=C==vm||C==ym||C==_m||C==Gv||C==12||Ae(C);if(w.memory=null,w.Ib=null,w.Jb=null,w.Nd=null,!va(w.Oa,y,W?11:12))return 0;if(W&&Ae(C)&&kd(),y.da)alert("todo:use_scaling");else{if(D){if(w.Ib=Ct,y.Kb){if(C=y.U+1>>1,w.memory=a(y.U+2*C),w.memory==null)return 0;w.ec=w.memory,w.fc=0,w.cc=w.ec,w.dc=w.fc+y.U,w.Mc=w.cc,w.Nc=w.dc+C,w.Ib=It,kd()}}else alert("todo:EmitYUV");W&&(w.Jb=mn,D&&ru())}if(D&&!W3){for(y=0;256>y;++y)_D[y]=89858*(y-128)+Sm>>wm,SD[y]=-22014*(y-128)+Sm,wD[y]=-45773*(y-128),bD[y]=113618*(y-128)+Sm>>wm;for(y=Bd;y<Jv;++y)w=76283*(y-16)+Sm>>wm,ED[y-Bd]=Zr(w,255),AD[y-Bd]=Zr(w+8>>4,15);W3=1}return 1}function Ot(y){var w=y.ma,C=y.U,D=y.T;return e(!(1&y.ka)),0>=C||0>=D?0:(C=w.Ib(y,w),w.Jb!=null&&w.Jb(y,w,C),w.Dc+=C,1)}function yr(y){y.ma.memory=null}function xa(y,w,C,D){return Se(y,8)!=47?0:(w[0]=Se(y,14)+1,C[0]=Se(y,14)+1,D[0]=Se(y,1),Se(y,3)!=0?0:!y.h)}function sr(y,w){if(4>y)return y+1;var C=y-2>>1;return(2+(1&y)<<C)+Se(w,C)+1}function ui(y,w){return 120<w?w-120:1<=(C=((C=sD[w-1])>>4)*y+(8-(15&C)))?C:1;var C}function Wn(y,w,C){var D=O(C),W=y[w+=255&D].g-8;return 0<W&&(K(C,C.u+8),D=O(C),w+=y[w].value,w+=D&(1<<W)-1),K(C,C.u+y[w].g),y[w].value}function hr(y,w,C){return C.g+=y.g,C.value+=y.value<<w>>>0,e(8>=C.g),y.g}function J(y,w,C){var D=y.xc;return e((w=D==0?0:y.vc[y.md*(C>>D)+(w>>D)])<y.Wb),y.Ya[w]}function fe(y,w,C,D){var W=y.ab,Q=y.c*w,ne=y.C;w=ne+w;var ie=C,le=D;for(D=y.Ta,C=y.Ua;0<W--;){var de=y.gc[W],Re=ne,We=w,pe=ie,Le=le,Be=(le=D,ie=C,de.Ea);switch(e(Re<We),e(We<=de.nc),de.hc){case 2:Nf(pe,Le,(We-Re)*Be,le,ie);break;case 0:var at=Re,Ve=We,ot=le,ut=ie,_t=(Ut=de).Ea;at==0&&(lo(pe,Le,null,null,1,ot,ut),it(pe,Le+1,0,0,_t-1,ot,ut+1),Le+=_t,ut+=_t,++at);for(var pt=1<<Ut.b,Vt=pt-1,Pt=Pe(_t,Ut.b),cn=Ut.K,Ut=Ut.w+(at>>Ut.b)*Pt;at<Ve;){var _n=cn,Qr=Ut,un=1;for(co(pe,Le,ot,ut-_t,1,ot,ut);un<_t;){var Bt=(un&~Vt)+pt;Bt>_t&&(Bt=_t),(0,su[_n[Qr++]>>8&15])(pe,Le+ +un,ot,ut+un-_t,Bt-un,ot,ut+un),un=Bt}Le+=_t,ut+=_t,++at&Vt||(Ut+=Pt)}We!=de.nc&&r(le,ie-Be,le,ie+(We-Re-1)*Be,Be);break;case 1:for(Be=pe,Ve=Le,_t=(pe=de.Ea)-(ut=pe&~(ot=(Le=1<<de.b)-1)),at=Pe(pe,de.b),pt=de.K,de=de.w+(Re>>de.b)*at;Re<We;){for(Vt=pt,Pt=de,cn=new Tt,Ut=Ve+ut,_n=Ve+pe;Ve<Ut;)lt(Vt[Pt++],cn),qo(cn,Be,Ve,Le,le,ie),Ve+=Le,ie+=Le;Ve<_n&&(lt(Vt[Pt++],cn),qo(cn,Be,Ve,_t,le,ie),Ve+=_t,ie+=_t),++Re&ot||(de+=at)}break;case 3:if(pe==le&&Le==ie&&0<de.b){for(Ve=le,pe=Be=ie+(We-Re)*Be-(ut=(We-Re)*Pe(de.Ea,de.b)),Le=le,ot=ie,at=[],ut=(_t=ut)-1;0<=ut;--ut)at[ut]=Le[ot+ut];for(ut=_t-1;0<=ut;--ut)Ve[pe+ut]=at[ut];Fd(de,Re,We,le,Be,le,ie)}else Fd(de,Re,We,pe,Le,le,ie)}ie=D,le=C}le!=C&&r(D,C,ie,le,Q)}function oe(y,w){var C=y.V,D=y.Ba+y.c*y.C,W=w-y.C;if(e(w<=y.l.o),e(16>=W),0<W){var Q=y.l,ne=y.Ta,ie=y.Ua,le=Q.width;if(fe(y,W,C,D),W=ie=[ie],e((C=y.C)<(D=w)),e(Q.v<Q.va),D>Q.o&&(D=Q.o),C<Q.j){var de=Q.j-C;C=Q.j,W[0]+=de*le}if(C>=D?C=0:(W[0]+=4*Q.v,Q.ka=C-Q.j,Q.U=Q.va-Q.v,Q.T=D-C,C=1),C){if(ie=ie[0],11>(C=y.ca).S){var Re=C.f.RGBA,We=(D=C.S,W=Q.U,Q=Q.T,de=Re.eb,Re.A),pe=Q;for(Re=Re.fb+y.Ma*Re.A;0<pe--;){var Le=ne,Be=ie,at=W,Ve=de,ot=Re;switch(D){case xm:Dd(Le,Be,at,Ve,ot);break;case vm:Ua(Le,Be,at,Ve,ot);break;case qv:Ua(Le,Be,at,Ve,ot),Od(Ve,ot,0,at,1,0);break;case D3:Yn(Le,Be,at,Ve,ot);break;case ym:st(Le,Be,at,Ve,ot,1);break;case Xv:st(Le,Be,at,Ve,ot,1),Od(Ve,ot,0,at,1,0);break;case _m:st(Le,Be,at,Ve,ot,0);break;case bm:st(Le,Be,at,Ve,ot,0),Od(Ve,ot,1,at,1,0);break;case Gv:uo(Le,Be,at,Ve,ot);break;case $v:uo(Le,Be,at,Ve,ot),M3(Ve,ot,at,1,0);break;case I3:$n(Le,Be,at,Ve,ot);break;default:e(0)}ie+=le,Re+=We}y.Ma+=Q}else alert("todo:EmitRescaledRowsYUVA");e(y.Ma<=C.height)}}y.C=w,e(y.C<=y.i)}function ce(y){var w;if(0<y.ua)return 0;for(w=0;w<y.Wb;++w){var C=y.Ya[w].G,D=y.Ya[w].H;if(0<C[1][D[1]+0].g||0<C[2][D[2]+0].g||0<C[3][D[3]+0].g)return 0}return 1}function he(y,w,C,D,W,Q){if(y.Z!=0){var ne=y.qd,ie=y.rd;for(e(Gl[y.Z]!=null);w<C;++w)Gl[y.Z](ne,ie,D,W,D,W,Q),ne=D,ie=W,W+=Q;y.qd=ne,y.rd=ie}}function ge(y,w){var C=y.l.ma,D=C.Z==0||C.Z==1?y.l.j:y.C;if(D=y.C<D?D:y.C,e(w<=y.l.o),w>D){var W=y.l.width,Q=C.ca,ne=C.tb+W*D,ie=y.V,le=y.Ba+y.c*D,de=y.gc;e(y.ab==1),e(de[0].hc==3),Cf(de[0],D,w,ie,le,Q,ne),he(C,D,w,Q,ne,W)}y.C=y.Ma=w}function je(y,w,C,D,W,Q,ne){var ie=y.$/D,le=y.$%D,de=y.m,Re=y.s,We=C+y.$,pe=We;W=C+D*W;var Le=C+D*Q,Be=280+Re.ua,at=y.Pb?ie:16777216,Ve=0<Re.ua?Re.Wa:null,ot=Re.wc,ut=We<Le?J(Re,le,ie):null;e(y.C<Q),e(Le<=W);var _t=!1;e:for(;;){for(;_t||We<Le;){var pt=0;if(ie>=at){var Vt=We-C;e((at=y).Pb),at.wd=at.m,at.xd=Vt,0<at.s.ua&&qe(at.s.Wa,at.s.vb),at=ie+lD}if(le&ot||(ut=J(Re,le,ie)),e(ut!=null),ut.Qb&&(w[We]=ut.qb,_t=!0),!_t)if(re(de),ut.jc){pt=de,Vt=w;var Pt=We,cn=ut.pd[O(pt)&oo-1];e(ut.jc),256>cn.g?(K(pt,pt.u+cn.g),Vt[Pt]=cn.value,pt=0):(K(pt,pt.u+cn.g-256),e(256<=cn.value),pt=cn.value),pt==0&&(_t=!0)}else pt=Wn(ut.G[0],ut.H[0],de);if(de.h)break;if(_t||256>pt){if(!_t)if(ut.nd)w[We]=(ut.qb|pt<<8)>>>0;else{if(re(de),_t=Wn(ut.G[1],ut.H[1],de),re(de),Vt=Wn(ut.G[2],ut.H[2],de),Pt=Wn(ut.G[3],ut.H[3],de),de.h)break;w[We]=(Pt<<24|_t<<16|pt<<8|Vt)>>>0}if(_t=!1,++We,++le>=D&&(le=0,++ie,ne!=null&&ie<=Q&&!(ie%16)&&ne(y,ie),Ve!=null))for(;pe<We;)pt=w[pe++],Ve.X[(506832829*pt&4294967295)>>>Ve.Mb]=pt}else if(280>pt){if(pt=sr(pt-256,de),Vt=Wn(ut.G[4],ut.H[4],de),re(de),Vt=ui(D,Vt=sr(Vt,de)),de.h)break;if(We-C<Vt||W-We<pt)break e;for(Pt=0;Pt<pt;++Pt)w[We+Pt]=w[We+Pt-Vt];for(We+=pt,le+=pt;le>=D;)le-=D,++ie,ne!=null&&ie<=Q&&!(ie%16)&&ne(y,ie);if(e(We<=W),le&ot&&(ut=J(Re,le,ie)),Ve!=null)for(;pe<We;)pt=w[pe++],Ve.X[(506832829*pt&4294967295)>>>Ve.Mb]=pt}else{if(!(pt<Be))break e;for(_t=pt-280,e(Ve!=null);pe<We;)pt=w[pe++],Ve.X[(506832829*pt&4294967295)>>>Ve.Mb]=pt;pt=We,e(!(_t>>>(Vt=Ve).Xa)),w[pt]=Vt.X[_t],_t=!0}_t||e(de.h==I(de))}if(y.Pb&&de.h&&We<W)e(y.m.h),y.a=5,y.m=y.wd,y.$=y.xd,0<y.s.ua&&qe(y.s.vb,y.s.Wa);else{if(de.h)break e;ne!=null&&ne(y,ie>Q?Q:ie),y.a=0,y.$=We-C}return 1}return y.a=3,0}function Qe(y){e(y!=null),y.vc=null,y.yc=null,y.Ya=null;var w=y.Wa;w!=null&&(w.X=null),y.vb=null,e(y!=null)}function ze(){var y=new dr;return y==null?null:(y.a=0,y.xb=B3,Mt("Predictor","VP8LPredictors"),Mt("Predictor","VP8LPredictors_C"),Mt("PredictorAdd","VP8LPredictorsAdd"),Mt("PredictorAdd","VP8LPredictorsAdd_C"),Nf=Fe,qo=Ue,Dd=yt,Ua=Ke,uo=Ze,$n=bt,Yn=At,E.VP8LMapColor32b=kf,E.VP8LMapColor8b=au,y)}function He(y,w,C,D,W){var Q=1,ne=[y],ie=[w],le=D.m,de=D.s,Re=null,We=0;e:for(;;){if(C)for(;Q&&Se(le,1);){var pe=ne,Le=ie,Be=D,at=1,Ve=Be.m,ot=Be.gc[Be.ab],ut=Se(Ve,2);if(Be.Oc&1<<ut)Q=0;else{switch(Be.Oc|=1<<ut,ot.hc=ut,ot.Ea=pe[0],ot.nc=Le[0],ot.K=[null],++Be.ab,e(4>=Be.ab),ut){case 0:case 1:ot.b=Se(Ve,3)+2,at=He(Pe(ot.Ea,ot.b),Pe(ot.nc,ot.b),0,Be,ot.K),ot.K=ot.K[0];break;case 3:var _t,pt=Se(Ve,8)+1,Vt=16<pt?0:4<pt?1:2<pt?2:3;if(pe[0]=Pe(ot.Ea,Vt),ot.b=Vt,_t=at=He(pt,1,0,Be,ot.K)){var Pt,cn=pt,Ut=ot,_n=1<<(8>>Ut.b),Qr=a(_n);if(Qr==null)_t=0;else{var un=Ut.K[0],Bt=Ut.w;for(Qr[0]=Ut.K[0][0],Pt=1;Pt<1*cn;++Pt)Qr[Pt]=nt(un[Bt+Pt],Qr[Pt-1]);for(;Pt<4*_n;++Pt)Qr[Pt]=0;Ut.K[0]=null,Ut.K[0]=Qr,_t=1}}at=_t;break;case 2:break;default:e(0)}Q=at}}if(ne=ne[0],ie=ie[0],Q&&Se(le,1)&&!(Q=1<=(We=Se(le,4))&&11>=We)){D.a=3;break e}var Nt;if(Nt=Q)t:{var Fr,rn,Sn,tr=D,bi=ne,ia=ie,_r=We,Fi=C,aa=tr.m,ei=tr.s,Tn=[null],In=1,br=0,On=oD[_r];n:for(;;){if(Fi&&Se(aa,1)){var wi=Se(aa,3)+2,ks=Pe(bi,wi),Dr=Pe(ia,wi),_a=ks*Dr;if(!He(ks,Dr,0,tr,Tn))break n;for(Tn=Tn[0],ei.xc=wi,Fr=0;Fr<_a;++Fr){var qn=Tn[Fr]>>8&65535;Tn[Fr]=qn,qn>=In&&(In=qn+1)}}if(aa.h)break n;for(rn=0;5>rn;++rn){var ti=O3[rn];!rn&&0<_r&&(ti+=1<<_r),br<ti&&(br=ti)}var ja=s(In*On,j),sa=In,za=s(sa,X);if(za==null)var Ha=null;else e(65536>=sa),Ha=za;var ba=a(br);if(Ha==null||ba==null||ja==null){tr.a=1;break n}var Va=ja;for(Fr=Sn=0;Fr<In;++Fr){var Kn=Ha[Fr],Wa=Kn.G,Cs=Kn.H,ou=0,Yo=1,Si=0;for(rn=0;5>rn;++rn){ti=O3[rn],Wa[rn]=Va,Cs[rn]=Sn,!rn&&0<_r&&(ti+=1<<_r);i:{var Am,Zv=ti,Tm=tr,jd=ba,ND=Va,kD=Sn,Qv=0,ql=Tm.m,CD=Se(ql,1);if(i(jd,0,0,Zv),CD){var RD=Se(ql,1)+1,PD=Se(ql,1),X3=Se(ql,PD==0?1:8);jd[X3]=1,RD==2&&(jd[X3=Se(ql,8)]=1);var Mm=1}else{var $3=a(19),Y3=Se(ql,4)+4;if(19<Y3){Tm.a=3;var Nm=0;break i}for(Am=0;Am<Y3;++Am)$3[aD[Am]]=Se(ql,3);var e2=void 0,zd=void 0,K3=Tm,LD=$3,km=Zv,J3=jd,t2=0,Xl=K3.m,Z3=8,Q3=s(128,j);r:for(;F(Q3,0,7,LD,19);){if(Se(Xl,1)){var FD=2+2*Se(Xl,3);if((e2=2+Se(Xl,FD))>km)break r}else e2=km;for(zd=0;zd<km&&e2--;){re(Xl);var eE=Q3[0+(127&O(Xl))];K(Xl,Xl.u+eE.g);var Pf=eE.value;if(16>Pf)J3[zd++]=Pf,Pf!=0&&(Z3=Pf);else{var DD=Pf==16,tE=Pf-16,ID=rD[tE],nE=Se(Xl,nD[tE])+ID;if(zd+nE>km)break r;for(var OD=DD?Z3:0;0<nE--;)J3[zd++]=OD}}t2=1;break r}t2||(K3.a=3),Mm=t2}(Mm=Mm&&!ql.h)&&(Qv=F(ND,kD,8,jd,Zv)),Mm&&Qv!=0?Nm=Qv:(Tm.a=3,Nm=0)}if(Nm==0)break n;if(Yo&&iD[rn]==1&&(Yo=Va[Sn].g==0),ou+=Va[Sn].g,Sn+=Nm,3>=rn){var Hd,n2=ba[0];for(Hd=1;Hd<ti;++Hd)ba[Hd]>n2&&(n2=ba[Hd]);Si+=n2}}if(Kn.nd=Yo,Kn.Qb=0,Yo&&(Kn.qb=(Wa[3][Cs[3]+0].value<<24|Wa[1][Cs[1]+0].value<<16|Wa[2][Cs[2]+0].value)>>>0,ou==0&&256>Wa[0][Cs[0]+0].value&&(Kn.Qb=1,Kn.qb+=Wa[0][Cs[0]+0].value<<8)),Kn.jc=!Kn.Qb&&6>Si,Kn.jc){var Cm,Ko=Kn;for(Cm=0;Cm<oo;++Cm){var $l=Cm,Yl=Ko.pd[$l],Rm=Ko.G[0][Ko.H[0]+$l];256<=Rm.value?(Yl.g=Rm.g+256,Yl.value=Rm.value):(Yl.g=0,Yl.value=0,$l>>=hr(Rm,8,Yl),$l>>=hr(Ko.G[1][Ko.H[1]+$l],16,Yl),$l>>=hr(Ko.G[2][Ko.H[2]+$l],0,Yl),hr(Ko.G[3][Ko.H[3]+$l],24,Yl))}}}ei.vc=Tn,ei.Wb=In,ei.Ya=Ha,ei.yc=ja,Nt=1;break t}Nt=0}if(!(Q=Nt)){D.a=3;break e}if(0<We){if(de.ua=1<<We,!Z(de.Wa,We)){D.a=1,Q=0;break e}}else de.ua=0;var r2=D,rE=ne,UD=ie,i2=r2.s,a2=i2.xc;if(r2.c=rE,r2.i=UD,i2.md=Pe(rE,a2),i2.wc=a2==0?-1:(1<<a2)-1,C){D.xb=mD;break e}if((Re=a(ne*ie))==null){D.a=1,Q=0;break e}Q=(Q=je(D,Re,0,ne,ie,ie,null))&&!le.h;break e}return Q?(W!=null?W[0]=Re:(e(Re==null),e(C)),D.$=0,C||Qe(de)):Qe(de),Q}function Ge(y,w){var C=y.c*y.i,D=C+w+16*w;return e(y.c<=w),y.V=a(D),y.V==null?(y.Ta=null,y.Ua=0,y.a=1,0):(y.Ta=y.V,y.Ua=y.Ba+C+w,1)}function z(y,w){var C=y.C,D=w-C,W=y.V,Q=y.Ba+y.c*C;for(e(w<=y.l.o);0<D;){var ne=16<D?16:D,ie=y.l.ma,le=y.l.width,de=le*ne,Re=ie.ca,We=ie.tb+le*C,pe=y.Ta,Le=y.Ua;fe(y,ne,W,Q),k3(pe,Le,Re,We,de),he(ie,C,C+ne,Re,We,le),D-=ne,W+=ne*y.c,C+=ne}e(C==w),y.C=y.Ma=w}function ye(){this.ub=this.yd=this.td=this.Rb=0}function Me(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Te(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function we(){this.Yb=function(){var y=[];return function w(C,D,W){for(var Q=W[D],ne=0;ne<Q&&(C.push(W.length>D+1?[]:0),!(W.length<D+1));ne++)w(C[ne],D+1,W)}(y,0,[3,11]),y}()}function Je(){this.jb=a(3),this.Wc=o([4,8],we),this.Xc=o([4,17],we)}function xt(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function vt(){this.ld=this.La=this.dd=this.tc=0}function Et(){this.Na=this.la=0}function jt(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function zt(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Lt(){this.uc=this.M=this.Nb=0,this.wa=Array(new vt),this.Y=0,this.ya=Array(new zt),this.aa=0,this.l=new dn}function qt(){this.y=a(16),this.f=a(8),this.ea=a(8)}function gn(){this.cb=this.a=0,this.sc="",this.m=new k,this.Od=new ye,this.Kc=new Me,this.ed=new xt,this.Qa=new Te,this.Ic=this.$c=this.Aa=0,this.D=new Lt,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,k),this.ia=0,this.pb=s(4,jt),this.Pa=new Je,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new qt),this.Hd=0,this.rb=Array(new Et),this.sb=0,this.wa=Array(new vt),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new zt),this.L=this.aa=0,this.gd=o([4,2],vt),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function dn(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Fn(){var y=new gn;return y!=null&&(y.a=0,y.sc="OK",y.cb=0,y.Xb=0,Ud||(Ud=an)),y}function Xt(y,w,C){return y.a==0&&(y.a=w,y.sc=C,y.cb=0),0}function Gt(y,w,C){return 3<=C&&y[w+0]==157&&y[w+1]==1&&y[w+2]==42}function zn(y,w){if(y==null)return 0;if(y.a=0,y.sc="OK",w==null)return Xt(y,2,"null VP8Io passed to VP8GetHeaders()");var C=w.data,D=w.w,W=w.ha;if(4>W)return Xt(y,7,"Truncated header.");var Q=C[D+0]|C[D+1]<<8|C[D+2]<<16,ne=y.Od;if(ne.Rb=!(1&Q),ne.td=Q>>1&7,ne.yd=Q>>4&1,ne.ub=Q>>5,3<ne.td)return Xt(y,3,"Incorrect keyframe parameters.");if(!ne.yd)return Xt(y,4,"Frame not displayable.");D+=3,W-=3;var ie=y.Kc;if(ne.Rb){if(7>W)return Xt(y,7,"cannot parse picture header");if(!Gt(C,D,W))return Xt(y,3,"Bad code word");ie.c=16383&(C[D+4]<<8|C[D+3]),ie.Td=C[D+4]>>6,ie.i=16383&(C[D+6]<<8|C[D+5]),ie.Ud=C[D+6]>>6,D+=7,W-=7,y.za=ie.c+15>>4,y.Ub=ie.i+15>>4,w.width=ie.c,w.height=ie.i,w.Da=0,w.j=0,w.v=0,w.va=w.width,w.o=w.height,w.da=0,w.ib=w.width,w.hb=w.height,w.U=w.width,w.T=w.height,i((Q=y.Pa).jb,0,255,Q.jb.length),e((Q=y.Qa)!=null),Q.Cb=0,Q.Bb=0,Q.Fb=1,i(Q.Zb,0,0,Q.Zb.length),i(Q.Lb,0,0,Q.Lb)}if(ne.ub>W)return Xt(y,7,"bad partition length");ee(Q=y.m,C,D,ne.ub),D+=ne.ub,W-=ne.ub,ne.Rb&&(ie.Ld=ue(Q),ie.Kd=ue(Q)),ie=y.Qa;var le,de=y.Pa;if(e(Q!=null),e(ie!=null),ie.Cb=ue(Q),ie.Cb){if(ie.Bb=ue(Q),ue(Q)){for(ie.Fb=ue(Q),le=0;4>le;++le)ie.Zb[le]=ue(Q)?B(Q,7):0;for(le=0;4>le;++le)ie.Lb[le]=ue(Q)?B(Q,6):0}if(ie.Bb)for(le=0;3>le;++le)de.jb[le]=ue(Q)?se(Q,8):255}else ie.Bb=0;if(Q.Ka)return Xt(y,3,"cannot parse segment header");if((ie=y.ed).zd=ue(Q),ie.Tb=se(Q,6),ie.wb=se(Q,3),ie.Pc=ue(Q),ie.Pc&&ue(Q)){for(de=0;4>de;++de)ue(Q)&&(ie.vd[de]=B(Q,6));for(de=0;4>de;++de)ue(Q)&&(ie.od[de]=B(Q,6))}if(y.L=ie.Tb==0?0:ie.zd?1:2,Q.Ka)return Xt(y,3,"cannot parse filter header");var Re=W;if(W=le=D,D=le+Re,ie=Re,y.Xb=(1<<se(y.m,2))-1,Re<3*(de=y.Xb))C=7;else{for(le+=3*de,ie-=3*de,Re=0;Re<de;++Re){var We=C[W+0]|C[W+1]<<8|C[W+2]<<16;We>ie&&(We=ie),ee(y.Jc[+Re],C,le,We),le+=We,ie-=We,W+=3}ee(y.Jc[+de],C,le,ie),C=le<D?0:5}if(C!=0)return Xt(y,C,"cannot parse partitions");for(C=se(le=y.m,7),W=ue(le)?B(le,4):0,D=ue(le)?B(le,4):0,ie=ue(le)?B(le,4):0,de=ue(le)?B(le,4):0,le=ue(le)?B(le,4):0,Re=y.Qa,We=0;4>We;++We){if(Re.Cb){var pe=Re.Zb[We];Re.Fb||(pe+=C)}else{if(0<We){y.pb[We]=y.pb[0];continue}pe=C}var Le=y.pb[We];Le.Sc[0]=Yv[Zr(pe+W,127)],Le.Sc[1]=Kv[Zr(pe+0,127)],Le.Eb[0]=2*Yv[Zr(pe+D,127)],Le.Eb[1]=101581*Kv[Zr(pe+ie,127)]>>16,8>Le.Eb[1]&&(Le.Eb[1]=8),Le.Qc[0]=Yv[Zr(pe+de,117)],Le.Qc[1]=Kv[Zr(pe+le,127)],Le.lc=pe+le}if(!ne.Rb)return Xt(y,4,"Not a key frame.");for(ue(Q),ne=y.Pa,C=0;4>C;++C){for(W=0;8>W;++W)for(D=0;3>D;++D)for(ie=0;11>ie;++ie)de=be(Q,dD[C][W][D][ie])?se(Q,8):fD[C][W][D][ie],ne.Wc[C][W].Yb[D][ie]=de;for(W=0;17>W;++W)ne.Xc[C][W]=ne.Wc[C][pD[W]]}return y.kc=ue(Q),y.kc&&(y.Bd=se(Q,8)),y.cb=1}function an(y,w,C,D,W,Q,ne){var ie=w[W].Yb[C];for(C=0;16>W;++W){if(!be(y,ie[C+0]))return W;for(;!be(y,ie[C+1]);)if(ie=w[++W].Yb[0],C=0,W==16)return 16;var le=w[W+1].Yb;if(be(y,ie[C+2])){var de=y,Re=0;if(be(de,(pe=ie)[(We=C)+3]))if(be(de,pe[We+6])){for(ie=0,We=2*(Re=be(de,pe[We+8]))+(pe=be(de,pe[We+9+Re])),Re=0,pe=cD[We];pe[ie];++ie)Re+=Re+be(de,pe[ie]);Re+=3+(8<<We)}else be(de,pe[We+7])?(Re=7+2*be(de,165),Re+=be(de,145)):Re=5+be(de,159);else Re=be(de,pe[We+4])?3+be(de,pe[We+5]):2;ie=le[2]}else Re=1,ie=le[1];le=ne+uD[W],0>(de=y).b&&_e(de);var We,pe=de.b,Le=(We=de.Ca>>1)-(de.I>>pe)>>31;--de.b,de.Ca+=Le,de.Ca|=1,de.I-=(We+1&Le)<<pe,Q[le]=((Re^Le)-Le)*D[(0<W)+0]}return 16}function kr(y){var w=y.rb[y.sb-1];w.la=0,w.Na=0,i(y.zc,0,0,y.zc.length),y.ja=0}function fi(y,w,C,D,W){W=y[w+C+32*D]+(W>>3),y[w+C+32*D]=-256&W?0>W?0:255:W}function Cr(y,w,C,D,W,Q){fi(y,w,0,C,D+W),fi(y,w,1,C,D+Q),fi(y,w,2,C,D-Q),fi(y,w,3,C,D-W)}function Gn(y){return(20091*y>>16)+y}function Dn(y,w,C,D){var W,Q=0,ne=a(16);for(W=0;4>W;++W){var ie=y[w+0]+y[w+8],le=y[w+0]-y[w+8],de=(35468*y[w+4]>>16)-Gn(y[w+12]),Re=Gn(y[w+4])+(35468*y[w+12]>>16);ne[Q+0]=ie+Re,ne[Q+1]=le+de,ne[Q+2]=le-de,ne[Q+3]=ie-Re,Q+=4,w++}for(W=Q=0;4>W;++W)ie=(y=ne[Q+0]+4)+ne[Q+8],le=y-ne[Q+8],de=(35468*ne[Q+4]>>16)-Gn(ne[Q+12]),fi(C,D,0,0,ie+(Re=Gn(ne[Q+4])+(35468*ne[Q+12]>>16))),fi(C,D,1,0,le+de),fi(C,D,2,0,le-de),fi(C,D,3,0,ie-Re),Q++,D+=32}function Pi(y,w,C,D){var W=y[w+0]+4,Q=35468*y[w+4]>>16,ne=Gn(y[w+4]),ie=35468*y[w+1]>>16;Cr(C,D,0,W+ne,y=Gn(y[w+1]),ie),Cr(C,D,1,W+Q,y,ie),Cr(C,D,2,W-Q,y,ie),Cr(C,D,3,W-ne,y,ie)}function Li(y,w,C,D,W){Dn(y,w,C,D),W&&Dn(y,w+16,C,D+4)}function Kr(y,w,C,D){Lr(y,w+0,C,D,1),Lr(y,w+32,C,D+128,1)}function er(y,w,C,D){var W;for(y=y[w+0]+4,W=0;4>W;++W)for(w=0;4>w;++w)fi(C,D,w,W,y)}function Il(y,w,C,D){y[w+0]&&fo(y,w+0,C,D),y[w+16]&&fo(y,w+16,C,D+4),y[w+32]&&fo(y,w+32,C,D+128),y[w+48]&&fo(y,w+48,C,D+128+4)}function os(y,w,C,D){var W,Q=a(16);for(W=0;4>W;++W){var ne=y[w+0+W]+y[w+12+W],ie=y[w+4+W]+y[w+8+W],le=y[w+4+W]-y[w+8+W],de=y[w+0+W]-y[w+12+W];Q[0+W]=ne+ie,Q[8+W]=ne-ie,Q[4+W]=de+le,Q[12+W]=de-le}for(W=0;4>W;++W)ne=(y=Q[0+4*W]+3)+Q[3+4*W],ie=Q[1+4*W]+Q[2+4*W],le=Q[1+4*W]-Q[2+4*W],de=y-Q[3+4*W],C[D+0]=ne+ie>>3,C[D+16]=de+le>>3,C[D+32]=ne-ie>>3,C[D+48]=de-le>>3,D+=64}function Ol(y,w,C){var D,W=w-32,Q=Ba,ne=255-y[W-1];for(D=0;D<C;++D){var ie,le=Q,de=ne+y[w-1];for(ie=0;ie<C;++ie)y[w+ie]=le[de+y[W+ie]];w+=32}}function yd(y,w){Ol(y,w,4)}function Rv(y,w){Ol(y,w,8)}function Pv(y,w){Ol(y,w,16)}function Lv(y,w){var C;for(C=0;16>C;++C)r(y,w+32*C,y,w-32,16)}function _d(y,w){var C;for(C=16;0<C;--C)i(y,w,y[w-1],16),w+=32}function Jc(y,w,C){var D;for(D=0;16>D;++D)i(w,C+32*D,y,16)}function Ul(y,w){var C,D=16;for(C=0;16>C;++C)D+=y[w-1+32*C]+y[w+C-32];Jc(D>>5,y,w)}function Fv(y,w){var C,D=8;for(C=0;16>C;++C)D+=y[w-1+32*C];Jc(D>>4,y,w)}function Zc(y,w){var C,D=8;for(C=0;16>C;++C)D+=y[w+C-32];Jc(D>>4,y,w)}function bd(y,w){Jc(128,y,w)}function Zt(y,w,C){return y+2*w+C+2>>2}function Dv(y,w){var C,D=w-32;for(D=new Uint8Array([Zt(y[D-1],y[D+0],y[D+1]),Zt(y[D+0],y[D+1],y[D+2]),Zt(y[D+1],y[D+2],y[D+3]),Zt(y[D+2],y[D+3],y[D+4])]),C=0;4>C;++C)r(y,w+32*C,D,0,D.length)}function Iv(y,w){var C=y[w-1],D=y[w-1+32],W=y[w-1+64],Q=y[w-1+96];ve(y,w+0,16843009*Zt(y[w-1-32],C,D)),ve(y,w+32,16843009*Zt(C,D,W)),ve(y,w+64,16843009*Zt(D,W,Q)),ve(y,w+96,16843009*Zt(W,Q,Q))}function Ov(y,w){var C,D=4;for(C=0;4>C;++C)D+=y[w+C-32]+y[w-1+32*C];for(D>>=3,C=0;4>C;++C)i(y,w+32*C,D,4)}function Uv(y,w){var C=y[w-1+0],D=y[w-1+32],W=y[w-1+64],Q=y[w-1-32],ne=y[w+0-32],ie=y[w+1-32],le=y[w+2-32],de=y[w+3-32];y[w+0+96]=Zt(D,W,y[w-1+96]),y[w+1+96]=y[w+0+64]=Zt(C,D,W),y[w+2+96]=y[w+1+64]=y[w+0+32]=Zt(Q,C,D),y[w+3+96]=y[w+2+64]=y[w+1+32]=y[w+0+0]=Zt(ne,Q,C),y[w+3+64]=y[w+2+32]=y[w+1+0]=Zt(ie,ne,Q),y[w+3+32]=y[w+2+0]=Zt(le,ie,ne),y[w+3+0]=Zt(de,le,ie)}function zo(y,w){var C=y[w+1-32],D=y[w+2-32],W=y[w+3-32],Q=y[w+4-32],ne=y[w+5-32],ie=y[w+6-32],le=y[w+7-32];y[w+0+0]=Zt(y[w+0-32],C,D),y[w+1+0]=y[w+0+32]=Zt(C,D,W),y[w+2+0]=y[w+1+32]=y[w+0+64]=Zt(D,W,Q),y[w+3+0]=y[w+2+32]=y[w+1+64]=y[w+0+96]=Zt(W,Q,ne),y[w+3+32]=y[w+2+64]=y[w+1+96]=Zt(Q,ne,ie),y[w+3+64]=y[w+2+96]=Zt(ne,ie,le),y[w+3+96]=Zt(ie,le,le)}function Ho(y,w){var C=y[w-1+0],D=y[w-1+32],W=y[w-1+64],Q=y[w-1-32],ne=y[w+0-32],ie=y[w+1-32],le=y[w+2-32],de=y[w+3-32];y[w+0+0]=y[w+1+64]=Q+ne+1>>1,y[w+1+0]=y[w+2+64]=ne+ie+1>>1,y[w+2+0]=y[w+3+64]=ie+le+1>>1,y[w+3+0]=le+de+1>>1,y[w+0+96]=Zt(W,D,C),y[w+0+64]=Zt(D,C,Q),y[w+0+32]=y[w+1+96]=Zt(C,Q,ne),y[w+1+32]=y[w+2+96]=Zt(Q,ne,ie),y[w+2+32]=y[w+3+96]=Zt(ne,ie,le),y[w+3+32]=Zt(ie,le,de)}function Bv(y,w){var C=y[w+0-32],D=y[w+1-32],W=y[w+2-32],Q=y[w+3-32],ne=y[w+4-32],ie=y[w+5-32],le=y[w+6-32],de=y[w+7-32];y[w+0+0]=C+D+1>>1,y[w+1+0]=y[w+0+64]=D+W+1>>1,y[w+2+0]=y[w+1+64]=W+Q+1>>1,y[w+3+0]=y[w+2+64]=Q+ne+1>>1,y[w+0+32]=Zt(C,D,W),y[w+1+32]=y[w+0+96]=Zt(D,W,Q),y[w+2+32]=y[w+1+96]=Zt(W,Q,ne),y[w+3+32]=y[w+2+96]=Zt(Q,ne,ie),y[w+3+64]=Zt(ne,ie,le),y[w+3+96]=Zt(ie,le,de)}function jv(y,w){var C=y[w-1+0],D=y[w-1+32],W=y[w-1+64],Q=y[w-1+96];y[w+0+0]=C+D+1>>1,y[w+2+0]=y[w+0+32]=D+W+1>>1,y[w+2+32]=y[w+0+64]=W+Q+1>>1,y[w+1+0]=Zt(C,D,W),y[w+3+0]=y[w+1+32]=Zt(D,W,Q),y[w+3+32]=y[w+1+64]=Zt(W,Q,Q),y[w+3+64]=y[w+2+64]=y[w+0+96]=y[w+1+96]=y[w+2+96]=y[w+3+96]=Q}function _f(y,w){var C=y[w-1+0],D=y[w-1+32],W=y[w-1+64],Q=y[w-1+96],ne=y[w-1-32],ie=y[w+0-32],le=y[w+1-32],de=y[w+2-32];y[w+0+0]=y[w+2+32]=C+ne+1>>1,y[w+0+32]=y[w+2+64]=D+C+1>>1,y[w+0+64]=y[w+2+96]=W+D+1>>1,y[w+0+96]=Q+W+1>>1,y[w+3+0]=Zt(ie,le,de),y[w+2+0]=Zt(ne,ie,le),y[w+1+0]=y[w+3+32]=Zt(C,ne,ie),y[w+1+32]=y[w+3+64]=Zt(D,C,ne),y[w+1+64]=y[w+3+96]=Zt(W,D,C),y[w+1+96]=Zt(Q,W,D)}function wd(y,w){var C;for(C=0;8>C;++C)r(y,w+32*C,y,w-32,8)}function Qc(y,w){var C;for(C=0;8>C;++C)i(y,w,y[w-1],8),w+=32}function bf(y,w,C){var D;for(D=0;8>D;++D)i(w,C+32*D,y,8)}function wf(y,w){var C,D=8;for(C=0;8>C;++C)D+=y[w+C-32]+y[w-1+32*C];bf(D>>4,y,w)}function zv(y,w){var C,D=4;for(C=0;8>C;++C)D+=y[w+C-32];bf(D>>3,y,w)}function Sd(y,w){var C,D=4;for(C=0;8>C;++C)D+=y[w-1+32*C];bf(D>>3,y,w)}function Ed(y,w){bf(128,y,w)}function eu(y,w,C){var D=y[w-C],W=y[w+0],Q=3*(W-D)+Wv[1020+y[w-2*C]-y[w+C]],ne=gm[112+(Q+4>>3)];y[w-C]=Ba[255+D+gm[112+(Q+3>>3)]],y[w+0]=Ba[255+W-ne]}function tu(y,w,C,D){var W=y[w+0],Q=y[w+C];return cs[255+y[w-2*C]-y[w-C]]>D||cs[255+Q-W]>D}function Ad(y,w,C,D){return 4*cs[255+y[w-C]-y[w+0]]+cs[255+y[w-2*C]-y[w+C]]<=D}function Sf(y,w,C,D,W){var Q=y[w-3*C],ne=y[w-2*C],ie=y[w-C],le=y[w+0],de=y[w+C],Re=y[w+2*C],We=y[w+3*C];return 4*cs[255+ie-le]+cs[255+ne-de]>D?0:cs[255+y[w-4*C]-Q]<=W&&cs[255+Q-ne]<=W&&cs[255+ne-ie]<=W&&cs[255+We-Re]<=W&&cs[255+Re-de]<=W&&cs[255+de-le]<=W}function Td(y,w,C,D){var W=2*D+1;for(D=0;16>D;++D)Ad(y,w+D,C,W)&&eu(y,w+D,C)}function nu(y,w,C,D){var W=2*D+1;for(D=0;16>D;++D)Ad(y,w+D*C,1,W)&&eu(y,w+D*C,1)}function Md(y,w,C,D){var W;for(W=3;0<W;--W)Td(y,w+=4*C,C,D)}function Nd(y,w,C,D){var W;for(W=3;0<W;--W)nu(y,w+=4,C,D)}function Oa(y,w,C,D,W,Q,ne,ie){for(Q=2*Q+1;0<W--;){if(Sf(y,w,C,Q,ne))if(tu(y,w,C,ie))eu(y,w,C);else{var le=y,de=w,Re=C,We=le[de-2*Re],pe=le[de-Re],Le=le[de+0],Be=le[de+Re],at=le[de+2*Re],Ve=27*(ut=Wv[1020+3*(Le-pe)+Wv[1020+We-Be]])+63>>7,ot=18*ut+63>>7,ut=9*ut+63>>7;le[de-3*Re]=Ba[255+le[de-3*Re]+ut],le[de-2*Re]=Ba[255+We+ot],le[de-Re]=Ba[255+pe+Ve],le[de+0]=Ba[255+Le-Ve],le[de+Re]=Ba[255+Be-ot],le[de+2*Re]=Ba[255+at-ut]}w+=D}}function so(y,w,C,D,W,Q,ne,ie){for(Q=2*Q+1;0<W--;){if(Sf(y,w,C,Q,ne))if(tu(y,w,C,ie))eu(y,w,C);else{var le=y,de=w,Re=C,We=le[de-Re],pe=le[de+0],Le=le[de+Re],Be=gm[112+(4+(at=3*(pe-We))>>3)],at=gm[112+(at+3>>3)],Ve=Be+1>>1;le[de-2*Re]=Ba[255+le[de-2*Re]+Ve],le[de-Re]=Ba[255+We+at],le[de+0]=Ba[255+pe-Be],le[de+Re]=Ba[255+Le-Ve]}w+=D}}function M(y,w,C,D,W,Q){Oa(y,w,C,1,16,D,W,Q)}function G(y,w,C,D,W,Q){Oa(y,w,1,C,16,D,W,Q)}function me(y,w,C,D,W,Q){var ne;for(ne=3;0<ne;--ne)so(y,w+=4*C,C,1,16,D,W,Q)}function Ne(y,w,C,D,W,Q){var ne;for(ne=3;0<ne;--ne)so(y,w+=4,1,C,16,D,W,Q)}function Ie(y,w,C,D,W,Q,ne,ie){Oa(y,w,W,1,8,Q,ne,ie),Oa(C,D,W,1,8,Q,ne,ie)}function ct(y,w,C,D,W,Q,ne,ie){Oa(y,w,1,W,8,Q,ne,ie),Oa(C,D,1,W,8,Q,ne,ie)}function mt(y,w,C,D,W,Q,ne,ie){so(y,w+4*W,W,1,8,Q,ne,ie),so(C,D+4*W,W,1,8,Q,ne,ie)}function Dt(y,w,C,D,W,Q,ne,ie){so(y,w+4,1,W,8,Q,ne,ie),so(C,D+4,1,W,8,Q,ne,ie)}function Ht(){this.ba=new wt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Ye,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Kt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function sn(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Pn(){this.ua=0,this.Wa=new Ce,this.vb=new Ce,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new X,this.yc=new j}function dr(){this.xb=this.a=0,this.l=new dn,this.ca=new wt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new U,this.Pb=0,this.wd=new U,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Pn,this.ab=0,this.gc=s(4,sn),this.Oc=0}function Vr(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new dn,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Hn(y,w,C,D,W,Q,ne){for(y=y==null?0:y[w+0],w=0;w<ne;++w)W[Q+w]=y+C[D+w]&255,y=W[Q+w]}function Jr(y,w,C,D,W,Q,ne){var ie;if(y==null)Hn(null,null,C,D,W,Q,ne);else for(ie=0;ie<ne;++ie)W[Q+ie]=y[w+ie]+C[D+ie]&255}function Wr(y,w,C,D,W,Q,ne){if(y==null)Hn(null,null,C,D,W,Q,ne);else{var ie,le=y[w+0],de=le,Re=le;for(ie=0;ie<ne;++ie)de=Re+(le=y[w+ie])-de,Re=C[D+ie]+(-256&de?0>de?0:255:de)&255,de=le,W[Q+ie]=Re}}function _i(y,w,C,D){var W=w.width,Q=w.o;if(e(y!=null&&w!=null),0>C||0>=D||C+D>Q)return null;if(!y.Cc){if(y.ga==null){var ne;if(y.ga=new Vr,(ne=y.ga==null)||(ne=w.width*w.o,e(y.Gb.length==0),y.Gb=a(ne),y.Uc=0,y.Gb==null?ne=0:(y.mb=y.Gb,y.nb=y.Uc,y.rc=null,ne=1),ne=!ne),!ne){ne=y.ga;var ie=y.Fa,le=y.P,de=y.qc,Re=y.mb,We=y.nb,pe=le+1,Le=de-1,Be=ne.l;if(e(ie!=null&&Re!=null&&w!=null),Gl[0]=null,Gl[1]=Hn,Gl[2]=Jr,Gl[3]=Wr,ne.ca=Re,ne.tb=We,ne.c=w.width,ne.i=w.height,e(0<ne.c&&0<ne.i),1>=de)w=0;else if(ne.$a=3&ie[le+0],ne.Z=ie[le+0]>>2&3,ne.Lc=ie[le+0]>>4&3,le=ie[le+0]>>6&3,0>ne.$a||1<ne.$a||4<=ne.Z||1<ne.Lc||le)w=0;else if(Be.put=Ot,Be.ac=nn,Be.bc=yr,Be.ma=ne,Be.width=w.width,Be.height=w.height,Be.Da=w.Da,Be.v=w.v,Be.va=w.va,Be.j=w.j,Be.o=w.o,ne.$a)e:{e(ne.$a==1),w=ze();t:for(;;){if(w==null){w=0;break e}if(e(ne!=null),ne.mc=w,w.c=ne.c,w.i=ne.i,w.l=ne.l,w.l.ma=ne,w.l.width=ne.c,w.l.height=ne.i,w.a=0,H(w.m,ie,pe,Le),!He(ne.c,ne.i,1,w,null)||(w.ab==1&&w.gc[0].hc==3&&ce(w.s)?(ne.ic=1,ie=w.c*w.i,w.Ta=null,w.Ua=0,w.V=a(ie),w.Ba=0,w.V==null?(w.a=1,w=0):w=1):(ne.ic=0,w=Ge(w,ne.c)),!w))break t;w=1;break e}ne.mc=null,w=0}else w=Le>=ne.c*ne.i;ne=!w}if(ne)return null;y.ga.Lc!=1?y.Ga=0:D=Q-C}e(y.ga!=null),e(C+D<=Q);e:{if(w=(ie=y.ga).c,Q=ie.l.o,ie.$a==0){if(pe=y.rc,Le=y.Vc,Be=y.Fa,le=y.P+1+C*w,de=y.mb,Re=y.nb+C*w,e(le<=y.P+y.qc),ie.Z!=0)for(e(Gl[ie.Z]!=null),ne=0;ne<D;++ne)Gl[ie.Z](pe,Le,Be,le,de,Re,w),pe=de,Le=Re,Re+=w,le+=w;else for(ne=0;ne<D;++ne)r(de,Re,Be,le,w),pe=de,Le=Re,Re+=w,le+=w;y.rc=pe,y.Vc=Le}else{if(e(ie.mc!=null),w=C+D,e((ne=ie.mc)!=null),e(w<=ne.i),ne.C>=w)w=1;else if(ie.ic||ru(),ie.ic){ie=ne.V,pe=ne.Ba,Le=ne.c;var at=ne.i,Ve=(Be=1,le=ne.$/Le,de=ne.$%Le,Re=ne.m,We=ne.s,ne.$),ot=Le*at,ut=Le*w,_t=We.wc,pt=Ve<ut?J(We,de,le):null;e(Ve<=ot),e(w<=at),e(ce(We));t:for(;;){for(;!Re.h&&Ve<ut;){if(de&_t||(pt=J(We,de,le)),e(pt!=null),re(Re),256>(at=Wn(pt.G[0],pt.H[0],Re)))ie[pe+Ve]=at,++Ve,++de>=Le&&(de=0,++le<=w&&!(le%16)&&ge(ne,le));else{if(!(280>at)){Be=0;break t}at=sr(at-256,Re);var Vt,Pt=Wn(pt.G[4],pt.H[4],Re);if(re(Re),!(Ve>=(Pt=ui(Le,Pt=sr(Pt,Re)))&&ot-Ve>=at)){Be=0;break t}for(Vt=0;Vt<at;++Vt)ie[pe+Ve+Vt]=ie[pe+Ve+Vt-Pt];for(Ve+=at,de+=at;de>=Le;)de-=Le,++le<=w&&!(le%16)&&ge(ne,le);Ve<ut&&de&_t&&(pt=J(We,de,le))}e(Re.h==I(Re))}ge(ne,le>w?w:le);break t}!Be||Re.h&&Ve<ot?(Be=0,ne.a=Re.h?5:3):ne.$=Ve,w=Be}else w=je(ne,ne.V,ne.Ba,ne.c,ne.i,w,z);if(!w){D=0;break e}}C+D>=Q&&(y.Cc=1),D=1}if(!D)return null;if(y.Cc&&((D=y.ga)!=null&&(D.mc=null),y.ga=null,0<y.Ga))return alert("todo:WebPDequantizeLevels"),null}return y.nb+C*W}function Vo(y,w,C,D,W,Q){for(;0<W--;){var ne,ie=y,le=w+(C?1:0),de=y,Re=w+(C?0:3);for(ne=0;ne<D;++ne){var We=de[Re+4*ne];We!=255&&(We*=32897,ie[le+4*ne+0]=ie[le+4*ne+0]*We>>23,ie[le+4*ne+1]=ie[le+4*ne+1]*We>>23,ie[le+4*ne+2]=ie[le+4*ne+2]*We>>23)}w+=Q}}function Bl(y,w,C,D,W){for(;0<D--;){var Q;for(Q=0;Q<C;++Q){var ne=y[w+2*Q+0],ie=15&(de=y[w+2*Q+1]),le=4369*ie,de=(240&de|de>>4)*le>>16;y[w+2*Q+0]=(240&ne|ne>>4)*le>>16&240|(15&ne|ne<<4)*le>>16>>4&15,y[w+2*Q+1]=240&de|ie}w+=W}}function Hv(y,w,C,D,W,Q,ne,ie){var le,de,Re=255;for(de=0;de<W;++de){for(le=0;le<D;++le){var We=y[w+le];Q[ne+4*le]=We,Re&=We}w+=C,ne+=ie}return Re!=255}function dm(y,w,C,D,W){var Q;for(Q=0;Q<W;++Q)C[D+Q]=y[w+Q]>>8}function ru(){Od=Vo,M3=Bl,N3=Hv,k3=dm}function Ms(y,w,C){E[y]=function(D,W,Q,ne,ie,le,de,Re,We,pe,Le,Be,at,Ve,ot,ut,_t){var pt,Vt=_t-1>>1,Pt=ie[le+0]|de[Re+0]<<16,cn=We[pe+0]|Le[Be+0]<<16;e(D!=null);var Ut=3*Pt+cn+131074>>2;for(w(D[W+0],255&Ut,Ut>>16,at,Ve),Q!=null&&(Ut=3*cn+Pt+131074>>2,w(Q[ne+0],255&Ut,Ut>>16,ot,ut)),pt=1;pt<=Vt;++pt){var _n=ie[le+pt]|de[Re+pt]<<16,Qr=We[pe+pt]|Le[Be+pt]<<16,un=Pt+_n+cn+Qr+524296,Bt=un+2*(_n+cn)>>3;Ut=Bt+Pt>>1,Pt=(un=un+2*(Pt+Qr)>>3)+_n>>1,w(D[W+2*pt-1],255&Ut,Ut>>16,at,Ve+(2*pt-1)*C),w(D[W+2*pt-0],255&Pt,Pt>>16,at,Ve+(2*pt-0)*C),Q!=null&&(Ut=un+cn>>1,Pt=Bt+Qr>>1,w(Q[ne+2*pt-1],255&Ut,Ut>>16,ot,ut+(2*pt-1)*C),w(Q[ne+2*pt+0],255&Pt,Pt>>16,ot,ut+(2*pt+0)*C)),Pt=_n,cn=Qr}1&_t||(Ut=3*Pt+cn+131074>>2,w(D[W+_t-1],255&Ut,Ut>>16,at,Ve+(_t-1)*C),Q!=null&&(Ut=3*cn+Pt+131074>>2,w(Q[ne+_t-1],255&Ut,Ut>>16,ot,ut+(_t-1)*C)))}}function kd(){us[xm]=gD,us[vm]=j3,us[D3]=xD,us[ym]=z3,us[_m]=H3,us[Gv]=V3,us[I3]=vD,us[qv]=j3,us[Xv]=z3,us[bm]=H3,us[$v]=V3}function Ef(y){return y&-16384?0>y?0:255:y>>yD}function jl(y,w){return Ef((19077*y>>8)+(26149*w>>8)-14234)}function hi(y,w,C){return Ef((19077*y>>8)-(6419*w>>8)-(13320*C>>8)+8708)}function Wo(y,w){return Ef((19077*y>>8)+(33050*w>>8)-17685)}function Go(y,w,C,D,W){D[W+0]=jl(y,C),D[W+1]=hi(y,w,C),D[W+2]=Wo(y,w)}function Af(y,w,C,D,W){D[W+0]=Wo(y,w),D[W+1]=hi(y,w,C),D[W+2]=jl(y,C)}function Cd(y,w,C,D,W){var Q=hi(y,w,C);w=Q<<3&224|Wo(y,w)>>3,D[W+0]=248&jl(y,C)|Q>>5,D[W+1]=w}function ra(y,w,C,D,W){var Q=240&Wo(y,w)|15;D[W+0]=240&jl(y,C)|hi(y,w,C)>>4,D[W+1]=Q}function pm(y,w,C,D,W){D[W+0]=255,Go(y,w,C,D,W+1)}function Tf(y,w,C,D,W){Af(y,w,C,D,W),D[W+3]=255}function mm(y,w,C,D,W){Go(y,w,C,D,W),D[W+3]=255}function Zr(y,w){return 0>y?0:y>w?w:y}function ls(y,w,C){E[y]=function(D,W,Q,ne,ie,le,de,Re,We){for(var pe=Re+(-2&We)*C;Re!=pe;)w(D[W+0],Q[ne+0],ie[le+0],de,Re),w(D[W+1],Q[ne+0],ie[le+0],de,Re+C),W+=2,++ne,++le,Re+=2*C;1&We&&w(D[W+0],Q[ne+0],ie[le+0],de,Re)}}function Rd(y,w,C){return C==0?y==0?w==0?6:5:w==0?4:0:C}function Pd(y,w,C,D,W){switch(y>>>30){case 3:Lr(w,C,D,W,0);break;case 2:Xo(w,C,D,W);break;case 1:fo(w,C,D,W)}}function zl(y,w){var C,D,W=w.M,Q=w.Nb,ne=y.oc,ie=y.pc+40,le=y.oc,de=y.pc+584,Re=y.oc,We=y.pc+600;for(C=0;16>C;++C)ne[ie+32*C-1]=129;for(C=0;8>C;++C)le[de+32*C-1]=129,Re[We+32*C-1]=129;for(0<W?ne[ie-1-32]=le[de-1-32]=Re[We-1-32]=129:(i(ne,ie-32-1,127,21),i(le,de-32-1,127,9),i(Re,We-32-1,127,9)),D=0;D<y.za;++D){var pe=w.ya[w.aa+D];if(0<D){for(C=-1;16>C;++C)r(ne,ie+32*C-4,ne,ie+32*C+12,4);for(C=-1;8>C;++C)r(le,de+32*C-4,le,de+32*C+4,4),r(Re,We+32*C-4,Re,We+32*C+4,4)}var Le=y.Gd,Be=y.Hd+D,at=pe.ad,Ve=pe.Hc;if(0<W&&(r(ne,ie-32,Le[Be].y,0,16),r(le,de-32,Le[Be].f,0,8),r(Re,We-32,Le[Be].ea,0,8)),pe.Za){var ot=ne,ut=ie-32+16;for(0<W&&(D>=y.za-1?i(ot,ut,Le[Be].y[15],4):r(ot,ut,Le[Be+1].y,0,4)),C=0;4>C;C++)ot[ut+128+C]=ot[ut+256+C]=ot[ut+384+C]=ot[ut+0+C];for(C=0;16>C;++C,Ve<<=2)ot=ne,ut=ie+G3[C],Ns[pe.Ob[C]](ot,ut),Pd(Ve,at,16*+C,ot,ut)}else if(ot=Rd(D,W,pe.Ob[0]),Wl[ot](ne,ie),Ve!=0)for(C=0;16>C;++C,Ve<<=2)Pd(Ve,at,16*+C,ne,ie+G3[C]);for(C=pe.Gc,ot=Rd(D,W,pe.Dd),$o[ot](le,de),$o[ot](Re,We),Ve=at,ot=le,ut=de,255&(pe=0|C)&&(170&pe?Rf(Ve,256,ot,ut):Id(Ve,256,ot,ut)),pe=Re,Ve=We,255&(C>>=8)&&(170&C?Rf(at,320,pe,Ve):Id(at,320,pe,Ve)),W<y.Ub-1&&(r(Le[Be].y,0,ne,ie+480,16),r(Le[Be].f,0,le,de+224,8),r(Le[Be].ea,0,Re,We+224,8)),C=8*Q*y.B,Le=y.sa,Be=y.ta+16*D+16*Q*y.R,at=y.qa,pe=y.ra+8*D+C,Ve=y.Ha,ot=y.Ia+8*D+C,C=0;16>C;++C)r(Le,Be+C*y.R,ne,ie+32*C,16);for(C=0;8>C;++C)r(at,pe+C*y.B,le,de+32*C,8),r(Ve,ot+C*y.B,Re,We+32*C,8)}}function Mf(y,w,C,D,W,Q,ne,ie,le){var de=[0],Re=[0],We=0,pe=le!=null?le.kd:0,Le=le??new Kt;if(y==null||12>C)return 7;Le.data=y,Le.w=w,Le.ha=C,w=[w],C=[C],Le.gb=[Le.gb];e:{var Be=w,at=C,Ve=Le.gb;if(e(y!=null),e(at!=null),e(Ve!=null),Ve[0]=0,12<=at[0]&&!n(y,Be[0],"RIFF")){if(n(y,Be[0]+8,"WEBP")){Ve=3;break e}var ot=Ee(y,Be[0]+4);if(12>ot||4294967286<ot){Ve=3;break e}if(pe&&ot>at[0]-8){Ve=7;break e}Ve[0]=ot,Be[0]+=12,at[0]-=12}Ve=0}if(Ve!=0)return Ve;for(ot=0<Le.gb[0],C=C[0];;){e:{var ut=y;at=w,Ve=C;var _t=de,pt=Re,Vt=Be=[0];if((Ut=We=[We])[0]=0,8>Ve[0])Ve=7;else{if(!n(ut,at[0],"VP8X")){if(Ee(ut,at[0]+4)!=10){Ve=3;break e}if(18>Ve[0]){Ve=7;break e}var Pt=Ee(ut,at[0]+8),cn=1+te(ut,at[0]+12);if(2147483648<=cn*(ut=1+te(ut,at[0]+15))){Ve=3;break e}Vt!=null&&(Vt[0]=Pt),_t!=null&&(_t[0]=cn),pt!=null&&(pt[0]=ut),at[0]+=18,Ve[0]-=18,Ut[0]=1}Ve=0}}if(We=We[0],Be=Be[0],Ve!=0)return Ve;if(at=!!(2&Be),!ot&&We)return 3;if(Q!=null&&(Q[0]=!!(16&Be)),ne!=null&&(ne[0]=at),ie!=null&&(ie[0]=0),ne=de[0],Be=Re[0],We&&at&&le==null){Ve=0;break}if(4>C){Ve=7;break}if(ot&&We||!ot&&!We&&!n(y,w[0],"ALPH")){C=[C],Le.na=[Le.na],Le.P=[Le.P],Le.Sa=[Le.Sa];e:{Pt=y,Ve=w,ot=C;var Ut=Le.gb;_t=Le.na,pt=Le.P,Vt=Le.Sa,cn=22,e(Pt!=null),e(ot!=null),ut=Ve[0];var _n=ot[0];for(e(_t!=null),e(Vt!=null),_t[0]=null,pt[0]=null,Vt[0]=0;;){if(Ve[0]=ut,ot[0]=_n,8>_n){Ve=7;break e}var Qr=Ee(Pt,ut+4);if(4294967286<Qr){Ve=3;break e}var un=8+Qr+1&-2;if(cn+=un,0<Ut&&cn>Ut){Ve=3;break e}if(!n(Pt,ut,"VP8 ")||!n(Pt,ut,"VP8L")){Ve=0;break e}if(_n[0]<un){Ve=7;break e}n(Pt,ut,"ALPH")||(_t[0]=Pt,pt[0]=ut+8,Vt[0]=Qr),ut+=un,_n-=un}}if(C=C[0],Le.na=Le.na[0],Le.P=Le.P[0],Le.Sa=Le.Sa[0],Ve!=0)break}C=[C],Le.Ja=[Le.Ja],Le.xa=[Le.xa];e:if(Ut=y,Ve=w,ot=C,_t=Le.gb[0],pt=Le.Ja,Vt=Le.xa,Pt=Ve[0],ut=!n(Ut,Pt,"VP8 "),cn=!n(Ut,Pt,"VP8L"),e(Ut!=null),e(ot!=null),e(pt!=null),e(Vt!=null),8>ot[0])Ve=7;else{if(ut||cn){if(Ut=Ee(Ut,Pt+4),12<=_t&&Ut>_t-12){Ve=3;break e}if(pe&&Ut>ot[0]-8){Ve=7;break e}pt[0]=Ut,Ve[0]+=8,ot[0]-=8,Vt[0]=cn}else Vt[0]=5<=ot[0]&&Ut[Pt+0]==47&&!(Ut[Pt+4]>>5),pt[0]=ot[0];Ve=0}if(C=C[0],Le.Ja=Le.Ja[0],Le.xa=Le.xa[0],w=w[0],Ve!=0)break;if(4294967286<Le.Ja)return 3;if(ie==null||at||(ie[0]=Le.xa?2:1),ne=[ne],Be=[Be],Le.xa){if(5>C){Ve=7;break}ie=ne,pe=Be,at=Q,y==null||5>C?y=0:5<=C&&y[w+0]==47&&!(y[w+4]>>5)?(ot=[0],Ut=[0],_t=[0],H(pt=new U,y,w,C),xa(pt,ot,Ut,_t)?(ie!=null&&(ie[0]=ot[0]),pe!=null&&(pe[0]=Ut[0]),at!=null&&(at[0]=_t[0]),y=1):y=0):y=0}else{if(10>C){Ve=7;break}ie=Be,y==null||10>C||!Gt(y,w+3,C-3)?y=0:(pe=y[w+0]|y[w+1]<<8|y[w+2]<<16,at=16383&(y[w+7]<<8|y[w+6]),y=16383&(y[w+9]<<8|y[w+8]),1&pe||3<(pe>>1&7)||!(pe>>4&1)||pe>>5>=Le.Ja||!at||!y?y=0:(ne&&(ne[0]=at),ie&&(ie[0]=y),y=1))}if(!y||(ne=ne[0],Be=Be[0],We&&(de[0]!=ne||Re[0]!=Be)))return 3;le!=null&&(le[0]=Le,le.offset=w-le.w,e(4294967286>w-le.w),e(le.offset==le.ha-C));break}return Ve==0||Ve==7&&We&&le==null?(Q!=null&&(Q[0]|=Le.na!=null&&0<Le.na.length),D!=null&&(D[0]=ne),W!=null&&(W[0]=Be),0):Ve}function va(y,w,C){var D=w.width,W=w.height,Q=0,ne=0,ie=D,le=W;if(w.Da=y!=null&&0<y.Da,w.Da&&(ie=y.cd,le=y.bd,Q=y.v,ne=y.j,11>C||(Q&=-2,ne&=-2),0>Q||0>ne||0>=ie||0>=le||Q+ie>D||ne+le>W))return 0;if(w.v=Q,w.j=ne,w.va=Q+ie,w.o=ne+le,w.U=ie,w.T=le,w.da=y!=null&&0<y.da,w.da){if(!rt(ie,le,C=[y.ib],Q=[y.hb]))return 0;w.ib=C[0],w.hb=Q[0]}return w.ob=y!=null&&y.ob,w.Kb=y==null||!y.Sd,w.da&&(w.ob=w.ib<3*D/4&&w.hb<3*W/4,w.Kb=0),1}function ya(y){if(y==null)return 2;if(11>y.S){var w=y.f.RGBA;w.fb+=(y.height-1)*w.A,w.A=-w.A}else w=y.f.kb,y=y.height,w.O+=(y-1)*w.fa,w.fa=-w.fa,w.N+=(y-1>>1)*w.Ab,w.Ab=-w.Ab,w.W+=(y-1>>1)*w.Db,w.Db=-w.Db,w.F!=null&&(w.J+=(y-1)*w.lb,w.lb=-w.lb);return 0}function iu(y,w,C,D){if(D==null||0>=y||0>=w)return 2;if(C!=null){if(C.Da){var W=C.cd,Q=C.bd,ne=-2&C.v,ie=-2&C.j;if(0>ne||0>ie||0>=W||0>=Q||ne+W>y||ie+Q>w)return 2;y=W,w=Q}if(C.da){if(!rt(y,w,W=[C.ib],Q=[C.hb]))return 2;y=W[0],w=Q[0]}}D.width=y,D.height=w;e:{var le=D.width,de=D.height;if(y=D.S,0>=le||0>=de||!(y>=xm&&13>y))y=2;else{if(0>=D.Rd&&D.sd==null){ne=Q=W=w=0;var Re=(ie=le*q3[y])*de;if(11>y||(Q=(de+1)/2*(w=(le+1)/2),y==12&&(ne=(W=le)*de)),(de=a(Re+2*Q+ne))==null){y=1;break e}D.sd=de,11>y?((le=D.f.RGBA).eb=de,le.fb=0,le.A=ie,le.size=Re):((le=D.f.kb).y=de,le.O=0,le.fa=ie,le.Fd=Re,le.f=de,le.N=0+Re,le.Ab=w,le.Cd=Q,le.ea=de,le.W=0+Re+Q,le.Db=w,le.Ed=Q,y==12&&(le.F=de,le.J=0+Re+2*Q),le.Tc=ne,le.lb=W)}if(w=1,W=D.S,Q=D.width,ne=D.height,W>=xm&&13>W)if(11>W)y=D.f.RGBA,w&=(ie=Math.abs(y.A))*(ne-1)+Q<=y.size,w&=ie>=Q*q3[W],w&=y.eb!=null;else{y=D.f.kb,ie=(Q+1)/2,Re=(ne+1)/2,le=Math.abs(y.fa),de=Math.abs(y.Ab);var We=Math.abs(y.Db),pe=Math.abs(y.lb),Le=pe*(ne-1)+Q;w&=le*(ne-1)+Q<=y.Fd,w&=de*(Re-1)+ie<=y.Cd,w=(w&=We*(Re-1)+ie<=y.Ed)&le>=Q&de>=ie&We>=ie,w&=y.y!=null,w&=y.f!=null,w&=y.ea!=null,W==12&&(w&=pe>=Q,w&=Le<=y.Tc,w&=y.F!=null)}else w=0;y=w?0:2}}return y!=0||C!=null&&C.fd&&(y=ya(D)),y}var oo=64,Hl=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ld=24,Vl=32,Rr=8,Vv=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ft("Predictor0","PredictorAdd0"),E.Predictor0=function(){return 4278190080},E.Predictor1=function(y){return y},E.Predictor2=function(y,w,C){return w[C+0]},E.Predictor3=function(y,w,C){return w[C+1]},E.Predictor4=function(y,w,C){return w[C-1]},E.Predictor5=function(y,w,C){return ae(ae(y,w[C+1]),w[C+0])},E.Predictor6=function(y,w,C){return ae(y,w[C-1])},E.Predictor7=function(y,w,C){return ae(y,w[C+0])},E.Predictor8=function(y,w,C){return ae(w[C-1],w[C+0])},E.Predictor9=function(y,w,C){return ae(w[C+0],w[C+1])},E.Predictor10=function(y,w,C){return ae(ae(y,w[C-1]),ae(w[C+0],w[C+1]))},E.Predictor11=function(y,w,C){var D=w[C+0];return 0>=Oe(D>>24&255,y>>24&255,(w=w[C-1])>>24&255)+Oe(D>>16&255,y>>16&255,w>>16&255)+Oe(D>>8&255,y>>8&255,w>>8&255)+Oe(255&D,255&y,255&w)?D:y},E.Predictor12=function(y,w,C){var D=w[C+0];return(Y((y>>24&255)+(D>>24&255)-((w=w[C-1])>>24&255))<<24|Y((y>>16&255)+(D>>16&255)-(w>>16&255))<<16|Y((y>>8&255)+(D>>8&255)-(w>>8&255))<<8|Y((255&y)+(255&D)-(255&w)))>>>0},E.Predictor13=function(y,w,C){var D=w[C-1];return(ke((y=ae(y,w[C+0]))>>24&255,D>>24&255)<<24|ke(y>>16&255,D>>16&255)<<16|ke(y>>8&255,D>>8&255)<<8|ke(255&y,255&D))>>>0};var lo=E.PredictorAdd0;E.PredictorAdd1=it,ft("Predictor2","PredictorAdd2"),ft("Predictor3","PredictorAdd3"),ft("Predictor4","PredictorAdd4"),ft("Predictor5","PredictorAdd5"),ft("Predictor6","PredictorAdd6"),ft("Predictor7","PredictorAdd7"),ft("Predictor8","PredictorAdd8"),ft("Predictor9","PredictorAdd9"),ft("Predictor10","PredictorAdd10"),ft("Predictor11","PredictorAdd11"),ft("Predictor12","PredictorAdd12"),ft("Predictor13","PredictorAdd13");var co=E.PredictorAdd2;tt("ColorIndexInverseTransform","MapARGB","32b",function(y){return y>>8&255},function(y){return y}),tt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(y){return y},function(y){return y>>8&255});var Nf,Fd=E.ColorIndexInverseTransform,kf=E.MapARGB,Cf=E.VP8LColorIndexInverseTransformAlpha,au=E.MapAlpha,su=E.VP8LPredictorsAdd=[];su.length=16,(E.VP8LPredictors=[]).length=16,(E.VP8LPredictorsAdd_C=[]).length=16,(E.VP8LPredictors_C=[]).length=16;var qo,Dd,Ua,uo,$n,Yn,Pr,Lr,Xo,Rf,fo,Id,m3,g3,x3,v3,y3,_3,b3,w3,S3,E3,A3,T3,Od,M3,N3,k3,C3=a(511),R3=a(2041),P3=a(225),L3=a(767),F3=0,Wv=R3,gm=P3,Ba=L3,cs=C3,xm=0,vm=1,D3=2,ym=3,_m=4,Gv=5,I3=6,qv=7,Xv=8,bm=9,$v=10,nD=[2,3,7],rD=[3,3,11],O3=[280,256,256,256,40],iD=[0,1,1,1,0],aD=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],sD=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],oD=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],lD=8,Yv=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Kv=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ud=null,cD=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],uD=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],U3=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],fD=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],hD=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],dD=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],pD=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Wl=[],Ns=[],$o=[],mD=1,B3=2,Gl=[],us=[];Ms("UpsampleRgbLinePair",Go,3),Ms("UpsampleBgrLinePair",Af,3),Ms("UpsampleRgbaLinePair",mm,4),Ms("UpsampleBgraLinePair",Tf,4),Ms("UpsampleArgbLinePair",pm,4),Ms("UpsampleRgba4444LinePair",ra,2),Ms("UpsampleRgb565LinePair",Cd,2);var gD=E.UpsampleRgbLinePair,xD=E.UpsampleBgrLinePair,j3=E.UpsampleRgbaLinePair,z3=E.UpsampleBgraLinePair,H3=E.UpsampleArgbLinePair,V3=E.UpsampleRgba4444LinePair,vD=E.UpsampleRgb565LinePair,wm=16,Sm=1<<wm-1,Bd=-227,Jv=482,yD=6,W3=0,_D=a(256),bD=a(256),wD=a(256),SD=a(256),ED=a(Jv-Bd),AD=a(Jv-Bd);ls("YuvToRgbRow",Go,3),ls("YuvToBgrRow",Af,3),ls("YuvToRgbaRow",mm,4),ls("YuvToBgraRow",Tf,4),ls("YuvToArgbRow",pm,4),ls("YuvToRgba4444Row",ra,2),ls("YuvToRgb565Row",Cd,2);var G3=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Em=[0,2,8],TD=[8,7,6,4,4,2,2,2,1,1,1,1],MD=1;this.WebPDecodeRGBA=function(y,w,C,D,W){var Q=vm,ne=new Ht,ie=new wt;ne.ba=ie,ie.S=Q,ie.width=[ie.width],ie.height=[ie.height];var le=ie.width,de=ie.height,Re=new $e;if(Re==null||y==null)var We=2;else e(Re!=null),We=Mf(y,w,C,Re.width,Re.height,Re.Pd,Re.Qd,Re.format,null);if(We!=0?le=0:(le!=null&&(le[0]=Re.width[0]),de!=null&&(de[0]=Re.height[0]),le=1),le){ie.width=ie.width[0],ie.height=ie.height[0],D!=null&&(D[0]=ie.width),W!=null&&(W[0]=ie.height);e:{if(D=new dn,(W=new Kt).data=y,W.w=w,W.ha=C,W.kd=1,w=[0],e(W!=null),((y=Mf(W.data,W.w,W.ha,null,null,null,w,null,W))==0||y==7)&&w[0]&&(y=4),(w=y)==0){if(e(ne!=null),D.data=W.data,D.w=W.w+W.offset,D.ha=W.ha-W.offset,D.put=Ot,D.ac=nn,D.bc=yr,D.ma=ne,W.xa){if((y=ze())==null){ne=1;break e}if(function(pe,Le){var Be=[0],at=[0],Ve=[0];t:for(;;){if(pe==null)return 0;if(Le==null)return pe.a=2,0;if(pe.l=Le,pe.a=0,H(pe.m,Le.data,Le.w,Le.ha),!xa(pe.m,Be,at,Ve)){pe.a=3;break t}if(pe.xb=B3,Le.width=Be[0],Le.height=at[0],!He(Be[0],at[0],1,pe,null))break t;return 1}return e(pe.a!=0),0}(y,D)){if(D=(w=iu(D.width,D.height,ne.Oa,ne.ba))==0){t:{D=y;n:for(;;){if(D==null){D=0;break t}if(e(D.s.yc!=null),e(D.s.Ya!=null),e(0<D.s.Wb),e((C=D.l)!=null),e((W=C.ma)!=null),D.xb!=0){if(D.ca=W.ba,D.tb=W.tb,e(D.ca!=null),!va(W.Oa,C,ym)){D.a=2;break n}if(!Ge(D,C.width)||C.da)break n;if((C.da||Ae(D.ca.S))&&ru(),11>D.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),D.ca.f.kb.F!=null&&ru()),D.Pb&&0<D.s.ua&&D.s.vb.X==null&&!Z(D.s.vb,D.s.Wa.Xa)){D.a=1;break n}D.xb=0}if(!je(D,D.V,D.Ba,D.c,D.i,C.o,oe))break n;W.Dc=D.Ma,D=1;break t}e(D.a!=0),D=0}D=!D}D&&(w=y.a)}else w=y.a}else{if((y=new Fn)==null){ne=1;break e}if(y.Fa=W.na,y.P=W.P,y.qc=W.Sa,zn(y,D)){if((w=iu(D.width,D.height,ne.Oa,ne.ba))==0){if(y.Aa=0,C=ne.Oa,e((W=y)!=null),C!=null){if(0<(le=0>(le=C.Md)?0:100<le?255:255*le/100)){for(de=Re=0;4>de;++de)12>(We=W.pb[de]).lc&&(We.ia=le*TD[0>We.lc?0:We.lc]>>3),Re|=We.ia;Re&&(alert("todo:VP8InitRandom"),W.ia=1)}W.Ga=C.Id,100<W.Ga?W.Ga=100:0>W.Ga&&(W.Ga=0)}(function(pe,Le){if(pe==null)return 0;if(Le==null)return Xt(pe,2,"NULL VP8Io parameter in VP8Decode().");if(!pe.cb&&!zn(pe,Le))return 0;if(e(pe.cb),Le.ac==null||Le.ac(Le)){Le.ob&&(pe.L=0);var Be=Em[pe.L];if(pe.L==2?(pe.yb=0,pe.zb=0):(pe.yb=Le.v-Be>>4,pe.zb=Le.j-Be>>4,0>pe.yb&&(pe.yb=0),0>pe.zb&&(pe.zb=0)),pe.Va=Le.o+15+Be>>4,pe.Hb=Le.va+15+Be>>4,pe.Hb>pe.za&&(pe.Hb=pe.za),pe.Va>pe.Ub&&(pe.Va=pe.Ub),0<pe.L){var at=pe.ed;for(Be=0;4>Be;++Be){var Ve;if(pe.Qa.Cb){var ot=pe.Qa.Lb[Be];pe.Qa.Fb||(ot+=at.Tb)}else ot=at.Tb;for(Ve=0;1>=Ve;++Ve){var ut=pe.gd[Be][Ve],_t=ot;if(at.Pc&&(_t+=at.vd[0],Ve&&(_t+=at.od[0])),0<(_t=0>_t?0:63<_t?63:_t)){var pt=_t;0<at.wb&&(pt=4<at.wb?pt>>2:pt>>1)>9-at.wb&&(pt=9-at.wb),1>pt&&(pt=1),ut.dd=pt,ut.tc=2*_t+pt,ut.ld=40<=_t?2:15<=_t?1:0}else ut.tc=0;ut.La=Ve}}}Be=0}else Xt(pe,6,"Frame setup failed"),Be=pe.a;if(Be=Be==0){if(Be){pe.$c=0,0<pe.Aa||(pe.Ic=MD);t:{Be=pe.Ic,at=4*(pt=pe.za);var Vt=32*pt,Pt=pt+1,cn=0<pe.L?pt*(0<pe.Aa?2:1):0,Ut=(pe.Aa==2?2:1)*pt;if((ut=at+832+(Ve=3*(16*Be+Em[pe.L])/2*Vt)+(ot=pe.Fa!=null&&0<pe.Fa.length?pe.Kc.c*pe.Kc.i:0))!=ut)Be=0;else{if(ut>pe.Vb){if(pe.Vb=0,pe.Ec=a(ut),pe.Fc=0,pe.Ec==null){Be=Xt(pe,1,"no memory during frame initialization.");break t}pe.Vb=ut}ut=pe.Ec,_t=pe.Fc,pe.Ac=ut,pe.Bc=_t,_t+=at,pe.Gd=s(Vt,qt),pe.Hd=0,pe.rb=s(Pt+1,Et),pe.sb=1,pe.wa=cn?s(cn,vt):null,pe.Y=0,pe.D.Nb=0,pe.D.wa=pe.wa,pe.D.Y=pe.Y,0<pe.Aa&&(pe.D.Y+=pt),e(!0),pe.oc=ut,pe.pc=_t,_t+=832,pe.ya=s(Ut,zt),pe.aa=0,pe.D.ya=pe.ya,pe.D.aa=pe.aa,pe.Aa==2&&(pe.D.aa+=pt),pe.R=16*pt,pe.B=8*pt,pt=(Vt=Em[pe.L])*pe.R,Vt=Vt/2*pe.B,pe.sa=ut,pe.ta=_t+pt,pe.qa=pe.sa,pe.ra=pe.ta+16*Be*pe.R+Vt,pe.Ha=pe.qa,pe.Ia=pe.ra+8*Be*pe.B+Vt,pe.$c=0,_t+=Ve,pe.mb=ot?ut:null,pe.nb=ot?_t:null,e(_t+ot<=pe.Fc+pe.Vb),kr(pe),i(pe.Ac,pe.Bc,0,at),Be=1}}if(Be){if(Le.ka=0,Le.y=pe.sa,Le.O=pe.ta,Le.f=pe.qa,Le.N=pe.ra,Le.ea=pe.Ha,Le.Vd=pe.Ia,Le.fa=pe.R,Le.Rc=pe.B,Le.F=null,Le.J=0,!F3){for(Be=-255;255>=Be;++Be)C3[255+Be]=0>Be?-Be:Be;for(Be=-1020;1020>=Be;++Be)R3[1020+Be]=-128>Be?-128:127<Be?127:Be;for(Be=-112;112>=Be;++Be)P3[112+Be]=-16>Be?-16:15<Be?15:Be;for(Be=-255;510>=Be;++Be)L3[255+Be]=0>Be?0:255<Be?255:Be;F3=1}Pr=os,Lr=Li,Rf=Kr,fo=er,Id=Il,Xo=Pi,m3=M,g3=G,x3=Ie,v3=ct,y3=me,_3=Ne,b3=mt,w3=Dt,S3=Td,E3=nu,A3=Md,T3=Nd,Ns[0]=Ov,Ns[1]=yd,Ns[2]=Dv,Ns[3]=Iv,Ns[4]=Uv,Ns[5]=Ho,Ns[6]=zo,Ns[7]=Bv,Ns[8]=_f,Ns[9]=jv,Wl[0]=Ul,Wl[1]=Pv,Wl[2]=Lv,Wl[3]=_d,Wl[4]=Fv,Wl[5]=Zc,Wl[6]=bd,$o[0]=wf,$o[1]=Rv,$o[2]=wd,$o[3]=Qc,$o[4]=Sd,$o[5]=zv,$o[6]=Ed,Be=1}else Be=0}Be&&(Be=function(_n,Qr){for(_n.M=0;_n.M<_n.Va;++_n.M){var un,Bt=_n.Jc[_n.M&_n.Xb],Nt=_n.m,Fr=_n;for(un=0;un<Fr.za;++un){var rn=Nt,Sn=Fr,tr=Sn.Ac,bi=Sn.Bc+4*un,ia=Sn.zc,_r=Sn.ya[Sn.aa+un];if(Sn.Qa.Bb?_r.$b=be(rn,Sn.Pa.jb[0])?2+be(rn,Sn.Pa.jb[2]):be(rn,Sn.Pa.jb[1]):_r.$b=0,Sn.kc&&(_r.Ad=be(rn,Sn.Bd)),_r.Za=!be(rn,145)+0,_r.Za){var Fi=_r.Ob,aa=0;for(Sn=0;4>Sn;++Sn){var ei,Tn=ia[0+Sn];for(ei=0;4>ei;++ei){Tn=hD[tr[bi+ei]][Tn];for(var In=U3[be(rn,Tn[0])];0<In;)In=U3[2*In+be(rn,Tn[In])];Tn=-In,tr[bi+ei]=Tn}r(Fi,aa,tr,bi,4),aa+=4,ia[0+Sn]=Tn}}else Tn=be(rn,156)?be(rn,128)?1:3:be(rn,163)?2:0,_r.Ob[0]=Tn,i(tr,bi,Tn,4),i(ia,0,Tn,4);_r.Dd=be(rn,142)?be(rn,114)?be(rn,183)?1:3:2:0}if(Fr.m.Ka)return Xt(_n,7,"Premature end-of-partition0 encountered.");for(;_n.ja<_n.za;++_n.ja){if(Fr=Bt,rn=(Nt=_n).rb[Nt.sb-1],tr=Nt.rb[Nt.sb+Nt.ja],un=Nt.ya[Nt.aa+Nt.ja],bi=Nt.kc?un.Ad:0)rn.la=tr.la=0,un.Za||(rn.Na=tr.Na=0),un.Hc=0,un.Gc=0,un.ia=0;else{var br,On;if(rn=tr,tr=Fr,bi=Nt.Pa.Xc,ia=Nt.ya[Nt.aa+Nt.ja],_r=Nt.pb[ia.$b],Sn=ia.ad,Fi=0,aa=Nt.rb[Nt.sb-1],Tn=ei=0,i(Sn,Fi,0,384),ia.Za)var wi=0,ks=bi[3];else{In=a(16);var Dr=rn.Na+aa.Na;if(Dr=Ud(tr,bi[1],Dr,_r.Eb,0,In,0),rn.Na=aa.Na=(0<Dr)+0,1<Dr)Pr(In,0,Sn,Fi);else{var _a=In[0]+3>>3;for(In=0;256>In;In+=16)Sn[Fi+In]=_a}wi=1,ks=bi[0]}var qn=15&rn.la,ti=15&aa.la;for(In=0;4>In;++In){var ja=1&ti;for(_a=On=0;4>_a;++_a)qn=qn>>1|(ja=(Dr=Ud(tr,ks,Dr=ja+(1&qn),_r.Sc,wi,Sn,Fi))>wi)<<7,On=On<<2|(3<Dr?3:1<Dr?2:Sn[Fi+0]!=0),Fi+=16;qn>>=4,ti=ti>>1|ja<<7,ei=(ei<<8|On)>>>0}for(ks=qn,wi=ti>>4,br=0;4>br;br+=2){for(On=0,qn=rn.la>>4+br,ti=aa.la>>4+br,In=0;2>In;++In){for(ja=1&ti,_a=0;2>_a;++_a)Dr=ja+(1&qn),qn=qn>>1|(ja=0<(Dr=Ud(tr,bi[2],Dr,_r.Qc,0,Sn,Fi)))<<3,On=On<<2|(3<Dr?3:1<Dr?2:Sn[Fi+0]!=0),Fi+=16;qn>>=2,ti=ti>>1|ja<<5}Tn|=On<<4*br,ks|=qn<<4<<br,wi|=(240&ti)<<br}rn.la=ks,aa.la=wi,ia.Hc=ei,ia.Gc=Tn,ia.ia=43690&Tn?0:_r.ia,bi=!(ei|Tn)}if(0<Nt.L&&(Nt.wa[Nt.Y+Nt.ja]=Nt.gd[un.$b][un.Za],Nt.wa[Nt.Y+Nt.ja].La|=!bi),Fr.Ka)return Xt(_n,7,"Premature end-of-file encountered.")}if(kr(_n),Nt=Qr,Fr=1,un=(Bt=_n).D,rn=0<Bt.L&&Bt.M>=Bt.zb&&Bt.M<=Bt.Va,Bt.Aa==0)t:{if(un.M=Bt.M,un.uc=rn,zl(Bt,un),Fr=1,un=(On=Bt.D).Nb,rn=(Tn=Em[Bt.L])*Bt.R,tr=Tn/2*Bt.B,In=16*un*Bt.R,_a=8*un*Bt.B,bi=Bt.sa,ia=Bt.ta-rn+In,_r=Bt.qa,Sn=Bt.ra-tr+_a,Fi=Bt.Ha,aa=Bt.Ia-tr+_a,ti=(qn=On.M)==0,ei=qn>=Bt.Va-1,Bt.Aa==2&&zl(Bt,On),On.uc)for(ja=(Dr=Bt).D.M,e(Dr.D.uc),On=Dr.yb;On<Dr.Hb;++On){wi=On,ks=ja;var sa=(za=(Si=Dr).D).Nb;br=Si.R;var za=za.wa[za.Y+wi],Ha=Si.sa,ba=Si.ta+16*sa*br+16*wi,Va=za.dd,Kn=za.tc;if(Kn!=0)if(e(3<=Kn),Si.L==1)0<wi&&E3(Ha,ba,br,Kn+4),za.La&&T3(Ha,ba,br,Kn),0<ks&&S3(Ha,ba,br,Kn+4),za.La&&A3(Ha,ba,br,Kn);else{var Wa=Si.B,Cs=Si.qa,ou=Si.ra+8*sa*Wa+8*wi,Yo=Si.Ha,Si=Si.Ia+8*sa*Wa+8*wi;sa=za.ld,0<wi&&(g3(Ha,ba,br,Kn+4,Va,sa),v3(Cs,ou,Yo,Si,Wa,Kn+4,Va,sa)),za.La&&(_3(Ha,ba,br,Kn,Va,sa),w3(Cs,ou,Yo,Si,Wa,Kn,Va,sa)),0<ks&&(m3(Ha,ba,br,Kn+4,Va,sa),x3(Cs,ou,Yo,Si,Wa,Kn+4,Va,sa)),za.La&&(y3(Ha,ba,br,Kn,Va,sa),b3(Cs,ou,Yo,Si,Wa,Kn,Va,sa))}}if(Bt.ia&&alert("todo:DitherRow"),Nt.put!=null){if(On=16*qn,qn=16*(qn+1),ti?(Nt.y=Bt.sa,Nt.O=Bt.ta+In,Nt.f=Bt.qa,Nt.N=Bt.ra+_a,Nt.ea=Bt.Ha,Nt.W=Bt.Ia+_a):(On-=Tn,Nt.y=bi,Nt.O=ia,Nt.f=_r,Nt.N=Sn,Nt.ea=Fi,Nt.W=aa),ei||(qn-=Tn),qn>Nt.o&&(qn=Nt.o),Nt.F=null,Nt.J=null,Bt.Fa!=null&&0<Bt.Fa.length&&On<qn&&(Nt.J=_i(Bt,Nt,On,qn-On),Nt.F=Bt.mb,Nt.F==null&&Nt.F.length==0)){Fr=Xt(Bt,3,"Could not decode alpha data.");break t}On<Nt.j&&(Tn=Nt.j-On,On=Nt.j,e(!(1&Tn)),Nt.O+=Bt.R*Tn,Nt.N+=Bt.B*(Tn>>1),Nt.W+=Bt.B*(Tn>>1),Nt.F!=null&&(Nt.J+=Nt.width*Tn)),On<qn&&(Nt.O+=Nt.v,Nt.N+=Nt.v>>1,Nt.W+=Nt.v>>1,Nt.F!=null&&(Nt.J+=Nt.v),Nt.ka=On-Nt.j,Nt.U=Nt.va-Nt.v,Nt.T=qn-On,Fr=Nt.put(Nt))}un+1!=Bt.Ic||ei||(r(Bt.sa,Bt.ta-rn,bi,ia+16*Bt.R,rn),r(Bt.qa,Bt.ra-tr,_r,Sn+8*Bt.B,tr),r(Bt.Ha,Bt.Ia-tr,Fi,aa+8*Bt.B,tr))}if(!Fr)return Xt(_n,6,"Output aborted.")}return 1}(pe,Le)),Le.bc!=null&&Le.bc(Le),Be&=1}return Be?(pe.cb=0,Be):0})(y,D)||(w=y.a)}}else w=y.a}w==0&&ne.Oa!=null&&ne.Oa.fd&&(w=ya(ne.ba))}ne=w}Q=ne!=0?null:11>Q?ie.f.RGBA.eb:ie.f.kb.y}else Q=null;return Q};var q3=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(E,R){for(var A="",F=0;F<4;F++)A+=String.fromCharCode(E[R++]);return A}function u(E,R){return E[R+0]|E[R+1]<<8}function f(E,R){return(E[R+0]|E[R+1]<<8|E[R+2]<<16)>>>0}function d(E,R){return(E[R+0]|E[R+1]<<8|E[R+2]<<16|E[R+3]<<24)>>>0}new l;var h=[0],g=[0],x=[],v=new l,m=t,b=function(E,R){var A={},F=0,j=!1,V=0,X=0;if(A.frames=[],!function(k,U){for(var O=0;O<4;O++)if(k[U+O]!="RIFF".charCodeAt(O))return!0;return!1}(E,R)){for(d(E,R+=4),R+=8;R<E.length;){var ee=c(E,R),se=d(E,R+=4);R+=4;var B=se+(1&se);switch(ee){case"VP8 ":case"VP8L":A.frames[F]===void 0&&(A.frames[F]={}),(Se=A.frames[F]).src_off=j?X:R-8,Se.src_size=V+se+8,F++,j&&(j=!1,V=0,X=0);break;case"VP8X":(Se=A.header={}).feature_flags=E[R];var H=R+4;Se.canvas_width=1+f(E,H),H+=3,Se.canvas_height=1+f(E,H),H+=3;break;case"ALPH":j=!0,V=B+8,X=R-8;break;case"ANIM":(Se=A.header).bgcolor=d(E,R),H=R+4,Se.loop_count=u(E,H),H+=2;break;case"ANMF":var xe,Se;(Se=A.frames[F]={}).offset_x=2*f(E,R),R+=3,Se.offset_y=2*f(E,R),R+=3,Se.width=1+f(E,R),R+=3,Se.height=1+f(E,R),R+=3,Se.duration=f(E,R),R+=3,xe=E[R++],Se.dispose=1&xe,Se.blend=xe>>1&1}ee!="ANMF"&&(R+=B)}return A}}(m,0);b.response=m,b.rgbaoutput=!0,b.dataurl=!1;var _=b.header?b.header:null,S=b.frames?b.frames:null;if(_){_.loop_counter=_.loop_count,h=[_.canvas_height],g=[_.canvas_width];for(var N=0;N<S.length&&S[N].blend!=0;N++);}var P=S[0],T=v.WebPDecodeRGBA(m,P.src_off,P.src_size,g,h);P.rgba=T,P.imgwidth=g[0],P.imgheight=h[0];for(var L=0;L<g[0]*h[0]*4;L++)x[L]=T[L];return this.width=g,this.height=h,this.data=x,this}(function(t){var e,n,r,i,a,s,o,l,c,u=function(k){return k=k||{},this.isStrokeTransparent=k.isStrokeTransparent||!1,this.strokeOpacity=k.strokeOpacity||1,this.strokeStyle=k.strokeStyle||"#000000",this.fillStyle=k.fillStyle||"#000000",this.isFillTransparent=k.isFillTransparent||!1,this.fillOpacity=k.fillOpacity||1,this.font=k.font||"10px sans-serif",this.textBaseline=k.textBaseline||"alphabetic",this.textAlign=k.textAlign||"left",this.lineWidth=k.lineWidth||1,this.lineJoin=k.lineJoin||"miter",this.lineCap=k.lineCap||"butt",this.path=k.path||[],this.transform=k.transform!==void 0?k.transform.clone():new l,this.globalCompositeOperation=k.globalCompositeOperation||"normal",this.globalAlpha=k.globalAlpha||1,this.clip_path=k.clip_path||[],this.currentPoint=k.currentPoint||new s,this.miterLimit=k.miterLimit||10,this.lastPoint=k.lastPoint||new s,this.lineDashOffset=k.lineDashOffset||0,this.lineDash=k.lineDash||[],this.margin=k.margin||[0,0,0,0],this.prevPageLastElemOffset=k.prevPageLastElemOffset||0,this.ignoreClearRect=typeof k.ignoreClearRect!="boolean"||k.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new f(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,s=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var f=function(k){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var U=k;Object.defineProperty(this,"pdf",{get:function(){return U}});var O=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return O},set:function(Ee){O=!!Ee}});var I=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return I},set:function(Ee){I=!!Ee}});var K=0;Object.defineProperty(this,"posX",{get:function(){return K},set:function(Ee){isNaN(Ee)||(K=Ee)}});var re=0;Object.defineProperty(this,"posY",{get:function(){return re},set:function(Ee){isNaN(Ee)||(re=Ee)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(Ee){var Z;typeof Ee=="number"?Z=[Ee,Ee,Ee,Ee]:((Z=new Array(4))[0]=Ee[0],Z[1]=Ee.length>=2?Ee[1]:Z[0],Z[2]=Ee.length>=3?Ee[2]:Z[0],Z[3]=Ee.length>=4?Ee[3]:Z[1]),c.margin=Z}});var _e=!1;Object.defineProperty(this,"autoPaging",{get:function(){return _e},set:function(Ee){_e=Ee}});var ue=0;Object.defineProperty(this,"lastBreak",{get:function(){return ue},set:function(Ee){ue=Ee}});var be=[];Object.defineProperty(this,"pageBreaks",{get:function(){return be},set:function(Ee){be=Ee}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(Ee){Ee instanceof u&&(c=Ee)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(Ee){c.path=Ee}});var ve=[];Object.defineProperty(this,"ctxStack",{get:function(){return ve},set:function(Ee){ve=Ee}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ee){var Z;Z=d(Ee),this.ctx.fillStyle=Z.style,this.ctx.isFillTransparent=Z.a===0,this.ctx.fillOpacity=Z.a,this.pdf.setFillColor(Z.r,Z.g,Z.b,{a:Z.a}),this.pdf.setTextColor(Z.r,Z.g,Z.b,{a:Z.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ee){var Z=d(Ee);this.ctx.strokeStyle=Z.style,this.ctx.isStrokeTransparent=Z.a===0,this.ctx.strokeOpacity=Z.a,Z.a===0?this.pdf.setDrawColor(255,255,255):(Z.a,this.pdf.setDrawColor(Z.r,Z.g,Z.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ee){["butt","round","square"].indexOf(Ee)!==-1&&(this.ctx.lineCap=Ee,this.pdf.setLineCap(Ee))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ee){isNaN(Ee)||(this.ctx.lineWidth=Ee,this.pdf.setLineWidth(Ee))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ee){["bevel","round","miter"].indexOf(Ee)!==-1&&(this.ctx.lineJoin=Ee,this.pdf.setLineJoin(Ee))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ee){isNaN(Ee)||(this.ctx.miterLimit=Ee,this.pdf.setMiterLimit(Ee))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ee){this.ctx.textBaseline=Ee}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ee){["right","end","center","left","start"].indexOf(Ee)!==-1&&(this.ctx.textAlign=Ee)}});var q=null,te=null;Object.defineProperty(this,"fontFaces",{get:function(){return te},set:function(Ee){q=null,te=Ee}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ee){var Z;if(this.ctx.font=Ee,(Z=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ee))!==null){var qe=Z[1];Z[2];var Ce=Z[3],rt=Z[4];Z[5];var Pe=Z[6],nt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(rt)[2];rt=Math.floor(nt==="px"?parseFloat(rt)*this.pdf.internal.scaleFactor:nt==="em"?parseFloat(rt)*this.pdf.getFontSize():parseFloat(rt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(rt);var ft=function(Ue){var tt,yt,Ke=[],Ze=Ue.trim();if(Ze==="")return c_;if(Ze in ck)return[ck[Ze]];for(;Ze!=="";){switch(yt=null,tt=(Ze=fk(Ze)).charAt(0)){case'"':case"'":yt=ble(Ze.substring(1),tt);break;default:yt=wle(Ze)}if(yt===null||(Ke.push(yt[0]),(Ze=fk(yt[1]))!==""&&Ze.charAt(0)!==","))return c_;Ze=Ze.replace(/^,/,"")}return Ke}(Pe);if(this.fontFaces){var Tt=function(Ue,tt){if(q===null){var yt=function(Ke){var Ze=[];return Object.keys(Ke).forEach(function(bt){Ke[bt].forEach(function(At){var st=null;switch(At){case"bold":st={family:bt,weight:"bold"};break;case"italic":st={family:bt,style:"italic"};break;case"bolditalic":st={family:bt,weight:"bold",style:"italic"};break;case"":case"normal":st={family:bt}}st!==null&&(st.ref={name:bt,style:At},Ze.push(st))})}),Ze}(Ue.getFontList());q=function(Ke){for(var Ze={},bt=0;bt<Ke.length;++bt){var At=l_(Ke[bt]),st=At.family,Mt=At.stretch,Ae=At.style,ht=At.weight;Ze[st]=Ze[st]||{},Ze[st][Mt]=Ze[st][Mt]||{},Ze[st][Mt][Ae]=Ze[st][Mt][Ae]||{},Ze[st][Mt][Ae][ht]=At}return Ze}(yt.concat(tt))}return q}(this.pdf,this.fontFaces),ae=ft.map(function(Ue){return{family:Ue,stretch:"normal",weight:Ce,style:qe}}),Y=function(Ue,tt,yt){for(var Ke=(yt=yt||{}).defaultFontFamily||"times",Ze=Object.assign({},_le,yt.genericFontFamilies||{}),bt=null,At=null,st=0;st<tt.length;++st)if(Ze[(bt=l_(tt[st])).family]&&(bt.family=Ze[bt.family]),Ue.hasOwnProperty(bt.family)){At=Ue[bt.family];break}if(!(At=At||Ue[Ke]))throw new Error("Could not find a font-family for the rule '"+uk(bt)+"' and default family '"+Ke+"'.");if(At=function(Mt,Ae){if(Ae[Mt])return Ae[Mt];var ht=Jw[Mt],gt=ht<=Jw.normal?-1:1,wt=lk(Ae,IF,ht,gt);if(!wt)throw new Error("Could not find a matching font-stretch value for "+Mt);return wt}(bt.stretch,At),At=function(Mt,Ae){if(Ae[Mt])return Ae[Mt];for(var ht=DF[Mt],gt=0;gt<ht.length;++gt)if(Ae[ht[gt]])return Ae[ht[gt]];throw new Error("Could not find a matching font-style for "+Mt)}(bt.style,At),!(At=function(Mt,Ae){if(Ae[Mt])return Ae[Mt];if(Mt===400&&Ae[500])return Ae[500];if(Mt===500&&Ae[400])return Ae[400];var ht=yle[Mt],gt=lk(Ae,OF,ht,Mt<400?-1:1);if(!gt)throw new Error("Could not find a matching font-weight for value "+Mt);return gt}(bt.weight,At)))throw new Error("Failed to resolve a font for the rule '"+uk(bt)+"'.");return At}(Tt,ae);this.pdf.setFont(Y.ref.name,Y.ref.style)}else{var ke="";(Ce==="bold"||parseInt(Ce,10)>=700||qe==="bold")&&(ke="bold"),qe==="italic"&&(ke+="italic"),ke.length===0&&(ke="normal");for(var Oe="",it={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Fe=0;Fe<ft.length;Fe++){if(this.pdf.internal.getFont(ft[Fe],ke,{noFallback:!0,disableWarning:!0})!==void 0){Oe=ft[Fe];break}if(ke==="bolditalic"&&this.pdf.internal.getFont(ft[Fe],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Oe=ft[Fe],ke="bold";else if(this.pdf.internal.getFont(ft[Fe],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Oe=ft[Fe],ke="normal";break}}if(Oe===""){for(var lt=0;lt<ft.length;lt++)if(it[ft[lt]]){Oe=it[ft[lt]];break}}Oe=Oe===""?"Times":Oe,this.pdf.setFont(Oe,ke)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ee){this.ctx.globalCompositeOperation=Ee}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ee){this.ctx.globalAlpha=Ee}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ee){this.ctx.lineDashOffset=Ee,Se.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ee){this.ctx.lineDash=Ee,Se.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ee){this.ctx.ignoreClearRect=!!Ee}})};f.prototype.setLineDash=function(k){this.lineDash=k},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){S.call(this,"fill",!1)},f.prototype.stroke=function(){S.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(k,U){if(isNaN(k)||isNaN(U))throw Xn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var O=this.ctx.transform.applyToPoint(new s(k,U));this.path.push({type:"mt",x:O.x,y:O.y}),this.ctx.lastPoint=new s(k,U)},f.prototype.closePath=function(){var k=new s(0,0),U=0;for(U=this.path.length-1;U!==-1;U--)if(this.path[U].type==="begin"&&Bn(this.path[U+1])==="object"&&typeof this.path[U+1].x=="number"){k=new s(this.path[U+1].x,this.path[U+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(k.x,k.y)},f.prototype.lineTo=function(k,U){if(isNaN(k)||isNaN(U))throw Xn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var O=this.ctx.transform.applyToPoint(new s(k,U));this.path.push({type:"lt",x:O.x,y:O.y}),this.ctx.lastPoint=new s(O.x,O.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),S.call(this,null,!0)},f.prototype.quadraticCurveTo=function(k,U,O,I){if(isNaN(O)||isNaN(I)||isNaN(k)||isNaN(U))throw Xn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var K=this.ctx.transform.applyToPoint(new s(O,I)),re=this.ctx.transform.applyToPoint(new s(k,U));this.path.push({type:"qct",x1:re.x,y1:re.y,x:K.x,y:K.y}),this.ctx.lastPoint=new s(K.x,K.y)},f.prototype.bezierCurveTo=function(k,U,O,I,K,re){if(isNaN(K)||isNaN(re)||isNaN(k)||isNaN(U)||isNaN(O)||isNaN(I))throw Xn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var _e=this.ctx.transform.applyToPoint(new s(K,re)),ue=this.ctx.transform.applyToPoint(new s(k,U)),be=this.ctx.transform.applyToPoint(new s(O,I));this.path.push({type:"bct",x1:ue.x,y1:ue.y,x2:be.x,y2:be.y,x:_e.x,y:_e.y}),this.ctx.lastPoint=new s(_e.x,_e.y)},f.prototype.arc=function(k,U,O,I,K,re){if(isNaN(k)||isNaN(U)||isNaN(O)||isNaN(I)||isNaN(K))throw Xn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(re=!!re,!this.ctx.transform.isIdentity){var _e=this.ctx.transform.applyToPoint(new s(k,U));k=_e.x,U=_e.y;var ue=this.ctx.transform.applyToPoint(new s(0,O)),be=this.ctx.transform.applyToPoint(new s(0,0));O=Math.sqrt(Math.pow(ue.x-be.x,2)+Math.pow(ue.y-be.y,2))}Math.abs(K-I)>=2*Math.PI&&(I=0,K=2*Math.PI),this.path.push({type:"arc",x:k,y:U,radius:O,startAngle:I,endAngle:K,counterclockwise:re})},f.prototype.arcTo=function(k,U,O,I,K){throw new Error("arcTo not implemented.")},f.prototype.rect=function(k,U,O,I){if(isNaN(k)||isNaN(U)||isNaN(O)||isNaN(I))throw Xn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(k,U),this.lineTo(k+O,U),this.lineTo(k+O,U+I),this.lineTo(k,U+I),this.lineTo(k,U),this.lineTo(k+O,U),this.lineTo(k,U)},f.prototype.fillRect=function(k,U,O,I){if(isNaN(k)||isNaN(U)||isNaN(O)||isNaN(I))throw Xn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var K={};this.lineCap!=="butt"&&(K.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(K.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(k,U,O,I),this.fill(),K.hasOwnProperty("lineCap")&&(this.lineCap=K.lineCap),K.hasOwnProperty("lineJoin")&&(this.lineJoin=K.lineJoin)}},f.prototype.strokeRect=function(k,U,O,I){if(isNaN(k)||isNaN(U)||isNaN(O)||isNaN(I))throw Xn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");g.call(this)||(this.beginPath(),this.rect(k,U,O,I),this.stroke())},f.prototype.clearRect=function(k,U,O,I){if(isNaN(k)||isNaN(U)||isNaN(O)||isNaN(I))throw Xn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(k,U,O,I))},f.prototype.save=function(k){k=typeof k!="boolean"||k;for(var U=this.pdf.internal.getCurrentPageInfo().pageNumber,O=0;O<this.pdf.internal.getNumberOfPages();O++)this.pdf.setPage(O+1),this.pdf.internal.out("q");if(this.pdf.setPage(U),k){this.ctx.fontSize=this.pdf.internal.getFontSize();var I=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=I}},f.prototype.restore=function(k){k=typeof k!="boolean"||k;for(var U=this.pdf.internal.getCurrentPageInfo().pageNumber,O=0;O<this.pdf.internal.getNumberOfPages();O++)this.pdf.setPage(O+1),this.pdf.internal.out("Q");this.pdf.setPage(U),k&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var d=function(k){var U,O,I,K;if(k.isCanvasGradient===!0&&(k=k.getColor()),!k)return{r:0,g:0,b:0,a:0,style:k};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(k))U=0,O=0,I=0,K=0;else{var re=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(k);if(re!==null)U=parseInt(re[1]),O=parseInt(re[2]),I=parseInt(re[3]),K=1;else if((re=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(k))!==null)U=parseInt(re[1]),O=parseInt(re[2]),I=parseInt(re[3]),K=parseFloat(re[4]);else{if(K=1,typeof k=="string"&&k.charAt(0)!=="#"){var _e=new NF(k);k=_e.ok?_e.toHex():"#000000"}k.length===4?(U=k.substring(1,2),U+=U,O=k.substring(2,3),O+=O,I=k.substring(3,4),I+=I):(U=k.substring(1,3),O=k.substring(3,5),I=k.substring(5,7)),U=parseInt(U,16),O=parseInt(O,16),I=parseInt(I,16)}}return{r:U,g:O,b:I,a:K,style:k}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},g=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(k,U,O,I){if(isNaN(U)||isNaN(O)||typeof k!="string")throw Xn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(I=isNaN(I)?void 0:I,!h.call(this)){var K=B(this.ctx.transform.rotation),re=this.ctx.transform.scaleX;F.call(this,{text:k,x:U,y:O,scale:re,angle:K,align:this.textAlign,maxWidth:I})}},f.prototype.strokeText=function(k,U,O,I){if(isNaN(U)||isNaN(O)||typeof k!="string")throw Xn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!g.call(this)){I=isNaN(I)?void 0:I;var K=B(this.ctx.transform.rotation),re=this.ctx.transform.scaleX;F.call(this,{text:k,x:U,y:O,scale:re,renderingMode:"stroke",angle:K,align:this.textAlign,maxWidth:I})}},f.prototype.measureText=function(k){if(typeof k!="string")throw Xn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var U=this.pdf,O=this.pdf.internal.scaleFactor,I=U.internal.getFontSize(),K=U.getStringUnitWidth(k)*I/U.internal.scaleFactor;return new function(re){var _e=(re=re||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return _e}}),this}({width:K*=Math.round(96*O/72*1e4)/1e4})},f.prototype.scale=function(k,U){if(isNaN(k)||isNaN(U))throw Xn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var O=new l(k,0,0,U,0,0);this.ctx.transform=this.ctx.transform.multiply(O)},f.prototype.rotate=function(k){if(isNaN(k))throw Xn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var U=new l(Math.cos(k),Math.sin(k),-Math.sin(k),Math.cos(k),0,0);this.ctx.transform=this.ctx.transform.multiply(U)},f.prototype.translate=function(k,U){if(isNaN(k)||isNaN(U))throw Xn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var O=new l(1,0,0,1,k,U);this.ctx.transform=this.ctx.transform.multiply(O)},f.prototype.transform=function(k,U,O,I,K,re){if(isNaN(k)||isNaN(U)||isNaN(O)||isNaN(I)||isNaN(K)||isNaN(re))throw Xn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var _e=new l(k,U,O,I,K,re);this.ctx.transform=this.ctx.transform.multiply(_e)},f.prototype.setTransform=function(k,U,O,I,K,re){k=isNaN(k)?1:k,U=isNaN(U)?0:U,O=isNaN(O)?0:O,I=isNaN(I)?1:I,K=isNaN(K)?0:K,re=isNaN(re)?0:re,this.ctx.transform=new l(k,U,O,I,K,re)};var x=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(k,U,O,I,K,re,_e,ue,be){var ve=this.pdf.getImageProperties(k),q=1,te=1,Ee=1,Z=1;I!==void 0&&ue!==void 0&&(Ee=ue/I,Z=be/K,q=ve.width/I*ue/I,te=ve.height/K*be/K),re===void 0&&(re=U,_e=O,U=0,O=0),I!==void 0&&ue===void 0&&(ue=I,be=K),I===void 0&&ue===void 0&&(ue=ve.width,be=ve.height);for(var qe,Ce=this.ctx.transform.decompose(),rt=B(Ce.rotate.shx),Pe=new l,nt=(Pe=(Pe=(Pe=Pe.multiply(Ce.translate)).multiply(Ce.skew)).multiply(Ce.scale)).applyToRectangle(new o(re-U*Ee,_e-O*Z,I*q,K*te)),ft=v.call(this,nt),Tt=[],ae=0;ae<ft.length;ae+=1)Tt.indexOf(ft[ae])===-1&&Tt.push(ft[ae]);if(_(Tt),this.autoPaging)for(var Y=Tt[0],ke=Tt[Tt.length-1],Oe=Y;Oe<ke+1;Oe++){this.pdf.setPage(Oe);var it=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Fe=Oe===1?this.posY+this.margin[0]:this.margin[0],lt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ue=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],tt=Oe===1?0:lt+(Oe-2)*Ue;if(this.ctx.clip_path.length!==0){var yt=this.path;qe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(qe,this.posX+this.margin[3],-tt+Fe+this.ctx.prevPageLastElemOffset),N.call(this,"fill",!0),this.path=yt}var Ke=JSON.parse(JSON.stringify(nt));Ke=b([Ke],this.posX+this.margin[3],-tt+Fe+this.ctx.prevPageLastElemOffset)[0];var Ze=(Oe>Y||Oe<ke)&&x.call(this);Ze&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],it,Ue,null).clip().discardPath()),this.pdf.addImage(k,"JPEG",Ke.x,Ke.y,Ke.w,Ke.h,null,null,rt),Ze&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(k,"JPEG",nt.x,nt.y,nt.w,nt.h,null,null,rt)};var v=function(k,U,O){var I=[];U=U||this.pdf.internal.pageSize.width,O=O||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var K=this.posY+this.ctx.prevPageLastElemOffset;switch(k.type){default:case"mt":case"lt":I.push(Math.floor((k.y+K)/O)+1);break;case"arc":I.push(Math.floor((k.y+K-k.radius)/O)+1),I.push(Math.floor((k.y+K+k.radius)/O)+1);break;case"qct":var re=H(this.ctx.lastPoint.x,this.ctx.lastPoint.y,k.x1,k.y1,k.x,k.y);I.push(Math.floor((re.y+K)/O)+1),I.push(Math.floor((re.y+re.h+K)/O)+1);break;case"bct":var _e=xe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,k.x1,k.y1,k.x2,k.y2,k.x,k.y);I.push(Math.floor((_e.y+K)/O)+1),I.push(Math.floor((_e.y+_e.h+K)/O)+1);break;case"rect":I.push(Math.floor((k.y+K)/O)+1),I.push(Math.floor((k.y+k.h+K)/O)+1)}for(var ue=0;ue<I.length;ue+=1)for(;this.pdf.internal.getNumberOfPages()<I[ue];)m.call(this);return I},m=function(){var k=this.fillStyle,U=this.strokeStyle,O=this.font,I=this.lineCap,K=this.lineWidth,re=this.lineJoin;this.pdf.addPage(),this.fillStyle=k,this.strokeStyle=U,this.font=O,this.lineCap=I,this.lineWidth=K,this.lineJoin=re},b=function(k,U,O){for(var I=0;I<k.length;I++)switch(k[I].type){case"bct":k[I].x2+=U,k[I].y2+=O;case"qct":k[I].x1+=U,k[I].y1+=O;default:k[I].x+=U,k[I].y+=O}return k},_=function(k){return k.sort(function(U,O){return U-O})},S=function(k,U){for(var O,I,K=this.fillStyle,re=this.strokeStyle,_e=this.lineCap,ue=this.lineWidth,be=Math.abs(ue*this.ctx.transform.scaleX),ve=this.lineJoin,q=JSON.parse(JSON.stringify(this.path)),te=JSON.parse(JSON.stringify(this.path)),Ee=[],Z=0;Z<te.length;Z++)if(te[Z].x!==void 0)for(var qe=v.call(this,te[Z]),Ce=0;Ce<qe.length;Ce+=1)Ee.indexOf(qe[Ce])===-1&&Ee.push(qe[Ce]);for(var rt=0;rt<Ee.length;rt++)for(;this.pdf.internal.getNumberOfPages()<Ee[rt];)m.call(this);if(_(Ee),this.autoPaging)for(var Pe=Ee[0],nt=Ee[Ee.length-1],ft=Pe;ft<nt+1;ft++){this.pdf.setPage(ft),this.fillStyle=K,this.strokeStyle=re,this.lineCap=_e,this.lineWidth=be,this.lineJoin=ve;var Tt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ae=ft===1?this.posY+this.margin[0]:this.margin[0],Y=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ke=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Oe=ft===1?0:Y+(ft-2)*ke;if(this.ctx.clip_path.length!==0){var it=this.path;O=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(O,this.posX+this.margin[3],-Oe+ae+this.ctx.prevPageLastElemOffset),N.call(this,k,!0),this.path=it}if(I=JSON.parse(JSON.stringify(q)),this.path=b(I,this.posX+this.margin[3],-Oe+ae+this.ctx.prevPageLastElemOffset),U===!1||ft===0){var Fe=(ft>Pe||ft<nt)&&x.call(this);Fe&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Tt,ke,null).clip().discardPath()),N.call(this,k,U),Fe&&this.pdf.restoreGraphicsState()}this.lineWidth=ue}else this.lineWidth=be,N.call(this,k,U),this.lineWidth=ue;this.path=q},N=function(k,U){if((k!=="stroke"||U||!g.call(this))&&(k==="stroke"||U||!h.call(this))){for(var O,I,K=[],re=this.path,_e=0;_e<re.length;_e++){var ue=re[_e];switch(ue.type){case"begin":K.push({begin:!0});break;case"close":K.push({close:!0});break;case"mt":K.push({start:ue,deltas:[],abs:[]});break;case"lt":var be=K.length;if(re[_e-1]&&!isNaN(re[_e-1].x)&&(O=[ue.x-re[_e-1].x,ue.y-re[_e-1].y],be>0)){for(;be>=0;be--)if(K[be-1].close!==!0&&K[be-1].begin!==!0){K[be-1].deltas.push(O),K[be-1].abs.push(ue);break}}break;case"bct":O=[ue.x1-re[_e-1].x,ue.y1-re[_e-1].y,ue.x2-re[_e-1].x,ue.y2-re[_e-1].y,ue.x-re[_e-1].x,ue.y-re[_e-1].y],K[K.length-1].deltas.push(O);break;case"qct":var ve=re[_e-1].x+2/3*(ue.x1-re[_e-1].x),q=re[_e-1].y+2/3*(ue.y1-re[_e-1].y),te=ue.x+2/3*(ue.x1-ue.x),Ee=ue.y+2/3*(ue.y1-ue.y),Z=ue.x,qe=ue.y;O=[ve-re[_e-1].x,q-re[_e-1].y,te-re[_e-1].x,Ee-re[_e-1].y,Z-re[_e-1].x,qe-re[_e-1].y],K[K.length-1].deltas.push(O);break;case"arc":K.push({deltas:[],abs:[],arc:!0}),Array.isArray(K[K.length-1].abs)&&K[K.length-1].abs.push(ue)}}I=U?null:k==="stroke"?"stroke":"fill";for(var Ce=!1,rt=0;rt<K.length;rt++)if(K[rt].arc)for(var Pe=K[rt].abs,nt=0;nt<Pe.length;nt++){var ft=Pe[nt];ft.type==="arc"?L.call(this,ft.x,ft.y,ft.radius,ft.startAngle,ft.endAngle,ft.counterclockwise,void 0,U,!Ce):j.call(this,ft.x,ft.y),Ce=!0}else if(K[rt].close===!0)this.pdf.internal.out("h"),Ce=!1;else if(K[rt].begin!==!0){var Tt=K[rt].start.x,ae=K[rt].start.y;V.call(this,K[rt].deltas,Tt,ae),Ce=!0}I&&E.call(this,I),U&&R.call(this)}},P=function(k){var U=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,O=U*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return k-O;case"top":return k+U-O;case"hanging":return k+U-2*O;case"middle":return k+U/2-O;default:return k}},T=function(k){return k+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var k=function(){};return k.colorStops=[],k.addColorStop=function(U,O){this.colorStops.push([U,O])},k.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},k.isCanvasGradient=!0,k},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var L=function(k,U,O,I,K,re,_e,ue,be){for(var ve=ee.call(this,O,I,K,re),q=0;q<ve.length;q++){var te=ve[q];q===0&&(be?A.call(this,te.x1+k,te.y1+U):j.call(this,te.x1+k,te.y1+U)),X.call(this,k,U,te.x2,te.y2,te.x3,te.y3,te.x4,te.y4)}ue?R.call(this):E.call(this,_e)},E=function(k){switch(k){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},R=function(){this.pdf.clip(),this.pdf.discardPath()},A=function(k,U){this.pdf.internal.out(n(k)+" "+r(U)+" m")},F=function(k){var U;switch(k.align){case"right":case"end":U="right";break;case"center":U="center";break;default:U="left"}var O=this.pdf.getTextDimensions(k.text),I=P.call(this,k.y),K=T.call(this,I)-O.h,re=this.ctx.transform.applyToPoint(new s(k.x,I)),_e=this.ctx.transform.decompose(),ue=new l;ue=(ue=(ue=ue.multiply(_e.translate)).multiply(_e.skew)).multiply(_e.scale);for(var be,ve,q,te=this.ctx.transform.applyToRectangle(new o(k.x,I,O.w,O.h)),Ee=ue.applyToRectangle(new o(k.x,K,O.w,O.h)),Z=v.call(this,Ee),qe=[],Ce=0;Ce<Z.length;Ce+=1)qe.indexOf(Z[Ce])===-1&&qe.push(Z[Ce]);if(_(qe),this.autoPaging)for(var rt=qe[0],Pe=qe[qe.length-1],nt=rt;nt<Pe+1;nt++){this.pdf.setPage(nt);var ft=nt===1?this.posY+this.margin[0]:this.margin[0],Tt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ae=this.pdf.internal.pageSize.height-this.margin[2],Y=ae-this.margin[0],ke=this.pdf.internal.pageSize.width-this.margin[1],Oe=ke-this.margin[3],it=nt===1?0:Tt+(nt-2)*Y;if(this.ctx.clip_path.length!==0){var Fe=this.path;be=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(be,this.posX+this.margin[3],-1*it+ft),N.call(this,"fill",!0),this.path=Fe}var lt=b([JSON.parse(JSON.stringify(Ee))],this.posX+this.margin[3],-it+ft+this.ctx.prevPageLastElemOffset)[0];k.scale>=.01&&(ve=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ve*k.scale),q=this.lineWidth,this.lineWidth=q*k.scale);var Ue=this.autoPaging!=="text";if(Ue||lt.y+lt.h<=ae){if(Ue||lt.y>=ft&&lt.x<=ke){var tt=Ue?k.text:this.pdf.splitTextToSize(k.text,k.maxWidth||ke-lt.x)[0],yt=b([JSON.parse(JSON.stringify(te))],this.posX+this.margin[3],-it+ft+this.ctx.prevPageLastElemOffset)[0],Ke=Ue&&(nt>rt||nt<Pe)&&x.call(this);Ke&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Oe,Y,null).clip().discardPath()),this.pdf.text(tt,yt.x,yt.y,{angle:k.angle,align:U,renderingMode:k.renderingMode}),Ke&&this.pdf.restoreGraphicsState()}}else lt.y<ae&&(this.ctx.prevPageLastElemOffset+=ae-lt.y);k.scale>=.01&&(this.pdf.setFontSize(ve),this.lineWidth=q)}else k.scale>=.01&&(ve=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ve*k.scale),q=this.lineWidth,this.lineWidth=q*k.scale),this.pdf.text(k.text,re.x+this.posX,re.y+this.posY,{angle:k.angle,align:U,renderingMode:k.renderingMode,maxWidth:k.maxWidth}),k.scale>=.01&&(this.pdf.setFontSize(ve),this.lineWidth=q)},j=function(k,U,O,I){O=O||0,I=I||0,this.pdf.internal.out(n(k+O)+" "+r(U+I)+" l")},V=function(k,U,O){return this.pdf.lines(k,U,O,null,null)},X=function(k,U,O,I,K,re,_e,ue){this.pdf.internal.out([e(i(O+k)),e(a(I+U)),e(i(K+k)),e(a(re+U)),e(i(_e+k)),e(a(ue+U)),"c"].join(" "))},ee=function(k,U,O,I){for(var K=2*Math.PI,re=Math.PI/2;U>O;)U-=K;var _e=Math.abs(O-U);_e<K&&I&&(_e=K-_e);for(var ue=[],be=I?-1:1,ve=U;_e>1e-5;){var q=ve+be*Math.min(_e,re);ue.push(se.call(this,k,ve,q)),_e-=Math.abs(q-ve),ve=q}return ue},se=function(k,U,O){var I=(O-U)/2,K=k*Math.cos(I),re=k*Math.sin(I),_e=K,ue=-re,be=_e*_e+ue*ue,ve=be+_e*K+ue*re,q=4/3*(Math.sqrt(2*be*ve)-ve)/(_e*re-ue*K),te=_e-q*ue,Ee=ue+q*_e,Z=te,qe=-Ee,Ce=I+U,rt=Math.cos(Ce),Pe=Math.sin(Ce);return{x1:k*Math.cos(U),y1:k*Math.sin(U),x2:te*rt-Ee*Pe,y2:te*Pe+Ee*rt,x3:Z*rt-qe*Pe,y3:Z*Pe+qe*rt,x4:k*Math.cos(O),y4:k*Math.sin(O)}},B=function(k){return 180*k/Math.PI},H=function(k,U,O,I,K,re){var _e=k+.5*(O-k),ue=U+.5*(I-U),be=K+.5*(O-K),ve=re+.5*(I-re),q=Math.min(k,K,_e,be),te=Math.max(k,K,_e,be),Ee=Math.min(U,re,ue,ve),Z=Math.max(U,re,ue,ve);return new o(q,Ee,te-q,Z-Ee)},xe=function(k,U,O,I,K,re,_e,ue){var be,ve,q,te,Ee,Z,qe,Ce,rt,Pe,nt,ft,Tt,ae,Y=O-k,ke=I-U,Oe=K-O,it=re-I,Fe=_e-K,lt=ue-re;for(ve=0;ve<41;ve++)rt=(qe=(q=k+(be=ve/40)*Y)+be*((Ee=O+be*Oe)-q))+be*(Ee+be*(K+be*Fe-Ee)-qe),Pe=(Ce=(te=U+be*ke)+be*((Z=I+be*it)-te))+be*(Z+be*(re+be*lt-Z)-Ce),ve==0?(nt=rt,ft=Pe,Tt=rt,ae=Pe):(nt=Math.min(nt,rt),ft=Math.min(ft,Pe),Tt=Math.max(Tt,rt),ae=Math.max(ae,Pe));return new o(Math.round(nt),Math.round(ft),Math.round(Tt-nt),Math.round(ae-ft))},Se=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var k,U,O=(k=this.ctx.lineDash,U=this.ctx.lineDashOffset,JSON.stringify({lineDash:k,lineDashOffset:U}));this.prevLineDash!==O&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=O)}}})(Wt.API),function(t){var e=function(s){var o,l,c,u,f,d,h,g,x,v;for(l=[],c=0,u=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;u>c;c+=4)(f=(s.charCodeAt(c)<<24)+(s.charCodeAt(c+1)<<16)+(s.charCodeAt(c+2)<<8)+s.charCodeAt(c+3))!==0?(d=(f=((f=((f=((f=(f-(v=f%85))/85)-(x=f%85))/85)-(g=f%85))/85)-(h=f%85))/85)%85,l.push(d+33,h+33,g+33,x+33,v+33)):l.push(122);return function(m,b){for(var _=b;_>0;_--)m.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},n=function(s){var o,l,c,u,f,d=String,h="length",g=255,x="charCodeAt",v="slice",m="replace";for(s[v](-2),s=s[v](0,-2)[m](/\s/g,"")[m]("z","!!!!!"),c=[],u=0,f=(s+=o="uuuuu"[v](s[h]%5||5))[h];f>u;u+=5)l=52200625*(s[x](u)-33)+614125*(s[x](u+1)-33)+7225*(s[x](u+2)-33)+85*(s[x](u+3)-33)+(s[x](u+4)-33),c.push(g&l>>24,g&l>>16,g&l>>8,g&l);return function(b,_){for(var S=_;S>0;S--)b.pop()}(c,o[h]),d.fromCharCode.apply(d,c)},r=function(s){return s.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var l="",c=0;c<s.length;c+=2)l+=String.fromCharCode("0x"+(s[c]+s[c+1]));return l},a=function(s){for(var o=new Uint8Array(s.length),l=s.length;l--;)o[l]=s.charCodeAt(l);return(o=Ww(o)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};t.processDataByFilters=function(s,o){var l=0,c=s||"",u=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":c=n(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=i(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=r(c),u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=a(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}}(Wt.API),function(t){t.loadFile=function(e,n,r){return function(i,a,s){a=a!==!1,s=typeof s=="function"?s:function(){};var o=void 0;try{o=function(l,c,u){var f=new XMLHttpRequest,d=0,h=function(g){var x=g.length,v=[],m=String.fromCharCode;for(d=0;d<x;d+=1)v.push(m(255&g.charCodeAt(d)));return v.join("")};if(f.open("GET",l,!c),f.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(f.onload=function(){f.status===200?u(h(this.responseText)):u(void 0)}),f.send(null),c&&f.status===200)return h(f.responseText)}(i,a,s)}catch{}return o}(e,n,r)},t.loadImageFile=t.loadFile}(Wt.API),function(t){function e(){return(Jt.html2canvas?Promise.resolve(Jt.html2canvas):Wy(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(Jt.DOMPurify?Promise.resolve(Jt.DOMPurify):Wy(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var l=Bn(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(o,l){var c=document.createElement(o);for(var u in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[u]=l.style[u];return c},a=function o(l,c){for(var u=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),f=l.firstChild;f;f=f.nextSibling)c!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||u.appendChild(o(f,c));return l.nodeType===1&&(l.nodeName==="CANVAS"?(u.width=l.width,u.height=l.height,u.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(u.value=l.value),u.addEventListener("load",function(){u.scrollTop=l.scrollTop,u.scrollLeft=l.scrollLeft},!0)),u},s=function o(l){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),u=o.convert(Promise.resolve(),c);return(u=u.setProgress(1,o,1,[o])).set(l)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,l){return o.__proto__=l||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(c){switch(r(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o),l){case"string":return this.then(n).then(function(c){return this.set({src:i("div",{innerHTML:o,dompurify:c})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var c=this.opt.jsPDF,u=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,d=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete d.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var h=0;h<u.length;++h){var g=u[h],x=g.src.find(function(v){return v.format==="truetype"});x&&c.addFont(x.url,g.ref.name,g.ref.style)}return d.windowHeight=d.windowHeight||0,d.windowHeight=d.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):d.windowHeight,c.context2d.save(!0),l(this.prop.container,d)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},s.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(r(o)!=="object")return this;var l=Object.keys(o||{}).map(function(c){if(c in s.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}},this);return this.then(function(){return this.thenList(l)})},s.prototype.get=function(o,l){return this.then(function(){var c=o in s.template.prop?this.prop[o]:this.opt[o];return l?l(c):c})},s.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function l(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(o=o||Wt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,l,c,u){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,l,c,u){return this.setProgress(o?this.progress.val+o:null,l||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},s.prototype.then=function(o,l){var c=this;return this.thenCore(o,l,function(u,f){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(d){return c.updateProgress(null,u),d}).then(u,f).then(function(d){return c.updateProgress(1),d})})},s.prototype.thenCore=function(o,l,c){c=c||Promise.prototype.then;var u=this;o&&(o=o.bind(u)),l&&(l=l.bind(u));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?u:s.convert(Object.assign({},u),Promise.prototype),d=c.call(f,o,l);return s.convert(d,u.__proto__)},s.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},s.prototype.thenList=function(o){var l=this;return o.forEach(function(c){l=l.thenCore(c)}),l},s.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return s.convert(l,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,Wt.getPageSize=function(o,l,c){if(Bn(o)==="object"){var u=o;o=u.orientation,l=u.unit||l,c=u.format||c}l=l||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var f,d=(""+c).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+l}var g,x=0,v=0;if(h.hasOwnProperty(d))x=h[d][1]/f,v=h[d][0]/f;else try{x=c[1],v=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",v>x&&(g=v,v=x,x=g);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",x>v&&(g=v,v=x,x=g)}return{width:v,height:x,unit:l,k:f,orientation:o}},t.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(l_):null;var c=new s(l);return l.worker?c:c.from(o).doCallback()}}(Wt.API),Wt.API.addJS=function(t){return dk=t,this.internal.events.subscribe("postPutResources",function(){Jg=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Jg+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),hk=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+dk+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Jg!==void 0&&hk!==void 0&&this.internal.out("/Names <</JavaScript "+Jg+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),a=0;a<i.length;a++){var s=i[a],o=r.exec(s);if(o!=null){var l=o[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(s)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(a=0;a<c;a++){var f=n.internal.newObject();u.push(f);var d=n.internal.getPageInfo(a+1);n.internal.write("<< /D["+d.objId+" 0 R /XYZ null null null]>> endobj")}var h=n.internal.newObject();for(n.internal.write("<< /Names [ "),a=0;a<u.length;a++)n.internal.write("(page_"+(a+1)+")"+u[a]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+h+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,a){var s={title:i,options:a,children:[]};return r==null&&(r=this.root),r.children.push(s),s},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<r.children.length;a++){var s=r.children[a];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(r)),a>0&&this.line("/Prev "+this.makeRef(r.children[a-1])),a<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[a+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var o=this.count=this.count_r({count:0},s);if(o>0&&this.line("/Count "+o),s.options&&s.options.pageNumber){var l=n.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<r.children.length;c++)this.renderItems(r.children[c])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var a=0;a<i.children.length;a++)r.count++,this.count_r(r,i.children[a]);return r.count}}])}(Wt.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,a,s,o){var l,c=this.decode.DCT_DECODE,u=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=s||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,l=function(f){for(var d,h=256*f.charCodeAt(4)+f.charCodeAt(5),g=f.length,x={width:0,height:0,numcomponents:1},v=4;v<g;v+=2){if(v+=h,e.indexOf(f.charCodeAt(v+1))!==-1){d=256*f.charCodeAt(v+5)+f.charCodeAt(v+6),x={width:256*f.charCodeAt(v+7)+f.charCodeAt(v+8),height:d,numcomponents:f.charCodeAt(v+9)};break}h=256*f.charCodeAt(v+2)+f.charCodeAt(v+3)}return x}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),l.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}u={data:n,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:c,index:r,alias:i}}return u}}(Wt.API),Wt.API.processPNG=function(t,e,n,r){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,a=ale(t,{checkCrc:!0}),s=a.width,o=a.height,l=a.channels,c=a.palette,u=a.depth;i=c&&l===1?function(T){for(var L=T.width,E=T.height,R=T.data,A=T.palette,F=T.depth,j=!1,V=[],X=[],ee=void 0,se=!1,B=0,H=0;H<A.length;H++){var xe=xN(A[H],4),Se=xe[0],k=xe[1],U=xe[2],O=xe[3];V.push(Se,k,U),O!=null&&(O===0?(B++,X.length<1&&X.push(H)):O<255&&(se=!0))}if(se||B>1){j=!0,X=void 0;var I=L*E;ee=new Uint8Array(I);for(var K=new DataView(R.buffer),re=0;re<I;re++){var _e=u_(K,re,F),ue=xN(A[_e],4)[3];ee[re]=ue}}return{colorSpace:"Indexed",colorsPerPixel:1,colorBytes:R,alphaBytes:ee,needSMask:j,palette:V,mask:X}}(a):l===2||l===4?function(T){for(var L=T.data,E=T.width,R=T.height,A=T.channels,F=T.depth,j=A===2?"DeviceGray":"DeviceRGB",V=A-1,X=E*R,ee=V,se=X*ee,B=1*X,H=Math.ceil(se*F/8),xe=Math.ceil(B*F/8),Se=new Uint8Array(H),k=new Uint8Array(xe),U=new DataView(L.buffer),O=new DataView(Se.buffer),I=new DataView(k.buffer),K=!1,re=0;re<X;re++){for(var _e=re*A,ue=0;ue<ee;ue++)wk(O,u_(U,_e+ue,F),re*ee+ue,F);var be=u_(U,_e+ee,F);be<(1<<F)-1&&(K=!0),wk(I,be,1*re,F)}return{colorSpace:j,colorsPerPixel:V,colorBytes:Se,alphaBytes:k,needSMask:K}}(a):function(T){var L=T.data,E=T.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:E,colorsPerPixel:E==="DeviceGray"?1:3,colorBytes:L instanceof Uint8Array?L:new Uint8Array(L.buffer),needSMask:!1}}(a);var f,d,h,g=i,x=g.colorSpace,v=g.colorsPerPixel,m=g.colorBytes,b=g.alphaBytes,_=g.needSMask,S=g.palette,N=g.mask,P=null;return r!==Wt.API.image_compression.NONE&&typeof Ww=="function"?(P=function(T){var L;switch(T){case Wt.API.image_compression.FAST:L=11;break;case Wt.API.image_compression.MEDIUM:L=13;break;case Wt.API.image_compression.SLOW:L=14;break;default:L=12}return L}(r),f=this.decode.FLATE_DECODE,d="/Predictor ".concat(P," "),t=xk(m,s*v,v,r),_&&(h=xk(b,s,1,r))):(f=void 0,d="",t=m,_&&(h=b)),d+="/Colors ".concat(v," /BitsPerComponent ").concat(u," /Columns ").concat(s),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(h&&this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),{alias:n,data:t,index:e,filter:f,decodeParameters:d,transparency:N,palette:S,sMask:h,predictor:P,width:s,height:o,bitsPerComponent:u,colorSpace:x}}},function(t){t.processGIF89A=function(e,n,r,i){var a=new Tle(e),s=a.width,o=a.height,l=[];a.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:s,height:o},u=new f_(100).encode(c,100);return t.processJPEG.call(this,u,n,r,i)},t.processGIF87A=t.processGIF89A}(Wt.API),Os.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Os.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){Xn.log("bit decode error:"+n)}},Os.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var a=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var l=this.palette[a>>7-o&1];this.data[s+4*o]=l.blue,this.data[s+4*o+1]=l.green,this.data[s+4*o+2]=l.red,this.data[s+4*o+3]=255}n!==0&&(this.pos+=4-n)}},Os.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var a=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+2*i*4,o=a>>4,l=15&a,c=this.palette[o];if(this.data[s]=c.blue,this.data[s+1]=c.green,this.data[s+2]=c.red,this.data[s+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[s+4]=c.blue,this.data[s+4+1]=c.green,this.data[s+4+2]=c.red,this.data[s+4+3]=255}e!==0&&(this.pos+=4-e)}},Os.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+4*r;if(i<this.palette.length){var s=this.palette[i];this.data[a]=s.red,this.data[a+1]=s.green,this.data[a+2]=s.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}t!==0&&(this.pos+=4-t)}},Os.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(a&e)/e*255|0,o=(a>>5&e)/e*255|0,l=(a>>10&e)/e*255|0,c=a>>15?255:0,u=r*this.width*4+4*i;this.data[u]=l,this.data[u+1]=o,this.data[u+2]=s,this.data[u+3]=c}this.pos+=t}},Os.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,l=(s>>5&n)/n*255|0,c=(s>>11)/e*255|0,u=i*this.width*4+4*a;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=o,this.data[u+3]=255}this.pos+=t}},Os.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*n;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=r,this.data[s+3]=255}this.pos+=this.width%4}},Os.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=s}},Os.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,i){var a=new Os(e,!1),s=a.width,o=a.height,l={data:a.getData(),width:s,height:o},c=new f_(100).encode(l,100);return t.processJPEG.call(this,c,n,r,i)}}(Wt.API),Ek.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,i){var a=new Ek(e),s=a.width,o=a.height,l={data:a.getData(),width:s,height:o},c=new f_(100).encode(l,100);return t.processJPEG.call(this,c,n,r,i)}}(Wt.API),Wt.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,a=new Uint8Array(i/4*3),s=new Uint8Array(i/4),o=0,l=0,c=0;c<i;c+=4){var u=r[c],f=r[c+1],d=r[c+2],h=r[c+3];a[o++]=u,a[o++]=f,a[o++]=d,s[l++]=h}var g=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:g,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Wt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},th=Wt.API,Zg=th.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),a=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:i.metadata.Unicode.widths,l=o.fof?o.fof:1,c=e.kerning?e.kerning:i.metadata.Unicode.kerning,u=c.fof?c.fof:1,f=e.doKerning!==!1,d=0,h=t.length,g=0,x=o[0]||l,v=[];for(n=0;n<h;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?v.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+s*(1e3/a)||0)/1e3):(d=f&&Bn(c[r])==="object"&&!isNaN(parseInt(c[r][g],10))?c[r][g]/u:0,v.push((o[r]||x)/l+d)),g=r;return v},pk=th.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return th.processArabic&&(t=th.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:Zg.apply(this,arguments).reduce(function(a,s){return a+s},0)},mk=function(t,e,n,r){for(var i=[],a=0,s=t.length,o=0;a!==s&&o+e[a]<n;)o+=e[a],a++;i.push(t.slice(0,a));var l=a;for(o=0;a!==s;)o+e[a]>r&&(i.push(t.slice(l,a)),o=0,l=a),o+=e[a],a++;return l!==a&&i.push(t.slice(l,a)),i},gk=function(t,e,n){n||(n={});var r,i,a,s,o,l,c,u=[],f=[u],d=n.textIndent||0,h=0,g=0,x=t.split(" "),v=Zg.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?x[0].length+2:n.lineIndent||0){var m=Array(l).join(" "),b=[];x.map(function(S){(S=S.split(/\s*\n/)).length>1?b=b.concat(S.map(function(N,P){return(P&&N.length?`
`:"")+N})):b.push(S[0])}),x=b,l=pk.apply(this,[m,n])}for(a=0,s=x.length;a<s;a++){var _=0;if(r=x[a],l&&r[0]==`
`&&(r=r.substr(1),_=1),d+h+(g=(i=Zg.apply(this,[r,n])).reduce(function(S,N){return S+N},0))>e||_){if(g>e){for(o=mk.apply(this,[r,i,e-(d+h),e]),u.push(o.shift()),u=[o.pop()];o.length;)f.push([o.shift()]);g=i.slice(r.length-(u[0]?u[0].length:0)).reduce(function(S,N){return S+N},0)}else u=[r];f.push(u),d=g+l,h=v}else u.push(r),d+=h+g,h=v}return c=l?function(S,N){return(N?m:"")+S.join(" ")}:function(S){return S.join(" ")},f.map(c)},th.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),a=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var f=this.internal.getFont(u.fontName,u.fontStyle),d="Unicode";return f.metadata[d]?{widths:f.metadata[d].widths||{0:1},kerning:f.metadata[d].kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var s=1*this.internal.scaleFactor*e/i;a.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=n.lineIndent;var o,l,c=[];for(o=0,l=r.length;o<l;o++)c=c.concat(gk.apply(this,[r[o],s,a]));return c},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",n="klmnopqrstuvwxyz",r={},i={},a=0;a<16;a++)r[n[a]]=e[a],i[e[a]]=n[a];var s=function(d){return"0x"+parseInt(d,10).toString(16)},o=t.__fontmetrics__.compress=function(d){var h,g,x,v,m=["{"];for(var b in d){if(h=d[b],isNaN(parseInt(b,10))?g="'"+b+"'":(b=parseInt(b,10),g=(g=s(b).slice(2)).slice(0,-1)+i[g.slice(-1)]),typeof h=="number")h<0?(x=s(h).slice(3),v="-"):(x=s(h).slice(2),v=""),x=v+x.slice(0,-1)+i[x.slice(-1)];else{if(Bn(h)!=="object")throw new Error("Don't know what to do with value type "+Bn(h)+".");x=o(h)}m.push(g+x)}return m.push("}"),m.join("")},l=t.__fontmetrics__.uncompress=function(d){if(typeof d!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,g,x,v,m={},b=1,_=m,S=[],N="",P="",T=d.length-1,L=1;L<T;L+=1)(v=d[L])=="'"?h?(x=h.join(""),h=void 0):h=[]:h?h.push(v):v=="{"?(S.push([_,x]),_={},x=void 0):v=="}"?((g=S.pop())[0][g[1]]=_,x=void 0,_=g[0]):v=="-"?b=-1:x===void 0?r.hasOwnProperty(v)?(N+=r[v],x=parseInt(N,16)*b,b=1,N=""):N+=v:r.hasOwnProperty(v)?(P+=r[v],_[x]=parseInt(P,16)*b,b=1,x=void 0,P=""):P+=v;return m},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},f={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(d){var h=d.font,g=f.Unicode[h.postScriptName];g&&(h.metadata.Unicode={},h.metadata.Unicode.widths=g.widths,h.metadata.Unicode.kerning=g.kerning);var x=u.Unicode[h.postScriptName];x&&(h.metadata.Unicode.encoding=x,h.encoding=x.codePages[0])}])}(Wt.API),function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),a=0;a<r;a++)i[a]=n.charCodeAt(a);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,a=n.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(s,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(R1(o)),s.metadata=t.API.TTFFont.open(o),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(i,r)}}])}(Wt),Wt.API.addSvgAsImage=function(t,e,n,r,i,a,s,o){if(isNaN(e)||isNaN(n))throw Xn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw Xn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=r,l.height=i;var c=l.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,l.width,l.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return(Jt.canvg?Promise.resolve(Jt.canvg):Wy(()=>import("./index.es-DKvuJ2G5.js"),[])).catch(function(d){return Promise.reject(new Error("Could not load canvg: "+d))}).then(function(d){return d.default?d.default:d}).then(function(d){return d.fromString(c,t,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(d){return d.render(u)}).then(function(){f.addImage(l.toDataURL("image/jpeg",1),e,n,r,i,s,o)})},Wt.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},Wt.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,a,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(s),l=[],c=0,u=0,f=0;function d(g,x){var v,m=!1;for(v=0;v<g.length;v+=1)g[v]===x&&(m=!0);return m}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var h=o.length;for(f=0;f<h;f+=1)n[o[f]].value=n[o[f]].defaultValue,n[o[f]].explicitSet=!1}if(Bn(t)==="object"){for(i in t)if(a=t[i],d(o,i)&&a!==void 0){if(n[i].type==="boolean"&&typeof a=="boolean")n[i].value=a;else if(n[i].type==="name"&&d(n[i].valueSet,a))n[i].value=a;else if(n[i].type==="integer"&&Number.isInteger(a))n[i].value=a;else if(n[i].type==="array"){for(c=0;c<a.length;c+=1)if(r=!0,a[c].length===1&&typeof a[c][0]=="number")l.push(String(a[c]-1));else if(a[c].length>1){for(u=0;u<a[c].length;u+=1)typeof a[c][u]!="number"&&(r=!1);r===!0&&l.push([a[c][0]-1,a[c][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var g,x=[];for(g in n)n[g].explicitSet===!0&&(n[g].type==="name"?x.push("/"+g+" /"+n[g].value):x.push("/"+g+" "+n[g].value));x.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+x.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(r)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=a.length+s.length+o.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+a+s+o+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(Wt.API),function(t){var e=t.API,n=e.pdfEscape16=function(a,s){for(var o,l=s.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],f=0,d=a.length;f<d;++f){if(o=s.metadata.characterToGlyph(a.charCodeAt(f)),s.metadata.glyIdsUsed.push(o),s.metadata.toUnicode[o]=a.charCodeAt(f),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(s.metadata.widthOfGlyph(o),10)])),o=="0")return u.join("");o=o.toString(16),u.push(c[4-o.length],o)}return u.join("")},r=function(a){var s,o,l,c,u,f,d;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,d=(o=Object.keys(a).sort(function(h,g){return h-g})).length;f<d;f++)s=o[f],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),a[s]!==void 0&&a[s]!==null&&typeof a[s].toString=="function"&&(c=("0000"+a[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),l.push("<"+s+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(a){(function(s){var o=s.font,l=s.out,c=s.newObject,u=s.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var f=o.metadata.Unicode.widths,d=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),h="",g=0;g<d.length;g++)h+=String.fromCharCode(d[g]);var x=c();u({data:h,addLength1:!0,objectId:x}),l("endobj");var v=c();u({data:r(o.metadata.toUnicode),addLength1:!0,objectId:v}),l("endobj");var m=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+ih(o.fontName)),l("/FontFile2 "+x+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var b=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+ih(o.fontName)),l("/FontDescriptor "+m+" 0 R"),l("/W "+t.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+v+" 0 R"),l("/BaseFont /"+ih(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+b+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(a)}]),e.events.push(["putFont",function(a){(function(s){var o=s.font,l=s.out,c=s.newObject,u=s.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var f=o.metadata.rawData,d="",h=0;h<f.length;h++)d+=String.fromCharCode(f[h]);var g=c();u({data:d,addLength1:!0,objectId:g}),l("endobj");var x=c();u({data:r(o.metadata.toUnicode),addLength1:!0,objectId:x}),l("endobj");var v=c();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+g+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+ih(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=c();for(var m=0;m<o.metadata.hmtx.widths.length;m++)o.metadata.hmtx.widths[m]=parseInt(o.metadata.hmtx.widths[m]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+x+" 0 R/BaseFont/"+ih(o.fontName)+"/FontDescriptor "+v+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(a)}]);var i=function(a){var s,o=a.text||"",l=a.x,c=a.y,u=a.options||{},f=a.mutex||{},d=f.pdfEscape,h=f.activeFontKey,g=f.fonts,x=h,v="",m=0,b="",_=g[x].encoding;if(g[x].encoding!=="Identity-H")return{text:o,x:l,y:c,options:u,mutex:f};for(b=o,x=h,Array.isArray(o)&&(b=o[0]),m=0;m<b.length;m+=1)g[x].metadata.hasOwnProperty("cmap")&&(s=g[x].metadata.cmap.unicode.codeMap[b[m].charCodeAt(0)]),s||b[m].charCodeAt(0)<256&&g[x].metadata.hasOwnProperty("Unicode")?v+=b[m]:v+="";var S="";return parseInt(x.slice(1))<14||_==="WinAnsiEncoding"?S=d(v,x).split("").map(function(N){return N.charCodeAt(0).toString(16)}).join(""):_==="Identity-H"&&(S=n(v,g[x])),f.isHex=!0,{text:S,x:l,y:c,options:u,mutex:f}};e.events.push(["postProcessText",function(a){var s=a.text||"",o=[],l={text:s,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(s)){var c=0;for(c=0;c<s.length;c+=1)Array.isArray(s[c])&&s[c].length===3?o.push([i(Object.assign({},l,{text:s[c][0]})).text,s[c][1],s[c][2]]):o.push(i(Object.assign({},l,{text:s[c]})).text);a.text=o}else a.text=i(Object.assign({},l,{text:s})).text}])}(Wt),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(Wt.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,a,s,o,l,c,u,f=e,d=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],g={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},x={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},v=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],m=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),b=!1,_=0;this.__bidiEngine__={};var S=function(A){var F=A.charCodeAt(),j=F>>8,V=x[j];return V!==void 0?f[256*V+(255&F)]:j===252||j===253?"AL":m.test(j)?"L":j===8?"R":"N"},N=function(A){for(var F,j=0;j<A.length;j++){if((F=S(A.charAt(j)))==="L")return!1;if(F==="R")return!0}return!1},P=function(A,F,j,V){var X,ee,se,B,H=F[V];switch(H){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":b=!1;break;case"N":case"AN":break;case"EN":b&&(H="AN");break;case"AL":b=!0,H="R";break;case"WS":case"BN":H="N";break;case"CS":V<1||V+1>=F.length||(X=j[V-1])!=="EN"&&X!=="AN"||(ee=F[V+1])!=="EN"&&ee!=="AN"?H="N":b&&(ee="AN"),H=ee===X?ee:"N";break;case"ES":H=(X=V>0?j[V-1]:"B")==="EN"&&V+1<F.length&&F[V+1]==="EN"?"EN":"N";break;case"ET":if(V>0&&j[V-1]==="EN"){H="EN";break}if(b){H="N";break}for(se=V+1,B=F.length;se<B&&F[se]==="ET";)se++;H=se<B&&F[se]==="EN"?"EN":"N";break;case"NSM":if(s&&!o){for(B=F.length,se=V+1;se<B&&F[se]==="NSM";)se++;if(se<B){var xe=A[V],Se=xe>=1425&&xe<=2303||xe===64286;if(X=F[se],Se&&(X==="R"||X==="AL")){H="R";break}}}H=V<1||(X=F[V-1])==="B"?"N":j[V-1];break;case"B":b=!1,i=!0,H=_;break;case"S":a=!0,H="N"}return H},T=function(A,F,j){var V=A.split("");return j&&L(V,j,{hiLevel:_}),V.reverse(),F&&F.reverse(),V.join("")},L=function(A,F,j){var V,X,ee,se,B,H=-1,xe=A.length,Se=0,k=[],U=_?h:d,O=[];for(b=!1,i=!1,a=!1,X=0;X<xe;X++)O[X]=S(A[X]);for(ee=0;ee<xe;ee++){if(B=Se,k[ee]=P(A,O,k,ee),V=240&(Se=U[B][g[k[ee]]]),Se&=15,F[ee]=se=U[Se][5],V>0)if(V===16){for(X=H;X<ee;X++)F[X]=1;H=-1}else H=-1;if(U[Se][6])H===-1&&(H=ee);else if(H>-1){for(X=H;X<ee;X++)F[X]=se;H=-1}O[ee]==="B"&&(F[ee]=0),j.hiLevel|=se}a&&function(I,K,re){for(var _e=0;_e<re;_e++)if(I[_e]==="S"){K[_e]=_;for(var ue=_e-1;ue>=0&&I[ue]==="WS";ue--)K[ue]=_}}(O,F,xe)},E=function(A,F,j,V,X){if(!(X.hiLevel<A)){if(A===1&&_===1&&!i)return F.reverse(),void(j&&j.reverse());for(var ee,se,B,H,xe=F.length,Se=0;Se<xe;){if(V[Se]>=A){for(B=Se+1;B<xe&&V[B]>=A;)B++;for(H=Se,se=B-1;H<se;H++,se--)ee=F[H],F[H]=F[se],F[se]=ee,j&&(ee=j[H],j[H]=j[se],j[se]=ee);Se=B}Se++}}},R=function(A,F,j){var V=A.split(""),X={hiLevel:_};return j||(j=[]),L(V,j,X),function(ee,se,B){if(B.hiLevel!==0&&u)for(var H,xe=0;xe<ee.length;xe++)se[xe]===1&&(H=v.indexOf(ee[xe]))>=0&&(ee[xe]=v[H+1])}(V,j,X),E(2,V,F,j,X),E(1,V,F,j,X),V.join("")};return this.__bidiEngine__.doBidiReorder=function(A,F,j){if(function(X,ee){if(ee)for(var se=0;se<X.length;se++)ee[se]=se;o===void 0&&(o=N(X)),c===void 0&&(c=N(X))}(A,F),s||!l||c)if(s&&l&&o^c)_=o?1:0,A=T(A,F,j);else if(!s&&l&&c)_=o?1:0,A=R(A,F,j),A=T(A,F);else if(!s||o||l||c){if(s&&!l&&o^c)A=T(A,F),o?(_=0,A=R(A,F,j)):(_=1,A=R(A,F,j),A=T(A,F));else if(s&&o&&!l&&c)_=1,A=R(A,F,j),A=T(A,F);else if(!s&&!l&&o^c){var V=u;o?(_=1,A=R(A,F,j),_=0,u=!1,A=R(A,F,j),u=V):(_=0,A=R(A,F,j),A=T(A,F),_=1,u=!1,A=R(A,F,j),u=V,A=T(A,F))}}else _=0,A=R(A,F,j);else _=o?1:0,A=R(A,F,j);return A},this.__bidiEngine__.setOptions=function(A){A&&(s=A.isInputVisual,l=A.isOutputVisual,o=A.isInputRtl,c=A.isOutputRtl,u=A.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var a=r.options||{};r.mutex,a.lang;var s=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,n.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(s=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?s.push([n.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):s.push([n.doBidiReorder(i[o])]);r.text=s}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(Wt),Wt.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new Wc(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new zle(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new Mle(this.contents),this.head=new kle(this),this.name=new Fle(this),this.cmap=new BF(this),this.toUnicode={},this.hhea=new Cle(this),this.maxp=new Dle(this),this.hmtx=new Ile(this),this.post=new Ple(this),this.os2=new Rle(this),this.loca=new jle(this),this.glyf=new Ole(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,o,l,c;for(c=[],s=0,o=(l=this.bbox).length;s<o;s++)e=l[s],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,a,s,o;for(s=0,a=0,o=(e=""+e).length;0<=o?a<o:a>o;a=0<=o?++a:--a)i=e.charCodeAt(a),s+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return s*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var ao,Wc=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,a,s,o,l;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),a=this.readByte(),s=this.readByte(),o=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^a)+65536*(255^s)+256*(255^o)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*a+65536*s+256*o+l},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,a;for(a=[],r=0,i=e.length;r<i;r++)n=e[r],a.push(this.writeByte(n));return a},t}(),Mle=function(){var t;function e(n){var r,i,a;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,a,s,o,l,c,u,f,d,h,g,x;for(x in h=Object.keys(n).length,l=Math.log(2),f=16*Math.floor(Math.log(h)/l),s=Math.floor(f/l),u=16*h-f,(i=new Wc).writeInt(this.scalarType),i.writeShort(h),i.writeShort(f),i.writeShort(s),i.writeShort(u),a=16*h,c=i.pos+a,o=null,g=[],n)for(d=n[x],i.writeString(x),i.writeInt(t(d)),i.writeInt(c),i.writeInt(d.length),g=g.concat(d),x==="head"&&(o=c),c+=d.length;c%4;)g.push(0),c++;return i.write(g),r=2981146554-t(i.data),i.pos=o+8,i.writeUInt32(r),i.data},t=function(n){var r,i,a,s;for(n=jF.call(n);n.length%4;)n.push(0);for(a=new Wc(n),i=0,r=0,s=n.length;r<s;r=r+=4)i+=a.readUInt32();return 4294967295&i},e}(),Nle={}.hasOwnProperty,jo=function(t,e){for(var n in e)Nle.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};ao=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var kle=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return jo(t,ao),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var n;return(n=new Wc).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},t}(),Ak=function(){function t(e,n){var r,i,a,s,o,l,c,u,f,d,h,g,x,v,m,b,_;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),f=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(h=e.readUInt16(),d=h/2,e.pos+=6,a=function(){var S,N;for(N=[],l=S=0;0<=d?S<d:S>d;l=0<=d?++S:--S)N.push(e.readUInt16());return N}(),e.pos+=2,x=function(){var S,N;for(N=[],l=S=0;0<=d?S<d:S>d;l=0<=d?++S:--S)N.push(e.readUInt16());return N}(),c=function(){var S,N;for(N=[],l=S=0;0<=d?S<d:S>d;l=0<=d?++S:--S)N.push(e.readUInt16());return N}(),u=function(){var S,N;for(N=[],l=S=0;0<=d?S<d:S>d;l=0<=d?++S:--S)N.push(e.readUInt16());return N}(),i=(this.length-e.pos+this.offset)/2,o=function(){var S,N;for(N=[],l=S=0;0<=i?S<i:S>i;l=0<=i?++S:--S)N.push(e.readUInt16());return N}(),l=m=0,_=a.length;m<_;l=++m)for(v=a[l],r=b=g=x[l];g<=v?b<=v:b>=v;r=g<=v?++b:--b)u[l]===0?s=r+c[l]:(s=o[u[l]/2+(r-g)-(d-l)]||0)!==0&&(s+=c[l]),this.codeMap[r]=65535&s}e.pos=f}return t.encode=function(e,n){var r,i,a,s,o,l,c,u,f,d,h,g,x,v,m,b,_,S,N,P,T,L,E,R,A,F,j,V,X,ee,se,B,H,xe,Se,k,U,O,I,K,re,_e,ue,be,ve,q;switch(V=new Wc,s=Object.keys(e).sort(function(te,Ee){return te-Ee}),n){case"macroman":for(x=0,v=function(){var te=[];for(g=0;g<256;++g)te.push(0);return te}(),b={0:0},a={},X=0,H=s.length;X<H;X++)b[ue=e[i=s[X]]]==null&&(b[ue]=++x),a[i]={old:e[i],new:b[e[i]]},v[i]=b[e[i]];return V.writeUInt16(1),V.writeUInt16(0),V.writeUInt32(12),V.writeUInt16(0),V.writeUInt16(262),V.writeUInt16(0),V.write(v),{charMap:a,subtable:V.data,maxGlyphID:x+1};case"unicode":for(F=[],f=[],_=0,b={},r={},m=c=null,ee=0,xe=s.length;ee<xe;ee++)b[N=e[i=s[ee]]]==null&&(b[N]=++_),r[i]={old:N,new:b[N]},o=b[N]-i,m!=null&&o===c||(m&&f.push(m),F.push(i),c=o),m=i;for(m&&f.push(m),f.push(65535),F.push(65535),R=2*(E=F.length),L=2*Math.pow(Math.log(E)/Math.LN2,2),d=Math.log(L/2)/Math.LN2,T=2*E-L,l=[],P=[],h=[],g=se=0,Se=F.length;se<Se;g=++se){if(A=F[g],u=f[g],A===65535){l.push(0),P.push(0);break}if(A-(j=r[A].new)>=32768)for(l.push(0),P.push(2*(h.length+E-g)),i=B=A;A<=u?B<=u:B>=u;i=A<=u?++B:--B)h.push(r[i].new);else l.push(j-A),P.push(0)}for(V.writeUInt16(3),V.writeUInt16(1),V.writeUInt32(12),V.writeUInt16(4),V.writeUInt16(16+8*E+2*h.length),V.writeUInt16(0),V.writeUInt16(R),V.writeUInt16(L),V.writeUInt16(d),V.writeUInt16(T),re=0,k=f.length;re<k;re++)i=f[re],V.writeUInt16(i);for(V.writeUInt16(0),_e=0,U=F.length;_e<U;_e++)i=F[_e],V.writeUInt16(i);for(be=0,O=l.length;be<O;be++)o=l[be],V.writeUInt16(o);for(ve=0,I=P.length;ve<I;ve++)S=P[ve],V.writeUInt16(S);for(q=0,K=h.length;q<K;q++)x=h[q],V.writeUInt16(x);return{charMap:r,subtable:V.data,maxGlyphID:_+1}}},t}(),BF=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return jo(t,ao),t.prototype.tag="cmap",t.prototype.parse=function(e){var n,r,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)n=new Ak(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(e,n){var r,i;return n==null&&(n="macroman"),r=Ak.encode(e,n),(i=new Wc).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},t}(),Cle=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return jo(t,ao),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),Rle=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return jo(t,ao),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var n,r;for(r=[],n=0;n<10;++n)r.push(e.readByte());return r}(),this.charRange=function(){var n,r;for(r=[],n=0;n<4;++n)r.push(e.readInt());return r}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(e.readInt());return r}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),Ple=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return jo(t,ao),t.prototype.tag="post",t.prototype.parse=function(e){var n,r,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(r=e.readUInt16(),this.glyphNameIndex=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)n=e.readByte(),i.push(this.names.push(e.readString(n)));return i;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var s,o,l;for(l=[],a=s=0,o=this.file.maxp.numGlyphs;0<=o?s<o:s>o;a=0<=o?++s:--s)l.push(e.readUInt32());return l}).call(this)}},t}(),Lle=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},Fle=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return jo(t,ao),t.prototype.tag="name",t.prototype.parse=function(e){var n,r,i,a,s,o,l,c,u,f,d;for(e.pos=this.offset,e.readShort(),n=e.readShort(),o=e.readShort(),r=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+o+e.readShort()});for(l={},a=u=0,f=r.length;u<f;a=++u)i=r[a],e.pos=i.offset,c=e.readString(i.length),s=new Lle(c,i),l[d=i.nameID]==null&&(l[d]=[]),l[i.nameID].push(s);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},t}(),Dle=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return jo(t,ao),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),Ile=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return jo(t,ao),t.prototype.tag="hmtx",t.prototype.parse=function(e){var n,r,i,a,s,o,l;for(e.pos=this.offset,this.metrics=[],n=0,o=this.file.hhea.numberOfMetrics;0<=o?n<o:n>o;n=0<=o?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,u;for(u=[],n=c=0;0<=i?c<i:c>i;n=0<=i?++c:--c)u.push(e.readInt16());return u}(),this.widths=(function(){var c,u,f,d;for(d=[],c=0,u=(f=this.metrics).length;c<u;c++)a=f[c],d.push(a.advance);return d}).call(this),r=this.widths[this.widths.length-1],l=[],n=s=0;0<=i?s<i:s>i;n=0<=i?++s:--s)l.push(this.widths.push(r));return l},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),jF=[].slice,Ole=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return jo(t,ao),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var n,r,i,a,s,o,l,c,u,f;return e in this.cache?this.cache[e]:(a=this.file.loca,n=this.file.contents,r=a.indexOf(e),(i=a.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+r,s=(o=new Wc(n.read(i))).readShort(),c=o.readShort(),f=o.readShort(),l=o.readShort(),u=o.readShort(),this.cache[e]=s===-1?new Ble(o,c,f,l,u):new Ule(o,s,c,f,l,u),this.cache[e]))},t.prototype.encode=function(e,n,r){var i,a,s,o,l;for(s=[],a=[],o=0,l=n.length;o<l;o++)i=e[n[o]],a.push(s.length),i&&(s=s.concat(i.encode(r)));return a.push(s.length),{table:s,offsets:a}},t}(),Ule=function(){function t(e,n,r,i,a,s){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=a,this.yMax=s,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),Ble=function(){function t(e,n,r,i,a){var s,o;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;o=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&o;)s.pos+=1&o?4:2,128&o?s.pos+=8:64&o?s.pos+=4:8&o&&(s.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new Wc(jF.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),jle=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return jo(t,ao),t.prototype.tag="loca",t.prototype.parse=function(e){var n,r;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,a;for(a=[],r=0,i=this.length;r<i;r+=2)a.push(2*e.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],r=0,i=this.length;r<i;r+=4)a.push(e.readUInt32());return a}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,n){for(var r=new Uint32Array(this.offsets.length),i=0,a=0,s=0;s<r.length;++s)if(r[s]=i,a<n.length&&n[a]==s){++a,r[s]=i;var o=this.offsets[s],l=this.offsets[s+1]-o;l>0&&(i+=l)}for(var c=new Array(4*r.length),u=0;u<r.length;++u)c[4*u+3]=255&r[u],c[4*u+2]=(65280&r[u])>>8,c[4*u+1]=(16711680&r[u])>>16,c[4*u]=(4278190080&r[u])>>24;return c},t}(),zle=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,a;for(n in i=this.font.cmap.tables[0].codeMap,e={},a=this.subset)r=a[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,a,s,o,l;for(i={},s=0,o=e.length;s<o;s++)i[a=e[s]]=this.font.glyf.glyphFor(a);for(a in n=[],i)(r=i[a])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(a in l=this.glyphsFor(n))r=l[a],i[a]=r;return i},t.prototype.encode=function(e,n){var r,i,a,s,o,l,c,u,f,d,h,g,x,v,m;for(i in r=BF.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),h={0:0},m=r.charMap)h[(l=m[i]).old]=l.new;for(g in d=r.maxGlyphID,s)g in h||(h[g]=d++);return u=function(b){var _,S;for(_ in S={},b)S[b[_]]=_;return S}(h),f=Object.keys(u).sort(function(b,_){return b-_}),x=function(){var b,_,S;for(S=[],b=0,_=f.length;b<_;b++)o=f[b],S.push(u[o]);return S}(),a=this.font.glyf.encode(s,x,h),c=this.font.loca.encode(a.offsets,x),v={cmap:this.font.cmap.raw(),glyf:a.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(v["OS/2"]=this.font.os2.raw()),this.font.directory.encode(v)},t}();Wt.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,a,s;if(Array.isArray(n))return"["+function(){var o,l,c;for(c=[],o=0,l=n.length;o<l;o++)r=n[o],c.push(e.convert(r));return c}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in a=["<<"],n)s=n[i],a.push("/"+i+" "+e.convert(s));return a.push(">>"),a.join(`
`)}return""+n},e}();function zF(t,e,n,r,i){r=r||{};var a=1.15,s=i.internal.scaleFactor,o=i.internal.getFontSize()/s,l=i.getLineHeightFactor?i.getLineHeightFactor():a,c=o*l,u=/\r\n|\r|\n/g,f="",d=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(f=typeof t=="string"?t.split(u):t,d=f.length||1),n+=o*(2-a),r.valign==="middle"?n-=d/2*c:r.valign==="bottom"&&(n-=d*c),r.halign==="center"||r.halign==="right"){var h=o;if(r.halign==="center"&&(h*=.5),f&&d>=1){for(var g=0;g<f.length;g++)i.text(f[g],e-i.getStringUnitWidth(f[g])*h,n),n+=c;return i}e-=i.getStringUnitWidth(t)*h}return r.halign==="justify"?i.text(t,e,n,{maxWidth:r.maxWidth||100,align:"justify"}):i.text(t,e,n),i}var Tk={},Uh=function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,n){n===void 0&&(n=null),n?n.__autoTableDocumentDefaults=e:Tk=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,n){var r,i,a;n===void 0&&(n=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var s=this.jsPDFDocument.internal.getFont(),o=s.fontStyle,l=s.fontName;if(e.font&&(l=e.font),e.fontStyle){o=e.fontStyle;var c=this.getFontList()[l];c&&c.indexOf(o)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(c[0]),o=c[0])}if(this.jsPDFDocument.setFont(l,o),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!n){var u=t.unifyColor(e.fillColor);u&&(r=this.jsPDFDocument).setFillColor.apply(r,u),u=t.unifyColor(e.textColor),u&&(i=this.jsPDFDocument).setTextColor.apply(i,u),u=t.unifyColor(e.lineColor),u&&(a=this.jsPDFDocument).setDrawColor.apply(a,u),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,n,r){return this.jsPDFDocument.splitTextToSize(e,n,r)},t.prototype.rect=function(e,n,r,i,a){return this.jsPDFDocument.rect(e,n,r,i,a)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return Tk||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t}(),Zw=function(t,e){return Zw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Zw(t,e)};function HF(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Zw(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var VF=function(t){HF(e,t);function e(n){var r=t.call(this)||this;return r._element=n,r}return e}(Array);function Hle(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function Vle(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function jx(t,e,n){n.applyStyles(e,!0);var r=Array.isArray(t)?t:[t],i=r.map(function(a){return n.getTextWidth(a)}).reduce(function(a,s){return Math.max(a,s)},0);return i}function WF(t,e,n,r){var i=e.settings.tableLineWidth,a=e.settings.tableLineColor;t.applyStyles({lineWidth:i,lineColor:a});var s=GF(i,!1);s&&t.rect(n.x,n.y,e.getWidth(t.pageSize().width),r.y-n.y,s)}function GF(t,e){var n=t>0,r=e||e===0;return n&&r?"DF":n?"S":r?"F":null}function Cv(t,e){var n,r,i,a;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(n=t.left)!==null&&n!==void 0?n:e,top:(r=t.top)!==null&&r!==void 0?r:e,right:(i=t.right)!==null&&i!==void 0?i:e,bottom:(a=t.bottom)!==null&&a!==void 0?a:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function qF(t,e){var n=Cv(e.settings.margin,0);return t.pageSize().width-(n.left+n.right)}function Wle(t,e,n,r,i){var a={},s=1.3333333333333333,o=h_(e,function(_){return i.getComputedStyle(_).backgroundColor});o!=null&&(a.fillColor=o);var l=h_(e,function(_){return i.getComputedStyle(_).color});l!=null&&(a.textColor=l);var c=qle(r,n);c&&(a.cellPadding=c);var u="borderTopColor",f=s*n,d=r.borderTopWidth;if(r.borderBottomWidth===d&&r.borderRightWidth===d&&r.borderLeftWidth===d){var h=(parseFloat(d)||0)/f;h&&(a.lineWidth=h)}else a.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/f,right:(parseFloat(r.borderRightWidth)||0)/f,bottom:(parseFloat(r.borderBottomWidth)||0)/f,left:(parseFloat(r.borderLeftWidth)||0)/f},a.lineWidth.top||(a.lineWidth.right?u="borderRightColor":a.lineWidth.bottom?u="borderBottomColor":a.lineWidth.left&&(u="borderLeftColor"));var g=h_(e,function(_){return i.getComputedStyle(_)[u]});g!=null&&(a.lineColor=g);var x=["left","right","center","justify"];x.indexOf(r.textAlign)!==-1&&(a.halign=r.textAlign),x=["middle","bottom","top"],x.indexOf(r.verticalAlign)!==-1&&(a.valign=r.verticalAlign);var v=parseInt(r.fontSize||"");isNaN(v)||(a.fontSize=v/s);var m=Gle(r);m&&(a.fontStyle=m);var b=(r.fontFamily||"").toLowerCase();return t.indexOf(b)!==-1&&(a.font=b),a}function Gle(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function h_(t,e){var n=XF(t,e);if(!n)return null;var r=n.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var i=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],a=parseInt(r[4]);return a===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function XF(t,e){var n=e(t);return n==="rgba(0, 0, 0, 0)"||n==="transparent"||n==="initial"||n==="inherit"?t.parentElement==null?null:XF(t.parentElement,e):n}function qle(t,e){var n=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],r=96/(72/e),i=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,a=n.map(function(o){return parseInt(o||"0")/r}),s=Cv(a,0);return i>s.top&&(s.top=i),i>s.bottom&&(s.bottom=i),s}function $F(t,e,n,r,i){var a,s;r===void 0&&(r=!1),i===void 0&&(i=!1);var o;typeof e=="string"?o=n.document.querySelector(e):o=e;var l=Object.keys(t.getFontList()),c=t.scaleFactor(),u=[],f=[],d=[];if(!o)return console.error("Html table could not be found with input: ",e),{head:u,body:f,foot:d};for(var h=0;h<o.rows.length;h++){var g=o.rows[h],x=(s=(a=g==null?void 0:g.parentElement)===null||a===void 0?void 0:a.tagName)===null||s===void 0?void 0:s.toLowerCase(),v=Xle(l,c,n,g,r,i);v&&(x==="thead"?u.push(v):x==="tfoot"?d.push(v):f.push(v))}return{head:u,body:f,foot:d}}function Xle(t,e,n,r,i,a){for(var s=new VF(r),o=0;o<r.cells.length;o++){var l=r.cells[o],c=n.getComputedStyle(l);if(i||c.display!=="none"){var u=void 0;a&&(u=Wle(t,l,e,c,n)),s.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:u,_element:l,content:$le(l)})}}var f=n.getComputedStyle(r);if(s.length>0&&(i||f.display!=="none"))return s}function $le(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(n){return n.trim()}).join(`
`),e.innerText||e.textContent||""}function Yle(t,e,n){for(var r=0,i=[t,e,n];r<i.length;r++){var a=i[r];a&&typeof a!="object"&&console.error("The options parameter should be of type object, is: "+typeof a),a.startY&&typeof a.startY!="number"&&(console.error("Invalid value for startY option",a.startY),delete a.startY)}}function _l(t,e,n,r,i){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(t),s=1;s<arguments.length;s++){var o=arguments[s];if(o!=null)for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(a[l]=o[l])}return a}function YF(t,e){var n=new Uh(t),r=n.getDocumentOptions(),i=n.getGlobalOptions();Yle(i,r,e);var a=_l({},i,r,e),s;typeof window<"u"&&(s=window);var o=Kle(i,r,e),l=Jle(i,r,e),c=Zle(n,a),u=ece(n,a,s);return{id:e.tableId,content:u,hooks:l,styles:o,settings:c}}function Kle(t,e,n){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(l){if(l==="columnStyles"){var c=t[l],u=e[l],f=n[l];r.columnStyles=_l({},c,u,f)}else{var d=[t,e,n],h=d.map(function(g){return g[l]||{}});r[l]=_l({},h[0],h[1],h[2])}},a=0,s=Object.keys(r);a<s.length;a++){var o=s[a];i(o)}return r}function Jle(t,e,n){for(var r=[t,e,n],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},a=0,s=r;a<s.length;a++){var o=s[a];o.didParseCell&&i.didParseCell.push(o.didParseCell),o.willDrawCell&&i.willDrawCell.push(o.willDrawCell),o.didDrawCell&&i.didDrawCell.push(o.didDrawCell),o.willDrawPage&&i.willDrawPage.push(o.willDrawPage),o.didDrawPage&&i.didDrawPage.push(o.didDrawPage)}return i}function Zle(t,e){var n,r,i,a,s,o,l,c,u,f,d,h,g=Cv(e.margin,40/t.scaleFactor()),x=(n=Qle(t,e.startY))!==null&&n!==void 0?n:g.top,v;e.showFoot===!0?v="everyPage":e.showFoot===!1?v="never":v=(r=e.showFoot)!==null&&r!==void 0?r:"everyPage";var m;e.showHead===!0?m="everyPage":e.showHead===!1?m="never":m=(i=e.showHead)!==null&&i!==void 0?i:"everyPage";var b=(a=e.useCss)!==null&&a!==void 0?a:!1,_=e.theme||(b?"plain":"striped"),S=!!e.horizontalPageBreak,N=(s=e.horizontalPageBreakRepeat)!==null&&s!==void 0?s:null;return{includeHiddenHtml:(o=e.includeHiddenHtml)!==null&&o!==void 0?o:!1,useCss:b,theme:_,startY:x,margin:g,pageBreak:(l=e.pageBreak)!==null&&l!==void 0?l:"auto",rowPageBreak:(c=e.rowPageBreak)!==null&&c!==void 0?c:"auto",tableWidth:(u=e.tableWidth)!==null&&u!==void 0?u:"auto",showHead:m,showFoot:v,tableLineWidth:(f=e.tableLineWidth)!==null&&f!==void 0?f:0,tableLineColor:(d=e.tableLineColor)!==null&&d!==void 0?d:200,horizontalPageBreak:S,horizontalPageBreakRepeat:N,horizontalPageBreakBehaviour:(h=e.horizontalPageBreakBehaviour)!==null&&h!==void 0?h:"afterAllRows"}}function Qle(t,e){var n=t.getLastAutoTable(),r=t.scaleFactor(),i=t.pageNumber(),a=!1;if(n&&n.startPageNumber){var s=n.startPageNumber+n.pageNumber-1;a=s===i}return typeof e=="number"?e:(e==null||e===!1)&&a&&(n==null?void 0:n.finalY)!=null?n.finalY+20/r:null}function ece(t,e,n){var r=e.head||[],i=e.body||[],a=e.foot||[];if(e.html){var s=e.includeHiddenHtml;if(n){var o=$F(t,e.html,n,s,e.useCss)||{};r=o.head||r,i=o.body||r,a=o.foot||r}else console.error("Cannot parse html in non browser environment")}var l=e.columns||tce(r,i,a);return{columns:l,head:r,body:i,foot:a}}function tce(t,e,n){var r=t[0]||e[0]||n[0]||[],i=[];return Object.keys(r).filter(function(a){return a!=="_element"}).forEach(function(a){var s=1,o;Array.isArray(r)?o=r[parseInt(a)]:o=r[a],typeof o=="object"&&!Array.isArray(o)&&(s=(o==null?void 0:o.colSpan)||1);for(var l=0;l<s;l++){var c=void 0;Array.isArray(r)?c=i.length:c=a+(l>0?"_".concat(l):"");var u={dataKey:c};i.push(u)}}),i}var Qw=function(){function t(e,n,r){this.table=n,this.pageNumber=n.pageNumber,this.settings=n.settings,this.cursor=r,this.doc=e.getDocument()}return t}(),nce=function(t){HF(e,t);function e(n,r,i,a,s,o){var l=t.call(this,n,r,o)||this;return l.cell=i,l.row=a,l.column=s,l.section=a.section,l}return e}(Qw),rce=function(){function t(e,n){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=n.columns,this.head=n.head,this.body=n.body,this.foot=n.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(n,r){return n+r.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(n,r){return n+r.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,n,r,i,a,s){for(var o=0,l=n;o<l.length;o++){var c=l[o],u=new nce(e,this,r,i,a,s),f=c(u)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],f)return!1}return!0},t.prototype.callEndPageHooks=function(e,n){e.applyStyles(e.userStyles);for(var r=0,i=this.hooks.didDrawPage;r<i.length;r++){var a=i[r];a(new Qw(e,this,n))}},t.prototype.callWillDrawPageHooks=function(e,n){for(var r=0,i=this.hooks.willDrawPage;r<i.length;r++){var a=i[r];a(new Qw(e,this,n))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var n=this.columns.reduce(function(i,a){return i+a.wrappedWidth},0);return n}else{var r=this.settings.margin;return e-r.left-r.right}},t}(),KF=function(){function t(e,n,r,i,a){a===void 0&&(a=!1),this.height=0,this.raw=e,e instanceof VF&&(this.raw=e._element,this.element=e._element),this.index=n,this.section=r,this.cells=i,this.spansMultiplePages=a}return t.prototype.getMaxCellHeight=function(e){var n=this;return e.reduce(function(r,i){var a;return Math.max(r,((a=n.cells[i.index])===null||a===void 0?void 0:a.height)||0)},0)},t.prototype.hasRowSpan=function(e){var n=this;return e.filter(function(r){var i=n.cells[r.index];return i?i.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,n){return this.getMaxCellHeight(n)<=e},t.prototype.getMinimumRowHeight=function(e,n){var r=this;return e.reduce(function(i,a){var s=r.cells[a.index];if(!s)return 0;var o=n.getLineHeight(s.styles.fontSize),l=s.padding("vertical"),c=l+o;return c>i?c:i},0)},t}(),JF=function(){function t(e,n,r){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=n,this.section=r,this.raw=e;var a=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,a=(i=e.content)!==null&&i!==void 0?i:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var s=a!=null?""+a:"",o=/\r\n|\r|\n/g;this.text=s.split(o)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var n=this.height-this.padding("vertical");e=this.y+n/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");r=this.x+i/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:e}},t.prototype.getContentHeight=function(e,n){n===void 0&&(n=1.15);var r=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/e*n,a=r*i+this.padding("vertical");return Math.max(a,this.styles.minCellHeight)},t.prototype.padding=function(e){var n=Cv(this.styles.cellPadding,0);return e==="vertical"?n.top+n.bottom:e==="horizontal"?n.left+n.right:n[e]},t}(),ice=function(){function t(e,n,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=n,this.index=r}return t.prototype.getMaxCustomCellWidth=function(e){for(var n=0,r=0,i=e.allRows();r<i.length;r++){var a=i[r],s=a.cells[this.index];s&&typeof s.styles.cellWidth=="number"&&(n=Math.max(n,s.styles.cellWidth))}return n},t}();function ace(t,e){sce(t,e);var n=[],r=0;e.columns.forEach(function(a){var s=a.getMaxCustomCellWidth(e);s?a.width=s:(a.width=a.wrappedWidth,n.push(a)),r+=a.width});var i=e.getWidth(t.pageSize().width)-r;i&&(i=e5(n,i,function(a){return Math.max(a.minReadableWidth,a.minWidth)})),i&&(i=e5(n,i,function(a){return a.minWidth})),i=Math.abs(i),!e.settings.horizontalPageBreak&&i>.1/t.scaleFactor()&&(i=i<1?i:Math.round(i),console.warn("Of the table content, ".concat(i," units width could not fit page"))),lce(e),cce(e,t),oce(e)}function sce(t,e){var n=t.scaleFactor(),r=e.settings.horizontalPageBreak,i=qF(t,e);e.allRows().forEach(function(a){for(var s=0,o=e.columns;s<o.length;s++){var l=o[s],c=a.cells[l.index];if(c){var u=e.hooks.didParseCell;e.callCellHooks(t,u,c,a,l,null);var f=c.padding("horizontal");c.contentWidth=jx(c.text,c.styles,t)+f;var d=jx(c.text.join(" ").split(/[^\S\u00A0]+/),c.styles,t);if(c.minReadableWidth=d+c.padding("horizontal"),typeof c.styles.cellWidth=="number")c.minWidth=c.styles.cellWidth,c.wrappedWidth=c.styles.cellWidth;else if(c.styles.cellWidth==="wrap"||r===!0)c.contentWidth>i?(c.minWidth=i,c.wrappedWidth=i):(c.minWidth=c.contentWidth,c.wrappedWidth=c.contentWidth);else{var h=10/n;c.minWidth=c.styles.minCellWidth||h,c.wrappedWidth=c.contentWidth,c.minWidth>c.wrappedWidth&&(c.wrappedWidth=c.minWidth)}}}}),e.allRows().forEach(function(a){for(var s=0,o=e.columns;s<o.length;s++){var l=o[s],c=a.cells[l.index];if(c&&c.colSpan===1)l.wrappedWidth=Math.max(l.wrappedWidth,c.wrappedWidth),l.minWidth=Math.max(l.minWidth,c.minWidth),l.minReadableWidth=Math.max(l.minReadableWidth,c.minReadableWidth);else{var u=e.styles.columnStyles[l.dataKey]||e.styles.columnStyles[l.index]||{},f=u.cellWidth||u.minCellWidth;f&&typeof f=="number"&&(l.minWidth=f,l.wrappedWidth=f)}c&&(c.colSpan>1&&!l.minWidth&&(l.minWidth=c.minWidth),c.colSpan>1&&!l.wrappedWidth&&(l.wrappedWidth=c.minWidth))}})}function e5(t,e,n){for(var r=e,i=t.reduce(function(h,g){return h+g.wrappedWidth},0),a=0;a<t.length;a++){var s=t[a],o=s.wrappedWidth/i,l=r*o,c=s.width+l,u=n(s),f=c<u?u:c;e-=f-s.width,s.width=f}if(e=Math.round(e*1e10)/1e10,e){var d=t.filter(function(h){return e<0?h.width>n(h):!0});d.length&&(e=e5(d,e,n))}return e}function oce(t){for(var e={},n=1,r=t.allRows(),i=0;i<r.length;i++)for(var a=r[i],s=0,o=t.columns;s<o.length;s++){var l=o[s],c=e[l.index];if(n>1)n--,delete a.cells[l.index];else if(c)c.cell.height+=a.height,n=c.cell.colSpan,delete a.cells[l.index],c.left--,c.left<=1&&delete e[l.index];else{var u=a.cells[l.index];if(!u)continue;if(u.height=a.height,u.rowSpan>1){var f=r.length-i,d=u.rowSpan>f?f:u.rowSpan;e[l.index]={cell:u,left:d,row:a}}}}}function lce(t){for(var e=t.allRows(),n=0;n<e.length;n++)for(var r=e[n],i=null,a=0,s=0,o=0;o<t.columns.length;o++){var l=t.columns[o];if(s-=1,s>1&&t.columns[o+1])a+=l.width,delete r.cells[l.index];else if(i){var c=i;delete r.cells[l.index],i=null,c.width=l.width+a}else{var c=r.cells[l.index];if(!c)continue;if(s=c.colSpan,a=0,c.colSpan>1){i=c,a+=l.width;continue}c.width=l.width+a}}}function cce(t,e){for(var n={count:0,height:0},r=0,i=t.allRows();r<i.length;r++){for(var a=i[r],s=0,o=t.columns;s<o.length;s++){var l=o[s],c=a.cells[l.index];if(c){e.applyStyles(c.styles,!0);var u=c.width-c.padding("horizontal");if(c.styles.overflow==="linebreak")c.text=e.splitTextToSize(c.text,u+1/e.scaleFactor(),{fontSize:c.styles.fontSize});else if(c.styles.overflow==="ellipsize")c.text=Mk(c.text,u,c.styles,e,"...");else if(c.styles.overflow==="hidden")c.text=Mk(c.text,u,c.styles,e,"");else if(typeof c.styles.overflow=="function"){var f=c.styles.overflow(c.text,u);typeof f=="string"?c.text=[f]:c.text=f}c.contentHeight=c.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var d=c.contentHeight/c.rowSpan;c.rowSpan>1&&n.count*n.height<d*c.rowSpan?n={height:d,count:c.rowSpan}:n&&n.count>0&&n.height>d&&(d=n.height),d>a.height&&(a.height=d)}}n.count--}}function Mk(t,e,n,r,i){return t.map(function(a){return uce(a,e,n,r,i)})}function uce(t,e,n,r,i){var a=1e4*r.scaleFactor();if(e=Math.ceil(e*a)/a,e>=jx(t,n,r))return t;for(;e<jx(t+i,n,r)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+i}function ZF(t,e){var n=new Uh(t),r=fce(e,n.scaleFactor()),i=new rce(e,r);return ace(n,i),n.applyStyles(n.userStyles),i}function fce(t,e){var n=t.content,r=dce(n.columns);if(n.head.length===0){var i=Nk(r,"head");i&&n.head.push(i)}if(n.foot.length===0){var i=Nk(r,"foot");i&&n.foot.push(i)}var a=t.settings.theme,s=t.styles;return{columns:r,head:d_("head",n.head,r,s,a,e),body:d_("body",n.body,r,s,a,e),foot:d_("foot",n.foot,r,s,a,e)}}function d_(t,e,n,r,i,a){var s={},o=e.map(function(l,c){for(var u=0,f={},d=0,h=0,g=0,x=n;g<x.length;g++){var v=x[g];if(s[v.index]==null||s[v.index].left===0)if(h===0){var m=void 0;Array.isArray(l)?m=l[v.index-d-u]:m=l[v.dataKey];var b={};typeof m=="object"&&!Array.isArray(m)&&(b=(m==null?void 0:m.styles)||{});var _=pce(t,v,c,i,r,a,b),S=new JF(m,_,t);f[v.dataKey]=S,f[v.index]=S,h=S.colSpan-1,s[v.index]={left:S.rowSpan-1,times:h}}else h--,d++;else s[v.index].left--,h=s[v.index].times,u++}return new KF(l,c,t,f)});return o}function Nk(t,e){var n={};return t.forEach(function(r){if(r.raw!=null){var i=hce(e,r.raw);i!=null&&(n[r.dataKey]=i)}}),Object.keys(n).length>0?n:null}function hce(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function dce(t){return t.map(function(e,n){var r,i;return typeof e=="object"?i=(r=e.dataKey)!==null&&r!==void 0?r:n:i=n,new ice(i,e,n)})}function pce(t,e,n,r,i,a,s){var o=Vle(r),l;t==="head"?l=i.headStyles:t==="body"?l=i.bodyStyles:t==="foot"&&(l=i.footStyles);var c=_l({},o.table,o[t],i.styles,l),u=i.columnStyles[e.dataKey]||i.columnStyles[e.index]||{},f=t==="body"?u:{},d=t==="body"&&n%2===0?_l({},o.alternateRow,i.alternateRowStyles):{},h=Hle(a),g=_l({},h,c,d,f);return _l(g,s)}function mce(t,e,n){var r;n===void 0&&(n={});var i=qF(t,e),a=new Map,s=[],o=[],l=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?l=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(l=[e.settings.horizontalPageBreakRepeat]),l.forEach(function(d){var h=e.columns.find(function(g){return g.dataKey===d||g.index===d});h&&!a.has(h.index)&&(a.set(h.index,!0),s.push(h.index),o.push(e.columns[h.index]),i-=h.wrappedWidth)});for(var c=!0,u=(r=n==null?void 0:n.start)!==null&&r!==void 0?r:0;u<e.columns.length;){if(a.has(u)){u++;continue}var f=e.columns[u].wrappedWidth;if(c||i>=f)c=!1,s.push(u),o.push(e.columns[u]),i-=f;else break;u++}return{colIndexes:s,columns:o,lastIndex:u-1}}function gce(t,e){for(var n=[],r=0;r<e.columns.length;r++){var i=mce(t,e,{start:r});i.columns.length&&(n.push(i),r=i.lastIndex)}return n}function QF(t,e){var n=e.settings,r=n.startY,i=n.margin,a={x:i.left,y:r},s=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),o=r+i.bottom+s;if(n.pageBreak==="avoid"){var l=e.body,c=l.reduce(function(d,h){return d+h.height},0);o+=c}var u=new Uh(t);(n.pageBreak==="always"||n.startY!=null&&o>u.pageSize().height)&&(tD(u),a.y=i.top),e.callWillDrawPageHooks(u,a);var f=_l({},a);e.startPageNumber=u.pageNumber(),n.horizontalPageBreak?xce(u,e,f,a):(u.applyStyles(u.userStyles),(n.showHead==="firstPage"||n.showHead==="everyPage")&&e.head.forEach(function(d){return Rl(u,e,d,a,e.columns)}),u.applyStyles(u.userStyles),e.body.forEach(function(d,h){var g=h===e.body.length-1;zx(u,e,d,g,f,a,e.columns)}),u.applyStyles(u.userStyles),(n.showFoot==="lastPage"||n.showFoot==="everyPage")&&e.foot.forEach(function(d){return Rl(u,e,d,a,e.columns)})),WF(u,e,f,a),e.callEndPageHooks(u,a),e.finalY=a.y,t.lastAutoTable=e,u.applyStyles(u.userStyles)}function xce(t,e,n,r){var i=gce(t,e),a=e.settings;if(a.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(c,u){t.applyStyles(t.userStyles),u>0?J0(t,e,n,r,c.columns,!0):kk(t,e,r,c.columns),vce(t,e,n,r,c.columns),p_(t,e,r,c.columns)});else for(var s=-1,o=i[0],l=function(){var c=s;if(o){t.applyStyles(t.userStyles);var u=o.columns;s>=0?J0(t,e,n,r,u,!0):kk(t,e,r,u),c=Ck(t,e,s+1,r,u),p_(t,e,r,u)}var f=c-s;i.slice(1).forEach(function(d){t.applyStyles(t.userStyles),J0(t,e,n,r,d.columns,!0),Ck(t,e,s+1,r,d.columns,f),p_(t,e,r,d.columns)}),s=c};s<e.body.length-1;)l()}function kk(t,e,n,r){var i=e.settings;t.applyStyles(t.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&e.head.forEach(function(a){return Rl(t,e,a,n,r)})}function vce(t,e,n,r,i){t.applyStyles(t.userStyles),e.body.forEach(function(a,s){var o=s===e.body.length-1;zx(t,e,a,o,n,r,i)})}function Ck(t,e,n,r,i,a){t.applyStyles(t.userStyles),a=a??e.body.length;var s=Math.min(n+a,e.body.length),o=-1;return e.body.slice(n,s).forEach(function(l,c){var u=n+c===e.body.length-1,f=eD(t,e,u,r);l.canEntireRowFit(f,i)&&(Rl(t,e,l,r,i),o=n+c)}),o}function p_(t,e,n,r){var i=e.settings;t.applyStyles(t.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&e.foot.forEach(function(a){return Rl(t,e,a,n,r)})}function yce(t,e,n){var r=n.getLineHeight(t.styles.fontSize),i=t.padding("vertical"),a=Math.floor((e-i)/r);return Math.max(0,a)}function _ce(t,e,n,r){var i={};t.spansMultiplePages=!0,t.height=0;for(var a=0,s=0,o=n.columns;s<o.length;s++){var l=o[s],c=t.cells[l.index];if(c){Array.isArray(c.text)||(c.text=[c.text]);var u=new JF(c.raw,c.styles,c.section);u=_l(u,c),u.text=[];var f=yce(c,e,r);c.text.length>f&&(u.text=c.text.splice(f,c.text.length));var d=r.scaleFactor(),h=r.getLineHeightFactor();c.contentHeight=c.getContentHeight(d,h),c.contentHeight>=e&&(c.contentHeight=e,u.styles.minCellHeight-=e),c.contentHeight>t.height&&(t.height=c.contentHeight),u.contentHeight=u.getContentHeight(d,h),u.contentHeight>a&&(a=u.contentHeight),i[l.index]=u}}var g=new KF(t.raw,-1,t.section,i,!0);g.height=a;for(var x=0,v=n.columns;x<v.length;x++){var l=v[x],u=g.cells[l.index];u&&(u.height=g.height);var c=t.cells[l.index];c&&(c.height=t.height)}return g}function bce(t,e,n,r){var i=t.pageSize().height,a=r.settings.margin,s=a.top+a.bottom,o=i-s;e.section==="body"&&(o-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var l=e.getMinimumRowHeight(r.columns,t),c=l<n;if(l>o)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!c)return!1;var u=e.hasRowSpan(r.columns),f=e.getMaxCellHeight(r.columns)>o;return f?(u&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(u||r.settings.rowPageBreak==="avoid")}function zx(t,e,n,r,i,a,s){var o=eD(t,e,r,a);if(n.canEntireRowFit(o,s))Rl(t,e,n,a,s);else if(bce(t,n,o,e)){var l=_ce(n,o,e,t);Rl(t,e,n,a,s),J0(t,e,i,a,s),zx(t,e,l,r,i,a,s)}else J0(t,e,i,a,s),zx(t,e,n,r,i,a,s)}function Rl(t,e,n,r,i){r.x=e.settings.margin.left;for(var a=0,s=i;a<s.length;a++){var o=s[a],l=n.cells[o.index];if(!l){r.x+=o.width;continue}t.applyStyles(l.styles),l.x=r.x,l.y=r.y;var c=e.callCellHooks(t,e.hooks.willDrawCell,l,n,o,r);if(c===!1){r.x+=o.width;continue}wce(t,l,r);var u=l.getTextPos();zF(l.text,u.x,u.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,l,n,o,r),r.x+=o.width}r.y+=n.height}function wce(t,e,n){var r=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof r.lineWidth=="number"){var i=GF(r.lineWidth,r.fillColor);i&&t.rect(e.x,n.y,e.width,e.height,i)}else typeof r.lineWidth=="object"&&(r.fillColor&&t.rect(e.x,n.y,e.width,e.height,"F"),Sce(t,e,n,r.lineWidth))}function Sce(t,e,n,r){var i,a,s,o;r.top&&(i=n.x,a=n.y,s=n.x+e.width,o=n.y,r.right&&(s+=.5*r.right),r.left&&(i-=.5*r.left),l(r.top,i,a,s,o)),r.bottom&&(i=n.x,a=n.y+e.height,s=n.x+e.width,o=n.y+e.height,r.right&&(s+=.5*r.right),r.left&&(i-=.5*r.left),l(r.bottom,i,a,s,o)),r.left&&(i=n.x,a=n.y,s=n.x,o=n.y+e.height,r.top&&(a-=.5*r.top),r.bottom&&(o+=.5*r.bottom),l(r.left,i,a,s,o)),r.right&&(i=n.x+e.width,a=n.y,s=n.x+e.width,o=n.y+e.height,r.top&&(a-=.5*r.top),r.bottom&&(o+=.5*r.bottom),l(r.right,i,a,s,o));function l(c,u,f,d,h){t.getDocument().setLineWidth(c),t.getDocument().line(u,f,d,h,"S")}}function eD(t,e,n,r){var i=e.settings.margin.bottom,a=e.settings.showFoot;return(a==="everyPage"||a==="lastPage"&&n)&&(i+=e.getFootHeight(e.columns)),t.pageSize().height-r.y-i}function J0(t,e,n,r,i,a){i===void 0&&(i=[]),a===void 0&&(a=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!a&&e.foot.forEach(function(o){return Rl(t,e,o,r,i)}),e.callEndPageHooks(t,r);var s=e.settings.margin;WF(t,e,n,r),tD(t),e.pageNumber++,r.x=s.left,r.y=s.top,n.y=s.top,e.callWillDrawPageHooks(t,r),e.settings.showHead==="everyPage"&&(e.head.forEach(function(o){return Rl(t,e,o,r,i)}),t.applyStyles(t.userStyles))}function tD(t){var e=t.pageNumber();t.setPage(e+1);var n=t.pageNumber();return n===e?(t.addPage(),!0):!1}function Ece(t){t.API.autoTable=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[0],i=YF(this,r),a=ZF(this,i);return QF(this,a),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,n,r,i){zF(e,n,r,i,this)},t.API.autoTableSetDefaults=function(e){return Uh.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,n){Uh.setDefaults(e,n)},t.API.autoTableHtmlToJson=function(e,n){var r;if(n===void 0&&(n=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new Uh(this),a=$F(i,e,window,n,!1),s=a.head,o=a.body,l=((r=s[0])===null||r===void 0?void 0:r.map(function(c){return c.content}))||[];return{columns:l,rows:o,data:o}}}var m_;function Ace(t,e){var n=YF(t,e),r=ZF(t,n);QF(t,r)}try{if(typeof window<"u"&&window){var Rk=window,Pk=Rk.jsPDF||((m_=Rk.jspdf)===null||m_===void 0?void 0:m_.jsPDF);Pk&&Ece(Pk)}}catch(t){console.error("Could not apply autoTable plugin",t)}const Qg=t=>{if(typeof t=="number")return t;if(typeof t=="string"){const e=parseFloat(t.replace(/[^\d.-]/g,""));return isNaN(e)?0:e}return 0},g_=()=>({user:{id:"demo-user"}}),x_=({data:t,colors:e,size:n="w-24 h-24"})=>{const r=De.useRef(null),i=De.useRef(null);return De.useEffect(()=>{const a=r.current;if(!a)return;const s=a.getContext("2d");return i.current&&i.current.destroy(),i.current=new zs(s,{type:"doughnut",data:{datasets:[{data:t,backgroundColor:e,borderWidth:0}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{enabled:!1}},animation:{animateRotate:!0,animateScale:!0}}}),()=>{var o;try{(o=i.current)==null||o.destroy()}catch{}}},[t,e]),p.jsx("div",{className:`${n} relative`,children:p.jsx("canvas",{ref:r,className:"w-full h-full"})})};function Lk(){const t=Io(),{user:e}=(g_==null?void 0:g_())||{},[n,r]=De.useState(""),[i,a]=De.useState([]),[s,o]=De.useState([]),[l,c]=De.useState(""),[u,f]=De.useState(""),[d,h]=De.useState("bar"),[g,x]=De.useState(""),[v,m]=De.useState(""),[b,_]=De.useState([]),[S,N]=De.useState(null),P=De.useRef(null),T=De.useRef(null),L=De.useRef(null),E=De.useRef(null),R=De.useMemo(()=>[{data:[35,25,40],colors:["#3B82F6","#8B5CF6","#06B6D4"]},{data:[45,30,25],colors:["#10B981","#F59E0B","#EF4444"]},{data:[20,50,30],colors:["#8B5CF6","#EC4899","#F97316"]}],[]);De.useEffect(()=>()=>{var ve;try{(ve=T.current)==null||ve.destroy()}catch{}if(E.current)try{V()}catch{}},[]),De.useEffect(()=>{if(t.state){const{fileName:ve,columns:q,rows:te,xAxis:Ee,yAxis:Z,chartType:qe}=t.state;if(ve&&r(ve),q&&a(q),te&&o(te),c(Ee||(q==null?void 0:q[0])||""),f(Z||(q==null?void 0:q[1])||""),h(qe||"bar"),!te||te.length===0){x("No valid data found in uploaded file.");return}setTimeout(()=>{te.length>0&&Se()},100)}},[t.state]),De.useEffect(()=>{e!=null&&e.id&&re()},[e==null?void 0:e.id]);const A=ve=>{var Ee;const q=(Ee=ve.target.files)==null?void 0:Ee[0];if(!q)return;r(q.name);const te=new FileReader;te.onload=Z=>{const qe=new Uint8Array(Z.target.result),Ce=Np(qe,{type:"array"});N(Ce);const rt=Ce.Sheets[Ce.SheetNames[0]],Pe=FS.sheet_to_json(rt,{header:1});if(!Pe||Pe.length===0){x("Uploaded file contained no data.");return}const nt=Pe[0].map(Tt=>String(Tt||"")),ft=Pe.slice(1);a(nt),o(ft),c(nt[0]||""),f(nt[1]||nt[0]||""),x(""),m("File loaded. Select axes and chart type, then generate.")},te.readAsArrayBuffer(q)},F=()=>{if(T.current){try{T.current.destroy()}catch{}T.current=null}},j=()=>{const ve=L.current;if(ve)for(;ve.firstChild;)try{ve.removeChild(ve.firstChild)}catch{}},V=()=>{const ve=E.current;if(!ve)return;const{renderer:q,scene:te,frame:Ee,_cleanup:Z}=ve;if(Ee!=null)try{cancelAnimationFrame(Ee)}catch{}try{te.traverse(qe=>{var Ce,rt;if(qe.geometry)try{qe.geometry.dispose()}catch{}if(qe.material)if(Array.isArray(qe.material))qe.material.forEach(Pe=>{var nt;try{(nt=Pe.dispose)==null||nt.call(Pe)}catch{}});else try{(rt=(Ce=qe.material).dispose)==null||rt.call(Ce)}catch{}})}catch{}try{q.dispose()}catch{}try{Z==null||Z()}catch{}j(),E.current=null},X=()=>{const ve=L.current;if(!ve)return x("3D container not available."),null;const q=Math.max(1,ve.clientWidth||1),te=Math.max(1,ve.clientHeight||1),Ee=new nte;Ee.background=new pn(16317180);const Z=new ys(75,q/te,.1,1e3);Z.position.set(0,15,40);const qe=new Jae({antialias:!0});qe.setPixelRatio(Math.min(window.devicePixelRatio||1,2)),qe.setSize(q,te),ve.appendChild(qe.domElement);const Ce=new hte(4210752,.7),rt=new fte(16777215,.9);rt.position.set(1,2,1),Ee.add(Ce),Ee.add(rt);const Pe=new pte(100,20,13421772,15658734);Pe.position.y=0,Ee.add(Pe);const nt={scene:Ee,camera:Z,renderer:qe,frame:void 0};E.current=nt;const ft=()=>{const Tt=Math.max(1,ve.clientWidth||1),ae=Math.max(1,ve.clientHeight||1);qe.setSize(Tt,ae),Z.aspect=Tt/ae,Z.updateProjectionMatrix()};return window.addEventListener("resize",ft),nt._cleanup=()=>{window.removeEventListener("resize",ft)},nt},ee=()=>{const ve=E.current;if(!ve)return;const{renderer:q,scene:te,camera:Ee}=ve,Z=()=>{ve.frame=requestAnimationFrame(Z),te.rotation.y+=.0015,q.render(te,Ee)};Z()},se=()=>{V(),j();const ve=X();if(!ve)return;const{scene:q}=ve,te=i.indexOf(l),Ee=i.indexOf(u);if(te<0||Ee<0){x("Invalid X/Y axis selection. Please choose valid columns.");return}const Z=s.map(qe=>({x:Qg(qe[te]),y:Qg(qe[Ee]),z:Math.random()*30-15})).filter(qe=>Number.isFinite(qe.x)&&Number.isFinite(qe.y));if(!Z.length){x("No numeric X/Y data to plot in 3D scatter.");return}Z.forEach((qe,Ce)=>{const rt=new Dx(.6,16,16),Pe=Ce*.07%1,nt=new jg({color:new pn().setHSL(Pe,.65,.55),shininess:90}),ft=new es(rt,nt);ft.position.set(qe.x,qe.y,qe.z),q.add(ft)}),m(`Rendered 3D scatter plot with ${Z.length} data points.`),ee()},B=()=>{V(),j();const ve=X();if(!ve)return;const{scene:q}=ve,te=i.indexOf(l),Ee=i.indexOf(u);if(te<0||Ee<0){x("Invalid X/Y axis selection. Please choose valid columns.");return}const Z=s.map((Ce,rt)=>({x:rt*2,y:Qg(Ce[Ee]),label:String(Ce[te])})),qe=Z.length*2/2;Z.forEach((Ce,rt)=>{const Pe=Math.max(0,Ce.y),nt=new gd(1.5,Math.max(.001,Pe),1.5),ft=new jg({color:new pn(`hsl(${rt*37%360}, 70%, 60%)`)}),Tt=new es(nt,ft);Tt.position.set(Ce.x-qe,Pe/2,0),q.add(Tt)}),m(`Rendered 3D bar chart with ${Z.length} bars.`),ee()},H=()=>{V(),j();const ve=X();if(!ve)return;const{scene:q}=ve,te=i.indexOf(l),Ee=i.indexOf(u);if(te<0||Ee<0){x("Invalid X/Y axis selection. Please choose valid columns.");return}const Z=s.map((Pe,nt)=>{const ft=Qg(Pe[Ee]);return new Xe(nt*1.2,ft,0)});if(!Z.length){x("No data points available to render 3D line.");return}const qe=new ro().setFromPoints(Z),Ce=new l3({color:3900150}),rt=new j8(qe,Ce);q.add(rt),Z.forEach((Pe,nt)=>{const ft=new Dx(.25,12,12),Tt=new jg({color:new pn(`hsl(${nt*45%360}, 70%, 55%)`)}),ae=new es(ft,Tt);ae.position.copy(Pe),q.add(ae)}),m(`Rendered 3D line chart with ${Z.length} points.`),ee()},xe=()=>{V(),j();const ve=X();if(!ve)return;const{scene:q}=ve,te=30,Ee=40,Z=new fm(te,te,Ee,Ee),qe=Z.attributes.position,Ce=new Xe;for(let nt=0;nt<qe.count;nt++){Ce.fromBufferAttribute(qe,nt);const ft=Math.sin(Ce.x*.35)*Math.cos(Ce.y*.35)*2+Math.sin((Ce.x+Ce.y)*.2)*1.2;qe.setZ(nt,ft)}qe.needsUpdate=!0,Z.computeVertexNormals();const rt=new jg({color:9133302,side:Eo,wireframe:!0}),Pe=new es(Z,rt);Pe.rotation.x=-Math.PI/2,q.add(Pe),m("Rendered 3D surface chart."),ee()},Se=()=>{var Ce;if(x(""),m(""),!s||s.length===0){x("No data available. Please upload an Excel file first.");return}if(F(),V(),d.startsWith("3d")){switch(d){case"3dscatter":se();break;case"3dbar":B();break;case"3dline":H();break;case"3dsurface":xe();break;default:x("Unsupported 3D chart type.")}return}const ve=i.indexOf(l),q=i.indexOf(u),te=s.map((rt,Pe)=>({rawX:rt[ve],rawY:rt[q],xNum:Number(rt[ve]),yNum:Number(rt[q]),label:String(rt[ve]??`Row ${Pe+1}`)})),Ee=te.map(rt=>rt.label),Z=te.map(rt=>rt.yNum).filter(rt=>!isNaN(rt));if(!Z.length){x("The selected Y-axis column has no numeric data to plot.");return}const qe=(Ce=P.current)==null?void 0:Ce.getContext("2d");if(!qe){x("Canvas context not available.");return}try{T.current=new zs(qe,{type:d,data:{labels:Ee,datasets:[{label:u||"Value",data:Z,backgroundColor:["#3B82F6","#8B5CF6","#06B6D4","#10B981","#F59E0B","#EF4444","#EC4899","#F97316","#6366F1","#14B8A6"],borderColor:"#1F2937",borderWidth:2}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{labels:{color:"#374151",font:{size:12,weight:"bold"}}},tooltip:{enabled:!0}},scales:d!=="pie"&&d!=="doughnut"?{x:{ticks:{color:"#6B7280"},grid:{color:"rgba(0,0,0,0.04)"}},y:{ticks:{color:"#6B7280"},grid:{color:"rgba(0,0,0,0.06)"}}}:void 0,animation:{duration:600}}}),m(`Successfully rendered ${d} chart with ${Z.length} data points.`)}catch(rt){console.error(rt),x("Failed to render Chart.js chart.")}},k=()=>{try{let ve;const q=`chart-${new Date().getTime()}.png`;if(d.startsWith("3d")&&E.current){const Ee=E.current.renderer;if(!(Ee!=null&&Ee.domElement)){x("3D renderer not available for download.");return}ve=Ee.domElement.toDataURL("image/png")}else if(T.current&&typeof T.current.toBase64Image=="function")ve=T.current.toBase64Image();else if(P.current)ve=P.current.toDataURL("image/png");else{x("No chart available to download.");return}const te=document.createElement("a");te.href=ve,te.download=q,document.body.appendChild(te),te.click(),document.body.removeChild(te),m("Chart downloaded successfully.")}catch(ve){console.error(ve),x("Failed to download chart image.")}},U=()=>{if(!i||!s){x("No data to export.");return}try{const ve=[];ve.push(i.map(qe=>`"${String(qe).replace(/"/g,'""')}"`).join(",")),s.forEach(qe=>{const Ce=i.map((rt,Pe)=>{const nt=(qe==null?void 0:qe[Pe])??"";return`"${String(nt).replace(/"/g,'""')}"`});ve.push(Ce.join(","))});const q=ve.join(`
`),te=new Blob([q],{type:"text/csv"}),Ee=URL.createObjectURL(te),Z=document.createElement("a");Z.href=Ee,Z.download=`${n||"data"}.csv`,Z.click(),URL.revokeObjectURL(Ee),m("CSV exported.")}catch(ve){console.error(ve),x("Failed to export CSV.")}},O=()=>{try{const ve=new Wt;let q;d.startsWith("3d")&&E.current?q=E.current.renderer.domElement.toDataURL():P.current&&(q=P.current.toDataURL("image/png",1)),q&&ve.addImage(q,"PNG",15,15,180,90),ve.text("Uploaded Data",14,115);const te=i,Ee=s.map(Z=>i.map((qe,Ce)=>Z[Ce]));Ace(ve,{head:[te],body:Ee,startY:120,styles:{fontSize:8}}),n&&ve.setProperties({title:n}),ve.save(`${n||"report"}.pdf`),m("PDF downloaded.")}catch(ve){console.error(ve),x("Failed to create PDF.")}},I=ve=>{try{const q=JSON.stringify(ve,null,2),te=new Blob([q],{type:"application/json"}),Ee=URL.createObjectURL(te),Z=document.createElement("a");Z.href=Ee,Z.download=`${ve.fileName||"analysis"}-${ve._id||"entry"}.json`,Z.click(),URL.revokeObjectURL(Ee),m("History entry downloaded as JSON.")}catch(q){console.error(q),x("Failed to download history JSON.")}},K=async()=>{var ve;if(!(e!=null&&e.id)){x("Authentication required. Please log in to save analysis.");return}try{x(""),m("Saving analysis...");const q={userId:e.id,fileName:n,columns:i,rows:s,chartType:d,xAxis:l,yAxis:u},te=await ig.saveAnalysis(q);let Ee="";try{const Z=await ig.getSummary({columns:i,rows:s,chartType:d,xAxis:l,yAxis:u});Ee=((ve=Z==null?void 0:Z.data)==null?void 0:ve.summary)||""}catch(Z){console.warn("Summary call failed",Z)}m(`Analysis saved successfully${Ee?`  summary: ${Ee}`:""}`),await re()}catch(q){console.error(q),x("Failed to save analysis. Please try again.")}},re=async()=>{if(e!=null&&e.id)try{const ve=await ig.getUserHistory(e.id);_(ve.data||[]),m("History loaded.")}catch(ve){console.error(ve),x("Failed to load history")}},_e=ve=>{var q,te,Ee;ve&&(r(ve.fileName||""),a(ve.columns||[]),o(ve.rows||[]),h(ve.chartType||"bar"),c(ve.xAxis||((q=ve.columns)==null?void 0:q[0])||""),f(ve.yAxis||((te=ve.columns)==null?void 0:te[1])||((Ee=ve.columns)==null?void 0:Ee[0])||""),m(`Loaded "${ve.fileName||"analysis"}" from history.`),setTimeout(()=>{Se()},100))},ue=async()=>{var ve;if(!s||s.length===0){x("No data present to summarize.");return}try{m("Generating summary...");const q=await ig.getSummary({columns:i,rows:s,chartType:d,xAxis:l,yAxis:u}),te=((ve=q==null?void 0:q.data)==null?void 0:ve.summary)||"No summary returned.";m(`Summary: ${te}`)}catch(q){console.error(q),x("Failed to generate summary.")}},be=[{value:"bar",label:"Bar Chart",icon:""},{value:"line",label:"Line Chart",icon:""},{value:"pie",label:"Pie Chart",icon:""},{value:"doughnut",label:"Doughnut Chart",icon:""},{value:"radar",label:"Radar Chart",icon:""},{value:"polarArea",label:"Polar Area",icon:""},{value:"bubble",label:"Bubble Chart",icon:""},{value:"scatter",label:"Scatter Plot",icon:""},{value:"3dscatter",label:"3D Scatter",icon:""},{value:"3dbar",label:"3D Bar",icon:""},{value:"3dline",label:"3D Line",icon:""},{value:"3dsurface",label:"3D Surface",icon:""}];return p.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 dark:from-slate-900 dark:via-slate-800 dark:to-indigo-900",children:[p.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[p.jsx("div",{className:"absolute top-20 right-32 w-64 h-64 bg-gradient-to-r from-blue-400/10 to-purple-500/10 rounded-full blur-3xl animate-pulse"}),p.jsx("div",{className:"absolute bottom-32 left-16 w-80 h-80 bg-gradient-to-r from-indigo-400/8 to-cyan-500/8 rounded-full blur-3xl animate-pulse",style:{animationDelay:"2s"}}),p.jsx("div",{className:"absolute top-1/2 right-1/4 w-48 h-48 bg-gradient-to-r from-purple-400/12 to-pink-500/12 rounded-full blur-2xl animate-pulse",style:{animationDelay:"4s"}}),p.jsx("div",{className:"absolute top-24 left-8 opacity-20",children:p.jsx(x_,{data:R[0].data,colors:R[0].colors,size:"w-16 h-16"})}),p.jsx("div",{className:"absolute top-1/3 right-12 opacity-15",children:p.jsx(x_,{data:R[1].data,colors:R[1].colors,size:"w-20 h-20"})}),p.jsx("div",{className:"absolute bottom-40 right-1/3 opacity-10",children:p.jsx(x_,{data:R[2].data,colors:R[2].colors,size:"w-24 h-24"})})]}),p.jsxs("div",{className:"relative z-10 p-8",children:[p.jsxs("div",{className:"text-center mb-12",children:[p.jsxs("div",{className:"flex justify-center items-center mb-4",children:[p.jsx("div",{className:"p-4 bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl mr-4",children:p.jsx(Qa,{className:"h-8 w-8 text-white"})}),p.jsx("h1",{className:"text-5xl font-bold bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 bg-clip-text text-transparent",children:"Data Presentation Studio"})]}),p.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:"Transform your Excel data into visualizations, save analysis, and generate AI summaries"})]}),p.jsxs("div",{className:"max-w-7xl mx-auto grid gap-8 lg:grid-cols-12",children:[p.jsx("div",{className:"lg:col-span-4",children:p.jsxs("div",{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-xl border border-white/20 dark:border-slate-700/50 rounded-3xl p-8 shadow-2xl shadow-blue-500/10 dark:shadow-slate-900/20",children:[p.jsxs("div",{className:"flex items-center mb-8",children:[p.jsx("div",{className:"p-4 bg-gradient-to-r from-emerald-500 to-blue-600 rounded-2xl mr-4",children:p.jsx(rS,{className:"h-6 w-6 text-white"})}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Configuration"}),p.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Upload, configure axes, choose chart type"})]})]}),p.jsxs("div",{className:"mb-6",children:[p.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:[p.jsx(hR,{className:"inline h-4 w-4 mr-2"}),"Upload Excel File"]}),p.jsx("div",{className:"relative",children:p.jsx("input",{type:"file",accept:".xls,.xlsx",onChange:A,className:"w-full border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-2xl p-4 text-center bg-gray-50 dark:bg-slate-700 hover:border-blue-400 dark:hover:border-blue-500 transition-colors cursor-pointer file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"})}),n&&p.jsx("div",{className:"mt-3 p-3 bg-blue-50 dark:bg-blue-900/30 rounded-xl",children:p.jsxs("div",{className:"flex items-center text-sm text-blue-700 dark:text-blue-300",children:[p.jsx(lx,{className:"h-4 w-4 mr-2"}),p.jsxs("span",{className:"font-medium",children:["Loaded: ",n]})]})})]}),s.length>0&&p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:"X-Axis Column"}),p.jsxs("div",{className:"relative",children:[p.jsx("select",{value:l,onChange:ve=>c(ve.target.value),className:"w-full appearance-none bg-white dark:bg-slate-700 border-2 border-gray-200 dark:border-gray-600 rounded-xl px-4 py-3 pr-10 text-gray-700 dark:text-gray-200 focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-200 dark:focus:ring-blue-800 transition-all",children:i.map(ve=>p.jsx("option",{value:ve,children:ve},ve))}),p.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-3 pointer-events-none",children:p.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:"Y-Axis Column"}),p.jsxs("div",{className:"relative",children:[p.jsx("select",{value:u,onChange:ve=>f(ve.target.value),className:"w-full appearance-none bg-white dark:bg-slate-700 border-2 border-gray-200 dark:border-gray-600 rounded-xl px-4 py-3 pr-10 text-gray-700 dark:text-gray-200 focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-200 dark:focus:ring-blue-800 transition-all",children:i.map(ve=>p.jsx("option",{value:ve,children:ve},ve))}),p.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-3 pointer-events-none",children:p.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]})]}),p.jsxs("div",{children:[p.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:[p.jsx(Z5,{className:"inline h-4 w-4 mr-2"}),"Chart Type"]}),p.jsxs("div",{className:"relative",children:[p.jsx("select",{value:d,onChange:ve=>h(ve.target.value),className:"w-full appearance-none bg-white dark:bg-slate-700 border-2 border-gray-200 dark:border-gray-600 rounded-xl px-4 py-3 pr-10 text-gray-700 dark:text-gray-200 focus:outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-200 dark:focus:ring-purple-800 transition-all",children:be.map(ve=>p.jsxs("option",{value:ve.value,children:[ve.icon," ",ve.label]},ve.value))}),p.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-3 pointer-events-none",children:p.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]})]})]}),g&&p.jsx("div",{className:"mt-6 p-4 bg-gradient-to-r from-red-50 to-pink-50 dark:from-red-900/20 dark:to-pink-900/20 border border-red-200 dark:border-red-800 rounded-xl",children:p.jsxs("div",{className:"flex items-center text-red-700 dark:text-red-300",children:[p.jsx("svg",{className:"w-5 h-5 mr-3",fill:"currentColor",viewBox:"0 0 20 20",children:p.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),p.jsx("span",{className:"font-medium",children:g})]})}),v&&p.jsx("div",{className:"mt-6 p-4 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 border border-green-200 dark:border-green-800 rounded-xl",children:p.jsxs("div",{className:"flex items-center text-green-700 dark:text-green-300",children:[p.jsx("svg",{className:"w-5 h-5 mr-3",fill:"currentColor",viewBox:"0 0 20 20",children:p.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),p.jsx("span",{className:"font-medium",children:v})]})})]})}),p.jsx("div",{className:"lg:col-span-8",children:p.jsxs("div",{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-xl border border-white/20 dark:border-slate-700/50 rounded-3xl p-8 shadow-2xl shadow-purple-500/10 dark:shadow-slate-900/20",children:[p.jsxs("div",{className:"flex items-center mb-8",children:[p.jsx("div",{className:"p-4 bg-gradient-to-r from-purple-500 to-pink-600 rounded-2xl mr-4",children:p.jsx(vp,{className:"h-6 w-6 text-white"})}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Visualization Preview"}),p.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Interactive chart display"})]})]}),p.jsxs("div",{className:"relative",children:[d.startsWith("3d")?p.jsx("div",{ref:L,className:"w-full h-[500px] bg-gradient-to-br from-slate-50 to-blue-50 dark:from-slate-900 dark:to-blue-900 rounded-2xl border-2 border-gray-100 dark:border-slate-700 shadow-inner"}):p.jsx("div",{className:"w-full h-[500px] bg-gradient-to-br from-white to-gray-50 dark:from-slate-800 dark:to-slate-900 rounded-2xl p-6 border-2 border-gray-100 dark:border-slate-700 shadow-inner",children:p.jsx("canvas",{ref:P,className:"w-full h-full"})}),s.length===0&&p.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-50/80 dark:bg-slate-800/80 rounded-2xl",children:p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"p-6 bg-gray-100 dark:bg-slate-700 rounded-2xl mb-4 inline-block",children:p.jsx(hl,{className:"h-12 w-12 text-gray-400"})}),p.jsx("h4",{className:"text-xl font-semibold text-gray-600 dark:text-gray-300 mb-2",children:"No Data Available"}),p.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Upload an Excel file to start creating visualizations"})]})})]})]})})]}),p.jsx("div",{className:"max-w-7xl mx-auto mt-8",children:p.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[p.jsxs("button",{onClick:Se,className:"group flex items-center px-8 py-4 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-semibold rounded-2xl shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-200",children:[p.jsx(hl,{className:"h-5 w-5 mr-3 group-hover:scale-110 transition-transform"}),"Generate Visualization"]}),p.jsxs("button",{onClick:K,className:"group flex items-center px-8 py-4 bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-700 hover:to-teal-700 text-white font-semibold rounded-2xl shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-200",children:[p.jsx(OU,{className:"h-5 w-5 mr-3 group-hover:scale-110 transition-transform"}),"Save Analysis"]}),p.jsxs("button",{onClick:ue,className:"group flex items-center px-6 py-4 bg-gradient-to-r from-indigo-600 to-cyan-600 hover:from-indigo-700 hover:to-cyan-700 text-white font-semibold rounded-2xl shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-200",children:[p.jsx(UU,{className:"h-5 w-5 mr-3"})," Generate Summary"]}),p.jsxs("button",{onClick:k,className:"group flex items-center px-6 py-4 bg-gradient-to-r from-amber-600 to-orange-600 hover:from-amber-700 hover:to-orange-700 text-white font-semibold rounded-2xl shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-200",children:[p.jsx(vb,{className:"h-5 w-5 mr-3"})," Download Chart (PNG)"]}),p.jsxs("button",{onClick:U,className:"group flex items-center px-6 py-4 bg-gradient-to-r from-sky-600 to-indigo-600 hover:from-sky-700 hover:to-indigo-700 text-white font-semibold rounded-2xl shadow-lg",children:[p.jsx(Bu,{className:"h-5 w-5 mr-3"})," Download CSV"]}),p.jsxs("button",{onClick:O,className:"group flex items-center px-6 py-4 bg-gradient-to-r from-red-600 to-pink-700 hover:from-red-700 hover:to-pink-700 text-white font-semibold rounded-2xl shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-200",children:[p.jsx(vb,{className:"h-5 w-5 mr-3"})," Download PDF"]})]})}),p.jsx("div",{className:"max-w-7xl mx-auto mt-10",children:p.jsxs("div",{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-xl border border-white/20 dark:border-slate-700/50 rounded-3xl p-6 shadow-2xl",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-white",children:"Saved Analyses"}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("button",{onClick:re,className:"px-3 py-2 bg-blue-50 dark:bg-blue-900/25 rounded-md text-sm",children:"Refresh"}),p.jsx("button",{onClick:()=>{_([]),m("Cleared history in UI (does not delete server-side).")},className:"px-3 py-2 bg-red-50 dark:bg-red-900/25 rounded-md text-sm",children:"Clear UI"})]})]}),b.length===0?p.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No saved analyses found for this user."}):p.jsx("ul",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-3",children:b.map(ve=>{var q,te;return p.jsxs("li",{className:"p-3 bg-gray-50 dark:bg-slate-700 rounded-xl flex flex-col",children:[p.jsxs("div",{className:"flex items-start justify-between",children:[p.jsxs("div",{children:[p.jsx("div",{className:"text-sm font-semibold",children:ve.fileName||"Untitled"}),p.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-300",children:ve.chartType||""})]}),p.jsx("div",{className:"text-xs text-gray-400",children:(te=(q=ve._id)==null?void 0:q.slice)==null?void 0:te.call(q,0,6)})]}),ve.summary&&p.jsx("div",{className:"mt-3 text-sm text-gray-600 dark:text-gray-300",children:ve.summary}),p.jsxs("div",{className:"mt-3 flex gap-2",children:[p.jsx("button",{onClick:()=>_e(ve),className:"flex-1 px-3 py-2 bg-white dark:bg-slate-800 rounded-md text-sm border",children:"Load"}),p.jsx("button",{onClick:()=>I(ve),className:"px-3 py-2 bg-blue-50 dark:bg-blue-900/25 rounded-md text-sm",children:"Export"})]})]},ve._id)})})]})})]})]})}function Tce(){const[t,e]=De.useState(""),[n,r]=De.useState(!1),[i,a]=De.useState(""),[s,o]=De.useState(""),l=Oo(),c=()=>{window.open("https://www.linkedin.com/in/kritika-gupta2106","_blank")},u=()=>{window.open("https://github.com/ksuvii21","_blank")},f=()=>{l("/")},d=async h=>{if(h.preventDefault(),r(!0),!t){o("Please enter your email address");return}try{r(!0),o(""),await new Promise(g=>setTimeout(g,1500)),a(`Password reset instructions sent to ${t}`),setTimeout(()=>{l("/login")},3e3)}catch{o("Failed to send reset instructions. Please try again.")}finally{r(!1)}};return p.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 to-black text-white flex items-center justify-center p-4",children:p.jsxs("div",{className:"w-full max-w-md rounded-3xl border border-zinc-200/60 bg-white/10 backdrop-blur-lg p-8 shadow-xl",children:[p.jsxs("div",{className:"text-center mb-8",children:[p.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-400 via-purple-500 to-pink-400 bg-clip-text text-transparent",children:"Forgot Password ?"}),p.jsx("p",{className:"mt-2 text-gray-400",children:"Enter your email to receive password reset instructions"})]}),i&&p.jsx("div",{className:"mb-6 p-3 bg-green-900/50 rounded-lg text-center",children:p.jsx("p",{className:"text-green-200",children:i})}),s&&p.jsx("div",{className:"mb-6 p-3 bg-red-900/50 rounded-lg text-center",children:p.jsx("p",{className:"text-red-200",children:s})}),i?p.jsxs("div",{className:"mb-6 p-4 bg-green-900/30 rounded-lg text-center border border-green-700/50",children:[p.jsx("p",{className:"text-green-300",children:i}),p.jsx("p",{className:"mt-2 text-sm text-gray-400",children:"Redirecting to login page..."})]}):p.jsxs("form",{onSubmit:d,className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Email Address"}),p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(FU,{className:"h-5 w-5 text-gray-500"})}),p.jsx("input",{type:"email",value:t,onChange:h=>e(h.target.value),required:!0,className:"w-full pl-10 px-4 py-3 rounded-2xl bg-gray-800/50 border border-gray-700 focus:border-purple-500 focus:ring-2 focus:ring-purple-900 outline-none transition",placeholder:"you@example.com"})]})]}),p.jsx("button",{type:"submit",disabled:n,className:`w-full py-3 px-4 rounded-2xl text-white font-medium transition-all duration-300 shadow-lg focus:outline-none focus:ring-2 focus:ring-indigo-400 flex items-center justify-center ${n?"bg-gray-700 cursor-not-allowed":"bg-gradient-to-r from-indigo-600 to-violet-600 hover:from-indigo-500 hover:to-violet-500 hover:shadow-indigo-500/30"}`,children:n?p.jsxs(p.Fragment,{children:[p.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[p.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),p.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Sending instructions..."]}):"Reset Password"})]}),p.jsxs("div",{className:"mt-8 text-center",children:[p.jsxs("p",{className:"text-gray-400",children:["Remember your password?"," ",p.jsx(Ti,{to:"/login",className:"font-medium text-purple-400 hover:text-purple-300 transition",children:"Sign in"})]}),p.jsxs("p",{className:"mt-2 text-gray-400",children:["Need an account?"," ",p.jsx(Ti,{to:"/register",className:"font-medium text-purple-400 hover:text-purple-300 transition",children:"Register now"})]})]}),p.jsxs("div",{className:"mt-8",children:[p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute inset-0 flex items-center",children:p.jsx("div",{className:"w-full border-t border-gray-700"})}),p.jsx("div",{className:"relative flex justify-center text-sm",children:p.jsx("span",{className:"px-2 bg-transparent text-gray-500",children:"Or connect with us"})})]}),p.jsxs("div",{className:"mt-6 grid grid-cols-3 gap-3",children:[p.jsx("button",{onClick:c,className:"flex justify-center py-2 px-4 rounded-2xl bg-gray-800/50 hover:bg-gray-800 transition group","aria-label":"Connect on LinkedIn",children:p.jsx(eS,{className:"h-5 w-5 text-blue-400 group-hover:text-blue-300"})}),p.jsx("button",{onClick:u,className:"flex justify-center py-2 px-4 rounded-2xl bg-gray-800/50 hover:bg-gray-800 transition group","aria-label":"View GitHub profile",children:p.jsx(Q5,{className:"h-5 w-5 text-white group-hover:text-gray-300"})}),p.jsx("button",{onClick:f,className:"flex justify-center py-2 px-4 rounded-2xl bg-gray-800/50 hover:bg-gray-800 transition group","aria-label":"Return to home",children:p.jsx("svg",{className:"h-5 w-5 text-red-500 group-hover:text-red-400",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:p.jsx("path",{d:"M12.48 10.92v3.28h7.84c-.24 1.84-.853 3.187-1.787 4.133-1.147 1.147-2.933 2.4-6.053 2.4-4.827 0-8.6-3.893-8.6-8.72s3.773-8.72 8.6-8.72c2.6 0 4.507 1.027 5.907 2.347l2.307-2.307C18.747 1.44 16.133 0 12.48 0 5.867 0 .307 5.387.307 12s5.56 12 12.173 12c3.573 0 6.267-1.173 8.373-3.36 2.16-2.16 2.84-5.213 2.84-7.667 0-.76-.053-1.467-.173-2.053H12.48z"})})})]})]})]})})}function Mce(){return p.jsx("div",{className:"grid min-h-[60vh] place-items-center p-10 text-center",children:p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-bold",children:"404"}),p.jsx("p",{className:"text-zinc-500",children:"Page not found."}),p.jsx(Ti,{to:"/",className:"mt-4 inline-block rounded-xl border px-4 py-2",children:"Go Home"})]})})}function Nce(t=0){return t<1024?`${t} B`:t<1024*1024?`${(t/1024).toFixed(1)} KB`:t<1024*1024*1024?`${(t/1024/1024).toFixed(1)} MB`:`${(t/1024/1024/1024).toFixed(1)} GB`}function kce(){const[t,e]=De.useState([]),[n,r]=De.useState(""),i=async()=>{var o,l;try{const{data:c}=await zu.get("/admin/users");e(c)}catch(c){r(((l=(o=c.response)==null?void 0:o.data)==null?void 0:l.message)||"Failed to load users")}},a=async(o,l)=>{await zu.patch(`/admin/users/${o}/role`,{role:l}),await i()},s=async o=>{confirm("Delete user and all data?")&&(await zu.delete(`/admin/users/${o}`),await i())};return De.useEffect(()=>{i()},[]),p.jsxs("div",{className:"p-4",children:[p.jsx("h1",{className:"text-2xl font-semibold mb-4",children:"Admin  Users & Usage"}),n&&p.jsx("div",{className:"text-red-600 mb-2",children:n}),p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"min-w-full border",children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{className:"p-2 border",children:"Name"}),p.jsx("th",{className:"p-2 border",children:"Email"}),p.jsx("th",{className:"p-2 border",children:"Role"}),p.jsx("th",{className:"p-2 border",children:"Files"}),p.jsx("th",{className:"p-2 border",children:"Storage"}),p.jsx("th",{className:"p-2 border",children:"Insights"}),p.jsx("th",{className:"p-2 border",children:"Actions"})]})}),p.jsxs("tbody",{children:[t.map(o=>p.jsxs("tr",{children:[p.jsx("td",{className:"p-2 border",children:o.name}),p.jsx("td",{className:"p-2 border",children:o.email}),p.jsx("td",{className:"p-2 border",children:p.jsxs("select",{className:"border p-1",value:o.role,onChange:l=>a(o._id,l.target.value),children:[p.jsx("option",{value:"user",children:"user"}),p.jsx("option",{value:"admin",children:"admin"}),p.jsx("option",{value:"superadmin",children:"superadmin"})]})}),p.jsx("td",{className:"p-2 border",children:o.usage.files}),p.jsx("td",{className:"p-2 border",children:Nce(o.usage.bytes)}),p.jsx("td",{className:"p-2 border",children:o.usage.insights}),p.jsx("td",{className:"p-2 border",children:p.jsx("button",{onClick:()=>s(o._id),className:"px-2 py-1 border rounded",children:"Delete"})})]},o._id)),t.length===0&&p.jsx("tr",{children:p.jsx("td",{className:"p-2 border",colSpan:"7",children:"No users."})})]})]})})]})}function Cce(){const{user:t,loading:e}=$c();if(De.useEffect(()=>{console.log("App - Auth state changed:",{user:t,loading:e})},[t,e]),console.log("DashboardRedirect - user:",t,"loading:",e),e)return console.log("DashboardRedirect - Still loading"),p.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Loading..."});if(t)switch(console.log("DashboardRedirect - User found, redirecting based on role:",t.role),t.role){case"admin":return p.jsx(Ao,{to:"/dashboard/admin",replace:!0});case"superadmin":return p.jsx(Ao,{to:"/dashboard/superadmin",replace:!0});default:return p.jsx(Ao,{to:"/dashboard/user",replace:!0})}return console.log("DashboardRedirect - No user found, redirecting to login"),p.jsx(Ao,{to:"/login",replace:!0})}function Rce({roles:t,children:e}){const n=localStorage.getItem("token");if(!n)return p.jsx(Ao,{to:"/login",replace:!0});try{const r=JSON.parse(atob(n.split(".")[1]));if(!t.includes(r.role))return p.jsx(Ao,{to:"/unauthorized",replace:!0})}catch{}return e}function Pce(){return p.jsx(mU,{children:p.jsx(wU,{children:p.jsxs(oU,{children:[p.jsx(Ir,{path:"/",element:p.jsx(HU,{})}),p.jsx(Ir,{path:"/login",element:p.jsx(VU,{})}),p.jsx(Ir,{path:"/register",element:p.jsx(E4,{})}),p.jsx(Ir,{path:"/upload",element:p.jsx(zQ,{})}),p.jsx(Ir,{path:"/presentation",element:p.jsx(Lk,{})}),p.jsx(Ir,{path:"/forgot-password",element:p.jsx(Tce,{})}),p.jsx(Ir,{path:"/unauthorized",element:p.jsx("div",{children:"Unauthorized Access"})}),p.jsx(Ir,{path:"/not-found",element:p.jsx(Mce,{})}),p.jsx(Ir,{path:"/admin",element:p.jsx(Rce,{roles:["admin","superadmin"],children:p.jsx(kce,{})})}),p.jsx(Ir,{element:p.jsx(L2,{allowedRoles:["user"]}),children:p.jsx(Ir,{path:"/dashboard/user",element:p.jsx(T$,{})})}),p.jsx(Ir,{element:p.jsx(L2,{allowedRoles:["admin"]}),children:p.jsx(Ir,{path:"/dashboard/admin",element:p.jsx(N$,{})})}),p.jsxs(Ir,{element:p.jsx(L2,{allowedRoles:["superadmin"]}),children:[p.jsx(Ir,{path:"/dashboard/superadmin",element:p.jsx(P$,{})}),p.jsx(Ir,{path:"/superadmin/presentation",element:p.jsx(Lk,{})}),p.jsx(Ir,{path:"/superadmin/register",element:p.jsx(E4,{})})]}),p.jsx(Ir,{path:"/dashboard",element:p.jsx(Ao,{to:"/dashboard/redirect",replace:!0})}),p.jsx(Ir,{path:"/dashboard/redirect",element:p.jsx(Cce,{})}),p.jsx(Ir,{path:"*",element:p.jsx(Ao,{to:"/not-found",replace:!0})})]})})})}v_.createRoot(document.getElementById("root")).render(p.jsx(Wk.StrictMode,{children:p.jsx(Pce,{})}));export{Bn as _,Fce as c,HD as g};
